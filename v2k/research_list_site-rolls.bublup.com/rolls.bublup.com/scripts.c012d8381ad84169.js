(function(L,T){"object"==typeof exports&&"undefined"!=typeof module?module.exports=T():"function"==typeof define&&define.amd?define(T):(L=L||self).DOMPurify=T()})(this,function(){"use strict";var L=Object.hasOwnProperty,T=Object.setPrototypeOf,G=Object.isFrozen,rt=Object.getPrototypeOf,nt=Object.getOwnPropertyDescriptor,c=Object.freeze,h=Object.seal,z=Object.create,q="undefined"!=typeof Reflect&&Reflect,_=q.apply,U=q.construct;_||(_=function(i,o,n){return i.apply(o,n)}),c||(c=function(i){return i}),h||(h=function(i){return i}),U||(U=function(i,o){return new(Function.prototype.bind.apply(i,[null].concat(function(n){if(Array.isArray(n)){for(var f=0,s=Array(n.length);f<n.length;f++)s[f]=n[f];return s}return Array.from(n)}(o))))});var Dt,oe=v(Array.prototype.forEach),Ot=v(Array.prototype.pop),H=v(Array.prototype.push),k=v(String.prototype.toLowerCase),_t=v(String.prototype.match),S=v(String.prototype.replace),ie=v(String.prototype.indexOf),ae=v(String.prototype.trim),w=v(RegExp.prototype.test),kt=(Dt=TypeError,function(){for(var i=arguments.length,o=Array(i),n=0;n<i;n++)o[n]=arguments[n];return U(Dt,o)});function v(i){return function(o){for(var n=arguments.length,f=Array(n>1?n-1:0),s=1;s<n;s++)f[s-1]=arguments[s];return _(i,o,f)}}function a(i,o){T&&T(i,null);for(var n=o.length;n--;){var f=o[n];if("string"==typeof f){var s=k(f);s!==f&&(G(o)||(o[n]=s),f=s)}i[f]=!0}return i}function N(i){var o=z(null),n=void 0;for(n in i)_(L,i,[n])&&(o[n]=i[n]);return o}function K(i,o){for(;null!==i;){var n=nt(i,o);if(n){if(n.get)return v(n.get);if("function"==typeof n.value)return v(n.value)}i=rt(i)}return function(f){return console.warn("fallback value for",f),null}}var Lt=c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ot=c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),it=c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),le=c(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),at=c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ce=c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nt=c(["#text"]),Rt=c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),lt=c(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mt=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),se=h(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ue=h(/<%[\s\S]*|[\s\S]*%>/gm),fe=h(/^data-[\-\w.\u00B7-\uFFFF]/),me=h(/^aria-[\-\w]+$/),de=h(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pe=h(/^(?:\w+script|data):/i),ge=h(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function b(i){if(Array.isArray(i)){for(var o=0,n=Array(i.length);o<i.length;o++)n[o]=i[o];return n}return Array.from(i)}var he=function(){return"undefined"==typeof window?null:window},ye=function(i,o){if("object"!==(void 0===i?"undefined":P(i))||"function"!=typeof i.createPolicy)return null;var n=null,f="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(f)&&(n=o.currentScript.getAttribute(f));var s="dompurify"+(n?"#"+n:"");try{return i.createPolicy(s,{createHTML:function(j){return j}})}catch(j){return console.warn("TrustedTypes policy "+s+" could not be created."),null}};return function i(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he(),n=function(t){return i(t)};if(n.version="2.3.0",n.removed=[],!o||!o.document||9!==o.document.nodeType)return n.isSupported=!1,n;var f=o.document,s=o.document,j=o.DocumentFragment,ve=o.HTMLTemplateElement,Y=o.Node,Ft=o.Element,ct=o.NodeFilter,Ct=o.NamedNodeMap,be=void 0===Ct?o.NamedNodeMap||o.MozNamedAttrMap:Ct,Ae=o.Text,Te=o.Comment,xe=o.DOMParser,Se=o.trustedTypes,X=Ft.prototype,we=K(X,"cloneNode"),Ee=K(X,"nextSibling"),De=K(X,"childNodes"),st=K(X,"parentNode");if("function"==typeof ve){var ut=s.createElement("template");ut.content&&ut.content.ownerDocument&&(s=ut.content.ownerDocument)}var E=ye(Se,f),It=E&&J?E.createHTML(""):"",$=s,ft=$.implementation,Oe=$.createNodeIterator,_e=$.createDocumentFragment,ke=$.getElementsByTagName,Le=f.importNode,zt={};try{zt=N(s).documentMode?s.documentMode:{}}catch(t){}var A={};n.isSupported="function"==typeof st&&ft&&void 0!==ft.createHTMLDocument&&9!==zt;var mt=se,dt=ue,Ne=fe,Re=me,Me=pe,Ut=ge,pt=de,d=null,Ht=a({},[].concat(b(Lt),b(ot),b(it),b(at),b(Nt))),p=null,Pt=a({},[].concat(b(Rt),b(lt),b(Mt),b(V))),gt=null,ht=null,jt=!0,yt=!0,Bt=!1,R=!1,M=!1,vt=!1,bt=!1,F=!1,Z=!1,Wt=!0,J=!1,Gt=!0,At=!0,B=!1,C={},Fe=a({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qt=null,Kt=a({},["audio","video","img","source","image","track"]),Tt=null,Vt=a({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),xt="http://www.w3.org/1998/Math/MathML",St="http://www.w3.org/2000/svg",D="http://www.w3.org/1999/xhtml",Q=D,Yt=!1,I=null,Ce=s.createElement("form"),wt=function(t){I&&I===t||(t&&"object"===(void 0===t?"undefined":P(t))||(t={}),t=N(t),d="ALLOWED_TAGS"in t?a({},t.ALLOWED_TAGS):Ht,p="ALLOWED_ATTR"in t?a({},t.ALLOWED_ATTR):Pt,Tt="ADD_URI_SAFE_ATTR"in t?a(N(Vt),t.ADD_URI_SAFE_ATTR):Vt,qt="ADD_DATA_URI_TAGS"in t?a(N(Kt),t.ADD_DATA_URI_TAGS):Kt,gt="FORBID_TAGS"in t?a({},t.FORBID_TAGS):{},ht="FORBID_ATTR"in t?a({},t.FORBID_ATTR):{},jt=!1!==t.ALLOW_ARIA_ATTR,yt=!1!==t.ALLOW_DATA_ATTR,Bt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,M=t.WHOLE_DOCUMENT||!1,F=t.RETURN_DOM||!1,Wt=!1!==t.RETURN_DOM_IMPORT,J=t.RETURN_TRUSTED_TYPE||!1,bt=t.FORCE_BODY||!1,Gt=!1!==t.SANITIZE_DOM,At=!1!==t.KEEP_CONTENT,B=t.IN_PLACE||!1,pt=t.ALLOWED_URI_REGEXP||pt,Q=t.NAMESPACE||D,(R=t.SAFE_FOR_TEMPLATES||!1)&&(yt=!1),(Z=t.RETURN_DOM_FRAGMENT||!1)&&(F=!0),(C="USE_PROFILES"in t&&t.USE_PROFILES)&&(d=a({},[].concat(b(Nt))),p=[],!0===C.html&&(a(d,Lt),a(p,Rt)),!0===C.svg&&(a(d,ot),a(p,lt),a(p,V)),!0===C.svgFilters&&(a(d,it),a(p,lt),a(p,V)),!0===C.mathMl&&(a(d,at),a(p,Mt),a(p,V))),t.ADD_TAGS&&(d===Ht&&(d=N(d)),a(d,t.ADD_TAGS)),t.ADD_ATTR&&(p===Pt&&(p=N(p)),a(p,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&a(Tt,t.ADD_URI_SAFE_ATTR),At&&(d["#text"]=!0),M&&a(d,["html","head","body"]),d.table&&(a(d,["tbody"]),delete gt.tbody),c&&c(t),I=t)},Xt=a({},["mi","mo","mn","ms","mtext"]),$t=a({},["foreignobject","desc","title","annotation-xml"]),tt=a({},ot);a(tt,it),a(tt,le);var Et=a({},at);a(Et,ce);var Ie=function(t){var r=st(t);r&&r.tagName||(r={namespaceURI:D,tagName:"template"});var e=k(t.tagName),l=k(r.tagName);if(t.namespaceURI===St)return r.namespaceURI===D?"svg"===e:r.namespaceURI===xt?"svg"===e&&("annotation-xml"===l||Xt[l]):Boolean(tt[e]);if(t.namespaceURI===xt)return r.namespaceURI===D?"math"===e:r.namespaceURI===St?"math"===e&&$t[l]:Boolean(Et[e]);if(t.namespaceURI===D){if(r.namespaceURI===St&&!$t[l]||r.namespaceURI===xt&&!Xt[l])return!1;var u=a({},["title","style","font","a","script"]);return!Et[e]&&(u[e]||!tt[e])}return!1},O=function(t){H(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(r){try{t.outerHTML=It}catch(e){t.remove()}}},Zt=function(t,r){try{H(n.removed,{attribute:r.getAttributeNode(t),from:r})}catch(e){H(n.removed,{attribute:null,from:r})}if(r.removeAttribute(t),"is"===t&&!p[t])if(F||Z)try{O(r)}catch(e){}else try{r.setAttribute(t,"")}catch(e){}},Jt=function(t){var r=void 0,e=void 0;if(bt)t="<remove></remove>"+t;else{var l=_t(t,/^[\r\n\t ]+/);e=l&&l[0]}var u=E?E.createHTML(t):t;if(Q===D)try{r=(new xe).parseFromString(u,"text/html")}catch(m){}if(!r||!r.documentElement){r=ft.createDocument(Q,"template",null);try{r.documentElement.innerHTML=Yt?"":u}catch(m){}}var g=r.body||r.documentElement;return t&&e&&g.insertBefore(s.createTextNode(e),g.childNodes[0]||null),Q===D?ke.call(r,M?"html":"body")[0]:M?r.documentElement:g},Qt=function(t){return Oe.call(t.ownerDocument||t,t,ct.SHOW_ELEMENT|ct.SHOW_COMMENT|ct.SHOW_TEXT,null,!1)},ze=function(t){return!(t instanceof Ae||t instanceof Te||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof be&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore)},W=function(t){return"object"===(void 0===Y?"undefined":P(Y))?t instanceof Y:t&&"object"===(void 0===t?"undefined":P(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},x=function(t,r,e){A[t]&&oe(A[t],function(l){l.call(n,r,e,I)})},te=function(t){var r=void 0;if(x("beforeSanitizeElements",t,null),ze(t)||_t(t.nodeName,/[\u0080-\uFFFF]/))return O(t),!0;var e=k(t.nodeName);if(x("uponSanitizeElement",t,{tagName:e,allowedTags:d}),!W(t.firstElementChild)&&(!W(t.content)||!W(t.content.firstElementChild))&&w(/<[/\w]/g,t.innerHTML)&&w(/<[/\w]/g,t.textContent))return O(t),!0;if(!d[e]||gt[e]){if(At&&!Fe[e]){var l=st(t)||t.parentNode,u=De(t)||t.childNodes;if(u&&l)for(var g=u.length-1;g>=0;--g)l.insertBefore(we(u[g],!0),Ee(t))}return O(t),!0}return t instanceof Ft&&!Ie(t)?(O(t),!0):"noscript"!==e&&"noembed"!==e||!w(/<\/no(script|embed)/i,t.innerHTML)?(R&&3===t.nodeType&&(r=S(r=t.textContent,mt," "),r=S(r,dt," "),t.textContent!==r&&(H(n.removed,{element:t.cloneNode()}),t.textContent=r)),x("afterSanitizeElements",t,null),!1):(O(t),!0)},ee=function(t,r,e){if(Gt&&("id"===r||"name"===r)&&(e in s||e in Ce))return!1;if((!yt||ht[r]||!w(Ne,r))&&(!jt||!w(Re,r))){if(!p[r]||ht[r])return!1;if(!Tt[r]&&!w(pt,S(e,Ut,""))&&("src"!==r&&"xlink:href"!==r&&"href"!==r||"script"===t||0!==ie(e,"data:")||!qt[t])&&(!Bt||w(Me,S(e,Ut,"")))&&e)return!1}return!0},re=function(t){var r=void 0,e=void 0,l=void 0,u=void 0;x("beforeSanitizeAttributes",t,null);var g=t.attributes;if(g){var m={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:p};for(u=g.length;u--;){var et=r=g[u],y=et.name,ne=et.namespaceURI;if(e=ae(r.value),l=k(y),m.attrName=l,m.attrValue=e,m.keepAttr=!0,m.forceKeepAttr=void 0,x("uponSanitizeAttribute",t,m),e=m.attrValue,!m.forceKeepAttr&&(Zt(y,t),m.keepAttr))if(w(/\/>/i,e))Zt(y,t);else{R&&(e=S(e,mt," "),e=S(e,dt," "));var He=t.nodeName.toLowerCase();if(ee(He,l,e))try{ne?t.setAttributeNS(ne,y,e):t.setAttribute(y,e),Ot(n.removed)}catch(Pe){}}}x("afterSanitizeAttributes",t,null)}},Ue=function t(r){var e=void 0,l=Qt(r);for(x("beforeSanitizeShadowDOM",r,null);e=l.nextNode();)x("uponSanitizeShadowNode",e,null),te(e)||(e.content instanceof j&&t(e.content),re(e));x("afterSanitizeShadowDOM",r,null)};return n.sanitize=function(t,r){var e=void 0,l=void 0,u=void 0,g=void 0,m=void 0;if((Yt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!W(t)){if("function"!=typeof t.toString)throw kt("toString is not a function");if("string"!=typeof(t=t.toString()))throw kt("dirty is not a string, aborting")}if(!n.isSupported){if("object"===P(o.toStaticHTML)||"function"==typeof o.toStaticHTML){if("string"==typeof t)return o.toStaticHTML(t);if(W(t))return o.toStaticHTML(t.outerHTML)}return t}if(vt||wt(r),n.removed=[],"string"==typeof t&&(B=!1),!B)if(t instanceof Y)1===(l=(e=Jt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?e=l:e.appendChild(l);else{if(!F&&!R&&!M&&-1===t.indexOf("<"))return E&&J?E.createHTML(t):t;if(!(e=Jt(t)))return F?null:It}e&&bt&&O(e.firstChild);for(var et=Qt(B?t:e);u=et.nextNode();)3===u.nodeType&&u===g||te(u)||(u.content instanceof j&&Ue(u.content),re(u),g=u);if(g=null,B)return t;if(F){if(Z)for(m=_e.call(e.ownerDocument);e.firstChild;)m.appendChild(e.firstChild);else m=e;return Wt&&(m=Le.call(f,m,!0)),m}var y=M?e.outerHTML:e.innerHTML;return R&&(y=S(y,mt," "),y=S(y,dt," ")),E&&J?E.createHTML(y):y},n.setConfig=function(t){wt(t),vt=!0},n.clearConfig=function(){I=null,vt=!1},n.isValidAttribute=function(t,r,e){I||wt({});var l=k(t),u=k(r);return ee(l,u,e)},n.addHook=function(t,r){"function"==typeof r&&(A[t]=A[t]||[],H(A[t],r))},n.removeHook=function(t){A[t]&&Ot(A[t])},n.removeHooks=function(t){A[t]&&(A[t]=[])},n.removeAllHooks=function(){A={}},n}()}),HtmlScrubber=new function(){var T=["script","meta","style","link","head","footer","title"],G={a:["href"]},rt=Object.values(G).flat(),nt={ALLOWED_TAGS:["a","div","ul","ol","li","b","i","u","br","p","#text"].concat(T),ALLOWED_ATTR:rt,KEEP_CONTENT:!0};window.DOMPurify.setConfig(nt),DOMPurify.addHook("uponSanitizeElement",function(c){var h=c.nodeName.toLowerCase();if(~T.indexOf(h))c.remove();else{var z=c.attributes;if(z&&z.length){var q=G[h]||[];Array.from(z).forEach(function(_){var U=_.name.toLowerCase();-1===q.indexOf(U)&&c.removeAttributeNode(_)})}}}),this.scrub=function(c){return c&&DOMPurify.sanitize(c).trim()}};