(self.webpackChunkng_rolls_2=self.webpackChunkng_rolls_2||[]).push([[179],{9670:(ot,pe,r)=>{"use strict";r.d(pe,{Qm:()=>b,cE:()=>y,eX:()=>v});var o=r(655),c=r(5e3),g=r(7579),a=r(3443),u=r(2722);let v=(()=>{class I extends g.x{dispatch(O){this.logAction(O),this.next(O)}logAction(O){const{type:S}=O,x=(0,o._T)(O,["type"]),L=Object.getOwnPropertyNames(x).length>0;(0,a.ar)(S,null,L?x:null)}}return I.\u0275fac=function(){let D;return function(S){return(D||(D=c.n5z(I)))(S||I)}}(),I.\u0275prov=(0,c.Yz7)({factory:function(){return new I},token:I,providedIn:"root"}),I})();const p=new c.OlP("@datorama/akita Internal Root Effects"),d=new c.OlP("@datorama/akita Root Effects"),h=new c.OlP("@datorama/akita Internal Feature Effects"),_=new c.OlP("@datorama/akita Feature Effects");let e=(()=>{class I{constructor(O){this.actions$=O,this.effectInstanceSources=new WeakSet,this.destroyEffects$=new g.x}subscribeToEffects(O){for(let S in O){const x=O[S];!0===x.isEffect&&x.pipe((0,u.R)(this.destroyEffects$)).subscribe(L=>{this.dispatchAction(x,L)})}}has(O){return this.effectInstanceSources.has(O)}add(O){this.effectInstanceSources.add(O)}dispatchAction(O,S){O.dispatchAction&&this.checkAction(S)&&this.actions$.dispatch(S)}checkAction(O){if(O.type)return!0;throw new TypeError("Make sure to provide a valid action type or set the option {dispatch: false}")}ngOnDestroy(){this.destroyEffects$.next(),this.effectInstanceSources=new WeakSet}}return I.\u0275fac=function(O){return new(O||I)(c.LFG(v))},I.\u0275prov=(0,c.Yz7)({factory:function(){return new I((0,c.LFG)(v))},token:I,providedIn:"root"}),I})();e.ctorParameters=()=>[{type:v}];let E=(()=>{class I{constructor(O,S,x,L){this.moduleManager=O,this.actions=S,this.parentModule=L,this.rootGuard(),x.forEach(R=>this.moduleManager.subscribeToEffects(R))}rootGuard(){if(this.parentModule)throw new Error("EffectsRootModule is already loaded. Import it in the AppModule only")}}return I.\u0275fac=function(O){return new(O||I)(c.LFG(e),c.LFG(v),c.LFG(d),c.LFG(I,12))},I.\u0275mod=c.oAB({type:I}),I.\u0275inj=c.cJS({}),I})();E.ctorParameters=()=>[{type:e},{type:v},{type:Array,decorators:[{type:c.tBr,args:[d]}]},{type:E,decorators:[{type:c.FiY},{type:c.tp0}]}];let f=(()=>{class I{constructor(O,S){this.moduleManager=O,S.forEach(x=>x.forEach(L=>{this.moduleManager.subscribeToEffects(L)}))}}return I.\u0275fac=function(O){return new(O||I)(c.LFG(e),c.LFG(_))},I.\u0275mod=c.oAB({type:I}),I.\u0275inj=c.cJS({}),I})();f.ctorParameters=()=>[{type:e},{type:Array,decorators:[{type:c.tBr,args:[_]}]}];let y=(()=>{class I{static forRoot(O=[]){return{ngModule:E,providers:[e,v,O,{provide:p,useValue:[O]},{provide:d,useFactory:s,deps:[c.zs3,p,e]}]}}static forFeature(O=[]){return{ngModule:f,providers:[O,{provide:h,useValue:O,multi:!0},{provide:_,multi:!0,useFactory:s,deps:[c.zs3,h,e]}]}}}return I.\u0275fac=function(O){return new(O||I)},I.\u0275mod=c.oAB({type:I}),I.\u0275inj=c.cJS({}),I})();function s(I,D,O){const S=[];for(const L of D)S.push(...L);return S.reduce((L,R)=>(O.has(R)||(O.add(R),L.push(I.get(R))),L),[])}function b(I){return I=Object.assign({dispatch:!1},I),function(D,O){let S;Object.defineProperty(D,O,{get:function(){return S},set:function(x){(function C(I,D,O){Object.defineProperty(I,"isEffect",{enumerable:!0,configurable:!1,writable:!1,value:!0}),Object.defineProperty(I,"name",{enumerable:!0,configurable:!1,writable:!1,value:D}),Object.defineProperty(I,"dispatchAction",{enumerable:!0,configurable:!1,writable:!1,value:O.dispatch})})(x,O,I),S=x},enumerable:!0})}}},2036:(ot,pe,r)=>{"use strict";r.d(pe,{v2:()=>s,dt:()=>f});var o=r(5e3),c=r(655),g=r(4035),a=r(3443),u=r(7579),v=r(9841),p=r(4004);function d(...C){const b=C.length;if(0===b)throw new Error("list of properties cannot be empty.");return(0,p.U)(A=>{let I=A;for(let D=0;D<b;D++){const O=null==I?void 0:I[C[D]];if(void 0===O)return;I=O}return I})}var h=r(1884);let e=(()=>{let C=class extends a.yh{constructor(){super({state:null,navigationId:null})}};return C.\u0275fac=function(A){return new(A||C)},C.\u0275prov=(0,o.Yz7)({factory:function(){return new C},token:C,providedIn:"root"}),C=(0,c.gn)([(0,a.yC)({name:"router"}),(0,c.w6)("design:paramtypes",[])],C),C})();function E(C){return b=>b.pipe((0,p.U)(A=>A.state)).pipe((0,a.Jt)(),(0,p.U)(A=>A[C]))}let f=(()=>{class C extends a.AE{constructor(A){super(A),this.store=A,this.__navigationCancel=new u.x,this.__navigationError=new u.x}selectParams(A){if(void 0===A)return this.select().pipe(E("params"),(0,h.x)());const I=D=>this.select().pipe(E("params"),d(D),(0,h.x)());if(Array.isArray(A)){const D=A.map(I);return(0,v.a)(D)}return I(A).pipe((0,h.x)())}getParams(A){if(this.getValue().state){const I=this.getValue().state.params;return void 0===A?I:I[A]}return null}selectQueryParams(A){if(void 0===A)return this.select().pipe(E("queryParams"),(0,h.x)());const I=D=>this.select().pipe(E("queryParams"),d(D),(0,h.x)());if(Array.isArray(A)){const D=A.map(I);return(0,v.a)(D)}return I(A)}getQueryParams(A){if(this.getValue().state){const I=this.getValue().state.queryParams;return void 0===A?I:I[A]}return null}selectFragment(){return this.select().pipe(E("fragment"),(0,h.x)())}getFragment(){return this.getValue().state?this.getValue().state.fragment:null}selectData(A){return void 0===A?this.select().pipe(E("data"),(0,h.x)()):this.select().pipe(E("data"),d(A),(0,h.x)())}getData(A){if(this.getValue().state){const I=this.getValue().state.data;return void 0===A?I:I[A]}return null}selectNavigationExtras(A){return void 0===A?this.select().pipe(E("navigationExtras"),(0,h.x)()):this.select().pipe(E("data"),d(A),(0,h.x)())}getNavigationExtras(A){if(this.getValue().state){const I=this.getValue().state.navigationExtras;return void 0===A?I:I[A]}return null}selectNavigationCancel(){return this.__navigationCancel.asObservable()}selectNavigationError(){return this.__navigationError.asObservable()}}return C.\u0275fac=function(A){return new(A||C)(o.LFG(e))},C.\u0275prov=(0,o.Yz7)({factory:function(){return new C((0,o.LFG)(e))},token:C,providedIn:"root"}),C})(),y=(()=>{class C{constructor(A,I,D){this.routerStore=A,this.routerQuery=I,this.router=D,this.dispatchTriggeredByRouter=!1,this.navigationTriggeredByDispatch=!1}dispatchRouterCancel(A){this.update({navigationId:A.id}),this.routerQuery.__navigationCancel.next(A)}dispatchRouterError(A){this.update({navigationId:A.id}),this.routerQuery.__navigationError.next(A)}dispatchRouterSuccess(){this.update(this.lastRouterState)}init(){this.setUpStoreListener(),this.setUpStateRollbackEvents()}update(A){this.dispatchTriggeredByRouter=!0,this.routerStore.update(I=>Object.assign(Object.assign({},I),A)),this.dispatchTriggeredByRouter=!1,this.navigationTriggeredByDispatch=!1}setUpStoreListener(){this.routerQuery.select(A=>A).subscribe(A=>{this.lastRouterState=A,this.navigateIfNeeded()})}navigateIfNeeded(){!this.lastRouterState||!this.lastRouterState.state||this.dispatchTriggeredByRouter||this.router.url!==this.lastRouterState.state.url&&(this.navigationTriggeredByDispatch=!0,(0,a.x4)(),this.router.navigateByUrl(this.lastRouterState.state.url))}setUpStateRollbackEvents(){this.router.events.subscribe(A=>{A instanceof g.R9||A instanceof g.c9||A instanceof g.Av?this.lastRouterState=this.serializeRoute(A):A instanceof g.gk?this.dispatchRouterCancel(A):A instanceof g.Q3?this.dispatchRouterError(A):A instanceof g.m2&&!this.navigationTriggeredByDispatch&&this.dispatchRouterSuccess()})}serializeRoute(A){let I=A.state.root;for(;I.firstChild;)I=I.firstChild;const{params:D,data:O,queryParams:S,fragment:x}=I;return{navigationId:A.id,state:{url:A.url,urlAfterRedirects:A.urlAfterRedirects,params:D,queryParams:S,fragment:x,data:O,navigationExtras:this.router.getCurrentNavigation().extras?this.router.getCurrentNavigation().extras.state:{}}}}}return C.\u0275fac=function(A){return new(A||C)(o.LFG(e),o.LFG(f),o.LFG(g.F0))},C.\u0275prov=(0,o.Yz7)({factory:function(){return new C((0,o.LFG)(e),(0,o.LFG)(f),(0,o.LFG)(g.F0))},token:C,providedIn:"root"}),(0,c.gn)([(0,a.aD)("Navigation Cancelled"),(0,c.w6)("design:type",Function),(0,c.w6)("design:paramtypes",[g.gk]),(0,c.w6)("design:returntype",void 0)],C.prototype,"dispatchRouterCancel",null),(0,c.gn)([(0,a.aD)("Navigation Error"),(0,c.w6)("design:type",Function),(0,c.w6)("design:paramtypes",[g.Q3]),(0,c.w6)("design:returntype",void 0)],C.prototype,"dispatchRouterError",null),(0,c.gn)([(0,a.aD)("Navigation Succeeded"),(0,c.w6)("design:type",Function),(0,c.w6)("design:paramtypes",[]),(0,c.w6)("design:returntype",void 0)],C.prototype,"dispatchRouterSuccess",null),C})(),s=(()=>{class C{constructor(A){this.routerService=A,this.routerService.init()}}return C.\u0275fac=function(A){return new(A||C)(o.LFG(y))},C.\u0275mod=o.oAB({type:C}),C.\u0275inj=o.cJS({}),C})();s.ctorParameters=()=>[{type:y}]},3443:(ot,pe,r)=>{"use strict";r.d(pe,{cf:()=>gi,KM:()=>Et,AE:()=>ut,Gv:()=>te,yh:()=>ii,yC:()=>pi,aD:()=>R,Me:()=>Ke,iT:()=>We,Ab:()=>It,cc:()=>lt,Ux:()=>ae,Jt:()=>Li,HD:()=>ei,ar:()=>S,xi:()=>mr,K4:()=>Bi,x4:()=>L});var o=r(1884),c=r(4004),g=r(9300),a=r(3900),u=r(5684),v=r(8746),p=r(5698),d=r(9751),h=r(576),e=r(7579),E=r(4707),f=r(1135),y=r(9646),s=r(457),C=r(9770),b=r(655),A=r(5e3);const I={type:null,entityIds:null,skip:!1,payload:null};let D=!1;function S(je,w,W){x(je,w,W),D=!0}function x(je,w,W){!1===D&&(I.type=je,I.entityIds=w,I.payload=W)}function L(je=!0){I.skip=je}function R(je,w){return function(W,B,re){const Ve=re.value;return re.value=function(...ct){return S(je,w),Ve.apply(this,ct)},re}}function G(je,w){return je.hasOwnProperty(w)}function k(je){return Array.isArray(je)}function V(je){return je.hasOwnProperty("active")}function ne(je){return k(je)}function $({active:je,ids:w,entities:W}){return ne(je)?function q(je,w){const W=je.filter(B=>w.indexOf(B)>-1);return W.length===je.length?je:W}(je,w):!1===G(W,je)?null:je}function de(je){return null==je}function fe(je){return de(je)?[]:Array.isArray(je)?je:[je]}function We(je,w,W={}){const B=fe(w),re=je||[];return W.prepend?[...B,...re]:[...re,...B]}function dt(je){return!!k(je)&&0===je.length}function ge(je){return"function"==typeof je}function pt(je){const w=typeof je;return null!=je&&("object"==w||"function"==w)}function It(je,w,W="id"){let B,re;if(ge(w)?re=function ht(je){return function(...w){return!je(...w)}}(w):(B=fe(w),re=Ve=>!1===B.includes(pt(Ve)?Ve[W]:Ve)),Array.isArray(je))return je.filter(re)}function lt(je,w,W,B="id"){let re;if(ge(w))re=w;else{const ct=fe(w);re=Pt=>!0===ct.includes(pt(Pt)?Pt[B]:Pt)}return je.map((Pt,Vt)=>!0===re(Pt,Vt)?pt(Pt)?Object.assign(Object.assign({},Pt),W):W:Pt)}let Xt={resettable:!1,ttl:null,producerFn:void 0};function qe(){return Xt}function ce(je){return!1===de(je)}const Y=new e.x,we=new E.t(50,5e3),be=new e.x,vt="undefined"!=typeof window,Lt=!vt,Bt=()=>{try{return"undefined"!=typeof localStorage}catch(je){return!1}},Kt={},gt={};function xt(je){return je&&je.charAt(0).toUpperCase()+je.slice(1)}vt&&(window.$$stores=Kt,window.$$queries=gt);let Nt=[];function Ke(je,w={}){if(Lt||!window.__REDUX_DEVTOOLS_EXTENSION__)return;Nt.length&&Nt.forEach(en=>{en.unsubscribe?en.unsubscribe():en&&en()}),je&&je.run||((je=je||{}).run=en=>en(),w=je);const re=Object.assign({},{name:"Akita",shallow:!0,storesWhitelist:[]},w),Ve=re.storesWhitelist,ct=window.__REDUX_DEVTOOLS_EXTENSION__.connect(re);let Pt={};const Vt=en=>!Ve.length||Ve.indexOf(en)>-1;Nt.push(we.subscribe(en=>{!1!==Vt(en)&&(Pt=Object.assign(Object.assign({},Pt),{[en]:Kt[en]._value()}),ct.send({type:`[${xt(en)}] - @@INIT`},Pt))})),Nt.push(Y.subscribe(en=>{!1!==Vt(en)&&(delete Pt[en],ct.send({type:`[${en}] - Delete Store`},Pt))})),Nt.push(be.subscribe(({storeName:en,action:gn})=>{if(!1===Vt(en))return;const{type:dn,entityIds:hn,skip:In}=gn,Wn=(0,b._T)(gn,["type","entityIds","skip"]).payload;if(In)return void L(!1);const ye=Kt[en];if(!ye||!1===w.shallow&&Pt[en]&&JSON.stringify(ye._value())===JSON.stringify(Pt[en]))return;Pt=Object.assign(Object.assign({},Pt),{[en]:ye._value()});const le=xt(en);let J=ce(hn)?`[${le}] - ${dn} (ids: ${hn})`:`[${le}] - ${dn}`;if(w.logTrace&&(console.group(J),console.trace(),console.groupEnd()),w.sortAlphabetically){const He=Object.keys(Pt).sort().reduce((Ht,cn)=>(Ht[cn]=Pt[cn],Ht),{});ct.send(Object.assign({type:J},Wn),He)}else ct.send(Object.assign({type:J},Wn),Pt)})),Nt.push(ct.subscribe(en=>{if("DISPATCH"===en.type){if("COMMIT"===en.payload.type)return void ct.init(Pt);if(en.state){const dn=JSON.parse(en.state);for(let hn=0,In=Object.keys(dn);hn<In.length;hn++){const En=In[hn];Kt[En]&&je.run(()=>{Kt[En]._setState(()=>dn[En],!1)})}}}}))}var Et=(()=>{return(je=Et||(Et={})).ASC="asc",je.DESC="desc",Et;var je})();var Ce=(()=>{return(je=Ce||(Ce={})).Set="Set",je.Add="Add",je.Update="Update",je.Remove="Remove",Ce;var je})();let ve=!0;function ae(){ve=!1,vt&&(delete window.$$stores,delete window.$$queries)}function K(){return ve}function Fe(je){return void 0===je}function at(je,w){let W={};for(const B of Object.keys(je))W[B]=w(je[B]);return W}function Ct(je){Object.freeze(je);const w="function"==typeof je,W=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(je).forEach(function(B){W.call(je,B)&&(!w||"caller"!==B&&"callee"!==B&&"arguments"!==B)&&null!==je[B]&&("object"==typeof je[B]||"function"==typeof je[B])&&!Object.isFrozen(je[B])&&Ct(je[B])}),je}function ln(je){return null!=je&&"false"!=`${je}`}function On(je){return ln(je)&&"Object"===je.constructor.name}Error;const Gn="akitaConfig";function pi(je){return function(w){w[Gn]={idKey:"id"};for(let W=0,B=Object.keys(je);W<B.length;W++){const re=B[W];"name"===re?w[Gn].storeName=je[re]:w[Gn][re]=je[re]}}}const jn=new e.x,yi=new f.X(!1),Yn={activeTransactions:0,batchTransaction:null};function nn(){return Yn.activeTransactions>0}function _i(){return function(je,w,W){const B=W.value;return W.value=function(...re){return function zn(je,w){!function Oi(){nn()||(Yn.batchTransaction=new e.x),Yn.activeTransactions++,yi.next(!0)}();try{return je.apply(w)}finally{S("@Transaction"),function Zn(){0==--Yn.activeTransactions&&(Yn.batchTransaction.next(!0),Yn.batchTransaction.complete(),yi.next(!1),jn.next(!0))}()}}(()=>B.apply(this,re),this)},W}}let ii=(()=>{class je{constructor(W,B={}){this.options=B,this.inTransaction=!1,this.cache={active:new f.X(!1),ttl:null},this.onInit(W)}setLoading(W=!1){W!==this._value().loading&&(K()&&x("Set Loading"),this._setState(B=>Object.assign(Object.assign({},B),{loading:W})))}setHasCache(W,B={restartTTL:!1}){if(W!==this.cache.active.value&&this.cache.active.next(W),B.restartTTL){const re=this.getCacheTTL();re&&(null!==this.cache.ttl&&clearTimeout(this.cache.ttl),this.cache.ttl=setTimeout(()=>this.setHasCache(!1),re))}}getValue(){return this.storeValue}setError(W){W!==this._value().error&&(K()&&x("Set Error"),this._setState(B=>Object.assign(Object.assign({},B),{error:W})))}_select(W){return this.store.asObservable().pipe((0,c.U)(B=>W(B.state)),(0,o.x)())}_value(){return this.storeValue}_cache(){return this.cache.active}get config(){return this.constructor[Gn]||{}}get storeName(){return this.config.storeName||this.options.storeName||this.options.name}get deepFreeze(){return this.config.deepFreezeFn||this.options.deepFreezeFn||Ct}get cacheConfig(){return this.config.cache||this.options.cache}get _producerFn(){return this.config.producerFn||this.options.producerFn||function me(){return Xt.producerFn}()}get resettable(){return ce(this.config.resettable)?this.config.resettable:this.options.resettable}_setState(W,B=!0){if(ge(W)){const re=W(this._value());this.storeValue=ve?this.deepFreeze(re):re}else this.storeValue=W;if(!this.store)return this.store=new f.X({state:this.storeValue}),void(K()&&this.store.subscribe(({action:re})=>{re&&function mt(je,w){be.next({storeName:je,action:w})}(this.storeName,re)}));nn()?this.handleTransaction():this.dispatch(this.storeValue,B)}reset(){this.isResettable()?(K()&&x("Reset"),this._setState(()=>Object.assign({},this._initialState)),this.setHasCache(!1)):K()&&console.warn("You need to enable the reset functionality")}update(W){let B;K()&&x("Update");const re=this._value();B=ge(W)?ge(this._producerFn)?this._producerFn(re,W):W(re):W;const Ve=this.akitaPreUpdate(re,Object.assign(Object.assign({},re),B)),ct=On(re)?Ve:new re.constructor(Ve);this._setState(ct)}updateStoreConfig(W){this.options=Object.assign(Object.assign({},this.options),W)}akitaPreUpdate(W,B){return B}ngOnDestroy(){this.destroy()}destroy(){(!vt||!window.hmrEnabled)&&this===Kt[this.storeName]&&(delete Kt[this.storeName],function Me(je){Y.next(je)}(this.storeName),this.setHasCache(!1),this.cache.active.complete(),this.store.complete())}onInit(W){Kt[this.storeName]=this,this._setState(()=>W),function ze(je){we.next(je)}(this.storeName),this.isResettable()&&(this._initialState=W),K()&&function tn(je,w){je||console.error(`@StoreConfig({ name }) is missing in ${w}`)}(this.storeName,this.constructor.name)}dispatch(W,B=!0){let re;B&&(re=I,function O(){D=!1}()),this.store.next({state:W,action:re})}watchTransaction(){(function yn(){return Yn.batchTransaction?Yn.batchTransaction.asObservable():(0,y.of)(!0)})().subscribe(()=>{this.inTransaction=!1,this.dispatch(this._value())})}isResettable(){return!1!==this.resettable&&(this.resettable||qe().resettable)}handleTransaction(){this.inTransaction||(this.watchTransaction(),this.inTransaction=!0)}getCacheTTL(){return this.cacheConfig&&this.cacheConfig.ttl||qe().ttl}}return je.\u0275fac=function(W){A.$Z()},je.\u0275dir=A.lG2({type:je}),je})();var oi;let gi=(()=>{class je extends ii{constructor(W={},B={}){super(Object.assign(Object.assign({},{entities:{},ids:[],loading:!0,error:null}),W),B),this.options=B,this.entityActions=new e.x,this.entityIdChanges=new e.x}get selectEntityAction$(){return this.entityActions.asObservable()}get selectEntityIdChanges$(){return this.entityIdChanges.asObservable()}get idKey(){return this.config.idKey||this.options.idKey||"id"}set(W,B={}){if(de(W))return;K()&&x("Set Entity");const re=this.akitaPreAddEntity===je.prototype.akitaPreAddEntity;this.setHasCache(!0,{restartTTL:!0}),this._setState(Ve=>{const ct=function rt({state:je,entities:w,idKey:W,preAddEntity:B,isNativePreAdd:re}){let Ve,ct;if(k(w)){const Vt=function zt(je,w,W){const B={entities:{},ids:[]};for(const re of je){const Ve=W(re);B.entities[Ve[w]]=Ve,B.ids.push(Ve[w])}return B}(w,W,B);Ve=Vt.entities,ct=Vt.ids}else!function yt(je){return je.entities&&je.ids}(w)?(Ve=re?w:at(w,B),ct=Object.keys(Ve).map(Vt=>isNaN(Vt)?Vt:Number(Vt))):(Ve=re?w.entities:at(w.entities,B),ct=w.ids);const Pt=Object.assign(Object.assign({},je),{entities:Ve,ids:ct,loading:!1});return V(je)&&(Pt.active=$(Pt)),Pt}({state:Ve,entities:W,idKey:this.idKey,preAddEntity:this.akitaPreAddEntity,isNativePreAdd:re});return!1===Fe(B.activeId)&&(ct.active=B.activeId),ct}),this.hasInitialUIState()&&this.handleUICreation(),this.entityActions.next({type:Ce.Set,ids:this.ids})}add(W,B={loading:!1}){const re=fe(W);if(dt(re))return;const Ve=function X({state:je,entities:w,idKey:W,options:B={},preAddEntity:re}){let Ve={},ct=[],Pt=!1;for(const Vt of w)if(!1===G(je.entities,Vt[W])){const en=re(Vt),gn=en[W];Ve[gn]=en,B.prepend?ct.unshift(gn):ct.push(gn),Pt=!0}return Pt?{newState:Object.assign(Object.assign({},je),{entities:Object.assign(Object.assign({},je.entities),Ve),ids:B.prepend?[...ct,...je.ids]:[...je.ids,...ct]}),newIds:ct}:null}({state:this._value(),preAddEntity:this.akitaPreAddEntity,entities:re,idKey:this.idKey,options:B});Ve&&(K()&&x("Add Entity"),Ve.newState.loading=B.loading,this._setState(()=>Ve.newState),this.hasInitialUIState()&&this.handleUICreation(!0),this.entityActions.next({type:Ce.Add,ids:Ve.newIds}))}update(W,B){if(Fe(B))return void super.update(W);let Ve,re=[];re=ge(W)?this.ids.filter(ct=>W(this.entities[ct])):de(W)?this.ids:fe(W),dt(re)||(K()&&x("Update Entity",re),this._setState(ct=>function Ri({state:je,ids:w,idKey:W,newStateOrFn:B,preUpdateEntity:re,producerFn:Ve,onEntityIdChanges:ct}){const Pt={};let en,Vt=!1;for(const hn of w){if(!1===G(je.entities,hn))continue;const In=je.entities[hn];let En;En=ge(B)?ge(Ve)?Ve(In,B):B(In):B;const Wn=En.hasOwnProperty(W)&&En[W]!==In[W];let ye;en=hn,Wn&&(Vt=!0,en=En[W]);const le=Object.assign(Object.assign({},In),En);ye=On(In)?le:On(En)?new In.constructor(le):new En.constructor(le),Pt[en]=re(In,ye)}let gn=je.ids,dn=je.entities;if(Vt){const[hn]=w,En=hn;dn=(0,b._T)(je.entities,["symbol"==typeof En?En:En+""]),gn=je.ids.map(le=>le===hn?en:le),ct(hn,en)}return Object.assign(Object.assign({},je),{entities:Object.assign(Object.assign({},dn),Pt),ids:gn})}({idKey:this.idKey,ids:re,preUpdateEntity:this.akitaPreUpdateEntity,state:ct,newStateOrFn:B,producerFn:this._producerFn,onEntityIdChanges:(Pt,Vt)=>{Ve={oldId:Pt,newId:Vt},this.entityIdChanges.next(Object.assign(Object.assign({},Ve),{pending:!0}))}})),Ve&&this.entityIdChanges.next(Object.assign(Object.assign({},Ve),{pending:!1})),this.entityActions.next({type:Ce.Update,ids:re}))}upsert(W,B,re,Ve={}){const ct=fe(W),Pt=hn=>In=>G(this.entities,In)===hn,Vt=ge(re)?Ve.baseClass:re?re.baseClass:void 0,en=ge(Vt),gn=ct.filter(Pt(!0)),dn=ct.filter(Pt(!1)).map(hn=>{const In="function"==typeof B?B({}):B,En=ge(re)?re(hn,In):In,Wn=Object.assign(Object.assign({},En),{[this.idKey]:hn});return en?new Vt(Wn):Wn});this.update(gn,B),this.add(dn),K()&&S("Upsert Entity")}upsertMany(W,B={}){const re=[],Ve=[],ct={};for(const Pt of W){const Vt=this.akitaPreCheckEntity(Pt),en=Vt[this.idKey];if(G(this.entities,en)){const gn=this._value().entities[en],dn=Object.assign(Object.assign({},this._value().entities[en]),Vt),hn=B.baseClass?new B.baseClass(dn):dn,In=this.akitaPreUpdateEntity(gn,hn),En=In[this.idKey];ct[En]=In,Ve.push(En)}else{const gn=B.baseClass?new B.baseClass(Vt):Vt,dn=this.akitaPreAddEntity(gn),hn=dn[this.idKey];re.push(hn),ct[hn]=dn}}K()&&S("Upsert Many"),this._setState(Pt=>Object.assign(Object.assign({},Pt),{ids:re.length?[...Pt.ids,...re]:Pt.ids,entities:Object.assign(Object.assign({},Pt.entities),ct),loading:!!B.loading})),Ve.length&&this.entityActions.next({type:Ce.Update,ids:Ve}),re.length&&this.entityActions.next({type:Ce.Add,ids:re}),re.length&&this.hasUIStore()&&this.handleUICreation(!0)}replace(W,B){const re=fe(W);if(dt(re))return;const Ve={};for(const ct of re)Ve[ct]=Object.assign(Object.assign({},B),{[this.idKey]:ct});K()&&x("Replace Entity",W),this._setState(ct=>Object.assign(Object.assign({},ct),{entities:Object.assign(Object.assign({},ct.entities),Ve)}))}move(W,B){const re=this.ids.slice();re.splice(B<0?re.length+B:B,0,re.splice(W,1)[0]),K()&&x("Move Entity"),this._setState(Ve=>Object.assign(Object.assign({},Ve),{entities:Object.assign({},Ve.entities),ids:re}))}remove(W){if(dt(this.ids))return;const B=ce(W);let re=[];re=ge(W)?this.ids.filter(Ve=>W(this.entities[Ve])):B?fe(W):this.ids,!dt(re)&&(K()&&x("Remove Entity",re),this._setState(Ve=>function Xe({state:je,ids:w}){if(de(w))return function _t(je){return Object.assign(Object.assign({},je),{entities:{},ids:[],active:ne(je.active)?[]:null})}(je);const W=je.entities;let B={};for(const Ve of je.ids)!1===w.includes(Ve)&&(B[Ve]=W[Ve]);const re=Object.assign(Object.assign({},je),{entities:B,ids:je.ids.filter(Ve=>!1===w.includes(Ve))});return V(je)&&(re.active=$(re)),re}({state:Ve,ids:re})),B||this.setHasCache(!1),this.handleUIRemove(re),this.entityActions.next({type:Ce.Remove,ids:re}))}updateActive(W){const B=fe(this.active);K()&&x("Update Active",B),this.update(B,W)}setActive(W){const B=function Ee(je,w,W){let B;if(k(je))B=je;else if(pt(je)){if(de(W))return;je=Object.assign({wrap:!0},je);const re=w.indexOf(W);if(je.prev){const Ve=0===re;if(Ve&&!je.wrap)return;B=Ve?w[w.length-1]:w[re-1]}else if(je.next){const Ve=w.length===re+1;if(Ve&&!je.wrap)return;B=Ve?w[0]:w[re+1]}}else{if(je===W)return;B=je}return B}(W,this.ids,this.active);void 0!==B&&(K()&&x("Set Active",B),this._setActive(B))}addActive(W){const B=fe(W);dt(B)||B.every(Ve=>this.active.indexOf(Ve)>-1)||(K()&&x("Add Active",W),this._setState(Ve=>{const ct=Array.from(new Set([...Ve.active,...B]));return Object.assign(Object.assign({},Ve),{active:ct})}))}removeActive(W){const B=fe(W);dt(B)||!B.some(Ve=>this.active.indexOf(Ve)>-1)||(K()&&x("Remove Active",W),this._setState(Ve=>Object.assign(Object.assign({},Ve),{active:Array.isArray(Ve.active)?Ve.active.filter(ct=>-1===B.indexOf(ct)):null})))}toggleActive(W){const B=fe(W),re=Pt=>Vt=>this.active.includes(Vt)===Pt,Ve=B.filter(re(!0)),ct=B.filter(re(!1));this.removeActive(Ve),this.addActive(ct),K()&&S("Toggle Active")}createUIStore(W={},B={}){return this.ui=new Dn(W,Object.assign(Object.assign({},{name:`UI/${this.storeName}`,idKey:this.idKey}),B)),this.ui}destroy(){super.destroy(),this.ui instanceof je&&this.ui.destroy(),this.entityActions.complete()}akitaPreUpdateEntity(W,B){return B}akitaPreAddEntity(W){return W}akitaPreCheckEntity(W){return W}get ids(){return this._value().ids}get entities(){return this._value().entities}get active(){return this._value().active}_setActive(W){this._setState(B=>Object.assign(Object.assign({},B),{active:W}))}handleUICreation(W=!1){const B=this.ids,re=ge(this.ui._akitaCreateEntityFn);let Ve;const ct=Pt=>{const Vt=this.entities[Pt],en=re?this.ui._akitaCreateEntityFn(Vt):this.ui._akitaCreateEntityFn;return Object.assign({[this.idKey]:Vt[this.idKey]},en)};Ve=W?this.ids.filter(Pt=>Fe(this.ui.entities[Pt])).map(ct):B.map(ct),W?this.ui.add(Ve):this.ui.set(Ve)}hasInitialUIState(){return this.hasUIStore()&&!1===Fe(this.ui._akitaCreateEntityFn)}handleUIRemove(W){this.hasUIStore()&&this.ui.remove(W)}hasUIStore(){return this.ui instanceof Dn}}return(0,b.gn)([_i(),(0,b.w6)("design:type",Function),(0,b.w6)("design:paramtypes",[Object,Object,Object,Object]),(0,b.w6)("design:returntype",void 0)],je.prototype,"upsert",null),(0,b.gn)([_i(),(0,b.w6)("design:type",Function),(0,b.w6)("design:paramtypes",["function"==typeof(oi="undefined"!=typeof T&&T)?oi:Object]),(0,b.w6)("design:returntype",void 0)],je.prototype,"toggleActive",null),je})();class Dn extends gi{constructor(w={},W={}){super(w,W)}setInitialEntityState(w){this._akitaCreateEntityFn=w}}function Li(){return(0,g.h)(je=>null!=je)}function ei(je){return"string"==typeof je}class ut{constructor(w){this.store=w,this.__store__=w,K()&&(gt[w.storeName]=this)}select(w){let W;if(ge(w))W=w;else if(ei(w))W=B=>B[w];else{if(Array.isArray(w))return this.store._select(B=>B).pipe((0,o.x)(function ki(je){return function(w,W){const B=ge(je[0]);return!1===je.some(re=>B?re(w)!==re(W):w[re]!==W[re])}}(w)),(0,c.U)(B=>ge(w[0])?w.map(re=>re(B)):w.reduce((re,Ve)=>(re[Ve]=B[Ve],re),{})));W=B=>B}return this.store._select(W)}selectLoading(){return this.select(w=>w.loading)}selectError(){return this.select(w=>w.error)}getValue(){return this.store._value()}selectHasCache(){return this.store._cache().asObservable()}getHasCache(){return this.store._cache().value}get config(){return this.constructor.akitaQueryConfig}}function Ie(je,w){return function(W){const B=W[je];if(!Fe(B))return w?ei(w)?B[w]:w(B):B}}class te extends ut{constructor(w,W={}){super(w),this.options=W,this.__store__=w}selectAll(w={asObject:!1}){return this.select(W=>W.entities).pipe((0,c.U)(()=>this.getAll(w)))}getAll(w={asObject:!1,filterBy:void 0,limitTo:void 0}){return w.asObject?function Be(je,w){const W={},{filterBy:B,limitTo:re}=w,{ids:Ve,entities:ct}=je;if(!B&&!re)return ct;const Pt=!1===de(re);if(B&&Pt){let Vt=0;for(let en=0,gn=Ve.length;en<gn&&Vt!==re;en++){const dn=Ve[en],hn=ct[dn];fe(B).every(En=>En(hn,en))&&(W[dn]=hn,Vt++)}}else{const Vt=Math.min(re||Ve.length,Ve.length);for(let en=0;en<Vt;en++){const gn=Ve[en],dn=ct[gn];B?fe(B).every(In=>In(dn,en))&&(W[gn]=dn):W[gn]=dn}}return W}(this.getValue(),w):(function Qe(je,w){je.sortBy=je.sortBy||w&&w.sortBy,je.sortByOrder=je.sortByOrder||w&&w.sortByOrder}(w,this.config||this.options),function nt(je,w){let W=[];const{ids:B,entities:re}=je,{filterBy:Ve,limitTo:ct,sortBy:Pt,sortByOrder:Vt}=w;for(let gn=0;gn<B.length;gn++){const dn=re[B[gn]];Ve?fe(Ve).every(En=>En(dn,gn))&&W.push(dn):W.push(dn)}if(Pt){let gn=ge(Pt)?Pt:function et(je,w=Et.ASC){return function(W,B){if(!W.hasOwnProperty(je)||!B.hasOwnProperty(je))return 0;const re="string"==typeof W[je]?W[je].toUpperCase():W[je],Ve="string"==typeof B[je]?B[je].toUpperCase():B[je];let ct=0;return re>Ve?ct=1:re<Ve&&(ct=-1),w==Et.DESC?-1*ct:ct}}(Pt,Vt);W=W.sort((dn,hn)=>gn(dn,hn,je))}const en=Math.min(ct||W.length,W.length);return en===W.length?W:W.slice(0,en)}(this.getValue(),w))}selectMany(w,W){return w&&w.length?this.select(B=>B.entities).pipe((0,c.U)(B=>function oe(je,w){return je.reduce((W,B,re,Ve)=>{const ct=w(B,re,Ve);return void 0!==ct&&W.push(ct),W},[])}(w,re=>Ie(re,W)(B))),function se(){return(0,o.x)((je,w)=>je===w||!(!k(je)||!k(w))&&(!(!dt(je)||!dt(w))||je.length===w.length&&!1===w.some((B,re)=>je[re]!==B)))}()):(0,y.of)([])}selectEntity(w,W){let B=w;return ge(w)&&(B=function $t(je,w){for(const W of Object.keys(w))if(!0===je(w[W]))return W}(w,this.getValue().entities)),this.select(re=>re.entities).pipe((0,c.U)(Ie(B,W)),(0,o.x)())}getEntity(w){return this.getValue().entities[w]}selectActiveId(){return this.select(w=>w.active)}getActiveId(){return this.getValue().active}selectActive(w){return k(this.getActive())?this.selectActiveId().pipe((0,a.w)(W=>this.selectMany(W,w))):this.selectActiveId().pipe((0,a.w)(W=>this.selectEntity(W,w)))}getActive(){const w=this.getActiveId();return k(w)?w.map(W=>this.getValue().entities[W]):ln(w)?this.getEntity(w):void 0}selectCount(w){return this.select(W=>W.entities).pipe((0,c.U)(()=>this.getCount(w)))}getCount(w){return ge(w)?this.getAll().filter(w).length:this.getValue().ids.length}selectLast(w){return this.selectAt(W=>W[W.length-1],w)}selectFirst(w){return this.selectAt(W=>W[0],w)}selectEntityAction(w){if(de(w))return this.store.selectEntityAction$;const W=k(w)?re=>re:({ids:re})=>re,B=fe(w);return this.store.selectEntityAction$.pipe((0,g.h)(({type:re})=>B.includes(re)),(0,c.U)(re=>W(re)))}hasEntity(w){return de(w)?this.getValue().ids.length>0:ge(w)?this.getAll().some(w):k(w)?w.every(W=>W in this.getValue().entities):w in this.getValue().entities}hasActive(w){const W=this.getValue().active,B=ce(w);return Array.isArray(W)?B?W.includes(w):W.length>0:B?W===w:ce(W)}createUIQuery(){this.ui=new $e(this.__store__.ui)}selectAt(w,W){return this.select(B=>B.ids).pipe((0,c.U)(w),(0,o.x)(),(0,a.w)(B=>this.selectEntity(B,W)))}}class $e extends te{constructor(w){super(w)}}let qi=!1;const Ci=new E.t(1);function Mo(je){qi=je}function $o(){return qi}function co(je){return function Xo(je){return je&&ge(je.then)}(je)||function _(je){return!!je&&(je instanceof d.y||(0,h.m)(je.lift)&&(0,h.m)(je.subscribe))}(je)?(0,s.D)(je):(0,y.of)(je)}function mr(je){const w={key:"AkitaStores",enableInNonBrowser:!1,storage:Bt()?localStorage:je.storage,deserialize:JSON.parse,serialize:JSON.stringify,include:[],select:[],persistOnDestroy:!1,preStorageUpdate:function(ri,qn){return qn},preStoreUpdate:function(ri,qn){return qn},skipStorageUpdate:$o,preStorageUpdateOperator:()=>ri=>ri},{storage:W,enableInNonBrowser:B,deserialize:re,serialize:Ve,include:ct,select:Pt,key:Vt,preStorageUpdate:en,persistOnDestroy:gn,preStorageUpdateOperator:dn,preStoreUpdate:hn,skipStorageUpdate:In}=Object.assign({},w,je);if(Lt&&!B||!W)return;const En=ct.length>0,Wn=Pt.length>0;let ye,le;En&&(ye=ct.reduce((ri,qn)=>(ge(qn)?ri.fns.push(qn):ri[qn.split(".")[0]]=qn,ri),{fns:[]})),Wn&&(le=Pt.reduce((ri,qn)=>(ri[qn.storeName]=qn,ri),{}));let J={},He={},Ht=[];const cn=[];function mi(ri){co(ri).subscribe(()=>{const qn=cn.shift();qn&&mi(qn)})}const Vi=Bt()&&W===localStorage||(()=>{try{return"undefined"!=typeof sessionStorage}catch(je){return!1}})()&&W===sessionStorage;return co(W.getItem(Vt)).subscribe(ri=>{let qn=pt(ri)?ri:re(ri||"{}");function Yt(Mn){qn.$cache=Object.assign(Object.assign({},qn.$cache||{}),Mn),qn=Object.assign({},qn,He),cn.push(W.setItem(Vt,Vi?Ve(qn):qn)),mi(cn.shift())}function Un(Mn,Vo){J[Mn]=Kt[Mn]._select($i=>function Bn(je,w){return 1===w.split(".").length?je:w.split(".").slice(1).join(".").split(".").reduce((B,re)=>B&&B[re],je)}($i,Vo)).pipe((0,u.T)(1),(0,c.U)($i=>Wn&&le[Mn]?le[Mn]($i):$i),(0,g.h)(()=>!1===In()),dn()).subscribe($i=>{He[Mn]=en(Mn,$i),Promise.resolve().then(()=>Yt({[Mn]:Kt[Mn]._cache().getValue()}))})}function cr(Mn,Vo,$i){Mn in qn&&(x("@PersistState"),Vo._setState(tr=>function wn(je,w,W,B=!1){const re=w.split(".");if(1===re.length)return Object.assign(Object.assign({},je),W);je=Object.assign({},je);const Ve=re.length-2;return w.split(".").slice(1).reduce((Pt,Vt,en)=>en!==Ve?(Pt[Vt]=Object.assign({},Pt[Vt]),Pt&&Pt[Vt]):(Pt[Vt]=B||Array.isArray(Pt[Vt])||!pt(Pt[Vt])?W:Object.assign(Object.assign({},Pt[Vt]),W),Pt&&Pt[Vt]),je),je}(tr,$i,hn(Mn,qn[Mn],tr))),Kt[Mn].setHasCache(!!qn.$cache&&qn.$cache[Mn],{restartTTL:!0}))}Ht.push(Y.subscribe(Mn=>{J[Mn]&&(!1===gn&&Yt({[Mn]:!1}),J[Mn].unsubscribe(),delete J[Mn])})),Ht.push(we.subscribe(Mn=>{if("router"===Mn)return;const Vo=Kt[Mn];if(En){let $i=ye[Mn];if(!$i){if(!ye.fns.some(tr=>tr(Mn)))return;$i=Mn}cr(Mn,Vo,$i),Un(Mn,$i)}else cr(Mn,Vo,Mn),Un(Mn,Mn)})),Ci.next()}),{destroy(){Ht.forEach(ri=>ri.unsubscribe());for(let ri=0,qn=Object.keys(J);ri<qn.length;ri++)J[qn[ri]].unsubscribe();J={}},clear(){W.clear()},clearStore(ri){de(ri)?co(W.setItem(Vt,"{}")).subscribe():co(W.getItem(Vt)).subscribe(Yt=>{const Un=re(Yt||"{}");Un[ri]&&(delete Un[ri],co(W.setItem(Vt,Ve(Un))).subscribe())})}}}function Bi(je){return function(w){return(0,C.P)(()=>(je.setLoading(!0),w.pipe((0,v.x)(()=>je.setLoading(!1)))))}}new class bo{getStoresSnapshot(w=[]){let W={};const re=w.length>0?w:Object.keys(Kt);for(let Ve=0;Ve<re.length;Ve++){let ct=re[Ve];"router"!==ct&&(W[ct]=Kt[ct]._value())}return W}setStoresSnapshot(w,W){const B=Object.assign({skipStorageUpdate:!1,lazy:!1},W);B.skipStorageUpdate&&Mo(!0);let re=w;ei(w)&&(re=JSON.parse(re));const Ve=Object.keys(re).length;if(B.lazy)we.pipe((0,g.h)(ct=>re.hasOwnProperty(ct)),(0,p.q)(Ve)).subscribe(ct=>Kt[ct]._setState(()=>re[ct]));else for(let ct=0,Pt=Object.keys(re);ct<Pt.length;ct++){const Vt=Pt[ct];Kt[Vt]&&Kt[Vt]._setState(()=>re[Vt])}B.skipStorageUpdate&&Mo(!1)}}},7216:(ot,pe,r)=>{"use strict";r.d(pe,{Nv:()=>o,s6:()=>c,yD:()=>L});var o=(()=>{return(R=o||(o={})).DETAIL="DetailEvent",R.ITEM="ItemEvent",R.SCROLL="ScrollEvent",R.SHARE_ROLL="ShareRollEvent",R.SHARE_ROLL_ITEM="ShareItemEvent",R.WIDGET="WidgetEvent",o;var R})(),c=(()=>{return(R=c||(c={})).DETAIL_OPENED="DetailOpened",R.ITEM_AUDIO_PLAYED="AudioPlayed",R.ITEM_VIDEO_PLAYED="VideoPlayed",R.ITEM_CLICK_THROUGH="ClickThrough",R.SCROLL_ITEM_SEEN="ItemSeen",R.SCROLL_ITEM_BLOCK_SEEN="ItemBlockSeen",R.SCROLL_ROLL_SCROLLED="RollScrolled",R.SHARE_OPEN_DIALOG="OpenDialog",R.SHARE_OPEN_MENU="OpenMenu",R.SHARE_OPEN_NATIVE="OpenNative",R.SHARE_COPY="CopyURL",R.SHARE_FACEBOOK="FacebookShareURL",R.SHARE_TWITTER="TwitterShareURL",R.SHARE_LINKEDIN="LinkedInShareURL",R.WIDGET_EXTERNAL_LINK_CLICK="ExternalLinkWidgetClick",R.WIDGET_GOOGLE_FORM_CLICK="GoogleFormWidgetClick",R.WIDGET_MAILTO_CLICK="MailtoWidgetClick",c;var R})(),g=r(655),a=r(4035),u=r(9841),v=r(4968),p=r(7579),d=r(457),h=r(6451),_=r(4004),e=r(8505),E=r(9300),f=r(5698),y=r(8675),s=r(9468),C=r(4818),b=r(6099),A=r(9517),I=r(2417),D=r(5e3),O=r(4092),S=r(4716);const x="bublup";let L=(()=>{class R{constructor(k,V,ne,$,q,X){var de;if(this.activatedRoute=V,this.coreUiQuery=ne,this.loggerSvc=$,this.rollsQuery=q,this.router=X,this.gaTitle$=(0,u.a)([this.rollsQuery.title$,this.coreUiQuery.canEdit$,this.coreUiQuery.editMode$]).pipe((0,_.U)(([fe,We,Ne])=>{let dt=fe;return We&&(dt+=Ne?" - Author Editing":" - Author Previewing"),dt}),(0,e.b)(fe=>this.currentTitle=fe)),this.bublupTrackerCreator$=this.rollsQuery.selectActive().pipe((0,E.h)(fe=>!!fe),(0,f.q)(1),(0,e.b)(fe=>this.createTracker(fe.bublup_google_analytics_account_id,x))),this.authorTrackerUpdater$=this.rollsQuery.activeGoogleAnalyticsToken$.pipe((0,e.b)(fe=>{this.authorTrackerId&&(ga.remove(this.authorTrackerId),this.authorTrackerId=void 0),fe&&(this.authorTrackerId=`${Date.now()}`,this.createTracker(fe,this.authorTrackerId))})),this.titleUpdater$=this.gaTitle$.pipe((0,e.b)(fe=>{ga.getAll().forEach(We=>{We.set("title",fe)})})),this.path$=this.router.events.pipe((0,E.h)(fe=>fe instanceof a.m2),(0,_.U)(fe=>fe.urlAfterRedirects),(0,y.O)(this.router.url),(0,e.b)(fe=>{ga.getAll().forEach(We=>{We.set("page",fe),We.set("location",window.location.href)})})),this.scrolls$=(0,v.R)(window,"scroll").pipe((0,s.p)(15e3),(0,e.b)(fe=>{var We;return this.eventTrack(c.SCROLL_ROLL_SCROLLED,{category:o.SCROLL,label:null===(We=this.rollsQuery.getActive())||void 0===We?void 0:We.title})})),this.rawEvents$=new p.x,this.eventProcessor$=this.rawEvents$.pipe((0,e.b)(fe=>fe.eventTime=Date.now()),(0,C.e)(1e3),(0,E.h)(fe=>fe.length>0),(0,b.z)(fe=>(0,d.D)(fe)),(0,_.U)(fe=>{const{eventTime:We}=fe,Ne=(0,g._T)(fe,["eventTime"]);return Object.assign(Object.assign({},Ne),{queueTime:Date.now()-We})}),(0,e.b)(fe=>{const{eventInternal:We}=fe,Ne=(0,g._T)(fe,["eventInternal"]);ga.getAll().forEach(dt=>{(dt.get("name")===x||!We)&&dt.send("event",Ne)})})),k)throw new Error("The analytics service has been loaded twice. This is a configuration error");if(null===(de=window.ga)||void 0===de?void 0:de.create){(0,h.T)(this.gaTitle$.pipe((0,I.n)($)),this.bublupTrackerCreator$.pipe((0,I.n)($)),this.authorTrackerUpdater$.pipe((0,I.n)($)),this.titleUpdater$.pipe((0,I.n)($)),this.scrolls$.pipe((0,I.n)($)),this.eventProcessor$.pipe((0,I.n)($)),this.path$.pipe((0,I.n)($))).subscribe();const fe=this.titleUpdater$.pipe((0,f.q)(1));this.bublupTrackerCreator$.pipe((0,A.V)(fe),(0,e.b)(()=>{ga.getByName(x).send("pageview",{title:this.currentTitle})})).subscribe(),this.authorTrackerUpdater$.pipe((0,f.q)(1),(0,A.V)(fe),(0,e.b)(()=>{var We;null===(We=ga.getByName(this.authorTrackerId))||void 0===We||We.send("pageview",{title:this.currentTitle})})).subscribe()}}eventTrack(k,V,ne=!1){var $;(null===($=window.ga)||void 0===$?void 0:$.getAll)&&this.rawEvents$.next({eventCategory:null==V?void 0:V.category,eventAction:k,eventLabel:V.label,eventValue:V.value,eventInternal:ne})}createTracker(k,V){const ne=ga.create(k,"auto",V);return ne.set("title",this.currentTitle),ne.set("location",window.location.href),ne.set("page",this.router.url),ne}}return R.\u0275fac=function(k){return new(k||R)(D.LFG(R,12),D.LFG(a.gz),D.LFG(O.YU),D.LFG(S.m),D.LFG(O.Qy),D.LFG(a.F0))},R.\u0275prov=D.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()},6393:(ot,pe,r)=>{"use strict";r.d(pe,{H:()=>c,b:()=>o});const o="/api/v1",c="/media_api/v1"},4762:(ot,pe,r)=>{"use strict";r.d(pe,{Jd:()=>p,QO:()=>h,Ow:()=>E,eB:()=>y,jc:()=>s,hi:()=>C,wT:()=>b,nv:()=>A,kQ:()=>S,p2:()=>x,VU:()=>O,Vb:()=>ne,_9:()=>de,vD:()=>X,Zz:()=>fe,OS:()=>We,p$:()=>Ne,lK:()=>dt});var o=r(520),c=r(4004),g=r(2815),a=r(6393),u=r(5e3),v=r(4716);let p=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}get(se){const Re={params:{context:se},headers:(new o.WM).set("op-name","BrandingAPIService.get")};return this.http.get(`${a.b}/branding_objects`,Re).pipe((0,c.U)(pt=>pt.branding_objects),(0,g.D)(this.logger,"BrandingService.get"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();var d=r(2077);let h=(()=>{class ge{constructor(se,Re){this.http=se,this.logger=Re}get(){const se={headers:(new o.WM).set("op-name","CalloutsApiService.get").set(d._$,d.Ov)};return this.http.get(`${a.b}/callouts`,se).pipe((0,c.U)(Re=>Re.callouts),(0,g.D)(this.logger,"CalloutsApiService.get"))}markAsShown(se){const Re={headers:(new o.WM).set("op-name","CalloutsApiService.mark_as_shown")};return this.http.put(`${a.b}/callouts/mark_as_shown`,{callout_ids:se},Re).pipe((0,g.D)(this.logger,"CalloutsApiService.reset"))}reset(){const se={headers:(new o.WM).set("op-name","CalloutsApiService.reset")};return this.http.post(`${a.b}/callouts/reset`,{},se).pipe((0,g.D)(this.logger,"CalloutsApiService.reset"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(o.eN),u.LFG(v.m))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();var _=r(4092),e=r(2852);let E=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}delete(se){const Re={headers:(new o.WM).set("op-name","ItemsAPIService.delete")};return this.http.delete(`${a.b}/wrap_items/${se.token}`,Re).pipe((0,g.D)(this.logger,"ItemsAPIService.delete"))}get(se){const Re={headers:(new o.WM).set("op-name","ItemsAPIService.get")};return this.http.get(`${a.b}/wrap_items/${se}`,Re).pipe((0,g.D)(this.logger,"ItemsAPIService.get"))}getImages(se){const Re={headers:(new o.WM).set("op-name","ItemsAPIService.getImages")};return this.http.get(`${a.b}/wrap_items/${se}/images2`,Re).pipe((0,c.U)(pt=>(null==pt?void 0:pt.images)||[]),(0,g.D)(this.logger,"ItemsAPIService.getImages"))}update(se,Re=_.bl){Re=Object.assign(Object.assign({},_.bl),Re);const pt={headers:(new o.WM).set("op-name","ItemsAPIService.update").set(e.WW,Re.showWarnings?e.j:"0")};return this.http.put(`${a.b}/wrap_items/${se.token}`,se,pt).pipe((0,g.D)(this.logger,"ItemsAPIService.update"))}manualPosition(se){const Re={headers:(new o.WM).set("op-name","ItemsAPIService.manualPosition")};return this.http.put(`${a.b}/wrap_items/${se.token}/manual_position`,se,Re).pipe((0,g.D)(this.logger,"ItemsAPIService.manualPosition"))}removeImage(se){return this.update(Object.assign(Object.assign({},se),{clear_image:"yes"})).pipe((0,g.D)(this.logger,"ItemsAPIService.removeImage"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();var f=r(655);let y=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}put(se){const Re={headers:(new o.WM).set("op-name","LayoutMacroAPIService.put").set(e.WW,e.j)},{token:pt}=se,ht=(0,f._T)(se,["token"]);return this.http.put(`${a.b}/wraps/${pt}/layout`,ht,Re).pipe((0,g.D)(this.logger,"LayoutMacroAPIService.put"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),s=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}get(se){const Re={headers:(new o.WM).set("op-name","MediaAccessCheckAPIService.get").set(d._$,d.Ov)};return this.http.get(`${a.b}/media-access/check/${se}`,Re).pipe((0,g.D)(this.logger,"MediaAccessCheckAPIService.get"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),C=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}create(se){const Re={headers:(new o.WM).set("op-name","MediaServiceService.create")},pt=new FormData;return pt.append("image_source",se),this.http.post(`${a.H}/images`,pt,Re).pipe((0,g.D)(this.logger,"MediaServiceAPIService.create"))}createFromUrl(se){const Re={headers:(new o.WM).set("op-name","MediaServiceService.create")};return this.http.post(`${a.H}/images`,{image_source:se},Re).pipe((0,g.D)(this.logger,"MediaServiceAPIService.create"))}update(se){const Re={headers:(new o.WM).set("op-name","MediaServiceService.update")};return this.http.post(`${a.H}/images`,se,Re).pipe((0,g.D)(this.logger,"MediaServiceAPIService.update"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),b=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}get(se){const Re={headers:(new o.WM).set("op-name","MyStuffFolderAPIService.get").set(d._$,d.Ov),params:(new o.LE).set("include_ancestors","yes")};return this.http.get(`${a.b}/folders/${se}`,Re).pipe((0,g.D)(this.logger,"MyStuffFolderAPIService.get"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),A=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}get(se){const Re={params:{include_permission:!0},headers:(new o.WM).set("op-name","MyStuffItemAPIService.get").set(d._$,d.Ov)};return this.http.get(`${a.b}/items/${se}`,Re).pipe((0,g.D)(this.logger,"MyStuffItemAPIService.get"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();r(9035),r(6109);var O=(()=>{return(ge=O||(O={})).FROM_SOURCE="from_source",ge.TO_SOURCE="to_source",O;var ge})();let S=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}diff(se){const Re={headers:(new o.WM).set("op-name","RollDiffSyncAPIService.diff")};return this.http.get(`${a.b}/wraps/${se}/diff`,Re).pipe((0,c.U)(pt=>{var ht,It,De,Se;pt.counts={new:{total:0,items:((null===(ht=pt.new)||void 0===ht?void 0:ht.items)||[]).length,folders:((null===(It=pt.new)||void 0===It?void 0:It.folders)||[]).length},moved:{total:0,items:0,folders:Object.keys((null===(De=pt.moved)||void 0===De?void 0:De.folders)||{}).length}};for(let[Ae,lt]of Object.entries((null===(Se=pt.moved)||void 0===Se?void 0:Se.items)||{}))pt.counts.moved.items+=(lt||[]).length;return pt.counts.new.total=pt.counts.new.items+pt.counts.new.folders,pt.counts.moved.total=pt.counts.moved.items+pt.counts.moved.folders,pt}),(0,g.D)(this.logger,"RollDiffSyncAPIService.diff"))}sync(se){const Re={headers:(new o.WM).set("op-name","RollDiffSyncAPIService.sync")};return this.http.put(`${a.b}/wraps/${se.token}/sync`,se,Re).pipe((0,g.D)(this.logger,"RollDiffSyncAPIService.sync"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),x=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}get(se){const Re={headers:(new o.WM).set("op-name","RollReportAPIService.get")};return this.http.get(`${a.b}/wraps/${se}/report`,Re).pipe((0,g.D)(this.logger,"RollReportAPIService.get"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();var L=r(4968),R=r(2529),G=r(3744),k=r(7897),V=r(2985);let ne=(()=>{class ge{constructor(se,Re,pt,ht){this.envSvc=se,this.logger=Re,this.http=pt,this.freshDataSvc=ht}auth(se,Re){const pt={headers:(new o.WM).set("op-name","RollsAPIService.auth").set(d._$,d.Ov)};return this.http.post(`${a.b}/wraps/${se}/auth`,{password:Re},pt).pipe((0,g.D)(this.logger,"RollsAPIService.auth"))}brandingObject(se){const Re={headers:(new o.WM).set("op-name","RollsAPIService.brandingObject")};return this.http.get(`${a.b}/wraps/${se}/wrap_branding/branding_object`,Re).pipe((0,c.U)(pt=>pt.id?pt:null),(0,g.D)(this.logger,"RollsAPIService.brandingObject"))}clone(se,Re){const pt={headers:(new o.WM).set("op-name","RollsAPIService.clone")};return this.http.post(`${a.b}/wraps/${se}/clone`,{private_editing:Re},pt).pipe((0,g.D)(this.logger,"RollsAPIService.clone"))}deletePersonality(se){const Re={headers:(new o.WM).set("op-name","RollsAPIService.deletePersonality")};return this.http.delete(`${a.b}/wraps/${se}/user_personality`,Re).pipe((0,g.D)(this.logger,"RollsAPIService.deletePersonality"))}get(se,Re){const pt={headers:(new o.WM).set("op-name","RollsAPIService.get")};return(null==Re?void 0:Re.suppressErrors)&&(pt.headers=pt.headers.set(d._$,d.Ov)),this.http.get(`${a.b}/wraps/${se}`,pt).pipe((0,g.D)(this.logger,"RollsAPIService.get"))}getList(se={}){var Re,pt;const ht={headers:(new o.WM).set("op-name","RollsAPIService.getList"),params:new o.LE},It=null===(Re=se.index)||void 0===Re?void 0:Re.toString(),De=null===(pt=se.count)||void 0===pt?void 0:pt.toString();return It&&ht.params.set("index",It),De&&ht.params.set("count",De),this.http.get(`${a.b}/wraps`,ht).pipe((0,c.U)(Se=>Se.wraps),(0,g.D)(this.logger,"RollsAPIService.getList"))}update(se){const Re={headers:(new o.WM).set("op-name","RollsAPIService.update")};return this.http.put(`${a.b}/wraps/${se.token}`,se,Re).pipe((0,g.D)(this.logger,"RollsAPIService.update"))}getImages(se){const Re={headers:(new o.WM).set("op-name","RollsAPIService.getImages")};return this.http.get(`${a.b}/wraps/${se}/images2`,Re).pipe((0,c.U)(pt=>(null==pt?void 0:pt.images)||[]),(0,g.D)(this.logger,"RollsAPIService.getImages"))}getIdFromPath(se){const Re={headers:(new o.WM).set("op-name","RollsAPIService.getIdFromPath").set(d._$,d.Ov),params:(new o.LE).set("wrap_path",`${se}`)};return this.http.get(`${a.b}/wraps/id_by_path`,Re).pipe((0,c.U)(pt=>pt.token),(0,g.D)(this.logger,"RollsAPIService.getIdFromPath"))}recursiveBackgroundFetch(se){const Re=new Worker(r.tu(new URL(r.p+r.u(623),r.b))),pt=(0,L.R)(Re,"message").pipe((0,c.U)(It=>JSON.parse(It.data)),(0,R.o)(It=>!It.closed,!0)),ht=Object.assign({clientType:G.R,clientVersion:this.envSvc.clientVersion,userAuthToken:se.userAuthToken,rollAuthToken:se.rollAuthToken,includeHidden:se.includeHidden,rootToken:se.partial.root_content_section_token},this.freshDataSvc.getUpdates());return Re.postMessage(JSON.stringify(ht)),pt}removeImage(se){return this.update(Object.assign(Object.assign({},se),{clear_image:"yes"})).pipe((0,g.D)(this.logger,"RollsAPIService.removeImage"))}takeoverCheck(se,Re,pt=!1){const ht={headers:(new o.WM).set("op-name","RollsAPIService.takeoverCheck"),params:new o.LE({fromObject:{wrap_url:Re,private_editing:pt}})};return this.http.get(`${a.b}/wraps/${se}/takeover_check`,ht).pipe((0,g.D)(this.logger,"RollsAPIService.takeoverCheck"))}takeover(se,Re,pt={}){const ht={headers:(new o.WM).set("op-name","RollsAPIService.takeover")},It={wrap_url:Re};return(null==pt?void 0:pt.deleteSource)&&(It.delete_source=pt.deleteSource),(null==pt?void 0:pt.privateEditing)&&(It.private_editing=pt.privateEditing),this.http.post(`${a.b}/wraps/${se}/takeover`,It,ht).pipe((0,g.D)(this.logger,"RollsAPIService.takeoverCheck"))}takeoverAbandon(se){const Re={headers:(new o.WM).set("op-name","RollsAPIService.takeoverAbandon")};return this.http.post(`${a.b}/wraps/${se}/takeover_abandon`,{},Re).pipe((0,g.D)(this.logger,"RollsAPIService.takeoverAbandon"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(k.D),u.LFG(v.m),u.LFG(o.eN),u.LFG(V.gD))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();var $=r(9646),q=r(262);let X=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}loginToken(se){const Re={headers:(new o.WM).set("op-name","SessionsAPIService.loginToken").set(d._$,d.Ov)};return this.http.post(`${a.b}/sessions/login_token`,{url:se.href},Re).pipe((0,g.D)(this.logger,"SessionsAPIService.loginToken"),(0,c.U)(pt=>pt.login_token),(0,q.K)(pt=>(0,$.of)(null)))}fromSessionToken(se){const Re={headers:(new o.WM).set("op-name","SessionsAPIService.fromSessionToken").set("Authorization",`Token ${se}`)};return this.http.post(`${a.b}/sessions/from_session_token`,null,Re).pipe((0,g.D)(this.logger,"SessionsAPIService.fromSessionToken"))}fromLoginToken(se){const Re={headers:(new o.WM).set("op-name","SessionsAPIService.fromLoginToken")};return this.http.post(`${a.b}/sessions/from_login_token`,{login_token:se},Re).pipe((0,g.D)(this.logger,"SessionsAPIService.fromLoginToken"))}destroy(){const se={headers:(new o.WM).set("op-name","SessionsAPIService.destroy")};return this.http.delete(`${a.b}/sessions`,se).pipe((0,g.D)(this.logger,"SessionsAPIService.destroy"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),de=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}delete(se){const Re={headers:(new o.WM).set("op-name","SectionsAPIService.delete")};return this.http.delete(`${a.b}/wrap_sections/${se.token}`,Re).pipe((0,g.D)(this.logger,"SectionsAPIService.delete"))}get(se,Re=!1){const pt={headers:(new o.WM).set("op-name","SectionsAPIService.get"),params:(new o.LE).set("include_hidden",`${Re}`)};return this.http.get(`${a.b}/wrap_sections/${se}`,pt).pipe((0,c.U)(ht=>(ht.is_root_section=0===ht.depth,ht)),(0,g.D)(this.logger,"SectionsAPIService.get"))}getChildSections(se,Re=!1){const pt={headers:(new o.WM).set("op-name","SectionsAPIService.getChildSections"),params:(new o.LE).set("include_hidden",`${Re}`)};return this.http.get(`${a.b}/wrap_sections/${se}/children`,pt).pipe((0,c.U)(ht=>(ht.wrap_sections.map(It=>It.parent_section_token=se),ht.wrap_sections)),(0,g.D)(this.logger,"SectionsAPIService.getChildSections"))}getChildItems(se,Re=!1){const pt={headers:(new o.WM).set("op-name","ItemsAPIService.getChildItems"),params:(new o.LE).set("include_hidden",`${Re}`)};return this.http.get(`${a.b}/wrap_sections/${se}/wrap_items`,pt).pipe((0,c.U)(ht=>ht.wrap_items||[]),(0,g.D)(this.logger,"ItemsAPIService.getChildItems"))}getImages(se){const Re={headers:(new o.WM).set("op-name","SectionsAPIService.getImages")};return this.http.get(`${a.b}/wrap_sections/${se}/images2`,Re).pipe((0,c.U)(pt=>(null==pt?void 0:pt.images)||[]),(0,g.D)(this.logger,"SectionsAPIService.getImages"))}update(se,Re=_.bl){Re=Object.assign(Object.assign({},_.bl),Re);const pt={headers:(new o.WM).set("op-name","SectionsAPIService.update").set(e.WW,Re.showWarnings?e.j:"0")};return se.title&&(se.name=se.title,delete se.title),this.http.put(`${a.b}/wrap_sections/${se.token}`,se,pt).pipe((0,g.D)(this.logger,"SectionsAPIService.update"))}manualPosition(se){const Re={headers:(new o.WM).set("op-name","SectionsAPIService.manualPosition")};return this.http.put(`${a.b}/wrap_sections/${se.token}/manual_position`,se,Re).pipe((0,g.D)(this.logger,"SectionsService.manualPosition"))}removeImage(se){return this.update(Object.assign(Object.assign({},se),{clear_image:"yes"})).pipe((0,g.D)(this.logger,"SectionsAPIService.removeImage"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),fe=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}get(){const se=window.roll_themes;if(Array.isArray(se)&&se.length)return(0,$.of)(se);const Re={headers:(new o.WM).set("op-name","ThemesAPIService.get")};return this.http.get(`${a.b}/roll_themes`,Re).pipe((0,c.U)(pt=>pt.roll_themes),(0,g.D)(this.logger,"ThemesAPIService.get"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),We=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}get(se=null){const Re={params:{},headers:(new o.WM).set("op-name","UserAPIService.get").set(d._$,d.Ov)};return se&&(Re.params={context:se}),this.http.get(`${a.b}/users/me`,Re).pipe((0,g.D)(this.logger,"UserAPIService.get"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),Ne=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}get(se=null){const Re={params:{ready:!0,context:se},headers:(new o.WM).set("op-name","UserDomainsAPIService.get")};return this.http.get(`${a.b}/user_domains`,Re).pipe((0,c.U)(pt=>pt.domains),(0,g.D)(this.logger,"UserDomainsAPIService.get"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})(),dt=(()=>{class ge{constructor(se,Re){this.logger=se,this.http=Re}get(){const se={headers:(new o.WM).set("op-name","VersionAPIService.get")};return this.http.get(`${a.b}/versions`,se).pipe((0,g.D)(this.logger,"VersionAPIService.get"))}}return ge.\u0275fac=function(se){return new(se||ge)(u.LFG(v.m),u.LFG(o.eN))},ge.\u0275prov=u.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})()},9035:(ot,pe,r)=>{"use strict";r.d(pe,{r:()=>p});var o=r(520),c=r(2077),g=r(2815),a=r(6393),u=r(5e3),v=r(4716);let p=(()=>{class d{constructor(_,e){this.logger=_,this.http=e}get(_){const e={headers:(new o.WM).set("op-name","PreferencesAPIService.get")};return _&&(e.params=(new o.LE).set("context",_)),this.http.get(`${a.b}/user_preferences`,e).pipe((0,g.D)(this.logger,"PreferencesAPIService.get"))}update(_,e=!1){const E={headers:(new o.WM).set("op-name","PreferencesAPIService.update")};return e&&(E.headers=E.headers.set(c._$,c.Ov)),this.http.put(`${a.b}/user_preferences`,{preferences:_},E).pipe((0,g.D)(this.logger,"PreferencesAPIService.update"))}}return d.\u0275fac=function(_){return new(_||d)(u.LFG(v.m),u.LFG(o.eN))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},6109:(ot,pe,r)=>{"use strict";r.d(pe,{i:()=>_});var o=r(520),c=r(8505),g=r(2077),a=r(2815),u=r(7678),v=r(7938),p=r(6393),d=r(5e3),h=r(4716);let _=(()=>{class e{constructor(f,y){this.logger=f,this.http=y}check(f,y,s){const C={headers:(new o.WM).set("op-name","RollAliasesAPIService.check")};return this.http.post(`${p.b}/roll_vanity_url_aliases/check`,{domain:f,name:y,context:s},C).pipe((0,c.b)(b=>{b.roll_data&&(b.roll_data=(0,v.Zt)(b.roll_data))}),(0,a.D)(this.logger,"RollAliasesAPIService.check"))}create(f){const y={headers:(new o.WM).set("op-name","RollAliasesAPIService.create")};return this.http.post(`${p.b}/roll_vanity_url_aliases`,f,y).pipe((0,u.m4)(),(0,a.D)(this.logger,"RollAliasesAPIService.create"))}delete(f,y){const s={headers:(new o.WM).set("op-name","RollAliasesAPIService.delete")};return this.http.delete(`${p.b}/roll_vanity_url_aliases/${f}/${y}`,s).pipe((0,a.D)(this.logger,"RollAliasesAPIService.delete"))}track(f,y){const s={headers:(new o.WM).set("op-name","RollAliasesAPIService.track").set(g._$,g.Ov)};return this.http.post(`${p.b}/roll_vanity_url_aliases/${f}/${y}/track`,{},s).pipe((0,a.D)(this.logger,"RollAliasesAPIService.track"))}}return e.\u0275fac=function(f){return new(f||e)(d.LFG(h.m),d.LFG(o.eN))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},5783:(ot,pe,r)=>{"use strict";r.d(pe,{n:()=>We,e:()=>$});var o=r(9646),c=r(6451),g=r(515),a=r(9300),u=r(4482),v=r(5403),p=r(5032),h=r(6099),_=r(262),e=r(3900),E=r(8421),f=r(5797),s=r(5698),C=r(8505),b=r(4782),A=r(5e3),I=r(7897);let D=(()=>{class Ne{constructor(ge){this.envSvc=ge}setCookie(ge,Je,se=365,Re="/"){const pt=new Date;pt.setTime(pt.getTime()+24*se*60*60*1e3);const ht=[`domain=${this.getCookieDomain()}`,`expires=${pt.toUTCString()}`];Re&&ht.push(`path=${Re}`);const It=`${ge}=${Je}; ${ht.join("; ")}`;document.cookie=It}getCookie(ge){const Je=`${ge}=`;for(const se of decodeURIComponent(document.cookie).split(";")){const Re=se.replace(/^\s+/g,"");if(0===Re.indexOf(Je))return Re.substr(Je.length,Re.length)}return null}deleteCookie(ge){this.setCookie(ge,null,-1)}getCookieDomain(){const ge=new URL(window.location.href);if(this.envSvc.local)return ge.host.split(":")[0];const Je=this.envSvc.fqa?2:1;return ge.host.split(".").slice(Je).join(".")}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(A.LFG(I.D))},Ne.\u0275prov=A.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})();var O=r(4716),S=r(3328),x=r(4035),L=r(4762),R=r(4092),G=r(5178);const k="ngbus",V="user-data";let $=(()=>{class Ne{constructor(ge,Je,se,Re,pt,ht,It,De){this.cookieSvc=ge,this.logger=Je,this.queryParamSvc=se,this.route=Re,this.sessionsApi=pt,this.userQuery=ht,this.userSvc=It,this.windowSvc=De}cookieToken$(){return this.sessionToken$(()=>this.cookieSvc.getCookie(k))}localStorageToken$(){return this.sessionToken$(()=>JSON.parse(window.localStorage.getItem(V)).token)}sessionToken$(ge){let Je=null;try{Je=ge()}catch(se){}return(0,o.of)(Je).pipe((0,a.h)(se=>!!se))}sessionTokenBasedUsers$(){return(0,c.T)(this.cookieToken$(),this.localStorageToken$()).pipe(function d(Ne,dt){return(0,u.e)((ge,Je)=>{const se=new Set;ge.subscribe(new v.Q(Je,Re=>{const pt=Ne?Ne(Re):Re;se.has(pt)||(se.add(pt),Je.next(Re))})),null==dt||dt.subscribe(new v.Q(Je,()=>se.clear(),p.Z))})}(),(0,h.z)(ge=>this.sessionsApi.fromSessionToken(ge).pipe((0,_.K)(Je=>g.E))))}loginTokenBasedUser$(){return(0,o.of)(this.queryParamSvc.getParam("login_token")).pipe((0,a.h)(ge=>!!ge),(0,a.h)(ge=>{try{const Je=window.atob(ge),se=JSON.parse(Je),Re=new URL(window.location.href);return Re.searchParams.delete("login_token"),se.url===Re.href}catch(Je){return!1}}),(0,e.w)(ge=>this.sessionsApi.fromLoginToken(ge)),(0,a.h)(ge=>!!ge))}authenticate(){return this.userQuery.getActive()?(0,o.of)(this.userQuery.getActive()):(this.authRequest||(this.authRequest=this.loginTokenBasedUser$().pipe(function y(...Ne){const dt=(0,f.k)(Ne);return(0,u.e)((ge,Je)=>{const se=[ge,...dt],Re=()=>{if(!Je.closed)if(se.length>0){let pt;try{pt=(0,E.Xf)(se.shift())}catch(It){return void Re()}const ht=new v.Q(Je,void 0,p.Z,p.Z);Je.add(pt.subscribe(ht)),ht.add(Re)}else Je.complete()};Re()})}(this.sessionTokenBasedUsers$(),(0,o.of)(null)),(0,s.q)(1),(0,C.b)(ge=>{this.logger.debug("AuthService.authenticate",ge),this.updateStorage(ge)}),(0,b.d)(1))),this.authRequest)}loginToken(ge){return this.sessionsApi.loginToken(ge)}updateStorage(ge){(null==ge?void 0:ge.user_token)&&ge.token?(this.userSvc.updateStore(ge),this.userSvc.setActive(ge.user_token),this.cookieSvc.setCookie(k,ge.token),localStorage.setItem(V,JSON.stringify(ge))):(this.userSvc.clearStore(),this.cookieSvc.deleteCookie(k),localStorage.removeItem(V))}logout(){return this.sessionsApi.destroy().pipe((0,C.b)(()=>this.updateStorage(null)))}redirectToLogin(){this.windowSvc.assign(`/ui/sessions/new?previous_url=${encodeURIComponent(window.location.href)}`)}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(A.LFG(D),A.LFG(O.m),A.LFG(S.E),A.LFG(x.gz),A.LFG(L.vD),A.LFG(R.fE),A.LFG(R.KD),A.LFG(G.u))},Ne.\u0275prov=A.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})();var q=r(9808),X=r(520),de=r(1466);let fe=(()=>{class Ne{constructor(ge){this.userQuery=ge}intercept(ge,Je){const se=this.userQuery.getAuthToken();let Re={};se&&(Re={Authorization:`Token ${se}`});const pt=ge.clone({setHeaders:Re});return Je.handle(pt)}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(A.LFG(de.fE))},Ne.\u0275prov=A.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),We=(()=>{class Ne{}return Ne.\u0275fac=function(ge){return new(ge||Ne)},Ne.\u0275mod=A.oAB({type:Ne}),Ne.\u0275inj=A.cJS({providers:[{provide:X.TP,useClass:fe,multi:!0}],imports:[[q.ez]]}),Ne})()},3744:(ot,pe,r)=>{"use strict";r.d(pe,{R:()=>o});const o="ng_rolls"},7633:(ot,pe,r)=>{"use strict";r.d(pe,{Su:()=>v,xA:()=>E});var o=r(9808),c=r(3075),g=r(6688),a=r(8966),u=r(5e3);let v=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=u.oAB({type:f}),f.\u0275inj=u.cJS({imports:[[o.ez,c.u5,c.UX,g.Hi,a.Is]]}),f})();var p=r(5698),d=r(8505);class h{constructor(){this.body=document.querySelector("body")}attach(){}disable(){this.body.style.position="",this.body.style.top="",document.scrollingElement.scrollTop=this.recallPos}enable(){this.recallPos=document.scrollingElement.scrollTop,this.body.style.position="fixed",this.body.style.top=`-${this.recallPos}px`}}let _=(()=>{class f{constructor(){}getConfig(s){let C=["roll-dialog"];return(null==s?void 0:s.panelClass)&&("string"==typeof s.panelClass?C.push(...s.panelClass.split(/\s+/)):Array.isArray(s.panelClass)&&C.push(...s.panelClass),delete s.panelClass),Object.assign({minHeight:"160px",maxWidth:"640px",minWidth:"280px",width:"90vw",autoFocus:!1,panelClass:C},s)}}return f.\u0275fac=function(s){return new(s||f)},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();var e=r(2250);let E=(()=>{class f{constructor(s,C,b){this.configSvc=s,this.matDialog=C,this.nativeSvc=b}open(s,C){const b=this.matDialog.open(s,this.configSvc.getConfig(C));return this.nativeSvc.supported&&(b.afterOpened().pipe((0,p.q)(1),(0,d.b)(()=>this.nativeSvc.hideBrowserControls())).subscribe(),b.beforeClosed().pipe((0,p.q)(1),(0,d.b)(()=>this.nativeSvc.showBrowserControls())).subscribe()),b}bodyBlock(){return new h}get hasOpen(){var s;return!!(null===(s=this.matDialog.openDialogs)||void 0===s?void 0:s.length)}}return f.\u0275fac=function(s){return new(s||f)(u.LFG(_),u.LFG(a.uw),u.LFG(e.dL))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"}),f})()},7897:(ot,pe,r)=>{"use strict";r.d(pe,{D:()=>g,y:()=>c});var o=r(5e3);const c=!1;let g=(()=>{class a{constructor(){var v;this._domain="bublup.com",this._buildTime=1663620711100,this._clientBuild="11",this._clientVersion="24.0.0",this._local=!1,(null===(v=window.env_data)||void 0===v?void 0:v.domain)&&(this._domain=window.env_data.domain),/\d+\.\d\.\d/.test(this._clientVersion)||(this._clientVersion="999.9.9")}get domain(){return this._domain}get buildTime(){return this._buildTime}get clientBuild(){return this._clientBuild}get clientVersion(){return this._clientVersion}get production(){return"bublup.com"===this.domain}get devops(){return"bublupdevops.com"===this.domain}get dev(){return"bublupdev.com"===this.domain}get staging(){return"bublupstaging.com"===this.domain}get fqa(){var v;return!!(null===(v=this.domain)||void 0===v?void 0:v.includes("bublupqa.com"))}get local(){return this._local}get runningExternally(){return!this.local&&!window.location.host.includes(this.domain)}get fqaNumber(){if(this.fqa)try{return parseInt(this.domain.match(/fastqa(\d+)\.bublupqa\.com/)[1],10)}catch(v){}}}return a.\u0275fac=function(v){return new(v||a)},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},5659:(ot,pe,r)=>{"use strict";r.d(pe,{f:()=>c});var o=r(5631);class c{}c.errorsIntercepted=(0,o.aD)("[Errors] Show Errors",(0,o.xm)())},8277:(ot,pe,r)=>{"use strict";function o(c){return(null==c?void 0:c.error_list)&&Array.isArray(c.error_list)}r.d(pe,{r:()=>o})},2077:(ot,pe,r)=>{"use strict";r.d(pe,{TW:()=>b,_$:()=>e,Ov:()=>E});var o=r(520),c=r(7579),g=r(4482),a=r(5403),v=r(2529),p=r(4326),d=r(262),h=r(5659),_=r(8277);const e="x-ignore-errors",E="1";var f=r(5e3),y=r(9670),s=r(4716);let C=(()=>{class A{constructor(D,O){this.actions$=D,this.logger=O}intercept(D,O){return O.handle(D).pipe(function u(A){return(0,g.e)((I,D)=>{let O,x,S=!1;const L=()=>{O=I.subscribe(new a.Q(D,void 0,void 0,R=>{x||(x=new c.x,A(x).subscribe(new a.Q(D,()=>O?L():S=!0))),x&&x.next(R)})),S&&(O.unsubscribe(),O=null,S=!1,L())};L()})}(S=>{let L=0;return S.pipe((0,v.o)(R=>{if(("GET"===D.method||"HEAD"===D.method)&&R.status>=500&&++L<3)return!0;throw R}),(0,p.g)(1))}),(0,d.K)(S=>{let x=null==S?void 0:S.error;throw S instanceof o.UA&&304!==S.status&&(D.headers.get(e)||((0,_.r)(x)?this.logger.error("ErrorResponseInterceptor: WSError errors",x.errors):x={error_list:[{severity:"error",problem:$localize`:@@genericRequestError:We cannot process your request at this time. Please try again later.`,visibility:"show",client_facing:!0}]},this.actions$.dispatch(h.f.errorsIntercepted(x)))),this.logger.error("ErrorResponseInterceptor - fell through",S),S}))}}return A.\u0275fac=function(D){return new(D||A)(f.LFG(y.eX),f.LFG(s.m))},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac}),A})(),b=(()=>{class A{}return A.\u0275fac=function(D){return new(D||A)},A.\u0275mod=f.oAB({type:A}),A.\u0275inj=f.cJS({providers:[{provide:o.TP,useClass:C,multi:!0}]}),A})()},2985:(ot,pe,r)=>{"use strict";r.d(pe,{_i:()=>_,gD:()=>d});var o=r(9808),c=r(520),g=r(5e3),a=r(3812),u=r(4320);const v="NONE",p=new Set(["RollsAPIService.get","RollsAPIService.getIdFromPath",v]);let d=(()=>{class e{constructor(f,y){this.rollsQuery=f,this.userQuery=y}getUpdates(f){var y;const s=(null===(y=null==f?void 0:f.headers)||void 0===y?void 0:y.get("op-name"))||v,C={},b={};return(this.isAuthor()||this.noWrapData())&&(C["fresh-roll-data"]="true"),(this.authorshipUnknown()||this.isAuthor())&&(C["cache-control"]="no-cache, no-store, max-age=0","GET"===((null==f?void 0:f.method)||"GET")&&(this.isAuthor()||p.has(s))&&(!f||f.params)&&(C["fresh-roll-data"]="true",b.bust=+new Date)),{setHeaders:C,setParams:b}}authenticated(){return this.userQuery.getIsAuthenticated()}isAuthor(){return this.rollsQuery.getIsWritable()}noWrapData(){return!this.rollsQuery.getActive()}authorshipUnknown(){return this.authenticated()&&this.noWrapData()}}return e.\u0275fac=function(f){return new(f||e)(g.LFG(a.Q),g.LFG(u.f))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),h=(()=>{class e{constructor(f){this.freshDataSvc=f}intercept(f,y){return y.handle(f.clone(Object.assign({},this.freshDataSvc.getUpdates(f))))}}return e.\u0275fac=function(f){return new(f||e)(g.LFG(d))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e{}return e.\u0275fac=function(f){return new(f||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[{provide:c.TP,useClass:h,multi:!0}],imports:[[o.ez]]}),e})()},4716:(ot,pe,r)=>{"use strict";r.d(pe,{m:()=>u});var o=r(5e3),c=r(7897),g=r(3328),a=(()=>{return(v=a||(a={}))[v.ALL=0]="ALL",v[v.TRACE=1]="TRACE",v[v.REDUX=2]="REDUX",v[v.DEBUG=3]="DEBUG",v[v.INFO=4]="INFO",v[v.WARN=5]="WARN",v[v.ERROR=6]="ERROR",v[v.FATAL=7]="FATAL",v[v.OFF=8]="OFF",a;var v})();let u=(()=>{class v{constructor(d,h){this.envSvc=d,this._logLevel=a.REDUX,this.prepender="[Rolls Logger]";try{const _=parseInt(h.getParam("loglvl"),10);_==_&&(this._logLevel=Math.max(a.ALL,Math.min(a.OFF,_)),console.warn("[Rolls Logger]","Log level override:",a[this._logLevel],`(${this._logLevel})`))}finally{}this.info("LoggerService constructed")}get logLevel(){return this._logLevel}assert(d,...h){this.canLog(a.ERROR)&&console.assert(d,...h)}clear(){console.clear()}debug(...d){this.canLog(a.DEBUG)&&console.debug(this.prepender,...this.transformArgs(...d))}dir(d){this.canLog(a.DEBUG)&&(console.group(`${this.prepender} Dir:`),console.dir(d),console.groupEnd())}dirxml(d){this.canLog(a.DEBUG)&&(console.group(`${this.prepender} Dirxml:`),console.dirxml(d),console.groupEnd())}error(...d){this.canLog(a.ERROR)&&console.error(this.prepender,...this.transformArgs(...d))}fatal(...d){this.canLog(a.FATAL)&&console.error(this.prepender,"** FATAL **",...this.transformArgs(...d))}info(...d){this.canLog(a.INFO)&&console.info(this.prepender,...this.transformArgs(...d))}log(...d){this.canLog(a.ALL)&&console.log(this.prepender,...this.transformArgs(...d))}table(d){this.canLog(a.DEBUG)&&console.table(d)}trace(...d){this.canLog(a.TRACE)&&console.trace(this.prepender,...this.transformArgs(...d))}warn(...d){this.canLog(a.WARN)&&console.warn(this.prepender,...this.transformArgs(...d))}canLog(d){return!this.envSvc.production&&d>=this.logLevel}transformArgs(...d){const h=[...d];return h.map(_=>{if(Array.isArray(_))return _.slice(0);if("object"==typeof _)try{return JSON.parse(JSON.stringify(_))}catch(e){return _}return _}),h}}return v.\u0275fac=function(d){return new(d||v)(o.LFG(c.D),o.LFG(g.E))},v.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},4157:(ot,pe,r)=>{"use strict";r.d(pe,{I:()=>a});var o=r(5e3),c=r(4716),g=r(4762);let a=(()=>{class u{constructor(p,d){this.logger=p,this.api=d}uploadImage(p){return this.api.create(p)}createFromUrl(p){return this.api.createFromUrl(p)}}return u.\u0275fac=function(p){return new(p||u)(o.LFG(c.m),o.LFG(g.hi))},u.\u0275prov=o.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6970:(ot,pe,r)=>{"use strict";r.d(pe,{Gl:()=>_,nU:()=>u,PO:()=>a});var o=r(3702),c=r(2497),g=(()=>{return(e=g||(g={}))[e.ROLL=0]="ROLL",e[e.SECTION=1]="SECTION",e[e.ITEM=2]="ITEM",g;var e})(),a=(()=>{return(e=a||(a={})).LINK="link",e.NOTE="note",e.UPLOAD="upload",a;var e})(),u=(()=>{return(e=u||(u={})).AUDIO="audio",e.EXCEL="ms-excel",e.FLASH="flash",e.IMAGE="image",e.KEYNOTE="keynote",e.NUMBERS="numbers",e.PAGES="pages",e.PDF="pdf",e.POWERPOINT="ms-powerpoint",e.TEXT="text",e.UNKNOWN="unknown",e.WORD="ms-word",e.VIDEO="video",e.WEBPAGE="webpage",u;var e})();const v=[u.EXCEL,u.KEYNOTE,u.NUMBERS,u.PAGES,u.PDF,u.POWERPOINT,u.TEXT,u.WORD];var p=r(5e3),d=r(8478),h=r(3328);let _=(()=>{class e{constructor(f,y){this.platform=f,this.qpSvc=y}browserCanOpen(f){return this.isItem(f)&&!this.isNote(f)&&!this.isUploadedAudioOrVideo(f)&&(!this.isUploadedDocument(f)||this.isPDF(f)||this.platform.isIOS)}isEntity(f){return this.isRoll(f)||this.isSection(f)||this.isItem(f)}isRoll(f){return g.ROLL===(null==f?void 0:f.entity_type)||/^\d\d\d-w-/.test((null==f?void 0:f.token)||`${f}`)}isSection(f){return g.SECTION===(null==f?void 0:f.entity_type)||/^\d\d\d-ws-/.test((null==f?void 0:f.token)||`${f}`)}isItem(f){return g.ITEM===(null==f?void 0:f.entity_type)||/^\d\d\d-wi-/.test((null==f?void 0:f.token)||`${f}`)}isItemOrSection(f){return this.isItem(f)||this.isSection(f)}displaysImage(f){var y;if("no-image"===this.qpSvc.getParam("image_class"))return!1;let s=!1;return this.isRoll(f)?s=o.u.NO_IMAGE===(null==f?void 0:f.image_class):this.isItemOrSection(f)&&(s=o.u.NO_IMAGE===(null===(y=null==f?void 0:f.layout)||void 0===y?void 0:y.image_class)),this.hasImage(f)&&!s}entityUrl(f){var y;return this.isRoll(f)?f.token===window.current_roll_token?window.location.href:f.url:this.isItem(f)?null===(y=f.source)||void 0===y?void 0:y.url:null}entityDownloadUrl(f){return this.isDownloadable(f)?`${this.entityUrl(f)}?content_disposition=attachment`:""}entityShareUrl(f){var y;return this.isRoll(f)?f.token===window.current_roll_token?window.location.href:f.url:this.isUpload(f)?f.landing_page_url:this.isItem(f)?null===(y=f.source)||void 0===y?void 0:y.url:null}isAudio(f){return this.isItem(f)&&u.AUDIO===(null==f?void 0:f.normalized_content_type)}isAudioOrVideo(f){return this.isAudio(f)||this.isVideo(f)}isDocument(f){return this.isItem(f)&&v.includes(f.normalized_content_type)}isDownloadable(f){return this.isItem(f)&&!f.hidden&&this.hasSourceUrl(f)&&this.isUpload(f)}isDownloadableMedia(f){return this.isDownloadable(f)&&(this.isAudio(f)||this.isVideo(f)||this.isImage(f))}hasImage(f){var y;return!!(null===(y=null==f?void 0:f.image_info)||void 0===y?void 0:y.full_url)}hasCtaWidget(f){var y;return this.isItem(f)&&!!(null===(y=null==f?void 0:f.widgets)||void 0===y?void 0:y.find(s=>c.ov.includes(s.type)))}getCtaWidget(f){var y;return this.isItem(f)?null===(y=null==f?void 0:f.widgets)||void 0===y?void 0:y.find(s=>c.ov.indexOf(s.type)>-1):null}hasShareWidget(f){var y;return this.isItem(f)&&!!(null===(y=null==f?void 0:f.widgets)||void 0===y?void 0:y.find(s=>"social_engagement"===s.type))}imageClass(f){return this.isRoll(f)?f.image_class:this.isSection(f)||this.isItem(f)?f.layout.persisted_image_class||f.layout.image_class:void 0}imageClassUpdateObject(f,y,s=!1,C=!1){if(y=s&&o.u.NO_IMAGE===y?o.u.COVER:y,this.isRoll(f))return{image_class:y};if(this.isItemOrSection(f)){const b=Object.assign(Object.assign({},f.layout),{image_class:y});return C||(delete b.persisted_image_class,delete b.persisted_layout),{layout:b}}return{}}hasSourceUrl(f){var y;return this.isItem(f)&&!!(null===(y=f.source)||void 0===y?void 0:y.url)}hasGif(f){var y;return null===(y=null==f?void 0:f.image_info)||void 0===y?void 0:y.animated}hasConvertedGif(f){return this.hasGif(f)&&!!f.image_info.gif_video_url}isGif(f){var y;return this.isImage(f)&&(null===(y=f.image_info)||void 0===y?void 0:y.animated)}isImage(f){return this.isItem(f)&&u.IMAGE===f.normalized_content_type}isLink(f){var y;return this.isItem(f)&&a.LINK===(null===(y=f.source)||void 0===y?void 0:y.type)}isLinkedDocument(f){return this.isLink(f)&&this.isDocument(f)}isLinkedImage(f){return this.isLink(f)&&this.isImage(f)}isLinkedPage(f){return this.isLink(f)&&!this.isDocument(f)&&!this.isEffectivelyMedia(f)}isMedia(f){return this.isAudioOrVideo(f)||this.isImage(f)}isEffectivelyMedia(f){return this.isMedia(f)||this.isThirdPartyAudioOrVideo(f)}isThirdPartyAudioOrVideo(f){return this.isThirdPartyAudio(f)||this.isThirdPartyVideo(f)}isThirdPartyAudio(f){return this.isSoundcloud(f)}isThirdPartyVideo(f){return this.isYoutube(f)||this.isVimeo(f)}playsAudioOrVideo(f){return this.isAudioOrVideo(f)||this.isThirdPartyAudioOrVideo(f)}playsAudio(f){return this.isAudio(f)||this.isThirdPartyAudio(f)}playsVideo(f){return this.isVideo(f)||this.isThirdPartyVideo(f)}isNote(f){var y;return this.isItem(f)&&a.NOTE===(null===(y=f.source)||void 0===y?void 0:y.type)}isPDF(f){return this.isDocument(f)&&u.PDF===f.normalized_content_type}isSoundcloud(f){return!1}isUpload(f){var y;return this.isItem(f)&&a.UPLOAD===(null===(y=f.source)||void 0===y?void 0:y.type)}isUploadedMedia(f){return this.isUpload(f)&&this.isMedia(f)}isUploadedAudio(f){return this.isAudio(f)&&this.isUpload(f)}isUploadedAudioOrVideo(f){return this.isUploadedAudio(f)||this.isUploadedVideo(f)}isUploadedDocument(f){return this.isDocument(f)&&this.isUpload(f)}isUploadedImage(f){return this.isUpload(f)&&this.isImage(f)}isUploadedVideo(f){return this.isVideo(f)&&this.isUpload(f)}isVideo(f){return this.isItem(f)&&u.VIDEO===(null==f?void 0:f.normalized_content_type)}isEmbeddedVideo(f){return this.isItem(f)&&!!f.video_embedded_url}isVimeo(f){var y,s;return this.isItem(f)&&(!!(null===(y=f.video_data)||void 0===y?void 0:y.vimeo_id)||!!(null===(s=f.video_embedded_url)||void 0===s?void 0:s.toLowerCase().includes("vimeo.com")))}isYoutube(f){var y,s;return!(!this.isItem(f)||!(null===(y=f.video_data)||void 0===y?void 0:y.youtube_id)&&0!==(null===(s=f.video_embedded_url)||void 0===s?void 0:s.toLowerCase().indexOf("https://www.youtube.com")))}canChangeImage(f){return!(this.isYoutube(f)||this.isImage(f))}layoutId(f){var y;return(this.isItem(f)||this.isSection(f))&&(null===(y=f.layout)||void 0===y?void 0:y.id)||""}mediaUrl(f){var y;if(this.isItem(f)){const s=null===(y=f.video_data)||void 0===y?void 0:y.versions;return(null==s?void 0:s.length)?s.sortBy(b=>{var A;return null!==(A=b.quality)&&void 0!==A?A:0},!0)[0].url:f.video_embedded_url||f.source.url||""}return""}lowerQualityMediaUrl(f,y){var s,C,b;if(y&&this.isItem(f)){const A=null===(s=f.video_data)||void 0===s?void 0:s.versions;if((null!==(C=null==A?void 0:A.length)&&void 0!==C?C:0)>1){const I=A.find(D=>D.url===y);if(I){const D=I.quality;return null===(b=A.sortBy(O=>{var S;return null!==(S=O.quality)&&void 0!==S?S:0},!0).find(O=>O.quality<D))||void 0===b?void 0:b.url}}}return""}posterUrl(f){var y;return(null===(y=f.image_info)||void 0===y?void 0:y.full_url)||""}presentsPlayButton(f){return this.isAudioOrVideo(f)||this.isEmbeddedVideo(f)}sourceToken(f){return this.isItem(f)?f.source_item_token:this.isSection(f)?f.source_folder_token:null}selectForType(f,y){return y.item&&this.isItem(f)?y.item(f):y.section&&this.isSection(f)?y.section(f):y.roll&&this.isRoll(f)?y.roll(f):y.def?y.def(f):null}supportsRichText(f){return this.isNote(f)}}return e.\u0275fac=function(f){return new(f||e)(p.LFG(d.mi),p.LFG(h.E))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7153:(ot,pe,r)=>{"use strict";r.d(pe,{L:()=>f});var o=r(9646),c=r(8382),g=r(3900),a=r(5e3),u=r(6970),v=r(8746),p=r(2815),d=r(4716),h=r(4762);let _=(()=>{class y{constructor(C,b){this.logger=C,this.folderAPI=b}_get(C){return this.folderAPI.get(C).pipe((0,p.D)(this.logger,"MyStuffFolderService._get"),(0,v.x)(()=>{this.logger.debug("MyStuffFolderService._get","finalized")}))}loadFolder(C){return this._get(C)}}return y.\u0275fac=function(C){return new(C||y)(a.LFG(d.m),a.LFG(h.wT))},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),e=(()=>{class y{constructor(C,b){this.logger=C,this.itemsAPI=b}_get(C){return this.itemsAPI.get(C).pipe((0,p.D)(this.logger,"MyStuffItemService._get"),(0,v.x)(()=>{this.logger.debug("MyStuffItemService._get","finalized")}))}loadItem(C){return this._get(C)}}return y.\u0275fac=function(C){return new(C||y)(a.LFG(d.m),a.LFG(h.nv))},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var E=r(4092);let f=(()=>{class y{constructor(C,b,A,I){this.metaSvc=C,this.folderSvc=b,this.itemSvc=A,this.rollsQuery=I}checkSourceFolder(C,b=!1){const A=this.rollsQuery.getSourceFolderToken();return this.folderSvc.loadFolder(C).pipe((0,g.w)(I=>(0,o.of)(!!A&&this.basicCheck(I,b)&&(I.ancestors||[]).reduce((D,O)=>(D.push(O.token),D),[I.token]).indexOf(A)>-1)))}checkSourceItem(C){return this.itemSvc.loadItem(C).pipe((0,g.w)(b=>this.basicCheck(b)&&b.folder_token?this.checkSourceFolder(b.folder_token,!0):(0,o.of)(!1)))}basicCheck(C,b=!1){return!C.in_trash&&(b||C.permission&&C.permission.indexOf("E")>-1)}canSyncToSource(C){return this.metaSvc.isItem(C)?(0,c.s)(()=>!!C.source_item_token,this.checkSourceItem(C.source_item_token),(0,o.of)(!1)):this.metaSvc.isSection(C)?(0,c.s)(()=>!!C.source_folder_token,this.checkSourceFolder(C.source_folder_token),(0,o.of)(!1)):(0,o.of)(!1)}}return y.\u0275fac=function(C){return new(C||y)(a.LFG(u.Gl),a.LFG(_),a.LFG(e),a.LFG(E.Qy))},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},2250:(ot,pe,r)=>{"use strict";var o,c,g,a,u,v,p,d;r.d(pe,{dL:()=>f,sh:()=>h});const h={ANDROID:"function"==typeof(null===(o=window.BublupJS)||void 0===o?void 0:o.bublupBrowserEvent),IOS:"function"==typeof(null===(a=null===(g=null===(c=window.webkit)||void 0===c?void 0:c.messageHandlers)||void 0===g?void 0:g.bublupBrowserEvent)||void 0===a?void 0:a.postMessage)},_={ANDROID:null===(u=window.BublupJS)||void 0===u?void 0:u.bublupBrowserEvent,IOS:null===(d=null===(p=null===(v=window.webkit)||void 0===v?void 0:v.messageHandlers)||void 0===p?void 0:p.bublupBrowserEvent)||void 0===d?void 0:d.postMessage};var e=r(5e3),E=r(4716);let f=(()=>{class y{constructor(C){this.logger=C,this.counters={hideBrowserControls:0}}get android(){return h.ANDROID}get ios(){return h.IOS}get supported(){return this.android||this.ios}get nativeFn(){return _.ANDROID||_.IOS}bublupShareEvent(C){if(this.android)try{C=this.replaceUndefinedValues(C),window.BublupJS.bublupShareEvent(JSON.stringify(C))}catch(b){throw this.logger.error("Android share event failed",b),new Error("Android share event failed")}if(this.ios)try{window.webkit.messageHandlers.bublupShareEvent.postMessage(C)}catch(b){throw this.logger.error("iOS share event failed",b),new Error("iOS share event failed")}throw this.logger.error("Failed to locate a native sharing function.","Most likely cause is that this method was invoked without first checking that native messaging is supported"),new Error("Native sharing not supported")}hideBrowserControls(){!this.supported||(this.counters.hideBrowserControls++,this.nativeFn({browserControlsHidden:!0}))}showBrowserControls(){!this.supported||(this.counters.hideBrowserControls=Math.max(0,this.counters.hideBrowserControls-1),this.counters.hideBrowserControls||this.nativeFn({browserControlsHidden:!1}))}bublupBroswerEvent(C){if(this.android)try{window.BublupJS.bublupBrowserEvent(JSON.stringify(C))}catch(b){this.logger.error("Android browser event failed",b)}if(this.ios)try{window.webkit.messageHandlers.bublupBrowserEvent.postMessage(C)}catch(b){this.logger.error("iOS browser event failed",b)}if(this.nativeFn)try{this.nativeFn(C)}catch(b){throw this.logger.error("Native share event failed",b),new Error("Native share event failed")}}replaceUndefinedValues(C){return{url:void 0===C.url?null:C.url,image_url:void 0===C.image_url?null:C.image_url,title:void 0===C.title?null:C.title,description:void 0===C.description?null:C.description}}}return y.\u0275fac=function(C){return new(C||y)(e.LFG(E.m))},y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},8478:(ot,pe,r)=>{"use strict";r.d(pe,{bb:()=>g,ud:()=>v,mi:()=>d});var g=(()=>{return(h=g||(g={})).MOBILE="320px",h.MOBILE_M="375px",h.MOBILE_L="425px",h.MOBILE_XL="570px",h.MOBILE_XXL="668px",h.TABLET="740px",h.DESKTOP="1025px",h.WIDE="1280px",h.MAX="1408px",g;var h})(),a=r(925),u=r(5e3);let v=(()=>{class h{}return h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[a.ud]]}),h})();var p=r(2250);let d=(()=>{class h{constructor(e){if(this.platform=e,this._isSafariOnIPad=!1,this._isChrome=!1,this._isSafariOnIPad="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._isChrome=/chrome\//gi.test(window.navigator.userAgent)&&/Google Inc/i.test(window.navigator.vendor),this.isAndroid)document.documentElement.setAttribute("data-os","android");else if(this.isIOS||this.isSafariOnIPad){document.documentElement.setAttribute("data-os","ios");const E=/\s+OS\s+(\d+)/i.exec(navigator.userAgent)||/Version\/(\d+)/.exec(navigator.userAgent);((null==E?void 0:E.length)||0)>1&&document.documentElement.setAttribute("data-ios-major",`${E[1]}`)}this.isChrome?document.documentElement.setAttribute("data-browser","chrome"):this.isEdge||(this.isFirefox?document.documentElement.setAttribute("data-browser","firefox"):this.isSafari&&document.documentElement.setAttribute("data-browser","safari"))}get isAndroid(){return this.platform.ANDROID}get isBlink(){return this.platform.BLINK}get isDesktop(){return!this.isMobile}get isBublupBrowser(){return this.isBublupAndroidBrowser||this.isBublupIOSBrowser}get isBublupAndroidBrowser(){return p.sh.ANDROID}get isBublupIOSBrowser(){return p.sh.IOS}get isChrome(){return this._isChrome}get isEdge(){return this.platform.EDGE}get isFirefox(){return this.platform.FIREFOX}get isIOS(){return this.platform.IOS}get isMobile(){return this.isAndroid||this.isIOS}get isSafari(){return this.platform.SAFARI}get isSafariOnIPad(){return this._isSafariOnIPad}get isMobileSafari(){return this.isMobile&&this.isSafari||this.isSafariOnIPad}get isTrident(){return this.platform.TRIDENT}get isWebkit(){return this.platform.WEBKIT}}return h.\u0275fac=function(e){return new(e||h)(u.LFG(a.t4))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},3328:(ot,pe,r)=>{"use strict";r.d(pe,{E:()=>g});var o=r(5e3),c=r(7897);let g=(()=>{class a{constructor(v){this.envSvc=v}getParam(v){const p=new URL(window.location.href);switch(v){case"bw":case"edit":case"login_token":return p.searchParams.get(v);default:if(!this.envSvc.production)return p.searchParams.get(v)}return null}remove(v){const p=new URL(window.location.href);p.searchParams.has(v)&&(p.searchParams.delete(v),window.history.replaceState(null,window.document.title,p.toString()))}}return a.\u0275fac=function(v){return new(v||a)(o.LFG(c.D))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},8287:(ot,pe,r)=>{"use strict";r.d(pe,{K:()=>h});var o=r(8505),c=r(9646),g=r(4004),a=r(5e3),u=r(5783),v=r(7897),p=r(4092),d=r(5178);let h=(()=>{class _{constructor(E,f,y,s,C){this.authSvc=E,this.envSvc=f,this.rollsQuery=y,this.uiQuery=s,this.winSvc=C}open(E,f=!1){const y=this.baseUrlFor(E).href;f?this.winSvc.open(y):this.winSvc.assign(y)}openSettings(E){const f=new URL("/settings",this.baseUrlFor(E));this.winSvc.assign(f)}reload(E){const f=new URL(window.location.href);this.addParams(f).pipe((0,o.b)(this.winSvc.assign.bind(this.winSvc))).subscribe()}reloadIfNecessary(){const E=this.rollsQuery.getActive(),f=this.currentBaseUrl().href,y=this.baseUrlFor(E).href;if(y!==f){const s=new URL(y),C=this.getSubPath();s.pathname=(s.pathname+"/"+C).replace(/\/{2,}/,"/"),this.addParams(s).pipe((0,o.b)(this.winSvc.assign.bind(this.winSvc))).subscribe()}}currentBaseUrl(){let E=2;this.envSvc.runningExternally&&(E=window.is_root_url?0:1);const f=window.location.pathname.substr(1).split("/").slice(0,E).join("/");return new URL(f,`${window.location.protocol}//${window.location.host}`)}baseUrlFor(E){if(this.envSvc.local){const f=E.roll_aliases[0];return new URL(`${window.location.origin}/${f.domain}/${f.name}`)}return new URL(E.roll_aliases[0].url)}getSubPath(){const E=this.currentBaseUrl().href;return window.location.href.replace(E,"")}get primaryAlias(){const E=this.rollsQuery.getRollAliases();for(const f of E)if(f.is_primary)return f;return null}addParams(E,f={}){this.uiQuery.getEditMode()&&E.searchParams.append("edit","true");for(const[y,s]of Object.entries(f))E.searchParams.append(y,s);return E.host!==this.currentBaseUrl().host?this.authSvc.loginToken(E).pipe((0,g.U)(y=>(y&&E.searchParams.append("login_token",y),E))):(0,c.of)(E)}}return _.\u0275fac=function(E){return new(E||_)(a.LFG(u.e),a.LFG(v.D),a.LFG(p.Qy),a.LFG(p.YU),a.LFG(d.u))},_.\u0275prov=a.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},7460:(ot,pe,r)=>{"use strict";r.d(pe,{f:()=>a});var o=r(9635),c=r(4004);const a=u=>u.pipe((0,o.z)((0,c.U)(u=>!u)))},2815:(ot,pe,r)=>{"use strict";r.d(pe,{D:()=>c});var o=r(262);const c=(g,a)=>u=>u.pipe((0,o.K)(v=>{throw g.error(a,v),v}))},2417:(ot,pe,r)=>{"use strict";r.d(pe,{n:()=>c});var o=r(262);function c(g){return a=>a.pipe((0,o.K)((u,v)=>{if(g)try{g.error(u)}catch(p){}return v}))}},2957:(ot,pe,r)=>{"use strict";r.d(pe,{W:()=>g});var o=r(9770),c=r(8746);const g=(a,u)=>v=>u.ui?(0,o.P)(()=>(u.ui.update(a,{loadingImages:!0}),v.pipe((0,c.x)(()=>u.ui.update(a,{loadingImages:!1}))))):v},5390:(ot,pe,r)=>{"use strict";r.d(pe,{L:()=>g,k:()=>a});var o=r(9841),c=r(4004),g=(()=>{return(u=g||(g={}))[u.AND=0]="AND",u[u.OR=1]="OR",g;var u})();const a=(u,...v)=>(0,o.a)([...v]).pipe((0,c.U)(p=>(u===g.AND?Array.prototype.every:Array.prototype.some).apply(p,[h=>!!h])))},6683:(ot,pe,r)=>{"use strict";r.d(pe,{d:()=>a});var o=r(4128),c=r(5963),g=r(4004);function a(u,v){return(0,o.D)([(0,c.H)(u),v]).pipe((0,g.U)(([p,d])=>d))}},2859:(ot,pe,r)=>{"use strict";r.d(pe,{H:()=>_,q:()=>h});var o=r(5698),c=r(8505),g=r(5e3),a=r(2250),u=r(1314);let v=(()=>{class e{constructor(){}getConfig(f){const y=["roll-bottom-sheet"];return(null==f?void 0:f.panelClass)&&("string"==typeof f.panelClass?y.push(...f.panelClass.split(/\s+/)):Array.isArray(f.panelClass)&&y.push(...f.panelClass),delete f.panelClass),Object.assign({autoFocus:!1,restoreFocus:!1,closeOnNavigation:!0,scrollStrategy:new u.RZ,hasBackdrop:!0,backdropClass:"roll-bottom-sheet-backdrop",panelClass:y},f)}}return e.\u0275fac=function(f){return new(f||e)},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=r(4092),d=r(7399);let h=(()=>{class e{constructor(f,y,s,C,b){this.nativeSvc=f,this.configSvc=y,this.uiQuery=s,this.uiSvc=C,this.bottomSheet=b}open(f,y){const s=this.bottomSheet.open(f,this.configSvc.getConfig(y)),C=this.uiQuery.getEditMode();return s.afterOpened().pipe((0,o.q)(1),(0,c.b)(()=>{document.documentElement.setAttribute("data-bottom-sheet-open",""),this.nativeSvc.hideBrowserControls(),this.uiSvc.updateEditMode(!1),this.uiSvc.updateSheetOpen(!0)})).subscribe(),s.afterDismissed().pipe((0,o.q)(1),(0,c.b)(()=>{document.documentElement.removeAttribute("data-bottom-sheet-open"),this.nativeSvc.showBrowserControls(),this.uiSvc.updateEditMode(C),this.uiSvc.updateSheetOpen(!1)})).subscribe(),s}}return e.\u0275fac=function(f){return new(f||e)(g.LFG(a.dL),g.LFG(v),g.LFG(p.YU),g.LFG(p.HL),g.LFG(d.ch))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_=(()=>{class e{}return e.\u0275fac=function(f){return new(f||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[d._r]]}),e})()},7746:(ot,pe,r)=>{"use strict";r.d(pe,{f:()=>a});var o=r(5e3),c=r(7261);let g=(()=>{class u{constructor(){}getConfig(p){const d=["roll-snack"];return(null==p?void 0:p.panelClass)&&("string"==typeof p.panelClass?d.push(...p.panelClass.split(/\s+/)):Array.isArray(p.panelClass)&&d.push(...p.panelClass),delete p.panelClass),Object.assign({duration:5e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:d},p)}}return u.\u0275fac=function(p){return new(p||u)},u.\u0275prov=o.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})(),a=(()=>{class u{constructor(p,d){this.snack=p,this.configSvc=d}open(p,d=null,h){return this.snack.open(p,d,this.configSvc.getConfig(h))}openFromComponent(p,d){return this.snack.openFromComponent(p,this.configSvc.getConfig(d))}}return u.\u0275fac=function(p){return new(p||u)(o.LFG(c.ux),o.LFG(g))},u.\u0275prov=o.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},2265:(ot,pe,r)=>{"use strict";r.d(pe,{w:()=>o});var o=(()=>{return(g=o||(o={})).BUBLUP="BUBLUP",g.CUSTOM="CUSTOM",g.HIDDEN="HIDDEN",g.BRANDING_OBJECT="BRANDING_OBJECT",g.FOLLOW_FOLDER="FOLLOW_FOLDER",o;var g})()},1826:(ot,pe,r)=>{"use strict";r.d(pe,{V:()=>E});var o=r(655),c=r(9040),g=r(9670),a=r(5698),u=r(9300),v=r(3900),p=r(2417),d=r(2948),h=r(5e3),_=r(1278),e=r(2466);class E{constructor(y,s,C,b){this.actions$=y,this.query=s,this.rollsQuery=C,this.svc=b,this.startPolling$=this.actions$.pipe((0,c.l)(d.uk.rollLoadComplete),(0,a.q)(1),(0,u.h)(()=>this.rollsQuery.getIsWritable()),(0,v.w)(()=>this.svc.poll(3e5)),(0,p.n)())}}E.\u0275fac=function(y){return new(y||E)(h.LFG(g.eX),h.LFG(_.X),h.LFG(d.Qy),h.LFG(e.v))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),(0,o.gn)([(0,g.Qm)()],E.prototype,"startPolling$",void 0)},1278:(ot,pe,r)=>{"use strict";r.d(pe,{X:()=>v});var o=r(3443),c=r(4004);const g=(p,d)=>d.priority-p.priority;var a=r(5e3),u=r(5155);let v=(()=>{class p extends o.Gv{constructor(h){super(h),this.store=h,this.available$=this.selectAll().pipe((0,c.U)(_=>_.sort(g)))}getAvailable(){return this.getAll().sort(g)}}return p.\u0275fac=function(h){return new(h||p)(a.LFG(u.I))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},2466:(ot,pe,r)=>{"use strict";r.d(pe,{v:()=>I});var o=r(3443),c=r(1135),g=r(515),a=r(5963),u=r(9300),v=r(4818),p=r(6099),d=r(262),h=r(8746),_=r(8505),e=r(3900),E=r(4351),f=r(2815),y=r(2417),s=r(5e3),C=r(4762),b=r(4716),A=r(5155);let I=(()=>{class D{constructor(S,x,L){this.api=S,this.logger=x,this.store=L,this.calloutsSeen$=new c.X(null),this.batchProcessor$=this.calloutsSeen$.pipe((0,u.h)(R=>!!R),(0,v.e)(1e3),(0,u.h)(R=>R.length>0),(0,p.z)(R=>this.api.markAsShown(R).pipe((0,o.K4)(this.store),(0,f.D)(this.logger,"CalloutsService.markAsShown -- batchProcessor$"),(0,d.K)(()=>g.E),(0,h.x)(()=>this.store.remove(R)))),(0,y.n)()),this.batchProcessor$.subscribe()}get(){return this.api.get().pipe((0,o.K4)(this.store),(0,_.b)(this.store.set.bind(this.store)),(0,f.D)(this.logger,"CalloutsService.get"))}poll(S){return(0,a.H)(0,S).pipe((0,e.w)(()=>this.get()))}markAsShown(S){this.calloutsSeen$.next(S)}resetAll(){return this.api.reset().pipe((0,E.b)(()=>this.get()))}}return D.\u0275fac=function(S){return new(S||D)(s.LFG(C.QO),s.LFG(b.m),s.LFG(A.I))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},5155:(ot,pe,r)=>{"use strict";r.d(pe,{I:()=>a});var o=r(655),c=r(3443),g=r(5e3);let a=class extends c.cf{constructor(){super()}};a.\u0275fac=function(v){return new(v||a)},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a=(0,o.gn)([(0,c.yC)({name:"Callouts"})],a)},4409:(ot,pe,r)=>{"use strict";r.d(pe,{o:()=>_,b:()=>h});var o=r(3443),c=r(9646),g=r(5963),a=r(515),u=r(3900),v=r(7688),p=r(4004),d=r(2815);const h={persistToServer:!0,showWarnings:!1};class _{constructor(E,f,y,s,C,b){this.api=E,this.ctx=f,this.logger=y,this.query=s,this.store=C,this.uiQuery=b}update(E,f=h){return((f=Object.assign(Object.assign({},h),f)).persistToServer?this.updateBackend(E,f):(0,c.of)(E)).pipe((0,u.w)(y=>this.updateStore(y)))}pollForImage(E){return(0,g.H)(5e3).pipe((0,u.w)(()=>this.uiQuery.isImageSelectionOpenFor(null==E?void 0:E.token)?a.E:this.get(E.token).pipe((0,v.j)(f=>"completed"!==f.image_info.status?(0,g.H)(5e3).pipe((0,u.w)(()=>this.uiQuery.isImageSelectionOpenFor(null==E?void 0:E.token)?a.E:this.get(f.token))):a.E))))}updateManyLocally(E){this.store.upsertMany(E)}updateBackend(E,f){return this.api.update(E,f).pipe((0,o.K4)(this.store),(0,d.D)(this.logger,`${this.ctx}.updateBackend`))}updateStore(E){return(0,c.of)(this.store.update(E.token,E)).pipe((0,p.U)(()=>this.query.getEntity(E.token)),(0,d.D)(this.logger,`${this.ctx}.updateStore`))}}},6916:(ot,pe,r)=>{"use strict";r.d(pe,{m:()=>c});var o=r(5631);class c{}c.incompleteEntityImageDetected=(0,o.aD)("[Images] Incomplete Entity Image Detected",(0,o.xm)())},3702:(ot,pe,r)=>{"use strict";r.d(pe,{u:()=>o});var o=(()=>{return(c=o||(o={})).CONTAIN="contain",c.COVER="cover",c.STAMP="stamp",c.NO_IMAGE="no-image",o;var c})()},2486:(ot,pe,r)=>{"use strict";r.d(pe,{T:()=>g,w:()=>c});var o=r(4004);const c=()=>(0,o.U)(a=>a.map(u=>{const v=u.height,p=u.width,d=u.url,h=u.url.split("/"),_=h.pop();let e;return e=_.startsWith("thumb_")?`${h.join("/")}/full_${_.substring(6)}`:u.url,{full_url:e,thumb_url:d,thumb_height:v,thumb_width:p}})),g=a=>{const u=null==(null==a?void 0:a.focal_point_x)?50:a.focal_point_x,v=null==(null==a?void 0:a.focal_point_y)?50:a.focal_point_y;return Object.assign(Object.assign({},a),{focal_point_x:u,focal_point_y:v})}},1466:(ot,pe,r)=>{"use strict";r.d(pe,{wy:()=>b.w,hI:()=>I,DS:()=>D,v$:()=>a.v,bl:()=>u.b,xy:()=>Ie,j8:()=>be,wL:()=>Ce,YF:()=>ve,$K:()=>nt,u9:()=>ae.u,CM:()=>K,v3:()=>ce,zR:()=>qe,Ll:()=>me,_O:()=>he,x5:()=>ln,nU:()=>Gn,uV:()=>pi,Wy:()=>Zn.Wy,nl:()=>yn,Tg:()=>Pi,Ei:()=>ii,N5:()=>Y,GD:()=>yi,GZ:()=>Yn,rY:()=>$n,qL:()=>_t,uk:()=>s.uk,b8:()=>s.b8,Qy:()=>s.Qy,u5:()=>s.u5,mV:()=>It,hm:()=>lt,e8:()=>De,Jt:()=>Ae,ns:()=>Ei,OR:()=>ki,HT:()=>_,or:()=>C,xO:()=>ut.xO,G:()=>ut.G,fE:()=>ut.fE,KD:()=>ut.KD}),r(1278),r(5155),r(1826);var a=r(2466),u=r(4409),v=r(3443),p=r(5e3),d=r(655);let h=class extends v.cf{constructor(){super()}};h.\u0275fac=function(Qe){return new(Qe||h)},h.\u0275prov=p.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h=(0,d.gn)([(0,v.yC)({name:"user-domains"})],h);let _=(()=>{class oe extends v.Gv{constructor(te){super(te),this.store=te,this.userDomains$=this.selectAll(),this.loading$=this.selectLoading()}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(h))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var e=r(8505),E=r(2815),f=r(4716),y=r(4762),s=r(2948);let C=(()=>{class oe{constructor(te,$e,At,Jt){this.logger=te,this.store=$e,this.domainsAPI=At,this.rollsQuery=Jt}_get(){return this.domainsAPI.get(this.rollsQuery.getActiveId()).pipe((0,v.K4)(this.store),(0,e.b)(te=>this.store.set(te)),(0,E.D)(this.logger,"UserDomainsService._get"))}loadDomains(){return this._get()}setActive(te){this.store.setActive(te)}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(f.m),p.LFG(h),p.LFG(y.p$),p.LFG(s.Qy))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var b=r(2265);let A=class extends v.cf{constructor(){super()}};A.\u0275fac=function(Qe){return new(Qe||A)},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A=(0,d.gn)([(0,v.yC)({name:"branding",idKey:"id"})],A);let I=(()=>{class oe extends v.Gv{constructor(te){super(te),this.store=te,this.brands$=this.selectAll(),this.loading$=this.selectLoading()}getBrand(te){return this.getEntity(te)}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(A))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),D=(()=>{class oe{constructor(te,$e,At,Jt){this.logger=te,this.store=$e,this.brandingAPI=At,this.rollsQuery=Jt}_get(){return this.brandingAPI.get(this.rollsQuery.getActiveId()).pipe((0,v.K4)(this.store),(0,e.b)(te=>this.store.set(te)),(0,E.D)(this.logger,"BrandingService._get"))}loadBrandingObjects(){return this._get()}setActive(te){this.store.setActive(te)}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(f.m),p.LFG(A),p.LFG(y.Jd),p.LFG(s.Qy))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var O=r(2843),S=r(9646),x=r(7492),L=r(9670),R=r(9040),G=r(4004),k=r(9300),V=r(6099),ne=r(2417),$=r(6916),q=r(6970),X=r(2486);const de=()=>(0,G.U)(oe=>We(oe)),We=oe=>(null!=(oe=Object.assign({},oe)).name&&(oe.title=oe.name||"",delete oe.name),null!=oe.annotation&&(oe.description=oe.annotation||"",delete oe.annotation),null!=oe.wrap_section_token&&(oe.parent_section_token=oe.wrap_section_token,delete oe.wrap_section_token),oe.image_info=(0,X.T)(oe.image_info),oe),Ne=()=>(0,G.U)(oe=>{var Qe,te;return(null===(Qe=null==(oe=Object.assign({},oe))?void 0:oe.wrap_sections)||void 0===Qe?void 0:Qe.length)&&(oe.wrap_sections=oe.wrap_sections.map(ge)),(null===(te=null==oe?void 0:oe.wrap_items)||void 0===te?void 0:te.length)&&(oe.wrap_items=oe.wrap_items.map(We)),ge(oe)}),ge=oe=>(null!=(oe=Object.assign({},oe)).name&&(oe.title=oe.name||"",delete oe.name),oe.image_info=(0,X.T)(oe.image_info),oe);var Je=r(3328);let se=class extends v.cf{constructor(Qe){super(),this.qpSvc=Qe,this.createUIStore().setInitialEntityState({images:[],loadingImages:!1}),this.qpLayout=this.qpSvc.getParam("section_layout")}akitaPreAddEntity(Qe){return delete Qe.wrap_sections,delete Qe.wrap_items,this.qpLayout&&(Qe.layout.id=`layout.section.${this.qpLayout.toUpperCase()}`),ge(Qe)}akitaPreUpdateEntity(Qe,te){return delete te.wrap_sections,delete te.wrap_items,ge(te)}};se.\u0275fac=function(Qe){return new(Qe||se)(p.LFG(Je.E))},se.\u0275prov=p.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se=(0,d.gn)([(0,v.yC)({name:"sections",idKey:"token"})],se);var Re=r(2957),pt=r(8382),ht=r(3900),It=(()=>{return(oe=It||(It={})).DEFAULT="layout.section.DEFAULT",oe.CARD="layout.section.CARD",oe.CAROUSEL="layout.section.CAROUSEL",oe.COMPACT="layout.section.COMPACT",oe.FLOAT="layout.section.FLOAT",oe.FLOATLEFT="layout.section.FLOATLEFT",oe.FLOATRIGHT="layout.section.FLOATRIGHT",oe.GALLERY="layout.section.GALLERY",oe.LIST="layout.section.LIST",oe.PIN="layout.section.PIN",It;var oe})();let De=(()=>{class oe extends v.Gv{constructor(te,$e,At){super(te),this.store=te,this.metaSvc=$e,this.activeSection$=this.selectActive(),this.visibleSections$=this.selectAll({filterBy:Jt=>!Jt.hidden}),this.hiddenSections$=this.selectAll({filterBy:Jt=>!!Jt.hidden}),this.qpImageClass=null,this.createUIQuery(),this.qpImageClass=At.getParam("image_class")}selectHasDescription(te){return this.project$(te,$e=>!!$e.description)}selectShowDescription(te){return this.project$(te,$e=>$e.layout.show_description)}selectHasImage(te){return this.project$(te,$e=>this.metaSvc.hasImage($e))}selectDisplaysImage(te){return this.project$(te,$e=>this.metaSvc.displaysImage($e))}selectHasTitle(te){return this.project$(te,$e=>!!$e.title)}selectHidden(te){return this.project$(te,$e=>!!$e.hidden)}selectImageClass(te){return(0,pt.s)(()=>!!this.qpImageClass,(0,S.of)(this.qpImageClass),this.project$(te,$e=>$e.layout.image_class))}selectLayout(te){return this.project$(te,$e=>{var At;return(null===(At=null==$e?void 0:$e.layout)||void 0===At?void 0:At.id)||It.DEFAULT})}selectLayoutIsDefault(te){return this.project$(te,$e=>{var At;return(null===(At=null==$e?void 0:$e.layout)||void 0===At?void 0:At.id)===It.DEFAULT})}selectLayoutIsCompact(te){return this.project$(te,$e=>{var At;return(null===(At=null==$e?void 0:$e.layout)||void 0===At?void 0:At.id)===It.COMPACT})}selectLayoutIsList(te){return this.project$(te,$e=>{var At;return(null===(At=null==$e?void 0:$e.layout)||void 0===At?void 0:At.id)===It.LIST})}selectLayoutIsGallery(te){return this.project$(te,$e=>{var At;return(null===(At=null==$e?void 0:$e.layout)||void 0===At?void 0:At.id)===It.GALLERY})}selectSubsections(te){return this.selectAll({filterBy:$e=>te===$e.parent_section_token,sortBy:"flatIndex",sortByOrder:v.KM.ASC})}selectVisibleSubsections(te){return this.selectAll({filterBy:$e=>!$e.hidden&&te===$e.parent_section_token,sortBy:"flatIndex",sortByOrder:v.KM.ASC})}getSubsections(te){return this.getAll({filterBy:$e=>te===$e.parent_section_token,sortBy:"flatIndex",sortByOrder:v.KM.ASC})}uiSelectImages(te){return this.ui.selectEntity(te,"images")}uiSelectLoadingImages(te){return this.ui.selectEntity(te,"loadingImages")}instant(te){return te?this.getEntity(te):this.getActive()}id$(te){return te?(0,S.of)(te):this.selectActiveId().pipe((0,k.h)($e=>!!$e))}project$(te,$e){return this.id$(te).pipe((0,ht.w)(At=>this.selectEntity(At,$e)))}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(se),p.LFG(q.Gl),p.LFG(Je.E))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var Se=r(41);let Ae=(()=>{class oe extends u.o{constructor(te,$e,At,Jt,on,Ln,Bn){super($e,"SectionsService",At,Ln,on,Bn),this.actions$=te,this.api=$e,this.logger=At,this.rollsQuery=Jt,this.store=on,this.query=Ln,this.uiQuery=Bn}get(te){const $e=this.rollsQuery.getIsWritable();return this.api.get(te,$e).pipe((0,v.K4)(this.store),Ne(),(0,e.b)(At=>this.store.update(At.token,At)),(0,E.D)(this.logger,"SectionsService.get"))}loadImages(te){return this.api.getImages(te).pipe((0,Re.W)(te,this.store),(0,e.b)($e=>this.store.ui.update(te,{images:$e})),(0,E.D)(this.logger,"SectionsService.loadImages"))}removeImage(te,$e){return this.api.removeImage({token:te,sync_to_source:$e}).pipe((0,v.K4)(this.store),Ne(),(0,e.b)(At=>this.store.update(At.token,At)),(0,E.D)(this.logger,"SectionsService.removeImage"))}setActive(te){this.store.setActive(te)}updateBackendPosition(te){return this.api.manualPosition(te).pipe((0,v.K4)(this.store),(0,E.D)(this.logger,"SectionsService.updateBackendPosition"))}delete(te){return this.api.delete(te).pipe((0,v.K4)(this.store),(0,e.b)($e=>{if(!$e.success)throw $e;this.store.remove(te.token),this.actions$.dispatch(x.B.sectionDeletedSuccess(te.token))}),(0,E.D)(this.logger,"SectionsService.delete"))}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(L.eX),p.LFG(y._9),p.LFG(f.m),p.LFG(s.Qy),p.LFG(se),p.LFG(De),p.LFG(Se.YU))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();class lt{constructor(Qe,te,$e,At,Jt){this.logger=Qe,this.actions$=te,this.metaSvc=$e,this.store=At,this.svc=Jt,this.incompleteSectionEntityImageDetected$=this.actions$.pipe((0,R.l)($.m.incompleteEntityImageDetected),(0,G.U)(on=>on.payload),(0,k.h)(on=>this.metaSvc.isSection(on)),(0,V.z)(on=>this.svc.pollForImage(on)),(0,ne.n)()),this.loadSectionsSuccess$=this.actions$.pipe((0,R.l)(x.B.loadSectionsSuccess),(0,G.U)(on=>on.payload),(0,G.U)(on=>on.entities),(0,e.b)(on=>this.store.upsertMany(on))),this.deleteSectionSuccess$=this.actions$.pipe((0,R.l)(x.B.sectionDeletedSuccess),(0,G.U)(on=>on.payload),(0,e.b)(on=>this.store.remove(Ln=>{var Bn;return null===(Bn=Ln.ancestors)||void 0===Bn?void 0:Bn.includes(on)})))}}lt.\u0275fac=function(Qe){return new(Qe||lt)(p.LFG(f.m),p.LFG(L.eX),p.LFG(q.Gl),p.LFG(se),p.LFG(Ae))},lt.\u0275prov=p.Yz7({token:lt,factory:lt.\u0275fac}),(0,d.gn)([(0,L.Qm)()],lt.prototype,"incompleteSectionEntityImageDetected$",void 0),(0,d.gn)([(0,L.Qm)()],lt.prototype,"loadSectionsSuccess$",void 0),(0,d.gn)([(0,L.Qm)()],lt.prototype,"deleteSectionSuccess$",void 0);var Ze=r(9064);let Rt=class extends v.cf{constructor(Qe){super(),this.qpSvc=Qe,this.createUIStore().setInitialEntityState({images:[],loadingImages:!1,titleOverflows:!1,descriptionOverflows:!1}),this.qpLayout=this.qpSvc.getParam("item_layout")}akitaPreAddEntity(Qe){return this.qpLayout&&(Qe.layout.id=`layout.item.${this.qpLayout.toUpperCase()}`),We(Qe)}akitaPreUpdateEntity(Qe,te){return We(te)}};Rt.\u0275fac=function(Qe){return new(Qe||Rt)(p.LFG(Je.E))},Rt.\u0275prov=p.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt=(0,d.gn)([(0,v.yC)({name:"items",idKey:"token"})],Rt);var Gt=r(2003),Xt=(()=>{return(oe=Xt||(Xt={})).DEFAULT="layout.item.DEFAULT",oe.SINGLE="layout.item.SINGLE",oe.SINGLE_LANDSCAPE="layout.item.SINGLE_LANDSCAPE",oe.SINGLE_PORTRAIT="layout.item.SINGLE_PORTRAIT",oe.TALL="layout.item.TALL",oe.TALL_LANDSCAPE="layout.item.TALL_LANDSCAPE",oe.TALL_PORTRAIT="layout.item.TALL_PORTRAIT",oe.TALL_WIDE="layout.item.TALL_WIDE",oe.WIDE="layout.item.WIDE",oe.WIDE_LANDSCAPE="layout.item.WIDE_LANDSCAPE",oe.WIDE_PORTRAIT="layout.item.WIDE_PORTRAIT",Xt;var oe})();const kt={includeHidden:!1,includeNoImage:!0};let qe=(()=>{class oe extends v.Gv{constructor(te,$e,At){super(te),this.store=te,this.metaSvc=$e,this.activeItem$=this.selectActive(),this.qpImageClass=null,this.createUIQuery(),this.qpImageClass=At.getParam("image_class")}selectCTAWidget(te){return this.project$(te,$e=>($e.widgets||[]).find(At=>Gt.ov.includes(At.type)))}selectDisplaysImage(te){return this.project$(te,$e=>this.metaSvc.displaysImage($e))}selectItemsOf(te,$e=kt){return $e=Object.assign(Object.assign({},kt),$e),this.selectAll({filterBy:At=>te===At.parent_section_token&&($e.includeHidden||!At.hidden)&&($e.includeNoImage||this.metaSvc.displaysImage(At)),sortBy:"flatIndex",sortByOrder:v.KM.ASC})}selectHasCTAWidget(te){return this.project$(te,$e=>this.metaSvc.hasCtaWidget($e))}selectHasDescription(te){return this.project$(te,$e=>!!$e.description)}selectShowDescription(te){return this.project$(te,$e=>$e.layout.show_description)}selectHasImage(te){return this.project$(te,$e=>this.metaSvc.hasImage($e))}selectHasLink(te){return this.project$(te,$e=>this.metaSvc.isLink($e)||this.metaSvc.isDocument($e))}selectHasShareWidget(te){return this.project$(te,$e=>this.metaSvc.hasShareWidget($e))}selectHasTitle(te){return this.project$(te,$e=>!!$e.title)}selectHidden(te){return this.project$(te,$e=>!!$e.hidden)}selectLayout(te){return this.project$(te,$e=>{var At;return(null===(At=null==$e?void 0:$e.layout)||void 0===At?void 0:At.id)||Xt.DEFAULT})}selectLayoutIsDefault(te){return this.project$(te,$e=>{var At;return(null===(At=null==$e?void 0:$e.layout)||void 0===At?void 0:At.id)===Xt.DEFAULT})}selectImageClass(te){return(0,pt.s)(()=>!!this.qpImageClass,(0,S.of)(this.qpImageClass),this.project$(te,$e=>$e.layout.image_class))}uiSelectImages(te){return this.ui.selectEntity(te,"images")}uiSelectLoadingImages(te){return this.ui.selectEntity(te,"loadingImages")}uiSelectDescriptionOverflows(te){return this.ui.selectEntity(te,"descriptionOverflows")}uiSelectTitleOverflows(te){return this.ui.selectEntity(te,"titleOverflows")}getDescription(te){return this.instant(te).description}getDisplaysImage(te){return this.metaSvc.displaysImage(this.instant(te))}getIsAudio(te){return this.metaSvc.isAudio(this.instant(te))}getIsAudioOrVideo(te){return this.metaSvc.isAudioOrVideo(this.instant(te))}getIsVideo(te){return this.metaSvc.isVideo(this.instant(te))}getIsYoutube(te){return this.metaSvc.isYoutube(this.instant(te))}getItemsOf(te,$e={includeHidden:!1,includeNoImage:!0}){return this.getAll({filterBy:At=>te===At.parent_section_token&&($e.includeHidden||!At.hidden)&&($e.includeNoImage||this.metaSvc.displaysImage(At)),sortBy:"flatIndex",sortByOrder:v.KM.ASC})}getTitle(te){return this.instant(te).title}instant(te){return te?this.getEntity(te):this.getActive()}id$(te){return te?(0,S.of)(te):this.selectActiveId().pipe((0,k.h)($e=>!!$e))}project$(te,$e){return this.id$(te).pipe((0,ht.w)(At=>this.selectEntity(At,$e)))}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(Rt),p.LFG(q.Gl),p.LFG(Je.E))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),me=(()=>{class oe extends u.o{constructor(te,$e,At,Jt,on){super(te,"ItemsService",$e,At,Jt,on),this.api=te,this.logger=$e,this.query=At,this.store=Jt,this.uiQuery=on}loadImages(te){return this.api.getImages(te).pipe((0,Re.W)(te,this.store),(0,e.b)($e=>this.store.ui.update(te,{images:$e})),(0,E.D)(this.logger,"ItemsService.loadImages"))}removeImage(te,$e){return this.api.removeImage({token:te,sync_to_source:$e}).pipe((0,v.K4)(this.store),de(),(0,e.b)(At=>this.store.update(At.token,At)),(0,E.D)(this.logger,"ItemsService.removeImage"))}get(te){return this.api.get(te).pipe((0,v.K4)(this.store),de(),(0,e.b)($e=>this.store.update($e.token,$e)),(0,E.D)(this.logger,"ItemsService.get"))}setActive(te){this.store.setActive(te)}updateBackendPosition(te){return this.api.manualPosition(te).pipe((0,v.K4)(this.store),(0,E.D)(this.logger,"ItemsService.updateBackendPosition"))}updateStorePosition(te){return this.store.update(te.token,te)}updateUI(te,$e){this.store.ui.update(te.token,$e)}delete(te){return this.api.delete(te).pipe((0,v.K4)(this.store),(0,e.b)($e=>{if(!$e.success)throw $e;this.store.remove(te.token)}),(0,E.D)(this.logger,"ItemsService.delete"))}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(y.Ow),p.LFG(f.m),p.LFG(qe),p.LFG(Rt),p.LFG(Se.YU))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();class ce{constructor(Qe,te,$e,At,Jt){this.logger=Qe,this.actions$=te,this.metaSvc=$e,this.store=At,this.svc=Jt,this.incompleteItemEntityImageDetected$=this.actions$.pipe((0,R.l)($.m.incompleteEntityImageDetected),(0,G.U)(on=>on.payload),(0,k.h)(on=>this.metaSvc.isItem(on)),(0,V.z)(on=>this.svc.pollForImage(on)),(0,ne.n)()),this.loadItemsFail$=this.actions$.pipe((0,R.l)(Ze.M.loadItemsFail),(0,e.b)(on=>this.logger.error(on))),this.loadItemsSuccess$=this.actions$.pipe((0,R.l)(Ze.M.loadItemsSuccess),(0,G.U)(on=>on.payload.entities||[]),(0,k.h)(on=>!!on.length),(0,e.b)(on=>this.store.upsertMany(on))),this.deleteSectionSuccess$=this.actions$.pipe((0,R.l)(x.B.sectionDeletedSuccess),(0,G.U)(on=>on.payload),(0,e.b)(on=>this.store.remove(Ln=>{var Bn;return null===(Bn=Ln.ancestors)||void 0===Bn?void 0:Bn.includes(on)})))}}ce.\u0275fac=function(Qe){return new(Qe||ce)(p.LFG(f.m),p.LFG(L.eX),p.LFG(q.Gl),p.LFG(Rt),p.LFG(me))},ce.\u0275prov=p.Yz7({token:ce,factory:ce.\u0275fac}),(0,d.gn)([(0,L.Qm)()],ce.prototype,"incompleteItemEntityImageDetected$",void 0),(0,d.gn)([(0,L.Qm)()],ce.prototype,"loadItemsFail$",void 0),(0,d.gn)([(0,L.Qm)()],ce.prototype,"loadItemsSuccess$",void 0),(0,d.gn)([(0,L.Qm)()],ce.prototype,"deleteSectionSuccess$",void 0);let Y=(()=>{class oe{constructor(te,$e,At,Jt,on){this.logger=te,this.rollsSvc=$e,this.sectionsSvc=At,this.itemsSvc=Jt,this.metaSvc=on}get(te){var $e;return(null===($e=this.getModelService(te))||void 0===$e?void 0:$e.get(te))||(0,O._)(()=>`RollEntityService.get failed to find service for ${te}`)}delete$(te){return this.metaSvc.isItem(te)?this.itemsSvc.delete(te):this.metaSvc.isSection(te)?this.sectionsSvc.delete(te):(0,S.of)({success:!1})}removeImage(te,$e){return this.metaSvc.isItem(te)?this.itemsSvc.removeImage(te,$e):this.metaSvc.isSection(te)?this.sectionsSvc.removeImage(te,$e):this.metaSvc.isRoll(te)?this.rollsSvc.removeImage(te,$e):void 0}update(te,$e=u.b){var At;return $e=Object.assign(Object.assign({},u.b),$e),(null===(At=this.getModelService(te))||void 0===At?void 0:At.update(te,$e))||(0,O._)(()=>`RollEntityService.update failed to find service for ${te}`)}updateBackendPosition$(te){return this.metaSvc.isItem(te)?this.itemsSvc.updateBackendPosition(te):this.metaSvc.isSection(te)?this.sectionsSvc.updateBackendPosition(te):(this.logger.error("RollEntityService.updateBackendPosition$ Failed to find service for",te),(0,S.of)(null))}updateManyLocally(te){const $e=te[0];return this.metaSvc.isItem($e)?this.itemsSvc.updateManyLocally(te):this.metaSvc.isSection($e)?this.sectionsSvc.updateManyLocally(te):void 0}getModelService(te){return this.metaSvc.selectForType(te,{item:()=>this.itemsSvc,section:()=>this.sectionsSvc,roll:()=>this.rollsSvc})}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(f.m),p.LFG(s.u5),p.LFG(Ae),p.LFG(me),p.LFG(q.Gl))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var we=r(5631);class be{}be.entityHidden=(0,we.aD)("[Entity Visibility] Entity Hidden",(0,we.xm)());var Me=r(7261),ze=r(9808),mt=r(7423);function vt(oe,Qe){if(1&oe){const te=p.EpF();p.ynx(0),p.TgZ(1,"div",1)(2,"div",2),p.SDv(3,3),p.qZA(),p.TgZ(4,"button",4),p.NdJ("click",function(){return p.CHM(te),p.oxw().undo()}),p.SDv(5,5),p.qZA()(),p.BQk()}if(2&oe){const te=p.oxw();p.xp6(3),p.pQV(te.type),p.QtT(3)}}function Lt(oe,Qe){if(1&oe){const te=p.EpF();p.ynx(0),p.TgZ(1,"div",1)(2,"div",2),p.SDv(3,6),p.qZA(),p.TgZ(4,"button",4),p.NdJ("click",function(){return p.CHM(te),p.oxw().dismiss()}),p.SDv(5,7),p.qZA()(),p.BQk()}if(2&oe){const te=p.oxw();p.xp6(3),p.pQV(te.type),p.QtT(3)}}function Bt(oe,Qe){if(1&oe){const te=p.EpF();p.ynx(0),p.TgZ(1,"div",1)(2,"div",2),p.SDv(3,8),p.qZA(),p.TgZ(4,"button",4),p.NdJ("click",function(){return p.CHM(te),p.oxw().undo()}),p.SDv(5,9),p.qZA()(),p.BQk()}if(2&oe){const te=p.oxw();p.xp6(3),p.pQV(te.type),p.QtT(3)}}function an(oe,Qe){if(1&oe){const te=p.EpF();p.ynx(0),p.TgZ(1,"div",1)(2,"div",2),p.SDv(3,10),p.qZA(),p.TgZ(4,"button",4),p.NdJ("click",function(){return p.CHM(te),p.oxw().dismiss()}),p.SDv(5,11),p.qZA()(),p.BQk()}if(2&oe){const te=p.oxw();p.xp6(3),p.pQV(te.type),p.QtT(3)}}let Kt=(()=>{class oe{constructor(te,$e,At){this.metaSvc=te,this.snackRef=$e,this.data=At}ngOnInit(){this.type=this.metaSvc.isRoll(this.data.entity)?"roll":this.metaSvc.isSection(this.data.entity)?"section":"item"}dismiss(){this.snackRef.dismiss()}undo(){this.snackRef.dismissWithAction()}}return oe.\u0275fac=function(te){return new(te||oe)(p.Y36(q.Gl),p.Y36(Me.OX),p.Y36(Me.qD))},oe.\u0275cmp=p.Xpm({type:oe,selectors:[["entity-visibility-snack"]],decls:4,vars:4,consts:function(){let Qe,te,$e,At,Jt,on,Ln,Bn,Hi,Di,wn,qi;return Qe=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,Qe=p.Zx4(Qe,{VAR_SELECT:"\ufffd0\ufffd"}),te=$localize`:ecab3e9f0b97747709e184a4410f7bf751efb2464586369500127694034:The ${Qe}:ICU: is now hidden.`,$e=$localize`:@@undo4f26c54d5c3edadf92756d7d3ce466dde1f01e2a5775346636203685655:Undo`,At=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,At=p.Zx4(At,{VAR_SELECT:"\ufffd0\ufffd"}),Jt=$localize`:0ae1896c3debfea8ccf1224e2f820f39f35c65537975317110031398293:Failed to hide the ${At}:ICU:. Please try again later.`,on=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,Ln=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,Ln=p.Zx4(Ln,{VAR_SELECT:"\ufffd0\ufffd"}),Bn=$localize`:dac192b4451c09f2d34ac6297f9141b249984c205916109730389254300:The ${Ln}:ICU: is now visible.`,Hi=$localize`:@@undo4f26c54d5c3edadf92756d7d3ce466dde1f01e2a5775346636203685655:Undo`,Di=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,Di=p.Zx4(Di,{VAR_SELECT:"\ufffd0\ufffd"}),wn=$localize`:cb8dac0183bd94a2e5033798701a7ba090deabc8534370984657889154:Failed to show the ${Di}:ICU:. Please try again later.`,qi=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,[[4,"ngIf"],[1,"roll-snack__simple-container"],["data-snack-message",""],te,["mat-button","","color","primary",3,"click"],$e,Jt,on,Bn,Hi,wn,qi]},template:function(te,$e){1&te&&(p.YNc(0,vt,6,1,"ng-container",0),p.YNc(1,Lt,6,1,"ng-container",0),p.YNc(2,Bt,6,1,"ng-container",0),p.YNc(3,an,6,1,"ng-container",0)),2&te&&(p.Q6J("ngIf","hide"===$e.data.operation&&$e.data.success),p.xp6(1),p.Q6J("ngIf","hide"===$e.data.operation&&!$e.data.success),p.xp6(1),p.Q6J("ngIf","show"===$e.data.operation&&$e.data.success),p.xp6(1),p.Q6J("ngIf","show"===$e.data.operation&&!$e.data.success))},directives:[ze.O5,mt.lW],styles:[""],encapsulation:2,changeDetection:0}),oe})(),gt=(()=>{class oe{}return oe.\u0275fac=function(te){return new(te||oe)},oe.\u0275mod=p.oAB({type:oe}),oe.\u0275inj=p.cJS({imports:[[ze.ez,mt.ot]]}),oe})();var xt=r(5698),Nt=r(262);const Ke={hiddenSectionTokens:[]};let Et=class extends v.yh{constructor(){super(Ke)}};Et.\u0275fac=function(Qe){return new(Qe||Et)},Et.\u0275prov=p.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et=(0,d.gn)([(0,v.yC)({name:"entity-visibility"})],Et);var et=r(7746);let nt=(()=>{class oe{constructor(te,$e,At,Jt,on){this.actions$=te,this.store=$e,this.logger=At,this.snackSvc=Jt,this.updateSvc=on}setHiddenSectionTokens(te){this.store.update({hiddenSectionTokens:te})}toggle(te){const $e=te.hidden,At=$e?"show":"hide";this.updateSvc.update({token:te.token,hidden:!$e}).pipe((0,xt.q)(1),(0,e.b)(()=>{"hide"===At&&this.actions$.dispatch(be.entityHidden(te))}),(0,e.b)(on=>{this.showSnack({operation:At,entity:on,success:!0})}),(0,Nt.K)(on=>(this.logger.error("EntityVisibilityService","Toggle entity visibility failed"),this.showSnack({operation:At,success:!1,entity:te}),(0,S.of)()))).subscribe()}showSnack(te){this.snackSvc.openFromComponent(Kt,{data:te}).afterDismissed().pipe((0,xt.q)(1),(0,e.b)($e=>{$e.dismissedByAction&&(this.logger.debug("Undoing entity visibility"),this.updateSvc.update({token:te.entity.token,hidden:!te.entity.hidden}).pipe((0,xt.q)(1)).subscribe())})).subscribe()}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(L.eX),p.LFG(Et),p.LFG(f.m),p.LFG(et.f),p.LFG(Y))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();class Be{constructor(Qe,te){this.sectionsQuery=Qe,this.entityVisSvc=te,this.updateHiddenSections$=this.sectionsQuery.hiddenSections$.pipe((0,G.U)($e=>$e.map(At=>At.token)),(0,e.b)($e=>this.entityVisSvc.setHiddenSectionTokens($e)))}}Be.\u0275fac=function(Qe){return new(Qe||Be)(p.LFG(De),p.LFG(nt))},Be.\u0275prov=p.Yz7({token:Be,factory:Be.\u0275fac}),(0,d.gn)([(0,L.Qm)()],Be.prototype,"updateHiddenSections$",void 0);let Ce=(()=>{class oe{}return oe.\u0275fac=function(te){return new(te||oe)},oe.\u0275mod=p.oAB({type:oe}),oe.\u0275inj=p.cJS({imports:[[gt,L.cE.forFeature([Be])]]}),oe})();var ke=r(1884);let ve=(()=>{class oe extends v.AE{constructor(te){super(te),this.store=te,this.hiddenSectionTokens$=this.select($e=>$e.hiddenSectionTokens).pipe((0,G.U)($e=>null==$e?void 0:$e.sort()),(0,ke.x)(($e,At)=>(null==$e?void 0:$e.length)===(null==At?void 0:At.length)&&(null==$e?void 0:$e.every((Jt,on)=>Jt===At[on]))))}getHiddenSectionTokens(){return this.getValue().hiddenSectionTokens}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(Et))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var ae=r(3702);let K=(()=>{class oe{constructor(te,$e,At,Jt,on,Ln,Bn){this.metaSvc=te,this.itemsQuery=$e,this.itemsService=At,this.sectionsQuery=Jt,this.sectionsService=on,this.rollsQuery=Ln,this.rollsService=Bn}loadImages$(te){var $e;return(null===($e=this.getImageableService(te).loadImages(te.token))||void 0===$e?void 0:$e.pipe((0,G.U)(At=>At.uniq("url")),(0,X.w)()))||(0,S.of)([])}loadingImages$(te){var $e;return(null===($e=this.getImageableQuery(te))||void 0===$e?void 0:$e.uiSelectLoadingImages(te.token))||(0,S.of)(!1)}getImageableService(te){return this.metaSvc.selectForType(te,{item:()=>this.itemsService,section:()=>this.sectionsService,roll:()=>this.rollsService})}getImageableQuery(te){return this.metaSvc.selectForType(te,{item:()=>this.itemsQuery,section:()=>this.sectionsQuery,roll:()=>this.rollsQuery})}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(q.Gl),p.LFG(qe),p.LFG(me),p.LFG(De),p.LFG(Ae),p.LFG(s.Qy),p.LFG(s.u5))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var Ee=r(8746);let he=(()=>{class oe{constructor(te,$e,At,Jt){this.logger=te,this.macroAPI=$e,this.itemsStore=At,this.sectionsStore=Jt}_put(te){return te.image_class||te.item_layout||te.section_layout?this.macroAPI.put(te).pipe((0,e.b)($e=>this.processLayoutUpdates($e)),(0,E.D)(this.logger,"LayoutMacroService._put"),(0,Ee.x)(()=>this.logger.debug("LayoutMacroService._put","finalized"))):(0,O._)(()=>new Error("Must provide update data"))}update$(te){return this._put(te)}processLayoutUpdates(te){if(null==te?void 0:te._meta){for(const[$e,At]of Object.entries(te._meta.wrap_item_layout_changes||{}))this.itemsStore.update($e,{layout:At.layout});for(const[$e,At]of Object.entries(te._meta.wrap_section_layout_changes||{}))this.sectionsStore.update($e,{layout:At.layout})}}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(f.m),p.LFG(y.eB),p.LFG(Rt),p.LFG(se))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var Fe=r(4112);class Xe{}Xe.loadThemesSuccess=(0,we.aD)("[Themes] Load Themes Success",(0,we.xm)());var _t=(()=>{return(oe=_t||(_t={})).PRIMARY="primary",oe.SECONDARY="secondary",oe.TERTIARY="tertiary",oe.ACCENT="accent",oe.DARK="dark",oe.LIGHT="light",_t;var oe})();const zt=new Map([[_t.PRIMARY,$localize`Primary`],[_t.SECONDARY,$localize`Secondary`],[_t.TERTIARY,$localize`Tertiary`],[_t.ACCENT,$localize`Accent`],[_t.LIGHT,$localize`Light`],[_t.DARK,$localize`Dark`]]),Ct=oe=>{let Qe=Object.assign({},oe);return delete Qe.loading_bg_color,delete Qe.loading_font_color,delete Qe.loading_spinner_color,delete Qe.colors,Object.entries(_t).forEach((te,$e)=>{const[At,Jt]=te;Qe=Object.assign(Object.assign({store_id:`${Qe.base_theme_id}.${Qe.id}`,is_custom:!!Qe.base_palette_id},Qe),{[Jt]:Object.assign(Object.assign({},Qe[Jt]),{id:Jt,name:zt.get(_t[At])})})}),Qe};let tn=class extends v.cf{constructor(){super({loading:!1})}akitaPreAddEntity(Qe){return Ct(Qe)}akitaPreUpdateEntity(Qe,te){return Ct(te)}};tn.\u0275fac=function(Qe){return new(Qe||tn)},tn.\u0275prov=p.Yz7({token:tn,factory:tn.\u0275fac,providedIn:"root"}),tn=(0,d.gn)([(0,v.yC)({name:"palettes",idKey:"store_id"})],tn);class ln{constructor(Qe,te){this.actions$=Qe,this.store=te,this.loadThemePalettes$=this.actions$.pipe((0,R.l)(Xe.loadThemesSuccess),(0,G.U)($e=>$e.payload.themes||[]),(0,k.h)($e=>!!$e.length),(0,xt.q)(1),(0,ht.w)($e=>$e.map(At=>At.color_palettes.map(Jt=>Object.assign(Object.assign({},Jt),{store_id:`${At.id}.${Jt.id}`,base_theme_id:At.id})))),(0,G.U)(oe=>(oe||[]).map(Ct)),(0,e.b)($e=>this.store.upsertMany($e))),this.loadCustomPalettes$=this.actions$.pipe((0,R.l)(Fe.u.recurseRoll),(0,G.U)($e=>{var At,Jt;return(null===(Jt=null===(At=$e.payload)||void 0===At?void 0:At.entity)||void 0===Jt?void 0:Jt.custom_palettes)||{}}),(0,G.U)(oe=>(oe=>{const Qe=[];return Object.entries(oe).forEach((te,$e)=>{const[At,Jt]=te;Qe.push(Object.assign({base_theme_id:At},Ct(Jt)))}),Qe})(oe||{})),(0,e.b)($e=>this.store.upsertMany($e)))}}ln.\u0275fac=function(Qe){return new(Qe||ln)(p.LFG(L.eX),p.LFG(tn))},ln.\u0275prov=p.Yz7({token:ln,factory:ln.\u0275fac}),(0,d.gn)([(0,L.Qm)()],ln.prototype,"loadThemePalettes$",void 0),(0,d.gn)([(0,L.Qm)()],ln.prototype,"loadCustomPalettes$",void 0);var On=r(4782);let Gn=(()=>{class oe extends v.Gv{constructor(te){super(te),this.store=te,this.activePalette$=this.selectActive().pipe((0,On.d)(1)),this.activePaletteClass$=this.selectActive($e=>(null==$e?void 0:$e.base_palette_id)||(null==$e?void 0:$e.id)).pipe((0,G.U)($e=>$e||"default"),(0,On.d)(1))}selectPalettes(te,$e=!0){return this.selectAll({filterBy:At=>te===At.base_theme_id&&($e||!At.is_custom),sortBy:"name",sortByOrder:v.KM.ASC})}selectCustomPalette(te){return this.selectEntity($e=>$e.base_theme_id===te&&!!$e.is_custom)}getActivePaletteClass(){const te=this.getActive();return(null==te?void 0:te.base_palette_id)||(null==te?void 0:te.id)||"default"}getCustomPalette(te){return this.getAll().find($e=>$e.base_theme_id===te&&!!$e.is_custom)}getDefaultPalette(te){return this.getEntity(`${te}.default`)}getHasCustomPalette(te){return!!this.getCustomPalette(te)}getIsCustomPalette(te,$e){var At;return!!(null===(At=this.getPalette(te,$e))||void 0===At?void 0:At.is_custom)}getIsActivePaletteCustom(){var te;return!!(null===(te=this.getActive())||void 0===te?void 0:te.is_custom)}getPalette(te,$e){return this.getEntity(`${te}.${$e}`)}getPaletteOrDefault(te,$e){return this.getEntity(`${te}.${$e}`)||this.getDefaultPalette(te)}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(tn))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),pi=(()=>{class oe{constructor(te,$e,At){this.store=te,this.query=$e,this.qpSvc=At,window.document.documentElement.classList.add("palette"),this.query.activePaletteClass$.subscribe(Jt=>{this.paletteClass&&window.document.documentElement.classList.remove(this.paletteClass);const Ln=this.qpSvc.getParam("palette")||Jt;Ln&&(this.paletteClass=`palette--${Ln}`,window.document.documentElement.classList.add(this.paletteClass))})}setActive(te){this.store.setActive(this.getStoreId(te))}setActiveById(te,$e){this.store.setActive(`${te}.${$e}`)}updateStore(te){this.store.upsert(this.getStoreId(te),te)}getStoreId(te){return te.store_id||`${te.base_theme_id}.${te.id}`}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(tn),p.LFG(Gn),p.LFG(Je.E))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var jn=r(7487);let yi=(()=>{class oe extends v.Gv{constructor(te){super(te),this.store=te,this.$loading=this.selectLoading(),this.activeReport$=this.selectActive(),this.hitCount$=this.selectActive($e=>$e.hits.count+$e.hits.carried_forward)}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(jn.i))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),Yn=(()=>{class oe{constructor(te,$e,At){this.logger=te,this.reportAPI=$e,this.store=At}_get(te){return this.reportAPI.get(te).pipe((0,v.K4)(this.store),(0,e.b)($e=>this.store.upsert(te,$e)),(0,E.D)(this.logger,"RollReportsService._get"))}loadReport(te,$e=!0){return this._get(te).pipe((0,k.h)(()=>$e),(0,e.b)(At=>this.setActive(At.token)))}setActive(te){this.store.setActive(te)}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(f.m),p.LFG(y.p2),p.LFG(jn.i))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var Oi=r(7840),Zn=r(7678),nn=r(6109);let yn=(()=>{class oe{constructor(te,$e,At){this.actions$=te,this.api=$e,this.rollsQuery=At}check(te,$e){return this.api.check(te,$e,this.rollsQuery.getActiveId())}create(te){return this.api.create(te).pipe((0,e.b)($e=>{this.actions$.dispatch(Oi.q.rollAliasCreationSuccess($e))}),(0,Nt.K)($e=>{throw this.actions$.dispatch(Oi.q.rollAliasCreationFail($e)),$e}))}delete(te){return this.actions$.dispatch(Oi.q.rollAliasDeletionStarted(te)),this.api.delete(te.domain,te.name).pipe((0,e.b)(()=>this.actions$.dispatch(Oi.q.rollAliasDeletionSuccess(te))),(0,Nt.K)($e=>{throw this.actions$.dispatch(Oi.q.rollAliasDeletionFail($e)),$e}))}track(te,$e){return this.api.track(te,$e)}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(L.eX),p.LFG(nn.i),p.LFG(s.Qy))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var zn=r(9718),_i=r(7825);let Pi=(()=>{class oe{constructor(te,$e,At){this.errorDialogSvc=te,this.logger=$e,this.rollsAPI=At}_clone(te){return this.rollsAPI.clone(te.token).pipe((0,E.D)(this.logger,"RollCloneService._clone"),(0,Ee.x)(()=>this.logger.debug("RollCloneService._clone","finalized")))}clone(te){return this._clone(te).pipe((0,ht.w)($e=>{var At,Jt;if(null===(Jt=null===(At=$e.warning_info)||void 0===At?void 0:At.error_list)||void 0===Jt?void 0:Jt.length){const on=Object.assign(Object.assign({},$e.warning_info),{error_list:$e.warning_info.error_list.map(Ln=>Object.assign(Object.assign({},Ln),{severity:"notice"}))});return this.errorDialogSvc.show(on).afterClosed().pipe((0,zn.h)($e))}return(0,S.of)($e)}))}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(_i.vo),p.LFG(f.m),p.LFG(y.Vb))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),ii=(()=>{class oe{constructor(te,$e){this.logger=te,this.diffSyncAPI=$e}_get(te){return this.diffSyncAPI.diff(te).pipe((0,E.D)(this.logger,"RollDiffService._get"),(0,Ee.x)(()=>this.logger.debug("RollDiffService._get","finalized")))}get(te){return this._get(te)}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(f.m),p.LFG(y.kQ))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var Ri=r(520);let $n=(()=>{class oe{constructor(te,$e){this.logger=te,this.diffSyncAPI=$e}_sync(te){return(new Ri.WM).set("op-name","RollSyncService._sync"),this.diffSyncAPI.sync(te).pipe((0,E.D)(this.logger,"RollSyncService._put"),(0,Ee.x)(()=>this.logger.debug("RollSyncService._sync","finalized")))}sync(te){return this._sync(te)}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(f.m),p.LFG(y.kQ))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var oi=r(4092),gi=r(7282);const Li=oe=>(oe.family="single-column",oe.single_column_theme=!0,oe.class_name=oe.id.split(".").pop().toLowerCase(),oe.color_palettes.forEach(Qe=>{var te;if(delete Qe.loading_bg_color,delete Qe.loading_font_color,delete Qe.loading_spinner_color,!oe.swatch_usage_meta){const $e=null===(te=gi.d[oe.class_name])||void 0===te?void 0:te.swatch_usage;$e&&(oe.swatch_usage_meta=Object.assign({},$e))}Object.entries(_t).forEach(($e,At)=>{const[Jt,on]=$e;Qe[on].id=on,Qe[on].name=zt.get(_t[Jt])})}),oe);let si=class extends v.cf{constructor(){super({loading:!1})}akitaPreAddEntity(Qe){return Li(Qe)}akitaPreUpdateEntity(Qe,te){return Li(te)}};si.\u0275fac=function(Qe){return new(Qe||si)},si.\u0275prov=p.Yz7({token:si,factory:si.\u0275fac,providedIn:"root"}),si=(0,d.gn)([(0,v.yC)({name:"themes",idKey:"id"})],si);let Ei=(()=>{class oe extends v.Gv{constructor(te,$e){super(te),this.store=te,this.metaSvc=$e,this.allThemes$=this.selectAll(),this.activeTheme$=this.selectActive(),this.activeThemeClass$=this.selectActive(At=>{var Jt;return(null===(Jt=null==At?void 0:At.id)||void 0===Jt?void 0:Jt.split(".")[1].toLowerCase())||""})}getAllowedImageClasses(te,$e=[]){return this.metaSvc.isItem(te)?(this.metaSvc.playsVideo(te)?$e.push(oi.u9.STAMP,oi.u9.NO_IMAGE):this.metaSvc.playsAudio(te)&&$e.push(oi.u9.NO_IMAGE),this.getAllowedItemImageClasses($e)):this.metaSvc.isSection(te)?this.getAllowedSectionImageClasses($e):this.metaSvc.isRoll(te)?this.getAllowedRollImageClasses($e):[]}getAllowedLayouts(te,$e=[]){return this.metaSvc.isItem(te)?this.getAllowedItemLayouts($e):this.metaSvc.isSection(te)?this.getAllowedSectionLayouts($e):[]}getAllowedItemImageClasses(te=[]){var $e,At;const Jt=(null===(At=null===($e=this.getActive())||void 0===$e?void 0:$e.item_constraints)||void 0===At?void 0:At.allowed_image_classes)||[];return this.filterExceptions(Jt,te)}getAllowedItemLayouts(te=[]){var $e;const At=this.getActive(),Jt=(null===($e=null==At?void 0:At.item_constraints)||void 0===$e?void 0:$e.allowed_layouts)||[];return this.filterExceptions(Jt,te)}getAllowedSectionLayouts(te=[]){var $e,At;const Jt=(null===(At=null===($e=this.getActive())||void 0===$e?void 0:$e.section_constraints)||void 0===At?void 0:At.allowed_layouts)||[];return this.filterExceptions(Jt,te)}getAllowedSectionImageClasses(te=[]){var $e,At;const Jt=(null===(At=null===($e=this.getActive())||void 0===$e?void 0:$e.section_constraints)||void 0===At?void 0:At.allowed_image_classes)||[];return this.filterExceptions(Jt,te)}getAllowedRollImageClasses(te=[]){return this.filterExceptions(["cover","contain","stamp","no-image"],te)}getMappedEntityImageClass(te,$e=!1){var At,Jt,on,Ln;let Bn,Hi;if(this.metaSvc.isItem(te)){const wn=this.getActive();Hi=($e?te.layout.persisted_image_class:null)||te.layout.image_class,Bn=null===(At=null==wn?void 0:wn.item_constraints)||void 0===At?void 0:At.image_class_mapping,this.metaSvc.playsAudioOrVideo(te)&&(Bn=null===(Jt=null==wn?void 0:wn.item_constraints)||void 0===Jt?void 0:Jt.media_image_class_mapping)}else this.metaSvc.isSection(te)?(Hi=($e?te.layout.persisted_image_class:null)||te.layout.image_class,Bn=null===(on=this.getActive())||void 0===on?void 0:on.section_constraints.image_class_mapping):this.metaSvc.isRoll(te)&&(Hi=te.image_class,Bn=null===(Ln=this.getActive())||void 0===Ln?void 0:Ln.wrap_constraints.image_class_mapping);return(Bn?Bn[Hi]:null)||Hi}filterExceptions(te,$e){if(!$e.length)return te;const At=new Set($e);return te.filter(Jt=>!At.has(Jt))}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(si),p.LFG(q.Gl))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var ei=r(4968);let ki=(()=>{class oe{constructor(te,$e,At,Jt,on,Ln){this.logger=te,this.themesAPI=$e,this.store=At,this.query=Jt,this.qpSvc=on,this.actions$=Ln,this.query.activeThemeClass$.pipe((0,e.b)(Bn=>this.applyThemeClass(Bn))).subscribe()}_get(){return(window.roll_themes?(0,S.of)(window.roll_themes):this.themesAPI.get()).pipe((0,v.K4)(this.store),(0,e.b)($e=>this.store.set($e)),(0,e.b)($e=>this.actions$.dispatch(Xe.loadThemesSuccess({themes:$e}))),(0,E.D)(this.logger,"ThemesService._get"))}loadThemes(){return this.query.selectLoading().pipe((0,xt.q)(1),(0,ht.w)(te=>te||this.query.getCount()>0?this.query.selectAll().pipe((0,k.h)($e=>((null==$e?void 0:$e.length)||0)>0),(0,xt.q)(1)):this._get()))}setActive(te){if(this.query.getActiveId()===te)return;const $e=this.query.getEntity(te),At=this.appendThemeLink();(0,ei.R)(At,"load").pipe((0,xt.q)(1),(0,e.b)(()=>{var Jt;this.store.setActive(te),null===(Jt=this.themeLink)||void 0===Jt||Jt.remove(),this.themeLink=At,this.store.setLoading(!1)})).subscribe(),this.store.setLoading(!0),this.loadThemeBundle($e,At)}appendThemeLink(){const te=document.createElement("link");return te.setAttribute("rel","stylesheet"),te.setAttribute("type","text/css"),document.head.appendChild(te),te}loadThemeBundle(te,$e){const At=this.qpSvc.getParam("xapp"),Jt=this.qpSvc.getParam("theme");$e.setAttribute("href",`${At||te.family}.${Jt||te.class_name}.css`)}applyThemeClass(te){const $e=this.qpSvc.getParam("theme");$e&&(te=$e),this.themeClass&&window.document.documentElement.classList.remove(this.themeClass),te&&(this.themeClass=`theme--${te}`,window.document.documentElement.classList.add(this.themeClass))}}return oe.\u0275fac=function(te){return new(te||oe)(p.LFG(f.m),p.LFG(y.Zz),p.LFG(si),p.LFG(Ei),p.LFG(Je.E),p.LFG(L.eX))},oe.\u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();var ut=r(856),$t=r(64);let Ie=(()=>{class oe{}return oe.\u0275fac=function(te){return new(te||oe)},oe.\u0275mod=p.oAB({type:oe}),oe.\u0275inj=p.cJS({imports:[[ze.ez,$t.U5,s.v2]]}),oe})()},9064:(ot,pe,r)=>{"use strict";r.d(pe,{M:()=>c});var o=r(5631);class c{}c.loadItemsSuccess=(0,o.aD)("[Items] Load Items Success",(0,o.xm)()),c.loadItemsFail=(0,o.aD)("[Items] Load Items Fail",(0,o.xm)())},1838:(ot,pe,r)=>{"use strict";r.d(pe,{D:()=>v,yW:()=>s});var o=r(3443),c=r(4004),g=r(5e3),a=r(655);let u=class extends o.cf{constructor(){super({loading:!1})}};u.\u0275fac=function(b){return new(b||u)},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u=(0,a.gn)([(0,o.yC)({name:"preferences",idKey:"key"})],u);let v=(()=>{class C extends o.Gv{constructor(A){super(A),this.store=A}selectPreference$(A){return this.selectEntity(A)}selectValue$(A){return this.selectPreference$(A).pipe((0,c.U)(I=>null==I?void 0:I.current_value))}}return C.\u0275fac=function(A){return new(A||C)(g.LFG(u))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();var p=r(8505),d=r(262),h=r(5698),_=r(3900),e=r(9300),E=r(4716),f=r(9035),y=r(2948);let s=(()=>{class C{constructor(A,I,D,O,S){this.logger=A,this.api=I,this.query=D,this.rollsQuery=O,this.store=S}loadPreferences(){return this.api.get().pipe((0,o.K4)(this.store),(0,c.U)(A=>this.convert(A)),(0,p.b)(A=>this.store.set(A)),(0,d.K)(A=>{throw this.logger.error("PreferencesService.loadPreferences",A),A}))}getPreferences(){return this.query.selectLoading().pipe((0,h.q)(1),(0,_.w)(A=>A||this.query.getCount()>0?this.query.selectAll().pipe((0,e.h)(I=>((null==I?void 0:I.length)||0)>0),(0,h.q)(1)):this.loadPreferences()))}getContextualPreferences(){return this.api.get(this.rollsQuery.getActiveId()).pipe((0,c.U)(A=>this.convert(A)),(0,d.K)(A=>{throw this.logger.error("PreferencesService.getContextualPreferences",A),A}))}updatePreferences(A,I=!1){return this.api.update(A,I).pipe((0,o.K4)(this.store),(0,p.b)(()=>{const D=Object.keys(A).map(O=>({key:O,current_value:A[O]}));this.store.upsertMany(D)}),(0,d.K)(D=>{throw this.logger.error("PreferencesService.setPreferences",D),D}))}updatePreference(A,I,D=!1){return this.updatePreferences({[A]:I},D)}convert(A){const I=[];return A.preferences&&I.push(...A.preferences.map(D=>({key:D.key,current_value:D.current_value}))),A.groups&&A.groups.forEach(D=>I.push(...this.convert(D))),I}}return C.\u0275fac=function(A){return new(A||C)(g.LFG(E.m),g.LFG(f.r),g.LFG(v),g.LFG(y.Qy),g.LFG(u))},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},7487:(ot,pe,r)=>{"use strict";r.d(pe,{i:()=>a});var o=r(655),c=r(3443),g=r(5e3);let a=class extends c.cf{constructor(){super()}};a.\u0275fac=function(v){return new(v||a)},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a=(0,o.gn)([(0,c.yC)({name:"roll-reports",idKey:"token"})],a)},7840:(ot,pe,r)=>{"use strict";r.d(pe,{q:()=>c});var o=r(5631);class c{}c.rollAliasCreationSuccess=(0,o.aD)("[Roll Aliases] Alias Created",(0,o.xm)()),c.rollAliasCreationFail=(0,o.aD)("[Roll Aliases] Creation Failed",(0,o.xm)()),c.rollAliasDeletionStarted=(0,o.aD)("[Roll Aliases] Deletion Started",(0,o.xm)()),c.rollAliasDeletionSuccess=(0,o.aD)("[Roll Aliases] Deletion Success",(0,o.xm)()),c.rollAliasDeletionFail=(0,o.aD)("[Roll Aliases] Deletion Failed",(0,o.xm)())},7678:(ot,pe,r)=>{"use strict";r.d(pe,{Wy:()=>u,Zt:()=>a,m4:()=>c});var o=r(4004);const c=()=>(0,o.U)(v=>a(v)),a=v=>{v=Object.assign({},v);try{v.path=new URL(v.url).pathname}catch(p){}return v},u=(v,p)=>v.is_primary?-1:p.is_primary?1:v.external_alias&&!p.external_alias?-1:p.external_alias&&!v.external_alias?1:v.domain===p.domain&&(v.root_alias||p.root_alias)?v.root_alias?-1:1:!v.system_alias&&p.system_alias?-1:v.system_alias&&!p.system_alias?1:`${v.domain}/${v.name}`.localeCompare(`${p.domain}/${p.name}`)},64:(ot,pe,r)=>{"use strict";r.d(pe,{ai:()=>c,s7:()=>C,U5:()=>O,N$:()=>y.N});var o=r(5631);class c{}c.authenticate=(0,o.aD)("[Roll Auth] Authenticate"),c.authenticateSuccess=(0,o.aD)("[Roll Auth] Authenticate Success",(0,o.xm)());var g=r(655),a=r(9670),u=r(9040),v=r(9300),p=r(4004),d=r(8505),h=r(3900),_=r(2417),e=r(2948),E=r(5e3),f=r(9578),y=r(8735),s=r(41);class C{constructor(x,L,R,G,k,V){this.rollAuthStore=x,this.actions$=L,this.rollsQuery=R,this.rollsSvc=G,this.svc=k,this.uiQuery=V,this.rollLoadComplete$=this.uiQuery.loadScreenHidden$.pipe((0,v.h)(ne=>ne),(0,v.h)(()=>{var ne;return null===(ne=this.rollsQuery.getActive())||void 0===ne?void 0:ne.password_required}),(0,p.U)(()=>c.authenticate())),this.authenticationSuccess$=this.actions$.pipe((0,u.l)(c.authenticateSuccess),(0,p.U)(ne=>ne.payload),(0,d.b)(ne=>this.svc.updateStore({rollId:this.rollsQuery.getActiveId(),token:ne})),(0,h.w)(()=>this.rollsSvc.get(this.rollsQuery.getActiveId())),(0,p.U)(ne=>e.uk.recurseRoll({entity:ne})),(0,_.n)())}}C.\u0275fac=function(x){return new(x||C)(E.LFG(f.o),E.LFG(a.eX),E.LFG(e.Qy),E.LFG(e.u5),E.LFG(y.N),E.LFG(s.YU))},C.\u0275prov=E.Yz7({token:C,factory:C.\u0275fac}),(0,g.gn)([(0,a.Qm)({dispatch:!0})],C.prototype,"rollLoadComplete$",void 0),(0,g.gn)([(0,a.Qm)({dispatch:!0})],C.prototype,"authenticationSuccess$",void 0);var b=r(9808),A=r(520),I=r(9306);let D=(()=>{class S{constructor(L){this.rollAuthQuery=L}intercept(L,R){const G=this.rollAuthQuery.getActiveAuthToken();let k={};G&&(k={"roll-auth":`${G}`});const V=L.clone({setHeaders:k});return R.handle(V)}}return S.\u0275fac=function(L){return new(L||S)(E.LFG(I.v))},S.\u0275prov=E.Yz7({token:S,factory:S.\u0275fac}),S})(),O=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=E.oAB({type:S}),S.\u0275inj=E.cJS({providers:[{provide:A.TP,useClass:D,multi:!0}],imports:[[b.ez]]}),S})()},9306:(ot,pe,r)=>{"use strict";r.d(pe,{v:()=>a});var o=r(3443),c=r(5e3),g=r(9578);let a=(()=>{class u extends o.Gv{constructor(p){super(p),this.store=p}getActiveAuthToken(){var p;return null===(p=this.getActive())||void 0===p?void 0:p.token}}return u.\u0275fac=function(p){return new(p||u)(c.LFG(g.o))},u.\u0275prov=c.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},8735:(ot,pe,r)=>{"use strict";r.d(pe,{N:()=>g});var o=r(5e3),c=r(9578);let g=(()=>{class a{constructor(v){this.store=v}setActive(v){this.store.setActive(v)}updateStore(v){return this.store.upsert(v.rollId,v)}resetStore(){this.store.reset()}}return a.\u0275fac=function(v){return new(v||a)(o.LFG(c.o))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},9578:(ot,pe,r)=>{"use strict";r.d(pe,{o:()=>v});var o=r(655),c=r(3443),g=r(5e3);const a="WRAP_AUTH_TOKENS";let v=class extends c.cf{constructor(){super(function u(){try{const p=window.localStorage.getItem(a),d=p?JSON.parse(p):{},h=Object.keys(d).reduce((e,E)=>(e[E]={rollId:E,token:d[E]},e),{}),_={active:null,entities:h,ids:Object.keys(h),loading:!1};return window.localStorage.removeItem(a),_}catch(p){return console.error(p),{active:null}}}())}};v.\u0275fac=function(d){return new(d||v)},v.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v=(0,o.gn)([(0,c.yC)({name:"roll-auth",idKey:"rollId",resettable:!0})],v)},2883:(ot,pe,r)=>{"use strict";r.d(pe,{V:()=>e});var o=r(9646),c=r(5698),g=r(3900),a=r(8505),u=r(4004),v=r(5e3),p=r(4035),d=r(5783),h=r(3812),_=r(1678);let e=(()=>{class E{constructor(y,s,C,b){this.router=y,this.authSvc=s,this.query=C,this.svc=b}canActivate(){const y=this.query.getActive();return(y?(0,o.of)(y):this.authSvc.authenticate().pipe((0,c.q)(1),(0,g.w)(()=>this.svc.loadCurrentRoll()),(0,a.b)(C=>this.svc.setActive(C.token)))).pipe((0,u.U)(C=>{const b=this.query.getIsWritable(),A=this.query.getRollBasePath().absolute;return b||this.router.createUrlTree([A],{queryParamsHandling:"merge"})}))}}return E.\u0275fac=function(y){return new(y||E)(v.LFG(p.F0),v.LFG(d.e),v.LFG(h.Q),v.LFG(_.u))},E.\u0275prov=v.Yz7({token:E,factory:E.\u0275fac}),E})()},2948:(ot,pe,r)=>{"use strict";r.d(pe,{uk:()=>o.u,b8:()=>R,v2:()=>V,Qy:()=>S.Q,u5:()=>x.u});var o=r(4112),c=r(655),g=r(5442),a=r(3443),u=r(9670),v=r(9040),p=r(9646),d=r(4004),h=r(9300),_=r(6099),e=r(3900),E=r(262),f=r(8505),y=r(2417),s=r(6916),C=r(9064),b=r(7840),A=r(7492),I=r(5e3),D=r(4716),O=r(6970),S=r(3812),x=r(1678),L=r(8827);class R{constructor($,q,X,de,fe,We){this.logger=$,this.actions$=q,this.metaSvc=X,this.query=de,this.svc=fe,this.store=We,this.incompleteRollEntityImageDetected$=this.actions$.pipe((0,v.l)(s.m.incompleteEntityImageDetected),(0,d.U)(Ne=>Ne.payload),(0,h.h)(Ne=>this.metaSvc.isRoll(Ne)),(0,_.z)(Ne=>this.svc.pollForImage(Ne)),(0,y.n)()),this.loadRollsList$=this.actions$.pipe((0,v.l)(o.u.loadRollsList),(0,d.U)(Ne=>Ne.payload.params),(0,e.w)(Ne=>this.svc.loadRolls(Ne).pipe((0,d.U)(dt=>o.u.loadRollsListSuccess({entities:dt})),(0,E.K)(dt=>(0,p.of)(o.u.loadRollsListFail(dt)))))),this.loadRollsListFail$=this.actions$.pipe((0,v.l)(o.u.loadRollsListFail),(0,f.b)(Ne=>this.logger.error("Effect: loadRollsListFail$",Ne))),this.loadRollsListSuccess$=this.actions$.pipe((0,v.l)(o.u.loadRollsListSuccess),(0,d.U)(Ne=>Ne.payload.entities||[]),(0,f.b)(Ne=>this.store.upsertMany(Ne)),(0,d.U)(()=>g.q.removeLoadScreen())),this.recurseRoll$=this.actions$.pipe((0,v.l)(o.u.recurseRoll),(0,d.U)(Ne=>Ne.payload.entity),(0,_.z)(Ne=>Ne.password_required?(0,p.of)({closed:!0}):this.svc.recursiveBackgroundLoad(Ne)),(0,d.U)(Ne=>Ne.items?C.M.loadItemsSuccess({entities:Ne.items}):Ne.sections?A.B.loadSectionsSuccess({entities:Ne.sections}):o.u.rollLoadComplete())),this.rollAliasCreated$=this.actions$.pipe((0,v.l)(b.q.rollAliasCreationSuccess),(0,d.U)(Ne=>Ne.payload),(0,f.b)(Ne=>{Ne.is_primary&&this.store.update(Ne.roll_id,({roll_aliases:dt})=>({roll_aliases:(0,a.cc)(dt,ge=>ge.is_primary,{is_primary:!1})})),this.store.update(Ne.roll_id,({roll_aliases:dt})=>({roll_aliases:(0,a.iT)(dt,Ne)}))})),this.rollAliasDeletionStarted$=this.actions$.pipe((0,v.l)(b.q.rollAliasDeletionStarted),(0,d.U)(Ne=>Ne.payload),(0,f.b)(()=>this.store.setLoading(!0))),this.rollAliasDeletionSuccess$=this.actions$.pipe((0,v.l)(b.q.rollAliasDeletionSuccess),(0,d.U)(Ne=>Ne.payload),(0,f.b)(Ne=>{this.store.setLoading(!1),this.store.update(Ne.roll_id,({roll_aliases:dt})=>({roll_aliases:(0,a.Ab)(dt,Ne.id)}))})),this.rollAliasDeletionFail$=this.actions$.pipe((0,v.l)(b.q.rollAliasDeletionFail),(0,d.U)(Ne=>Ne.payload),(0,f.b)(()=>this.store.setLoading(!1)))}}R.\u0275fac=function($){return new($||R)(I.LFG(D.m),I.LFG(u.eX),I.LFG(O.Gl),I.LFG(S.Q),I.LFG(x.u),I.LFG(L.W))},R.\u0275prov=I.Yz7({token:R,factory:R.\u0275fac}),(0,c.gn)([(0,u.Qm)()],R.prototype,"incompleteRollEntityImageDetected$",void 0),(0,c.gn)([(0,u.Qm)({dispatch:!0})],R.prototype,"loadRollsList$",void 0),(0,c.gn)([(0,u.Qm)()],R.prototype,"loadRollsListFail$",void 0),(0,c.gn)([(0,u.Qm)({dispatch:!0})],R.prototype,"loadRollsListSuccess$",void 0),(0,c.gn)([(0,u.Qm)({dispatch:!0})],R.prototype,"recurseRoll$",void 0),(0,c.gn)([(0,u.Qm)()],R.prototype,"rollAliasCreated$",void 0),(0,c.gn)([(0,u.Qm)()],R.prototype,"rollAliasDeletionStarted$",void 0),(0,c.gn)([(0,u.Qm)()],R.prototype,"rollAliasDeletionSuccess$",void 0),(0,c.gn)([(0,u.Qm)()],R.prototype,"rollAliasDeletionFail$",void 0);var G=r(9808),k=r(2883);let V=(()=>{class ne{}return ne.\u0275fac=function(q){return new(q||ne)},ne.\u0275mod=I.oAB({type:ne}),ne.\u0275inj=I.cJS({providers:[k.V],imports:[[G.ez]]}),ne})()},4112:(ot,pe,r)=>{"use strict";r.d(pe,{u:()=>c});var o=r(5631);class c{}c.loadRollsList=(0,o.aD)("[Rolls] Load Rolls List",(0,o.xm)()),c.loadRollsListSuccess=(0,o.aD)("[Rolls] Load Rolls List Success",(0,o.xm)()),c.loadRollsListFail=(0,o.aD)("[Rolls] Load Rolls List Fail",(0,o.xm)()),c.recurseRoll=(0,o.aD)("[Rolls] Recurse Roll",(0,o.xm)()),c.rollLoadComplete=(0,o.aD)("[Rolls] Roll Load Complete")},7938:(ot,pe,r)=>{"use strict";r.d(pe,{H5:()=>u,Zt:()=>p});var o=r(4004),c=r(7678),g=r(2486),a=r(2265);const u=()=>(0,o.U)(d=>p(d)),p=d=>d&&(null!=(d=Object.assign({},d)).name&&(d.title=d.name,delete d.name),d.effective_branding.footer_state||(d.effective_branding.footer_state=a.w.BUBLUP),d.roll_aliases=(d.roll_aliases||[]).map(c.Zt),d.image_info=(0,g.T)(d.image_info),d)},3812:(ot,pe,r)=>{"use strict";r.d(pe,{Q:()=>s});var o=r(3443),c=r(8382),g=r(9646),a=r(9841),u=r(3900),v=r(4004),p=r(1884),d=r(9300),h=r(2003),_=r(5e3),e=r(7897),E=r(8827),f=r(6970),y=r(3328);let s=(()=>{class C extends o.Gv{constructor(A,I,D,O){super(I),this.envSvc=A,this.store=I,this.metaSvc=D,this.loading$=this.selectLoading(),this.recursing$=this.uiSelectRecursing(),this.activeRoll$=this.selectActive(),this.aliases$=this.selectAliases(),this.author$=this.selectAuthor(),this.branding$=this.selectBranding(),this.ctaWidget$=this.selectCTAButtonWidget(),this.description$=this.selectDescription(),this.displaysImage$=this.selectDisplaysImage(),this.downloadsEnabled$=this.selectDownloadsEnabled(),this.draft$=this.selectDraft(),this.hideAuthorInfo$=this.selectHideAuthorInfo(),this.imageInfo$=this.selectImageInfo(),this.isBranded$=this.selectIsBranded(),this.isBublupBranded$=this.selectIsBublupBranded(),this.shareEnabled$=this.selectShareEnabled(),this.socialNetworksWidget$=this.selectSocialNetworksWidget(),this.title$=this.selectTitle(),this.subtitle$=this.selectSubtitle(),this.writable$=this.selectIsWritable(),this.viewCountEnabled$=this.selectViewCountEnabled(),this.linkIconsEnabled$=this.selectLinkIconsEnabled(),this.enableUA$=this.selectEnableUA(),this.useLocalGAId$=this.selectUseLocalGAId(),this.localGAId$=this.selectLocalGAId(),this.googleAnalyticsAccountId$=this.selectGoogleAnalyticsAccountId(),this.activeGoogleAnalyticsToken$=this.selectActiveGoogleAnalyticsToken(),this.wizardSeen$=this.selectWizardSeen(),this.effectiveBranding$=this.project$(null,S=>null==S?void 0:S.effective_branding),this.protected$=this.selectIsProtected(),this.hasCustomFonts$=this.selectHasCustomFonts(),this.customFontsVars$=this.selectCustomFontsCssVars(),this.qpImageClass=null,this.createUIQuery(),this.qpImageClass=O.getParam("image_class")}selectAliases(A){return this.project$(A,I=>I.roll_aliases||[])}selectAuthor(A){return this.project$(A,I=>I.author)}selectBranding(A){return this.project$(A,I=>null==I?void 0:I.effective_branding)}selectCTAButtonWidget(A){return this.project$(A,I=>((null==I?void 0:I.widgets)||[]).find(D=>h.ov.includes(D.type)))}selectCustomFontsCssVars(A){return this.project$(A,I=>{var D;return null===(D=null==I?void 0:I.custom_fonts)||void 0===D?void 0:D.css_vars})}selectDescription(A){return this.project$(A,I=>null==I?void 0:I.description)}selectDownloadsEnabled(A){return this.project$(A,I=>I&&!I.download_disabled)}selectDraft(A){return this.project$(A,I=>{var D;return null===(D=null==I?void 0:I.clone_data)||void 0===D?void 0:D.private_editing})}selectHasCustomFonts(A){return this.project$(A,I=>{var D;return!!Object.keys((null===(D=null==I?void 0:I.custom_fonts)||void 0===D?void 0:D.css_vars)||{}).length})}selectHasDescription(A){return this.project$(A,I=>!!(null==I?void 0:I.description))}selectHasImage(A){return this.project$(A,I=>this.metaSvc.hasImage(I))}selectDisplaysImage(A){return this.project$(A,I=>this.metaSvc.displaysImage(I))}selectHasSubtitle(A){return this.project$(A,I=>!!(null==I?void 0:I.subtitle))}selectHideAuthorInfo(A){return this.project$(A,I=>null==I?void 0:I.hide_author_info)}selectImageInfo(A){return this.project$(A,I=>null==I?void 0:I.image_info)}selectImageClass(A){return(0,c.s)(()=>!!this.qpImageClass,(0,g.of)(this.qpImageClass),this.project$(A,I=>null==I?void 0:I.image_class))}selectIsBranded(A){return this.project$(A,I=>{var D;return(null===(D=null==I?void 0:I.effective_branding)||void 0===D?void 0:D.image)&&!I.effective_branding.is_bublup&&!I.effective_branding.hidden})}selectIsBublupBranded(A){return this.project$(A,I=>{var D;return null===(D=null==I?void 0:I.effective_branding)||void 0===D?void 0:D.is_bublup})}selectIsWritable(A){return this.project$(A,I=>(null==I?void 0:I.permission.indexOf("W"))>-1)}selectLinkIconsEnabled(A){return this.project$(A,I=>null==I?void 0:I.enable_link_icons)}selectShareEnabled(A){return this.project$(A,I=>I&&!I.share_disabled)}selectSocialNetworksWidget(A){return this.project$(A,I=>(I.widgets||[]).find(D=>h.l9.SOCIAL_NETWORKS===D.type))}selectSubtitle(A){return this.project$(A,I=>I.subtitle||"")}selectTitle(A){return this.project$(A,I=>I.title||"")}selectViewCountEnabled(A){return this.project$(A,I=>null==I?void 0:I.display_view_count)}selectEnableUA(A){return this.project$(A,I=>null==I?void 0:I.enable_ua)}selectUseLocalGAId(A){return this.project$(A,I=>null==I?void 0:I.use_local_ga_id)}selectLocalGAId(A){return this.project$(A,I=>null==I?void 0:I.local_ga_id)}selectGoogleAnalyticsAccountId(A){return this.project$(A,I=>null==I?void 0:I.google_analytics_account_id)}selectWizardSeen(A){return this.project$(A,I=>null==I?void 0:I.wizard_seen)}selectOrganizationID(A){return this.project$(A,I=>null==I?void 0:I.organization_id)}uiSelectRecursing(A){return this.id$(A).pipe((0,u.w)(I=>this.ui.selectEntity(I,"recursing")))}uiSelectImages(A){return this.id$(A).pipe((0,u.w)(I=>this.ui.selectEntity(I,"images")))}uiSelectLoadingImages(A){return this.id$(A).pipe((0,u.w)(I=>this.ui.selectEntity(I,"loadingImages")))}selectActiveGoogleAnalyticsToken(){return(0,a.a)([this.selectEnableUA(),this.selectUseLocalGAId().pipe((0,u.w)(A=>A?this.selectLocalGAId():this.selectGoogleAnalyticsAccountId()))]).pipe((0,v.U)(([A,I])=>A?I:null),(0,p.x)())}selectIsProtected(A){return this.project$(A,I=>I.protected_wrap)}getCustomFontsCssVars(A){var I,D;return null===(D=null===(I=this.instant(A))||void 0===I?void 0:I.custom_fonts)||void 0===D?void 0:D.css_vars}getDraft(A){var I,D;return null===(D=null===(I=this.instant(A))||void 0===I?void 0:I.clone_data)||void 0===D?void 0:D.private_editing}getRollBasePath(){const A=window.location.pathname.substr(1).split("/");return this.envSvc.runningExternally?window.is_root_url?{absolute:"/",relative:""}:{absolute:`/${A[0]}`,relative:`${A[0]}`}:A.length<2?null:{absolute:`/${A[0]}/${A[1]}`,relative:`${A[0]}/${A[1]}`}}getIsProtected(A){var I;return null===(I=this.instant(A))||void 0===I?void 0:I.protected_wrap}getIsPublic(A){var I;return null===(I=this.instant(A))||void 0===I?void 0:I.public_wrap}getIsWritable(A){var I,D;return(null===(D=null===(I=this.instant(A))||void 0===I?void 0:I.permission)||void 0===D?void 0:D.indexOf("W"))>-1}getRootSectionToken(A){var I;return null===(I=this.instant(A))||void 0===I?void 0:I.root_content_section_token}getSourceFolderToken(A){var I;return null===(I=this.instant(A))||void 0===I?void 0:I.source_folder_token}getRollAliases(A){var I;return(null===(I=this.instant(A))||void 0===I?void 0:I.roll_aliases)||[]}getEffectiveBranding(A){var I;return null===(I=this.instant(A))||void 0===I?void 0:I.effective_branding}instant(A){return A?this.getEntity(A):this.getActive()}id$(A){return A?(0,g.of)(A):this.selectActiveId().pipe((0,d.h)(I=>!!I))}project$(A,I){return this.id$(A).pipe((0,u.w)(D=>this.selectEntity(D,I)))}}return C.\u0275fac=function(A){return new(A||C)(_.LFG(e.D),_.LFG(E.W),_.LFG(f.Gl),_.LFG(y.E))},C.\u0275prov=_.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},1678:(ot,pe,r)=>{"use strict";r.d(pe,{u:()=>O});var o=r(3443),c=r(9646),g=r(8505),a=r(3900),u=r(6099),v=r(8746),p=r(7897),d=r(2815),h=r(2957),_=r(4409),e=r(7938),E=r(5e3),f=r(4716),y=r(3812),s=r(8827),C=r(4762),b=r(856),A=r(8735),I=r(9306),D=r(41);let O=(()=>{class S extends _.o{constructor(L,R,G,k,V,ne,$,q,X,de){super(V,"RollsService",R,G,k,de),this.envSvc=L,this.logger=R,this.query=G,this.store=k,this.api=V,this.userQuery=ne,this.rollAuthService=$,this.rollAuthQuery=q,this.rollsQuery=X,this.uiQuery=de}auth(L,R){return this.api.auth(L,R)}brandingObject(L){return this.api.brandingObject(L)}clone(L,R){return this.api.clone(L,R).pipe((0,o.K4)(this.store),(0,e.H5)(),(0,g.b)(G=>this.store.upsert(G.token,G)))}deletePersonality(L){return this.api.deletePersonality(L).pipe((0,o.K4)(this.store),(0,g.b)(R=>this.store.upsert(R.token,R)),(0,d.D)(this.logger,"RollsService.deletePersonality"))}loadRolls(L){return this.api.getList(L).pipe((0,o.K4)(this.store),(0,d.D)(this.logger,"RollsService.loadRolls"))}loadCurrentRoll(){return(0,c.of)(this.userQuery.getActive()).pipe((0,a.w)(L=>{var R;if(window.current_roll_token&&!L)return this.get(window.current_roll_token);{let G;return G=(new p.D).runningExternally?`${window.location.host}/${window.is_root_url?".root":window.location.pathname.substr(1).split("/")[0]}`:null===(R=this.rollsQuery.getRollBasePath())||void 0===R?void 0:R.absolute,G?this.loadRollByPath(G):(0,c.of)(null)}}))}loadRollByPath(L=""){return this.api.getIdFromPath(L).pipe((0,g.b)(R=>this.rollAuthService.setActive(R)),(0,u.z)(R=>this.get(R)))}recursiveBackgroundLoad(L){return this.store.ui.update(L.token,{recursing:!0}),this.api.recursiveBackgroundFetch({userAuthToken:this.userQuery.getAuthToken(),includeHidden:this.query.getIsWritable(),rollAuthToken:this.rollAuthQuery.getActiveAuthToken(),partial:L}).pipe((0,v.x)(()=>this.store.ui.update(L.token,{recursing:!1})))}get(L,R={updateStore:!0}){let G=this.api.get(L,R).pipe((0,e.H5)(),(0,d.D)(this.logger,"RollsService.get"));return(null==R?void 0:R.updateStore)&&(G=G.pipe((0,o.K4)(this.store),(0,g.b)(k=>this.store.replace(k.token,k)))),G}loadImages(L){return this.api.getImages(L).pipe((0,h.W)(L,this.store),(0,g.b)(R=>this.store.ui.update(L,{images:R})),(0,d.D)(this.logger,"RollsService.loadImages"))}removeImage(L,R){return this.api.removeImage({token:L,sync_to_source:R}).pipe((0,o.K4)(this.store),(0,e.H5)(),(0,g.b)(G=>this.store.update(G.token,G)),(0,d.D)(this.logger,"RollsService.removeImage"))}takeoverAbandon(L){return this.api.takeoverAbandon(L).pipe((0,o.K4)(this.store),(0,e.H5)(),(0,g.b)(R=>this.store.update(R.token,R)),(0,d.D)(this.logger,"RollsService.takeoverAbandon"))}takeoverCheck(L,R,G=!1){return this.api.takeoverCheck(L,R,G).pipe((0,g.b)(k=>k.wrap_info=(0,e.Zt)(k.wrap_info)))}takeover(L,R,G={}){return this.api.takeover(L,R,G).pipe((0,o.K4)(this.store),(0,e.H5)(),(0,g.b)(k=>this.store.update(L,k)))}setActive(L){this.store.setActive(L)}resetStore(){this.store.reset()}}return S.\u0275fac=function(L){return new(L||S)(E.LFG(p.D),E.LFG(f.m),E.LFG(y.Q),E.LFG(s.W),E.LFG(C.Vb),E.LFG(b.fE),E.LFG(A.N),E.LFG(I.v),E.LFG(y.Q),E.LFG(D.YU))},S.\u0275prov=E.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},8827:(ot,pe,r)=>{"use strict";r.d(pe,{W:()=>u});var o=r(655),c=r(3443),g=r(7938),a=r(5e3);let u=class extends c.cf{constructor(){super(),this.createUIStore().setInitialEntityState({recursing:!0,images:[],loadingImages:!1})}akitaPreAddEntity(p){return(0,g.Zt)(p)}akitaPreUpdateEntity(p,d){return(0,g.Zt)(d)}updateUI(p){this.update(d=>({ui:Object.assign(Object.assign({},d.ui),p)}))}};u.\u0275fac=function(p){return new(p||u)},u.\u0275prov=a.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u=(0,o.gn)([(0,c.yC)({name:"rolls",idKey:"token",resettable:!0})],u)},7492:(ot,pe,r)=>{"use strict";r.d(pe,{B:()=>c});var o=r(5631);class c{}c.loadSectionsSuccess=(0,o.aD)("[Sections] Load Sections Success",(0,o.xm)()),c.sectionDeletedSuccess=(0,o.aD)("[Sections] Section Deleted Success",(0,o.xm)())},7282:(ot,pe,r)=>{"use strict";r.d(pe,{d:()=>A});const A={autumn:{theme_id:"autumn",loading_screen:{swatch_id:"primary"},swatch_usage:{primary:$localize`:@@swatchUsageAutumnPrimary:The color of the background in the Stacked, Outline, and Carousel views.`,secondary:$localize`:@@swatchUsageAutumnSecondary:The color of most buttons.`,tertiary:$localize`:@@swatchUsageAutumnTertiary:The background color of items in certain section layouts like Compact and List.`,accent:$localize`:@@swatchUsageAutumnAccent:The color of the cover subtitle and the section top level link.`,light:$localize`:@@swatchUsageAutumnLight:Not used.`,dark:$localize`:@@swatchUsageAutumnDark:Not used.`}},blade:{theme_id:"blade",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsageBladePrimary:The color of the background in the Stacked, Outline, and Carousel views.`,secondary:$localize`:@@swatchUsageBladeSecondary:The color of most buttons, as well as the roll sections.`,tertiary:$localize`:@@swatchUsageBladeTertiary:The background color for certain items.`,accent:$localize`:@@swatchUsageBladeAccent:The main splash of color throughout the roll, as well the background color for certain items.`,light:$localize`:@@swatchUsageBladeLight:The background color of items in certain section layouts like Compact and List.`,dark:$localize`:@@swatchUsageBladeDark:The background color for certain items.`}},cosmo:{theme_id:"cosmo",loading_screen:{swatch_id:"primary"},swatch_usage:{primary:$localize`:@@swatchUsageCosmoPrimary:The background color of the cover and section title, as well as the background color for certain items.`,secondary:$localize`:@@swatchUsageCosmoSecondary:The color of the background in the Stacked, Outline, and Carousel views.`,tertiary:$localize`:@@swatchUsageCosmoTertiary:The background color for certain items.`,accent:$localize`:@@swatchUsageCosmoAccent:The main splash of color throughout the roll, as well as the background color for certain items.`,light:$localize`:@@swatchUsageCosmoLight:The background color of items in the Compact and List layouts, and in the Outline view.`,dark:$localize`:@@swatchUsageCosmoDark:The color of most buttons, as well as the background color for the cover and all sections.`}},cottoncandy:{theme_id:"cottoncandy",loading_screen:{swatch_id:"primary"},swatch_usage:{primary:$localize`:@@swatchUsageCottoncandyPrimary:The background color of the cover title and certain items.`,secondary:$localize`:@@swatchUsageCottoncandySecondary:The background color of the roll cover and certain items.`,tertiary:$localize`:@@swatchUsageCottoncandyTertiary:The background color of the section textbox.`,accent:$localize`:@@swatchUsageCottoncandyAccent:The main splash of color throughout the roll.`,light:$localize`:@@swatchUsageCottoncandyLight:The color of backgrounds in the Stacked, Outline, and Carousel views as well as item backgrounds in certain section layouts like Compact and List.`,dark:$localize`:@@swatchUsageCottoncandyDark:The color of item borders in Outline view.`}},darkroom:{theme_id:"darkroom",loading_screen:{swatch_id:"primary"},swatch_usage:{primary:$localize`:@@swatchUsageDarkroomPrimary:The color of the background in the Stacked, Outline, and Carousel views.`,secondary:$localize`:@@swatchUsageDarkroomSecondatu:The background color of items in the Stacked view.`,tertiary:$localize`:@@swatchUsageDarkroomTertiary:The border color of items in certain section layouts like Compact and List.`,accent:$localize`:@@swatchUsageDarkroomAccent:The main splash of color throughout the roll and the color for domain names.`,light:$localize`:@@swatchUsageDarkroomLight:The background color of call-to-action buttons.`,dark:$localize`:@@swatchUsageDarkroomDark:The color of most buttons.`}},express:{theme_id:"express",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsageExpressPrimary:The color of the background in the Stacked, Outline, and Carousel views.`,secondary:$localize`:@@swatchUsageExpressSecondary:The color of most buttons, as well as all section backgrounds.`,tertiary:$localize`:@@swatchUsageExpressTertiary:The background color of items in the Stacked view.`,accent:$localize`:@@swatchUsageExpressAccent:The main splash of color throughout the roll, as well the background color for certain items.`,light:$localize`:@@swatchUsageExpressLight:The color of the menu in all views except Carousel.`,dark:$localize`:@@swatchUsageExpressDark:The color of items in Outline view.`}},frost:{theme_id:"frost",loading_screen:{swatch_id:"primary"},swatch_usage:{primary:$localize`:@@swatchUsageFrostPrimary:The color of the background in the Stacked, Outline, and Carousel views.`,secondary:$localize`:@@swatchUsageFrostSecondary:The color of most buttons.`,tertiary:$localize`:@@swatchUsageFrostTertiary:The background color of items in certain section layouts like Compact and List.`,accent:$localize`:@@swatchUsageFrostAccent:The main splash of color throughout the roll, as well as item titles in Main and Carousel views.`,light:$localize`:@@swatchUsageFrostLight:Not in use.`,dark:$localize`:@@swatchUsageFrostDark:Not in use.`}},globe:{theme_id:"globe",loading_screen:{swatch_id:"primary"},swatch_usage:{primary:$localize`:@@swatchUsageGlobePrimary:The color of the background in the Stacked, Outline, and Carousel views.`,secondary:$localize`:@@swatchUsageGlobeSecondary:The color of the section background in some views.`,tertiary:$localize`:@@swatchUsageGlobeTertiary:The background color of items in certain section layouts like Compact and List, and the section title in Outline view.`,accent:$localize`:@@swatchUsageGlobeAccent:The main splash of color throughout the roll, as well as the footer link color.`,light:$localize`:@@swatchUsageGlobeLight:The background color of items in Outline view.`,dark:$localize`:@@swatchUsageGlobeDark:The color for all menus and the share button in the footer.`}},headline:{theme_id:"headline",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsageHeadlinePrimary:The background color of the cover title and subtitle.`,secondary:$localize`:@@swatchUsageHeadlineSecondary:The background colors in the Stacked and Outline views.`,tertiary:$localize`:@@swatchUsageHeadlineTertiary:The color of section backgrounds.`,accent:$localize`:@@swatchUsageHeadlineAccent:The main splash of color throughout the roll.`,light:$localize`:@@swatchUsageHeadlineLight:The background color of items in most section layouts.`,dark:$localize`:@@swatchUsageHeadlineDark:The color of most buttons and domain names.`}},journal:{theme_id:"journal",loading_screen:{swatch_id:"primary"},swatch_usage:{primary:$localize`:@@swatchUsageJournalPrimary:The background color of the cover title and section title.`,secondary:$localize`:@@swatchUsageJournalSecondary:The color of cover and item backgrounds in certain section layouts like Compact and List.`,tertiary:$localize`:@@swatchUsageJournalTertiary:The color of the background in the Stacked, Outline, and Carousel views.`,accent:$localize`:@@swatchUsageJournalAccent:The color of most buttons and domain names.`,light:$localize`:@@swatchUsageJournalLight:Not in use.`,dark:$localize`:@@swatchUsageJournalDark:Not in use.`}},lumi:{theme_id:"lumi",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsageLumiPrimary:The color of the background in the Stacked, Outline, and Carousel views, as well as the color of the text in the footer.`,secondary:$localize`:@@swatchUsageLumiSecondary:The color of most buttons.`,tertiary:$localize`:@@swatchUsageLumiTertiary:The background color of items in most section layouts.`,accent:$localize`:@@swatchUsageLumiAccent:The main splash of color throughout the roll.`,light:$localize`:@@swatchUsageLumiLight:The background color of the cover in Outline view.`,dark:$localize`:@@swatchUsageLumiDark:The background color of items in the Outline view.`}},point:{theme_id:"point",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsagePointPrimary:The background color of icons representing item types in Stacked and List view, and the dividers between items. In Outline view, this is the background color of the cover title.`,secondary:$localize`:@@swatchUsagePointSecondary:The background color of items in the Stacked view.`,tertiary:$localize`:@@swatchUsagePointTertiary:In all views, this is the color of the background.`,accent:$localize`:@@swatchUsagePointAccent:The main splash of color throughout the roll and most buttons.`,light:$localize`:@@swatchUsagePointLight:The color of various backgrounds, depending on the view selected.`,dark:$localize`:@@swatchUsagePointDark:The color of the text in the footer.`}},seabreeze:{theme_id:"seabreeze",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsageSeabreezePrimary:The color of most buttons and domain names. Also the background color of the cover.`,secondary:$localize`:@@swatchUsageSeabreezeSecondary:The background color of sections.`,tertiary:$localize`:@@swatchUsageSeabreezeTertiary:The background color for certain items. Also the primary background color in Outline view.`,accent:$localize`:@@swatchUsageSeabreezeAccent:The color of various item titles and borders, depending on the view selected. Also the background color for certain items.`,light:$localize`:@@swatchUsageSeabreezeLight:The color of various backgrounds, depending on the view selected.`,dark:$localize`:@@swatchUsageSeabreezeDark:The color of the text in items and the footer.`}},showcase:{theme_id:"showcase",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsageShowcasePrimary:The color of various backgrounds and accents, depending on the view selected.`,secondary:$localize`:@@swatchUsageShowcaseSecondary:Not used.`,tertiary:$localize`:@@swatchUsageShowcaseTertiary:The color of various backgrounds, depending on the view selected.`,accent:$localize`:@@swatchUsageShowcaseAccent:The color of most buttons as well as domain names and links.`,light:$localize`:@@swatchUsageShowcaseLight:The color of the background in the Stacked, Outline, and Carousel views.`,dark:$localize`:@@swatchUsageShowcaseDark:The color of the text in the footer.`}},spooky:{theme_id:"spooky",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsageSpookyPrimary:The color of most buttons, the author, subtitle, description text, and some links.`,secondary:$localize`:@@swatchUsageSpookySecondary:The background color of icons representing the item type.`,tertiary:$localize`:@@swatchUsageSpookyTertiary:The background color of all items in the Compact and List layouts, as well as some items in the Normal section layout.`,accent:$localize`:@@swatchUsageSpookyAccent:The main splash of color throughout the roll.`,light:$localize`:@@swatchUsageSpookyLight:The background color of items in Outline view.`,dark:$localize`:@@swatchUsageSpookyDark:The background color of the roll.`}},sport:{theme_id:"sport",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsageSportPrimary:The background color of the cover, section borders, and text.`,secondary:$localize`:@@swatchUsageSportSecondary:The color of most buttons, as well as the roll section.`,tertiary:$localize`:@@swatchUsageSportTertiary:The background color of the roll and some items.`,accent:$localize`:@@swatchUsageSportAccent:The main splash of color throughout the roll and some items.`,light:$localize`:@@swatchUsageSportLight:The background color of items in certain section layouts like Compact and List.`,dark:$localize`:@@swatchUsageSportDark:The color of the text in the footer.`}},vanilla:{theme_id:"vanilla",loading_screen:{swatch_id:"accent"},swatch_usage:{primary:$localize`:@@swatchUsageVanillaPrimary:The color of the background in the Stacked, Outline, and Carousel views.`,secondary:$localize`:@@swatchUsageVanillaSecondary:The color of most buttons, as well as the roll section.`,tertiary:$localize`:@@swatchUsageVanillaTertiary:The background color for certain items.`,accent:$localize`:@@swatchUsageVanillaAccent:The main splash of color throughout the roll, as well as the background color for certain items.`,light:$localize`:@@swatchUsageVanillaLight:The background color of items in certain section layouts like Compact and List.`,dark:$localize`:@@swatchUsageVanillaDark:The background color for certain items.`}}}},856:(ot,pe,r)=>{"use strict";r.d(pe,{xO:()=>I,G:()=>E,fE:()=>o.f,KD:()=>e});var o=r(4320),c=r(3443),g=r(9646),a=r(8505),u=r(2815),v=r(5e3),p=r(4716),d=r(4762),h=r(2948),_=r(9511);let e=(()=>{class D{constructor(S,x,L,R,G){this.logger=S,this.userAPI=x,this.rollsQuery=L,this.store=R,this.query=G,window.addEventListener("focus",()=>{this.refresh().subscribe()})}_get(){return this.userAPI.get(this.rollsQuery.getActiveId()).pipe((0,c.K4)(this.store),(0,a.b)(S=>this.updateStore(S)),(0,u.D)(this.logger,"UserService._get"))}refresh(){return this.query.getIsAuthenticated()?this._get():(0,g.of)({})}setActive(S){this.store.setActive(S)}clearStore(){this.store.reset()}updateStore(S){return this.store.upsert(S.user_token,S)}}return D.\u0275fac=function(S){return new(S||D)(v.LFG(p.m),v.LFG(d.OS),v.LFG(h.Qy),v.LFG(_.U),v.LFG(o.f))},D.\u0275prov=v.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var E=(()=>{return(D=E||(E={})).ANALYTICS="google_analytics",D.BRANDING="branding",D.BUBLUP_LOGO_HIDE="wrap_hide_bublup_logo",D.CUSTOM_LOGO="wrap_custom_branding_logo",D.DOWNLOAD_DISABLE="wrap_disable_download",D.PASSWORD_PROTECTION="wrap_protection",D.PERSONALITY_EDIT="wrap_personality_editing",D.SHARE_DISABLE="wrap_disable_share",D.PREMIUM_FONTS="premium_fonts",E;var D})(),f=r(655),y=r(9670),s=r(9300),C=r(5698),b=r(6099),A=r(41);class I{constructor(O,S){this.coreQuery=O,this.svc=S,this.pickupAdditionalFeatureAccess$=this.coreQuery.roll$.pipe((0,s.h)(x=>!!x),(0,C.q)(1),(0,s.h)(()=>this.coreQuery.getCanEdit()),(0,b.z)(()=>this.svc.refresh()))}}I.\u0275fac=function(O){return new(O||I)(v.LFG(A.YU),v.LFG(e))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),(0,f.gn)([(0,y.Qm)()],I.prototype,"pickupAdditionalFeatureAccess$",void 0)},4320:(ot,pe,r)=>{"use strict";r.d(pe,{f:()=>u});var o=r(3443),c=r(4004),g=r(5e3),a=r(9511);let u=(()=>{class v extends o.Gv{constructor(d){super(d),this.store=d,this.user$=this.selectActive(),this.isPremium$=this.selectActive(h=>null==h?void 0:h.is_premium)}getAuthToken(){var d;return(null===(d=this.getActive())||void 0===d?void 0:d.token)||""}getFeatures(){var d;return(null===(d=this.getActive())||void 0===d?void 0:d.features)||[]}getIsAuthenticated(){return!!this.getActive()}getIsFeatureAllowed(d){return this.getFeatures().includes(d)}getIsPremium(){var d;return!!(null===(d=this.getActive())||void 0===d?void 0:d.is_premium)}getUserToken(){var d;return(null===(d=this.getActive())||void 0===d?void 0:d.user_token)||""}selectIsFeatureAllowed(d){return this.user$.pipe((0,c.U)(h=>(null==h?void 0:h.features)||[]),(0,c.U)(h=>null==h?void 0:h.includes(d)))}}return v.\u0275fac=function(d){return new(d||v)(g.LFG(a.U))},v.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},9511:(ot,pe,r)=>{"use strict";r.d(pe,{U:()=>a});var o=r(655),c=r(3443),g=r(5e3);let a=class extends c.cf{constructor(){super()}akitaPreUpdateEntity(v,p){const d=Object.assign({},p);return v.user_token===p.user_token&&v.token&&!p.token&&(d.token=v.token),d}};a.\u0275fac=function(v){return new(v||a)},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a=(0,o.gn)([(0,c.yC)({name:"users",idKey:"user_token",resettable:!0})],a)},4092:(ot,pe,r)=>{"use strict";r.d(pe,{wy:()=>o.wy,hI:()=>o.hI,DS:()=>o.DS,v$:()=>o.v$,aT:()=>C,qf:()=>y.qf,ZP:()=>y.ZP,YU:()=>y.YU,HL:()=>y.HL,bl:()=>o.bl,j8:()=>o.j8,wL:()=>o.wL,$K:()=>o.$K,u9:()=>o.u9,CM:()=>o.CM,v3:()=>o.v3,zR:()=>o.zR,Ll:()=>o.Ll,_O:()=>o._O,iS:()=>p,Mh:()=>f.M,uG:()=>f.u,x5:()=>o.x5,nU:()=>o.nU,uV:()=>o.uV,Wy:()=>o.Wy,nl:()=>o.nl,Tg:()=>o.Tg,Ei:()=>o.Ei,N5:()=>o.N5,GD:()=>o.GD,GZ:()=>o.GZ,rY:()=>o.rY,qL:()=>o.qL,uk:()=>o.uk,b8:()=>o.b8,Qy:()=>o.Qy,u5:()=>o.u5,mV:()=>o.mV,hm:()=>o.hm,e8:()=>o.e8,Jt:()=>o.Jt,sG:()=>s.sG,ns:()=>o.ns,OR:()=>o.OR,HT:()=>o.HT,or:()=>o.or,xO:()=>o.xO,G:()=>o.G,fE:()=>o.fE,KD:()=>o.KD,l9:()=>s.l9,ov:()=>s.ov});var o=r(1466),c=r(3443),g=r(5e3),a=r(655);let v=class extends c.yh{constructor(){super({locale:"en"})}};v.\u0275fac=function(A){return new(A||v)},v.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v=(0,a.gn)([(0,c.yC)({name:"locale",resettable:!0})],v);let p=(()=>{class b extends c.AE{constructor(I){super(I),this.store=I,this.locale$=this.select(D=>D.locale)}getLocale(){return this.getValue().locale}}return b.\u0275fac=function(I){return new(I||b)(g.LFG(v))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();var h=r(9808),_=r(520);let e=(()=>{class b{constructor(I){this.localeQuery=I}intercept(I,D){let O={};O={locale:this.localeQuery.getLocale()};const S=I.clone({setParams:O});return D.handle(S)}}return b.\u0275fac=function(I){return new(I||b)(g.LFG(p))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac}),b})(),E=(()=>{class b{}return b.\u0275fac=function(I){return new(I||b)},b.\u0275mod=g.oAB({type:b}),b.\u0275inj=g.cJS({providers:[{provide:_.TP,useClass:e,multi:!0}],imports:[[h.ez]]}),b})();var f=r(8519),y=r(41),s=r(2003);let C=(()=>{class b{}return b.\u0275fac=function(I){return new(I||b)},b.\u0275mod=g.oAB({type:b}),b.\u0275inj=g.cJS({imports:[[h.ez,o.xy,E]]}),b})()},8519:(ot,pe,r)=>{"use strict";r.d(pe,{M:()=>p,u:()=>e});var o=r(3443),c=r(4004),g=r(5e3),a=r(655);let v=class extends o.yh{constructor(){super({playback:{activeId:null,playerReady:!1}})}};v.\u0275fac=function(f){return new(f||v)},v.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v=(0,a.gn)([(0,o.yC)({name:"media",resettable:!0})],v);let p=(()=>{class E extends o.AE{constructor(y){super(y),this.store=y,this.activePlaybackId$=this.select(s=>s.playback.activeId),this.playerReady$=this.select(s=>s.playback.playerReady)}selectIsActivePlayback(y){return this.activePlaybackId$.pipe((0,c.U)(s=>y===s))}getActivePlaybackId(){return this.getValue().playback.activeId}}return E.\u0275fac=function(y){return new(y||E)(g.LFG(v))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();var d=r(4035),h=r(9300),_=r(8505);let e=(()=>{class E{constructor(y,s){this.router=y,this.store=s,y.events.pipe((0,h.h)(C=>C instanceof d.OD),(0,_.b)(()=>this.setActivePlaybackId())).subscribe()}setActivePlaybackId(y=null){this.store.update(s=>Object.assign(Object.assign({},s),{playback:Object.assign(Object.assign({},{activeId:null,playerReady:!1}),{activeId:y})}))}setPlayerReady(y){this.store.update(s=>Object.assign(Object.assign({},s),{playback:Object.assign(Object.assign({},s.playback),{playerReady:y})}))}}return E.\u0275fac=function(y){return new(y||E)(g.LFG(d.F0),g.LFG(v))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},5442:(ot,pe,r)=>{"use strict";r.d(pe,{q:()=>c});var o=r(5631);class c{}c.mediaPlaybackEnded=(0,o.aD)("[Core UI] Media Playback Ended",(0,o.xm)()),c.noop=(0,o.aD)("[Core UI] noop"),c.playMedia=(0,o.aD)("[Core UI] Play Media",(0,o.xm)()),c.removeLoadScreen=(0,o.aD)("[Core UI] Remove Load Screen"),c.runChecks=(0,o.aD)("[Core UI] Run Checks"),c.hamburgerMenuClicked=(0,o.aD)("[Core UI] Hamburger Menu Clicked"),c.editMenuClicked=(0,o.aD)("[Core UI] Edit Menu Clicked"),c.rollMenuClicked=(0,o.aD)("[Core UI] Roll Menu Clicked"),c.sectionMenuClicked=(0,o.aD)("[Core UI] Section Menu Clicked"),c.itemMenuClicked=(0,o.aD)("[Core UI] Item Menu Clicked")},41:(ot,pe,r)=>{"use strict";r.d(pe,{qf:()=>o.q,ZP:()=>ht,YU:()=>Je,HL:()=>pt});var o=r(5442),c=r(655),g=r(4035),a=r(9670),u=r(9040),v=r(6451),p=r(9300),d=r(5698),h=r(4004),_=r(4326),e=r(8505),E=r(1466),f=r(5e3),y=r(4092);let s=(()=>{class It{constructor(Se){this.uiSvc=Se,this.removed=!1}remove(Se=0){!this.removed&&setTimeout(()=>window.removeLoadScreen(),Se),this.removed=!0,this.uiSvc.markLoadScreenHidden(!0)}}return It.\u0275fac=function(Se){return new(Se||It)(f.LFG(y.HL))},It.\u0275prov=f.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();var C=r(6970),b=r(3328),A=r(8478),I=r(5390),D=r(7460),O=r(3443),S=r(4968),x=r(9646),L=r(9841),R=r(515),G=r(1884),k=r(4782),V=r(2181),ne=r(3900);const $=(It,De)=>It.flatIndex-De.flatIndex;var q=r(4716),X=r(7897);const de={editMode:!1,fontPanelOpen:!1,sheetOpen:!1,detailView:{active:!1,isolatedImageMode:!1,proximityIds:[],scrollToId:"",visibleContext:{id:""}},mainView:{active:!1,scrollToId:"",scrollTop:0,proximityIds:[],visibleContext:{id:""}},outlineView:{active:!1,expanded:!0,proximityIds:[],scrollToId:"",visibleContext:{id:""}},settingsView:{active:!1},imageSelectionOpenFor:null,dialogShowing:!1,fullyLoaded:!1,hamburgerMenuClicked:!1,editMenuClicked:!1,rollMenuClicked:!1,sectionMenuClicked:!1,itemMenuClicked:!1,busy:!1,draftMode:!1};let fe=class extends O.yh{constructor(){super(de)}};fe.\u0275fac=function(De){return new(De||fe)},fe.\u0275prov=f.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe=(0,c.gn)([(0,O.yC)({name:"coreui",resettable:!0})],fe);var We=r(8519);const ge=["pending","in_progress"];let Je=(()=>{class It extends O.AE{constructor(Se,Ae,lt,Ze,Rt,Gt,Xt,kt,qe,me,ce){super(lt),this.logger=Se,this.envSvc=Ae,this.store=lt,this.palettesQuery=Ze,this.rollsQuery=Rt,this.sectionsQuery=Gt,this.itemsQuery=Xt,this.mediaQuery=kt,this.metaSvc=qe,this.entityVisQuery=me,this.themesQuery=ce,this.viewName$=this.selectViewName(),this.isDetailView$=this.select(Y=>Y.detailView.active),this.isMainView$=this.select(Y=>Y.mainView.active),this.isOutlineView$=this.select(Y=>Y.outlineView.active),this.isSettingsView$=this.select(Y=>Y.settingsView.active),this.editMode$=this.select(Y=>Y.editMode),this.draftEdit$=(0,I.k)(I.L.OR,this.rollsQuery.selectDraft(),this.select(Y=>Y.draftMode)),this.liveEdit$=(0,D.f)(this.draftEdit$),this.outlineExpanded$=this.select(Y=>Y.outlineView.expanded),this.sheetOpen$=this.select(Y=>Y.sheetOpen),this.fontPanelOpen$=this.select(Y=>Y.fontPanelOpen),this.isAppBusy$=this.select(Y=>Y.busy),this.hamburgerMenuClicked$=this.select(Y=>Y.hamburgerMenuClicked),this.editMenuClicked$=this.select(Y=>Y.editMenuClicked),this.rollMenuClicked$=this.select(Y=>Y.rollMenuClicked),this.sectionMenuClicked$=this.select(Y=>Y.sectionMenuClicked),this.itemMenuClicked$=this.select(Y=>Y.itemMenuClicked),this.loadScreenHidden$=this.select(Y=>Y.loadScreenHidden),this.fullyLoaded$=this.select(Y=>Y.fullyLoaded),this.imageSelectionOpenFor$=this.select(Y=>Y.imageSelectionOpenFor),this.roll$=this.rollsQuery.activeRoll$,this.rootSection$=this.selectRootSection(),this.rootItems$=this.selectRootItems(),this.downloadablesMedia$=this.selectDownloadableMedia(),this.activePalettes$=this.selectActiveThemePalettes(),this.dialogShowing$=this.selectDialogShowing(),this.canEdit$=this.rollsQuery.writable$.pipe((0,G.x)(),(0,k.d)(1)),this.downloadsEnabled$=this.rollsQuery.downloadsEnabled$,this.allowSharing$=(0,I.k)(I.L.AND,this.rollsQuery.shareEnabled$,(0,D.f)(this.rollsQuery.draft$)),this.showAuthorInfo$=(0,D.f)(this.rollsQuery.hideAuthorInfo$),this.socialNetworksWidget$=this.rollsQuery.socialNetworksWidget$,this.viewCountEnabled$=this.rollsQuery.viewCountEnabled$,this.linkIconsEnabled$=this.rollsQuery.linkIconsEnabled$,this.canBulkDownload$=(0,I.k)(I.L.AND,this.downloadsEnabled$,this.downloadablesMedia$.pipe((0,h.U)(Y=>Y.length>0))),this.showViewCount$=(0,I.k)(I.L.AND,this.canEdit$,this.viewCountEnabled$,this.isMainView$,(0,D.f)(this.editMode$),(0,D.f)(this.draftEdit$)),this.showWarnings$=(0,I.k)(I.L.AND,this.isMainView$,this.rollsQuery.selectWizardSeen(),this.rollsQuery.selectIsWritable()),this.isFullScreen$=(0,S.R)(document,"fullscreenchange").pipe((0,V.b)((0,S.R)(document,"webkitfullscreenchange")),(0,h.U)(()=>this.getIsFullScreen()),(0,e.b)(Y=>this.logger.debug("isFullscreen",Y)))}selectViewName(){return this.select(Se=>Se.detailView.active?"detail":Se.mainView.active?"main":Se.outlineView.active?"outline":Se.settingsView.active?"settings":"")}selectActiveThemePalettes(Se=!0){return this.themesQuery.selectActiveId().pipe((0,ne.w)(Ae=>this.palettesQuery.selectPalettes(Ae,Se)))}selectDialogShowing(){return this.select(Se=>Se.dialogShowing)}selectActiveThemeCustomPalette(Se=!1){return this.themesQuery.activeTheme$.pipe((0,ne.w)(Ae=>this.palettesQuery.selectCustomPalette(Ae.id)),(0,h.U)(Ae=>!Ae&&Se?this.getActivePalette():Ae))}selectAllWithBadImages(){const Se=(new Date).getTime()-72e5;return this.selectAllDisplaysImage({includeRoll:!0}).pipe((0,h.U)(Ae=>Ae.filter(lt=>{if(lt.image_info){const Ze=lt.image_info.status,Gt=!Ze||"failed"===Ze,Xt=(lt.image_info.updated_at||0)<Se&&ge.indexOf(Ze)>-1;return Gt||Xt}return!1})))}selectAllDisplaysImage(Se={includeRoll:!1}){return this.selectFlatRoll(Se).pipe((0,h.U)(Ae=>Ae.filter(lt=>this.metaSvc.displaysImage(lt))))}selectHasNavLabelEntities(Se={includeRoll:!0}){return this.selectFlatRoll(Se).pipe((0,h.U)(Ae=>Ae.some(lt=>!!lt.nav_label)))}selectNavLabelEntities(Se={includeRoll:!0}){return this.selectFlatRoll(Se).pipe((0,h.U)(Ae=>Ae.filter(lt=>this.metaSvc.isRoll(lt)?!!lt.nav_label:!!lt.nav_label&&!this.getIsHidden(lt))))}selectFlatRoll(Se={rollToken:null,includeRoll:!1,includeRoot:!1,includeHidden:!1}){return(Se.rollToken?(0,x.of)(Se.rollToken):this.rollsQuery.selectActiveId().pipe((0,p.h)(lt=>!!lt))).pipe((0,ne.w)(lt=>(0,L.a)([this.rollsQuery.selectEntity(lt),this.sectionsQuery.selectAll({filterBy:Ze=>Ze.wrap_token===lt&&(Se.includeRoot||!Ze.is_root_section)&&(Se.includeHidden||!this.getIsHidden(Ze))}),this.itemsQuery.selectAll({filterBy:Ze=>Ze.wrap_token===lt&&(Se.includeHidden||!this.getIsHidden(Ze))})]).pipe((0,h.U)(([Ze,Rt,Gt])=>Se.includeRoll?[Ze,...Gt,...Rt]:[...Gt,...Rt]),(0,h.U)(Ze=>Ze.sort($)))))}selectFlatSections(Se={rollToken:null,includeRoot:!1,includeHidden:!1}){return(Se.rollToken?(0,x.of)(Se.rollToken):this.rollsQuery.selectActiveId().pipe((0,p.h)(lt=>!!lt))).pipe((0,ne.w)(lt=>this.sectionsQuery.selectAll({filterBy:Ze=>(null==Ze?void 0:Ze.wrap_token)===lt&&(Se.includeRoot||!Ze.is_root_section)&&(Se.includeHidden||!this.getIsHidden(Ze)),sortBy:"flatIndex",sortByOrder:O.KM.ASC})))}selectFirstLevelSections(Se={includeHidden:!1}){return this.roll$.pipe((0,ne.w)(Ae=>this.sectionsQuery.selectAll({filterBy:lt=>(Se.includeHidden||!this.getIsHidden(lt))&&lt.parent_section_token===Ae.root_content_section_token,sortBy:"flatIndex",sortByOrder:O.KM.ASC})))}selectVisibleMediaForSection(Se){return this.itemsQuery.selectItemsOf(Se,{includeHidden:!1}).pipe((0,h.U)(Ae=>Ae.filter(lt=>this.metaSvc.playsAudioOrVideo(lt))))}selectRootSection(){return this.rollsQuery.activeRoll$.pipe((0,ne.w)(Se=>this.sectionsQuery.selectAll({limitTo:1,filterBy:Ae=>(null==Ae?void 0:Ae.wrap_token)===(null==Se?void 0:Se.token)&&Ae.is_root_section,sortBy:"flatIndex",sortByOrder:O.KM.ASC})))}selectRootItems(Se={includeHidden:!1}){return this.roll$.pipe((0,ne.w)(Ae=>this.itemsQuery.selectAll({filterBy:lt=>lt.wrap_token===(null==Ae?void 0:Ae.token)&&(Se.includeHidden||!this.getIsHidden(lt))&&lt.is_root_item,sortBy:"flatIndex",sortByOrder:O.KM.ASC})))}selectDownloadableMedia(){return this.roll$.pipe((0,ne.w)(Se=>this.itemsQuery.selectAll({filterBy:Ae=>(null==Ae?void 0:Ae.wrap_token)===(null==Se?void 0:Se.token)&&this.metaSvc.isDownloadableMedia(Ae),sortBy:"flatIndex",sortByOrder:O.KM.ASC})))}selectDisplaysLinkBoxIcon(Se){return(0,I.k)(I.L.AND,(0,D.f)((0,x.of)(this.metaSvc.isThirdPartyAudioOrVideo(Se))),(0,I.k)(I.L.OR,this.linkIconsEnabled$,(0,x.of)(this.metaSvc.isDocument(Se))),(0,I.k)(I.L.OR,(0,x.of)(this.metaSvc.isDocument(Se)),(0,x.of)(this.metaSvc.isLink(Se))))}selectIsCompactLayout(Se){return this.metaSvc.isSection(Se)?this.sectionsQuery.selectLayout(Se.token).pipe((0,h.U)(Ae=>E.mV.COMPACT===Ae)):this.metaSvc.isItem(Se)?this.sectionsQuery.selectLayout(Se.parent_section_token).pipe((0,h.U)(Ae=>E.mV.COMPACT===Ae)):(0,x.of)(!1)}selectIsDefaultLayout(Se){return this.metaSvc.isSection(Se)?this.sectionsQuery.selectLayout(Se.token).pipe((0,h.U)(Ae=>E.mV.DEFAULT===Ae)):this.metaSvc.isItem(Se)?this.sectionsQuery.selectLayout(Se.parent_section_token).pipe((0,h.U)(Ae=>E.mV.DEFAULT===Ae)):(0,x.of)(!1)}selectIsFloatLayout(Se){return this.metaSvc.isSection(Se)?this.sectionsQuery.selectLayout(Se.token).pipe((0,h.U)(Ae=>null==Ae?void 0:Ae.startsWith("layout.section.FLOAT"))):this.metaSvc.isItem(Se)?this.sectionsQuery.selectLayout(Se.parent_section_token).pipe((0,h.U)(Ae=>null==Ae?void 0:Ae.startsWith("layout.section.FLOAT"))):(0,x.of)(!1)}selectIsGalleryLayout(Se){return this.metaSvc.isSection(Se)?this.sectionsQuery.selectLayout(Se.token).pipe((0,h.U)(Ae=>E.mV.GALLERY===Ae)):this.metaSvc.isItem(Se)?this.sectionsQuery.selectLayout(Se.parent_section_token).pipe((0,h.U)(Ae=>E.mV.GALLERY===Ae)):(0,x.of)(!1)}selectIsListLayout(Se){return this.metaSvc.isSection(Se)?this.sectionsQuery.selectLayout(Se.token).pipe((0,h.U)(Ae=>E.mV.LIST===Ae)):this.metaSvc.isItem(Se)?this.sectionsQuery.selectLayout(Se.parent_section_token).pipe((0,h.U)(Ae=>E.mV.LIST===Ae)):(0,x.of)(!1)}selectIsCarouselLayout(Se){return this.metaSvc.isSection(Se)?this.sectionsQuery.selectLayout(Se.token).pipe((0,h.U)(Ae=>E.mV.CAROUSEL===Ae)):this.metaSvc.isItem(Se)?this.sectionsQuery.selectLayout(Se.parent_section_token).pipe((0,h.U)(Ae=>E.mV.CAROUSEL===Ae)):(0,x.of)(!1)}selectIsHorizontallyScrollingLayout(Se){return this.selectIsCarouselLayout(Se)}selectIsUnrestrictedLayout(Se){return(0,I.k)(I.L.OR,this.selectIsDefaultLayout(Se),this.selectIsFloatLayout(Se))}selectHasHiddenAncestor(Se){const Ae=Se.ancestors.uniq();return this.entityVisQuery.hiddenSectionTokens$.pipe((0,h.U)(lt=>new Set([...lt,...Ae]).size<lt.uniq().length+Ae.length))}selectShowEntityToolbar(Se){return this.metaSvc.isRoll(Se)||this.metaSvc.isSection(Se)?this.editMode$:this.metaSvc.isItem(Se)?(0,I.k)(I.L.OR,this.editMode$,(0,I.k)(I.L.AND,this.isMainView$,this.itemsQuery.selectHasShareWidget(Se.token),this.selectIsUnrestrictedLayout(Se))):R.E}selectDetailIsolatedImageMode(){return this.select(Se=>Se.detailView.active&&Se.detailView.isolatedImageMode)}selectDetailIsolatedOrPlayback(){return(0,I.k)(I.L.OR,this.selectDetailIsolatedImageMode(),this.mediaQuery.activePlaybackId$.pipe((0,h.U)(Se=>!!Se)))}selectDetailIsProximityId(Se){return this.select(Ae=>Ae.detailView.proximityIds).pipe((0,h.U)(Ae=>Ae.includes(Se)))}selectDetailVisibleContext(){return this.select(Se=>Se.detailView.visibleContext)}selectDetailVisibleEntity(){return this.selectDetailVisibleContext().pipe((0,h.U)(Se=>Se.id),(0,ne.w)(Se=>this.metaSvc.isItem({token:Se})?this.itemsQuery.selectEntity(Se):this.metaSvc.isSection({token:Se})?this.sectionsQuery.selectEntity(Se):(0,x.of)()))}selectDetailVisibleItem(){return this.selectDetailVisibleContext().pipe((0,h.U)(Se=>Se.id),(0,ne.w)(Se=>this.itemsQuery.selectEntity(Se)))}selectMainIsProximityId(Se){return this.select(Ae=>Ae.mainView.proximityIds).pipe((0,h.U)(Ae=>Ae.includes(Se)))}selectOutlineIsProximityId(Se){return this.select(Ae=>Ae.outlineView.proximityIds).pipe((0,h.U)(Ae=>Ae.includes(Se)))}getViewName(){const Se=this.getValue();let Ae="";return Se.mainView.active?Ae="main":Se.detailView.active?Ae="detail":Se.outlineView.active?Ae="outline":Se.settingsView.active&&(Ae="settings"),Ae}getActivePalette(){return this.palettesQuery.getActive()}getPersistedPaletteId(){return this.rollsQuery.getActive().color_palette}getPersistedPalette(){const Se=this.rollsQuery.getActive().theme,Ae=this.getPersistedPaletteId();return this.palettesQuery.getPalette(Se,Ae)}getEntity(Se){return this.metaSvc.selectForType(Se,{section:()=>this.sectionsQuery.getEntity(Se),roll:()=>this.rollsQuery.getEntity(Se),item:()=>this.itemsQuery.getEntity(Se)})}getRoll(){return this.rollsQuery.getActive()}getRollId(){return this.rollsQuery.getActiveId()}getCanEdit(){return this.rollsQuery.getIsWritable()}getEditMode(){return this.getValue().editMode}getDraftEdit(){return this.rollsQuery.getDraft()}getLiveEdit(){return!this.getDraftEdit()}getLoadedRollAliasDomain(){return this.envSvc.runningExternally?window.location.host:new URL(window.location.href).pathname.split("/")[1]}getLoadedRollAliasName(){return this.envSvc.runningExternally?window.is_root_url?".root":new URL(window.location.href).pathname.split("/")[1]:new URL(window.location.href).pathname.split("/")[2]}getSheetOpen(){return this.getValue().sheetOpen}getIsDetailView(){return this.getValue().detailView.active}getIsMainView(){return this.getValue().mainView.active}getIsOutlineView(){return this.getValue().outlineView.active}getIsSettingsView(){return this.getValue().settingsView.active}getVisibleEntityId(){return this.getIsMainView()?this.getMainVisibleContext().id:this.getIsOutlineView()?this.getOutlineVisibleContext().id:this.getIsDetailView()?this.getDetailVisibleContext().id:""}getHamburgerMenuClicked(){return this.getValue().hamburgerMenuClicked}getEditMenuClicked(){return this.getValue().editMenuClicked}getRollMenuClicked(){return this.getValue().rollMenuClicked}getSectionMenuClicked(){return this.getValue().sectionMenuClicked}getItemMenuClicked(){return this.getValue().itemMenuClicked}getHasHiddenAncestor(Se){const Ae=this.entityVisQuery.getHiddenSectionTokens();return new Set([...Ae,...Se.ancestors]).size<Ae.uniq().length+Se.ancestors.uniq().length}getIsCarouselLayout(Se){return this.metaSvc.isSection(Se)?E.mV.CAROUSEL===this.sectionsQuery.getEntity(Se.token).layout.id:!!this.metaSvc.isItem(Se)&&E.mV.CAROUSEL===this.sectionsQuery.getEntity(Se.parent_section_token).layout.id}getIsCompactLayout(Se){return this.metaSvc.isSection(Se)?E.mV.COMPACT===this.sectionsQuery.getEntity(Se.token).layout.id:!!this.metaSvc.isItem(Se)&&E.mV.COMPACT===this.sectionsQuery.getEntity(Se.parent_section_token).layout.id}getIsDefaultLayout(Se){return this.metaSvc.isSection(Se)?E.mV.DEFAULT===this.sectionsQuery.getEntity(Se.token).layout.id:!!this.metaSvc.isItem(Se)&&E.mV.DEFAULT===this.sectionsQuery.getEntity(Se.parent_section_token).layout.id}getIsGalleryLayout(Se){return this.metaSvc.isSection(Se)?E.mV.GALLERY===this.sectionsQuery.getEntity(Se.token).layout.id:!!this.metaSvc.isItem(Se)&&E.mV.GALLERY===this.sectionsQuery.getEntity(Se.parent_section_token).layout.id}getIsListLayout(Se){return this.metaSvc.isSection(Se)?E.mV.LIST===this.sectionsQuery.getEntity(Se.token).layout.id:!!this.metaSvc.isItem(Se)&&E.mV.LIST===this.sectionsQuery.getEntity(Se.parent_section_token).layout.id}getIsFullScreen(){return!(!document.fullscreenElement&&!document.webkitFullscreenElement)}getDialogShowing(){return this.getValue().dialogShowing}getIsUnrestrictedLayout(Se){const Ae=this.metaSvc.selectForType(Se,{section:lt=>lt.layout.id,item:lt=>lt.layout.id});return[E.mV.DEFAULT,E.mV.FLOAT,E.mV.FLOATLEFT,E.mV.FLOATRIGHT].includes(E.mV[Ae])}getIsHorizontallyScrollingLayout(Se){return this.getIsCarouselLayout(Se)}getImageSelectionOpenFor(){return this.getValue().imageSelectionOpenFor}isImageSelectionOpenFor(Se){const Ae=this.getImageSelectionOpenFor();return!!Ae&&Ae===Se}getDetailIsolatedImageMode(){return this.getValue().detailView.isolatedImageMode}getDetailScrollToId(){return this.getValue().detailView.scrollToId}getDetailVisibleContext(){return this.getValue().detailView.visibleContext}getMainScrollToId(){return this.getValue().mainView.scrollToId}getMainScrollTop(){return this.getValue().mainView.scrollTop}getMainVisibleContext(){return this.getValue().mainView.visibleContext}getOutlineExpanded(){return this.getValue().outlineView.expanded}getOutlineScrollToId(){return this.getValue().outlineView.scrollToId}getOutlineVisibleContext(){return this.getValue().outlineView.visibleContext}getIsHidden(Se){return Se.hidden||this.getHasHiddenAncestor(Se)}}return It.\u0275fac=function(Se){return new(Se||It)(f.LFG(q.m),f.LFG(X.D),f.LFG(fe),f.LFG(E.nU),f.LFG(E.Qy),f.LFG(E.e8),f.LFG(E.zR),f.LFG(We.M),f.LFG(C.Gl),f.LFG(E.YF),f.LFG(E.ns))},It.\u0275prov=f.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();var se=r(727),Re=r(8966);let pt=(()=>{class It{constructor(Se,Ae,lt,Ze,Rt){this.logger=Se,this.matDialog=Ae,this.store=lt,this.query=Ze,this.router=Rt,this.subs=new se.w0,this.subs.add(this.router.events.pipe((0,p.h)(Gt=>Gt instanceof g.OD),(0,e.b)(()=>{var Gt,Xt,kt;const qe=this.store.getValue();let me;qe.mainView.active?(me=qe.mainView.visibleContext.id,this.updateMainVisibleContext({id:me,clientRect:null===(Gt=document.getElementById(me))||void 0===Gt?void 0:Gt.getBoundingClientRect()})):qe.outlineView.active?(me=qe.outlineView.visibleContext.id,this.updateOutlineVisibleContext({id:me,clientRect:null===(Xt=document.getElementById(me))||void 0===Xt?void 0:Xt.getBoundingClientRect()})):qe.detailView.active&&(me=qe.detailView.visibleContext.id,this.updateDetailVisibleContext({id:me,clientRect:null===(kt=document.getElementById(me))||void 0===kt?void 0:kt.getBoundingClientRect()}))})).subscribe()),this.subs.add(this.matDialog.afterOpened.pipe((0,e.b)(()=>this.updateDialogShowing(!0))).subscribe()),this.subs.add(this.matDialog.afterAllClosed.pipe((0,e.b)(()=>this.updateDialogShowing(!1))).subscribe())}updateScrollBackToId(){const Se=this.query.getVisibleEntityId();this.query.getIsMainView()?this.updateMainScrollToId(Se):this.query.getIsOutlineView()?this.updateOutlineScrollToId(Se):this.query.getIsDetailView()&&this.updateDetailScrollToId(Se)}clearScrollToIds(){this.store.update(Se=>Object.assign(Object.assign({},Se),{mainView:Object.assign(Object.assign({},Se.mainView),{scrollToId:""}),outlineView:Object.assign(Object.assign({},Se.outlineView),{scrollToId:""}),detailView:Object.assign(Object.assign({},Se.detailView),{scrollToId:""})}))}ngOnDestroy(){this.subs.unsubscribe()}updateEditMode(Se){this.store.update({editMode:Se})}updateFontPanelOpen(Se){this.store.update({fontPanelOpen:Se})}updateSheetOpen(Se){this.store.update({sheetOpen:Se})}updateHamburgerMenuClicked(Se){this.store.update({hamburgerMenuClicked:Se})}updateEditMenuClicked(Se){this.store.update({editMenuClicked:Se})}updateRollMenuClicked(Se){this.store.update({rollMenuClicked:Se})}updateSectionMenuClicked(Se){this.store.update({sectionMenuClicked:Se})}updateItemMenuClicked(Se){this.store.update({itemMenuClicked:Se})}updateDraftMode(Se){this.store.update({draftMode:Se})}updateDialogShowing(Se){this.store.update({dialogShowing:Se})}updateImageSelectionOpenFor(Se){this.store.update({imageSelectionOpenFor:Se})}destroyDetailView(){this.store.update(Se=>Object.assign(Object.assign({},Se),{detailView:Object.assign(Object.assign({},Se.detailView),{active:!1,proximityIds:[],isolatedImageMode:!1})}))}resetDetailView(){this.store.update(Se=>Object.assign(Object.assign({},Se),{detailView:Object.assign({},de.detailView)}))}updateDetailActive(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{detailView:Object.assign(Object.assign({},Ae.detailView),{active:Se})}))}updateDetailIsolatedImageMode(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{detailView:Object.assign(Object.assign({},Ae.detailView),{isolatedImageMode:Se})}))}updateDetailProximityIds(Se,Ae){const lt=[...this.store.getValue().detailView.proximityIds];if(Ae&&!lt.includes(Se))lt.push(Se);else if(!Ae){const Ze=lt.indexOf(Se);Ze>-1&&lt.splice(Ze,1)}this.store.update(Ze=>Object.assign(Object.assign({},Ze),{detailView:Object.assign(Object.assign({},Ze.detailView),{proximityIds:lt})}))}updateDetailScrollToId(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{detailView:Object.assign(Object.assign({},Ae.detailView),{scrollToId:Se})}))}updateDetailVisibleContext(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{detailView:Object.assign(Object.assign({},Ae.detailView),{visibleContext:Se})}))}destroyMainView(){this.store.update(Se=>Object.assign(Object.assign({},Se),{mainView:Object.assign(Object.assign({},Se.mainView),{active:!1,proximityIds:[]})}))}resetMainView(){this.store.update(Se=>Object.assign(Object.assign({},Se),{mainView:Object.assign({},de.mainView)}))}updateMainActive(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{mainView:Object.assign(Object.assign({},Ae.mainView),{active:Se})}))}updateMainProximityIds(Se,Ae){const lt=[...this.store.getValue().mainView.proximityIds];if(Ae&&!lt.includes(Se))lt.push(Se);else if(!Ae){const Ze=lt.indexOf(Se);Ze>-1&&lt.splice(Ze,1)}this.store.update(Ze=>Object.assign(Object.assign({},Ze),{mainView:Object.assign(Object.assign({},Ze.mainView),{proximityIds:lt})}))}updateMainScrollToId(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{mainView:Object.assign(Object.assign({},Ae.mainView),{scrollToId:Se})}))}updateMainScrollTop(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{mainView:Object.assign(Object.assign({},Ae.mainView),{scrollTop:Se})}))}updateMainVisibleContext(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{mainView:Object.assign(Object.assign({},Ae.mainView),{visibleContext:Se})}))}destroyOutlineView(){this.store.update(Se=>Object.assign(Object.assign({},Se),{outlineView:Object.assign(Object.assign({},Se.outlineView),{active:!1,proximityIds:[]})}))}resetOutlineView(){this.store.update(Se=>Object.assign(Object.assign({},Se),{outlineView:Object.assign({},de.outlineView)}))}updateOutlineActive(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{outlineView:Object.assign(Object.assign({},Ae.outlineView),{active:Se})}))}toggleOutlineExpanded(){this.store.update(Se=>Object.assign(Object.assign({},Se),{outlineView:Object.assign(Object.assign({},Se.outlineView),{expanded:!Se.outlineView.expanded})}))}updateOutlineExpanded(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{outlineView:Object.assign(Object.assign({},Ae.outlineView),{expanded:Se})}))}updateOutlineProximityIds(Se,Ae){const lt=[...this.store.getValue().outlineView.proximityIds];if(Ae&&!lt.includes(Se))lt.push(Se);else if(!Ae){const Ze=lt.indexOf(Se);Ze>-1&&lt.splice(Ze,1)}this.store.update(Ze=>Object.assign(Object.assign({},Ze),{outlineView:Object.assign(Object.assign({},Ze.outlineView),{proximityIds:lt})}))}updateOutlineScrollToId(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{outlineView:Object.assign(Object.assign({},Ae.outlineView),{scrollToId:Se})}))}updateOutlineVisibleContext(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{outlineView:Object.assign(Object.assign({},Ae.outlineView),{visibleContext:Se})}))}updateSettingsActive(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{settingsView:Object.assign(Object.assign({},Ae.settingsView),{active:Se})}))}markFullyLoaded(){this.store.update(Se=>Object.assign(Object.assign({},Se),{fullyLoaded:!0}))}updateAppBusy(Se){const Ae=this.store.getValue(),lt=Ae.busy;let Ze=Ae.busyTime;lt&&!Se?Ze=void 0:!lt&&Se&&(Ze=Date.now()),Se&&clearTimeout(this.busyTimer);const Rt=()=>{this.store.update(Gt=>Object.assign(Object.assign({},Gt),{busy:Se,busyTime:Ze}))};lt&&!Se&&Ae.busyTime?this.busyTimer=setTimeout(Rt,500-(Date.now()-Ae.busyTime)):Rt()}markLoadScreenHidden(Se){this.store.update(Ae=>Object.assign(Object.assign({},Ae),{loadScreenHidden:Se}))}}return It.\u0275fac=function(Se){return new(Se||It)(f.LFG(q.m),f.LFG(Re.uw),f.LFG(fe),f.LFG(Je),f.LFG(g.F0))},It.\u0275prov=f.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"}),It})();class ht{constructor(De,Se,Ae,lt,Ze,Rt,Gt,Xt,kt,qe,me){this.loadScreen=De,this.actions$=Se,this.itemsQuery=Ae,this.metaSvc=lt,this.paramsSvc=Ze,this.platformSvc=Rt,this.query=Gt,this.rollsQuery=Xt,this.router=kt,this.sectionsQuery=qe,this.svc=me,this.rootContentSectionLoaded$=this.query.rootSection$.pipe((0,p.h)(ce=>1===ce.length),(0,d.q)(1),(0,h.U)(()=>o.q.removeLoadScreen())),this.removeLoginToken$=(0,v.T)(this.query.roll$.pipe((0,p.h)(ce=>!!ce),(0,d.q)(1)),this.router.events.pipe((0,p.h)(ce=>ce instanceof g.m2))).pipe((0,_.g)(0),(0,e.b)(()=>this.paramsSvc.remove("login_token"))),this.rollLoadedRemoveLoadScreen$=this.actions$.pipe((0,u.l)(E.uk.rollLoadComplete),(0,d.q)(1),(0,h.U)(()=>o.q.removeLoadScreen())),this.rollLoadedUpdateState$=this.actions$.pipe((0,u.l)(E.uk.rollLoadComplete),(0,d.q)(1),(0,e.b)(()=>this.svc.markFullyLoaded())),this.rollLoadedUpdateDraftMode$=this.actions$.pipe((0,u.l)(E.uk.rollLoadComplete),(0,d.q)(1),(0,e.b)(()=>this.svc.updateDraftMode(this.rollsQuery.getDraft()))),this.rollLoadedRunChecks$=this.actions$.pipe((0,u.l)(E.uk.rollLoadComplete),(0,h.U)(()=>o.q.runChecks())),this.removeLoadScreen$=this.actions$.pipe((0,u.l)(o.q.removeLoadScreen),(0,e.b)(()=>this.loadScreen.remove())),this.checkForEditMode$=this.query.loadScreenHidden$.pipe((0,p.h)(ce=>ce),(0,d.q)(1),(0,p.h)(ce=>this.query.getCanEdit()),(0,p.h)(ce=>this.query.getDraftEdit()||"true"===this.paramsSvc.getParam("edit")),(0,e.b)(()=>this.paramsSvc.remove("edit")),(0,e.b)(()=>this.svc.updateEditMode(!0))),this.mediaPlaybackEnded$=this.actions$.pipe((0,p.h)(()=>!this.platformSvc.isMobile),(0,u.l)(o.q.mediaPlaybackEnded),(0,h.U)(ce=>ce.payload),(0,h.U)(ce=>{if(!this.query.getIsMainView())return o.q.noop();const Y=this.sectionsQuery.getEntity(ce.parent_section_token);if(!Y.is_playlist)return o.q.noop();const we=this.itemsQuery.getItemsOf(Y.token,{includeHidden:!1}),be=we.findIndex(ze=>ze.token===ce.token),Me=we.find((ze,mt)=>mt>be&&!ze.hidden&&this.metaSvc.playsAudioOrVideo(ze));return Me?o.q.playMedia(Me):o.q.noop()})),this.hamburgerMenuClicked$=this.actions$.pipe((0,u.l)(o.q.hamburgerMenuClicked,o.q.editMenuClicked,o.q.rollMenuClicked,o.q.sectionMenuClicked,o.q.itemMenuClicked),(0,e.b)(ce=>{let Y;switch(ce.type){case o.q.hamburgerMenuClicked.type:Y=this.svc.updateHamburgerMenuClicked;break;case o.q.editMenuClicked.type:Y=this.svc.updateEditMenuClicked;break;case o.q.rollMenuClicked.type:Y=this.svc.updateRollMenuClicked;break;case o.q.sectionMenuClicked.type:Y=this.svc.updateSectionMenuClicked;break;case o.q.itemMenuClicked.type:Y=this.svc.updateItemMenuClicked}Y&&Y.apply(this.svc,[!0])}))}}ht.\u0275fac=function(De){return new(De||ht)(f.LFG(s),f.LFG(a.eX),f.LFG(E.zR),f.LFG(C.Gl),f.LFG(b.E),f.LFG(A.mi),f.LFG(Je),f.LFG(E.Qy),f.LFG(g.F0),f.LFG(E.e8),f.LFG(pt))},ht.\u0275prov=f.Yz7({token:ht,factory:ht.\u0275fac}),(0,c.gn)([(0,a.Qm)({dispatch:!0})],ht.prototype,"rootContentSectionLoaded$",void 0),(0,c.gn)([(0,a.Qm)()],ht.prototype,"removeLoginToken$",void 0),(0,c.gn)([(0,a.Qm)({dispatch:!0})],ht.prototype,"rollLoadedRemoveLoadScreen$",void 0),(0,c.gn)([(0,a.Qm)()],ht.prototype,"rollLoadedUpdateState$",void 0),(0,c.gn)([(0,a.Qm)()],ht.prototype,"rollLoadedUpdateDraftMode$",void 0),(0,c.gn)([(0,a.Qm)({dispatch:!0})],ht.prototype,"rollLoadedRunChecks$",void 0),(0,c.gn)([(0,a.Qm)()],ht.prototype,"removeLoadScreen$",void 0),(0,c.gn)([(0,a.Qm)()],ht.prototype,"checkForEditMode$",void 0),(0,c.gn)([(0,a.Qm)({dispatch:!0})],ht.prototype,"mediaPlaybackEnded$",void 0),(0,c.gn)([(0,a.Qm)()],ht.prototype,"hamburgerMenuClicked$",void 0)},2003:(ot,pe,r)=>{"use strict";r.d(pe,{l9:()=>o.l9,ov:()=>o.ov,sG:()=>o.sG});var o=r(2497)},2497:(ot,pe,r)=>{"use strict";r.d(pe,{El:()=>v,fW:()=>a,l9:()=>o,ov:()=>g,sG:()=>c,z8:()=>u});var o=(()=>{return(p=o||(o={})).EXTERNAL_LINK="external_link",p.FACEBOOK_LIKE="facebook_like",p.GOOGLE_FORM="google_form",p.SOCIAL_ENGAGEMENT="social_engagement",p.MAILTO="mailto",p.SOCIAL_NETWORKS="social_networks",o;var p})(),c=(()=>{return(p=c||(c={})).FACEBOOK="facebook",p.INSTAGRAM="instagram",p.LINKEDIN="linkedin",p.TWITTER="twitter",p.YOUTUBE="youtube",c;var p})();const g=[o.EXTERNAL_LINK,o.GOOGLE_FORM,o.MAILTO];function a(p){return p.type===o.EXTERNAL_LINK}function u(p){return p.type===o.GOOGLE_FORM}function v(p){return p.type===o.MAILTO}},4256:(ot,pe,r)=>{"use strict";r.d(pe,{i:()=>a});var o=r(5e3),c=r(7897),g=r(4716);let a=(()=>{class u{constructor(p,d){this.envSvc=p,this.logger=d,this.protocolRx=/^(https?|ftp|mailto)\:/i,this._bublupDotCom=new URL("https://www.bublup.com"),this.baseWWWUrl=this.getBaseWWWUrl(),this.baseMyStuffUrl=this.getBaseMyStuffUrl(),this.baseShareUrl=this.getBaseShareUrl(),this.baseRollsUrl=this.getBaseRollsUrl(),this.baseAssetUrl=this.getBaseAssetUrl(),this.baseCashierUrl=this.getBaseCashierUrl(),this.rollUrlRegExp=new RegExp(`^\\s*(https:\\/\\/)?${this.rollHost}\\/\\S+\\/\\S+\\s*$`)}get bublupDotCom(){return this._bublupDotCom.href}get bublupDotComDomain(){return this.wwwDomain||(this.wwwDomain=this._bublupDotCom.host.split(".").slice(-2).join(".")),this.wwwDomain}get myProfile(){return new URL("mybublup/#/settings/profile",this.baseMyStuffUrl).href}get planManagement(){const p=new URL("ui/membership_plans/show",this.baseCashierUrl);return p.searchParams.append("compare","true"),p.href}get premiumFeatures(){return new URL("premium-features",this.baseWWWUrl).href}get privacyPolicy(){return new URL("privacy-policy",this.baseWWWUrl).href}get rollHost(){return this.baseRollsUrl.host}get rollDomainsHelp(){return new URL("support/roll-domains",this.baseWWWUrl).href}get rollsHelp(){return new URL("support-category/rolls",this.baseWWWUrl).href}get support(){return new URL("support",this.baseWWWUrl).href}getSupportUrl(p){return new URL(`support/${p.replace(/^\//,"")}`,this.baseWWWUrl).href}get brandingUrl(){return new URL("mybublup/#/settings/branding",this.baseMyStuffUrl).href}getFolderUrl(p){return new URL(`mybublup/#/mystuff/${p}/mixed`,this.baseMyStuffUrl).href}getShareUrl(p){return new URL(p,this.baseShareUrl).href}getAssetUrl(p){return new URL(p,this.baseAssetUrl).href}strToUrl(p){if(!this.protocolRx.test(p)){for(;p.startsWith("/");)p=p.substr(1);p=`https://${p}`}try{return new URL(p)}catch(d){this.logger.error("UrlService failed to covert string to URL",d)}return null}get validRollRegexp(){return this.rollUrlRegExp}getBaseMyStuffUrl(){return this.getBaseUrlForHost("mystuff")}getBaseShareUrl(){return this.getBaseUrlForHost("share")}getBaseRollsUrl(){return this.getBaseUrlForHost("rolls")}getBaseAssetUrl(){return this.getBaseUrlForHost("assets")}getBaseWWWUrl(){return this.getBaseUrlForHost("www")}getBaseCashierUrl(){return this.getBaseUrlForHost("plans")}getBaseUrlForHost(p){return new URL(`https://${p}.${this.envSvc.domain}`)}}return u.\u0275fac=function(p){return new(p||u)(o.LFG(c.D),o.LFG(g.m))},u.\u0275prov=o.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},7048:(ot,pe,r)=>{"use strict";r.d(pe,{$:()=>p});var o=r(9646),c=r(5963),g=r(6304),a=r(8505),u=r(4004),v=r(262);const p=(d,h,_,e)=>E=>0===E.value.length?(0,o.of)(null):(e&&e(null),(0,c.H)(500).pipe((0,g.c)(h.takeoverCheck(d.getActiveId(),E.value,_)),(0,a.b)(f=>{e&&e(f)}),(0,u.U)(f=>f.takeover_allowed?null:{checkResponse:(f.takeover_errors||[$localize`This url is invalid`]).join("")}),(0,v.K)(f=>(0,o.of)(null))))},4933:(ot,pe,r)=>{"use strict";r.d(pe,{d:()=>v,P:()=>d});var o=r(520),c=r(3744),g=r(5e3),a=r(7897);let u=(()=>{class h{constructor(e){this.envSvc=e}intercept(e,E){const f=e.clone({setHeaders:{"client-type":c.R,"client-version":this.envSvc.clientVersion}});return E.handle(f)}}return h.\u0275fac=function(e){return new(e||h)(g.LFG(a.D))},h.\u0275prov=g.Yz7({token:h,factory:h.\u0275fac}),h})(),v=(()=>{class h{}return h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=g.oAB({type:h}),h.\u0275inj=g.cJS({providers:[{provide:o.TP,useClass:u,multi:!0}],imports:[[]]}),h})();var p=r(4762);let d=(()=>{class h{constructor(e,E){this.envSvc=e,this.versionsAPI=E}checkServer(){return this.versionsAPI.get()}get clientBuild(){return this.envSvc.clientBuild}get clientBuildTime(){return`${this.envSvc.buildTime}`}get clientVersion(){return this.envSvc.clientVersion}get cacheBustVersion(){return`${this.clientVersion}.${this.clientBuildTime}`}}return h.\u0275fac=function(e){return new(e||h)(g.LFG(a.D),g.LFG(p.lK))},h.\u0275prov=g.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},2852:(ot,pe,r)=>{"use strict";r.d(pe,{WW:()=>u,j:()=>v,qt:()=>e});var o=r(520),c=r(8505),g=r(8277),a=r(1390);const u="x-display-warnings",v="1";var p=r(5e3),d=r(9670),h=r(4716);let _=(()=>{class E{constructor(y,s){this.actions$=y,this.logger=s}intercept(y,s){return s.handle(y).pipe((0,c.b)(C=>{var b;(null===(b=null==C?void 0:C.body)||void 0===b?void 0:b.warning_info)&&(0,g.r)(C.body.warning_info)&&("POST"===y.method||"PUT"===y.method)&&y.headers.get(u)===v&&this.actions$.dispatch(a.X.warningsIntercepted(C.body.warning_info))}))}}return E.\u0275fac=function(y){return new(y||E)(p.LFG(d.eX),p.LFG(h.m))},E.\u0275prov=p.Yz7({token:E,factory:E.\u0275fac}),E})(),e=(()=>{class E{}return E.\u0275fac=function(y){return new(y||E)},E.\u0275mod=p.oAB({type:E}),E.\u0275inj=p.cJS({providers:[{provide:o.TP,useClass:_,multi:!0}]}),E})()},1390:(ot,pe,r)=>{"use strict";r.d(pe,{X:()=>c});var o=r(5631);class c{}c.warningsIntercepted=(0,o.aD)("[Warnings] Show Warnings",(0,o.xm)())},5178:(ot,pe,r)=>{"use strict";r.d(pe,{u:()=>c});var o=r(5e3);let c=(()=>{class g{open(u,v="_blank",p){u instanceof URL&&(u=u.href);const d=window.open(u,v,p)||{};return d.opener=null,d}assign(u){u instanceof URL&&(u=u.href),window.location.assign(u)}}return g.\u0275fac=function(u){return new(u||g)},g.\u0275prov=o.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},8271:(ot,pe,r)=>{"use strict";r.d(pe,{K:()=>a});var o=r(5e3),c=r(7216),g=r(4092);let a=(()=>{class u{constructor(p,d){this.analSvc=p,this.rollsQuery=d}onClick(){var p,d,h,_,e,E;this.analSvc.eventTrack(null===(p=this.options)||void 0===p?void 0:p.event,{category:null===(d=this.options)||void 0===d?void 0:d.category,label:(null===(h=this.options)||void 0===h?void 0:h.label)||(null===(_=this.rollsQuery.getActive())||void 0===_?void 0:_.title)},"AdminEvent"===(null===(e=this.options)||void 0===e?void 0:e.category)||(null===(E=this.options)||void 0===E?void 0:E.internal))}}return u.\u0275fac=function(p){return new(p||u)(o.Y36(c.yD),o.Y36(g.Qy))},u.\u0275dir=o.lG2({type:u,selectors:[["","analyticsEvent",""]],hostBindings:function(p,d){1&p&&o.NdJ("click",function(){return d.onClick()})},inputs:{options:["analyticsEvent","options"]}}),u})()},2732:(ot,pe,r)=>{"use strict";r.d(pe,{m:()=>c});var o=r(5e3);let c=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=o.oAB({type:g}),g.\u0275inj=o.cJS({imports:[[]]}),g})()},8533:(ot,pe,r)=>{"use strict";r.d(pe,{f:()=>a});var o=r(5e3),c=r(4092),g=r(7395);let a=(()=>{class u{constructor(p){this.uiSvc=p}onClick(){this.uiSvc.updateEditMode(!0)}}return u.\u0275fac=function(p){return new(p||u)(o.Y36(c.HL))},u.\u0275cmp=o.Xpm({type:u,selectors:[["continue-editing-button"]],hostBindings:function(p,d){1&p&&o.NdJ("click",function(){return d.onClick()})},decls:4,vars:0,consts:function(){let v;return v=$localize`:@@continueEditing2991c95858365b9c8783cede386dd33c0bea0a4d382761496718325147:Continue editing`,[[1,"pill-button","hover-scale","ease-out"],["iconName","edit-draft"],v]},template:function(p,d){1&p&&(o.TgZ(0,"div",0),o._UZ(1,"roll-icon",1),o.TgZ(2,"label"),o.SDv(3,2),o.qZA()())},directives:[g.p],styles:[".pill-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),u})()},4703:(ot,pe,r)=>{"use strict";r.d(pe,{nU:()=>v,b9:()=>_,iK:()=>e,XM:()=>f,bo:()=>y,lQ:()=>s,Qb:()=>b,AV:()=>I,$u:()=>D,yy:()=>O,GR:()=>S.G,xm:()=>x,f2:()=>L,PU:()=>R,K4:()=>k});var o=r(9808),c=r(7423),g=r(7238),a=r(3641),u=r(5e3);let v=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,g.AV,a.X]]}),V})();var p=r(8923),h=r(3214);let _=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X,h.JT]]}),V})(),e=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,a.X]]}),V})();r(8533);let f=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X]]}),V})(),y=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({providers:[],imports:[[o.ez,c.ot,g.AV,a.X]]}),V})(),s=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X]]}),V})();var C=r(7389);let b=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X,C.kK]]}),V})();var A=r(2732);let I=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X,A.m]]}),V})(),D=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X,p.c]]}),V})(),O=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X,h.Mm]]}),V})();var S=r(2814);let x=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,p.GK]]}),V})(),L=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X]]}),V})(),R=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X,p.XX]]}),V})();var G=r(4092);let k=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=u.oAB({type:V}),V.\u0275inj=u.cJS({imports:[[o.ez,c.ot,a.X,G.wL]]}),V})()},6013:(ot,pe,r)=>{"use strict";r.d(pe,{U:()=>kt});var o=r(3075),c=r(5390),g=r(6683),a=r(7048),u=r(1135),v=r(7579),p=r(9646),d=r(4128),h=r(515),_=r(4782),e=r(3900),E=r(9300),f=r(4004),y=r(8505),s=r(8746),C=r(2722),b=r(5698),A=r(4351),I=r(262),D=r(3922),O=(()=>{return(qe=O||(O={}))[qe.HAPPY_PATH=0]="HAPPY_PATH",qe[qe.URL=1]="URL",qe[qe.ABANDON=2]="ABANDON",O;var qe})(),S=r(5e3),x=r(8966),L=r(4092),R=r(4256),G=r(8287),k=r(1596),V=r(532),ne=r(9808),$=r(6700),q=r(9814),X=r(1774),de=r(7322),fe=r(8833),We=r(7423);function Ne(qe,me){1&qe&&S._UZ(0,"blocking-spinner")}function dt(qe,me){1&qe&&(S.TgZ(0,"div",23),S.SDv(1,24),S.qZA())}function ge(qe,me){if(1&qe&&(S.TgZ(0,"div",20),S._UZ(1,"roll-flow",21),S.ALo(2,"async"),S.ALo(3,"async"),S.YNc(4,dt,2,0,"div",22),S.ALo(5,"async"),S.qZA()),2&qe){const ce=S.oxw(3);let Y;S.xp6(1),S.Q6J("fromRoll",S.lcZ(2,3,ce.roll$))("toRoll",S.lcZ(3,5,ce.sourceRoll$)),S.xp6(3),S.Q6J("ngIf",null==(Y=S.lcZ(5,7,ce.happyPathCheckResponse$))?null:Y.will_lose_metadata)}}function Je(qe,me){if(1&qe&&(S.ynx(0),S.TgZ(1,"mat-radio-button",10),S.SDv(2,18),S.qZA(),S.YNc(3,ge,6,9,"div",19),S.BQk()),2&qe){const ce=S.oxw(2);S.xp6(1),S.Q6J("value",ce.PublicationType.HAPPY_PATH),S.xp6(2),S.Q6J("ngIf",ce.form.get("publicationType").value===ce.PublicationType.HAPPY_PATH)}}function se(qe,me){1&qe&&(S.TgZ(0,"div",25),S.SDv(1,26),S.qZA())}function Re(qe,me){if(1&qe&&(S.TgZ(0,"mat-error"),S._uU(1),S.qZA()),2&qe){const ce=S.oxw(2);S.xp6(1),S.Oqu(ce.form.get("url").errors.checkResponse)}}function pt(qe,me){1&qe&&(S.TgZ(0,"mat-error"),S.SDv(1,27),S.qZA())}function ht(qe,me){1&qe&&(S.TgZ(0,"mat-error"),S.SDv(1,28),S.qZA())}function It(qe,me){1&qe&&(S.TgZ(0,"div",29),S.SDv(1,30),S.qZA())}function De(qe,me){if(1&qe&&(S.TgZ(0,"form",6)(1,"mat-radio-group",7),S.YNc(2,Je,4,2,"ng-container",8),S.ALo(3,"async"),S.YNc(4,se,2,0,"ng-template",null,9,S.W1O),S.TgZ(6,"mat-radio-button",10),S.SDv(7,11),S.qZA(),S.TgZ(8,"div",12)(9,"div"),S.SDv(10,13),S.qZA(),S.TgZ(11,"mat-form-field",14),S._UZ(12,"input",15),S.YNc(13,Re,2,1,"mat-error",2),S.YNc(14,pt,2,0,"mat-error",2),S.YNc(15,ht,2,0,"mat-error",2),S.qZA()(),S.TgZ(16,"mat-radio-button",10),S.SDv(17,16),S.qZA(),S.YNc(18,It,2,0,"div",17),S.qZA()()),2&qe){const ce=S.MAs(5),Y=S.oxw();S.Q6J("formGroup",Y.form),S.xp6(2),S.Q6J("ngIf",S.lcZ(3,10,Y.allowHappyPath$))("ngIfElse",ce),S.xp6(4),S.Q6J("value",Y.PublicationType.URL),S.xp6(2),S.Q6J("hidden",Y.form.get("publicationType").value!==Y.PublicationType.URL),S.xp6(5),S.Q6J("ngIf",Y.form.get("url").hasError("checkResponse")),S.xp6(1),S.Q6J("ngIf",Y.form.get("url").hasError("pattern")),S.xp6(1),S.Q6J("ngIf",Y.form.get("url").hasError("required")),S.xp6(1),S.Q6J("value",Y.PublicationType.ABANDON),S.xp6(2),S.Q6J("ngIf",Y.form.get("publicationType").value===Y.PublicationType.ABANDON)}}let Se=(()=>{class qe{constructor(ce,Y,we,be,Me,ze,mt,vt,Lt,Bt){this.cdRef=ce,this.dialogRef=Y,this.formBuilder=we,this.rollsQuery=be,this.rollsSvc=Me,this.urlSvc=ze,this.rollOpenerSvc=mt,this.simpleDialogSvc=vt,this.takeoverSvc=Lt,this.uiSvc=Bt,this.busy$=new u.X(!1),this.loading$=new u.X(!0),this.showSpinner$=(0,c.k)(c.L.OR,this.busy$,this.loading$),this.destroyed$=new v.x,this.roll$=(0,p.of)(this.rollsQuery.getActive()).pipe((0,_.d)(1)),this.sourceRoll$=this.roll$.pipe((0,e.w)(an=>this.rollsSvc.get(an.source_wrap_id,{updateStore:!1,suppressErrors:!0})),(0,E.h)(an=>{const Kt=this.rollsQuery.getActive();return!!an.roll_aliases.find(xt=>xt.domain===Kt.clone_data.alias_domain&&xt.name===Kt.clone_data.alias_name)}),(0,_.d)(1)),this.happyPathCheckResponse$=this.sourceRoll$.pipe((0,e.w)(an=>this.rollsSvc.takeoverCheck(this.rollsQuery.getActiveId(),an.url,!0)),(0,_.d)(1)),this.allowHappyPath$=this.happyPathCheckResponse$.pipe((0,f.U)(an=>an.takeover_allowed),(0,y.b)(an=>{an&&this.form.get("publicationType").setValue(O.HAPPY_PATH)}),(0,s.x)(()=>this.loading$.next(!1)),(0,_.d)(1)),this.form=this.formBuilder.group({publicationType:O.URL,url:[null,[o.kI.required,o.kI.pattern(this.urlSvc.validRollRegexp)],(0,a.$)(this.rollsQuery,this.rollsSvc,!0,an=>this.currentTakeoverCheckResponse=an)]},{updateOn:"change"}),this.PublicationType=O}ngOnInit(){this.form.get("publicationType").valueChanges.pipe((0,C.R)(this.destroyed$),(0,y.b)(ce=>{const Y=this.form.get("url");ce===O.URL?(Y.setValidators([o.kI.required,o.kI.pattern(this.urlSvc.validRollRegexp)]),Y.setAsyncValidators((0,a.$)(this.rollsQuery,this.rollsSvc,!0,we=>this.currentTakeoverCheckResponse=we))):(Y.clearValidators(),Y.clearAsyncValidators()),Y.updateValueAndValidity()})).subscribe(),this.form.statusChanges.pipe((0,C.R)(this.destroyed$),(0,y.b)(()=>this.cdRef.markForCheck())).subscribe(),this.allowHappyPath$.pipe((0,b.q)(1)).subscribe()}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}continueClick(){let Y;switch(this.form.get("publicationType").value){case O.HAPPY_PATH:Y=this.happyPathTakeover();break;case O.URL:Y=this.urlTakeover();break;case O.ABANDON:Y=this.abandonTakeover()}Y&&(this.busy$.next(!0),(0,g.d)(500,Y).pipe((0,C.R)(this.destroyed$),(0,y.b)(()=>this.dialogRef.close()),(0,y.b)(()=>this.uiSvc.updateEditMode(!1)),(0,y.b)(()=>this.uiSvc.updateDraftMode(!1)),(0,y.b)(()=>this.rollOpenerSvc.reloadIfNecessary()),(0,s.x)(()=>this.busy$.next(!1))).subscribe())}happyPathTakeover(){return(0,d.D)([this.rollsQuery.selectActiveId().pipe((0,b.q)(1)),this.happyPathCheckResponse$.pipe((0,E.h)(ce=>ce.takeover_allowed),(0,f.U)(ce=>{var Y;return null===(Y=ce.wrap_info)||void 0===Y?void 0:Y.url}))]).pipe((0,A.b)(([ce,Y])=>this.rollsSvc.takeover(ce,Y,{privateEditing:!0})),(0,A.b)(ce=>{const Y={title:$localize`:@@draftPublished:Draft published`,message:$localize`:@@changesAvailable:The changes are now available to your viewers.`,primaryLabel:$localize`:@@ok:OK`};return this.simpleDialogSvc.open({data:Y}).afterClosed()}))}urlTakeover(){return this.takeoverSvc.takeoverRollByUrl(this.rollsQuery.getActiveId(),this.form.get("url").value,{privateEditing:!0,checkResponse:this.currentTakeoverCheckResponse}).pipe((0,I.K)(ce=>{if((null==ce?void 0:ce.message)===D.hR)return h.E;throw ce}))}abandonTakeover(){return this.rollsSvc.takeoverAbandon(this.rollsQuery.getActiveId())}}return qe.\u0275fac=function(ce){return new(ce||qe)(S.Y36(S.sBO),S.Y36(x.so),S.Y36(o.qu),S.Y36(L.Qy),S.Y36(L.u5),S.Y36(R.i),S.Y36(G.K),S.Y36(k.cE),S.Y36(D.mD),S.Y36(L.HL))},qe.\u0275cmp=S.Xpm({type:qe,selectors:[["ng-component"]],features:[S._Bn([D.mD])],decls:11,vars:7,consts:function(){let me,ce,Y,we,be,Me,ze,mt,vt,Lt,Bt,an,Kt,gt;return me=$localize`:@@publishChanges8e008e95b1ef160518be39b5802d68e361ab24105515209695367460027:Publish changes`,ce=$localize`:@@continueac10a3d9b59575640797c1a8e6aea642cf5d5e776962699013778688473:Continue`,Y=$localize`:@@publishToDifferentRoll88be2e75347025adf35d35a8887f9782c2de896d8849479019181426512:Publish changes to a different roll`,we=$localize`:@@publishUrlPrompt02c01e0a05bd4e4ce6fa1a448b8b869e8fc1c37d6360185487934778918:Enter a URL for the roll that you'd like to publish to.`,be=$localize`:@@publishAsNewRoll4dc1d86796b62b123de588d951b3a5267af9cabb1313037201009608029:Publish changes as a new roll`,Me=$localize`:@@publishToOriginalRolld3160f3092b2162c530639be968a0369c60fdcda4685041571636660458:Publish changes to the original roll`,ze=$localize`:@@changed20de295a928ebb751dc6ce91cfce092111fb751e4202788523463485576:Changed`,mt=$localize`:@@original76736e6038fc84a39e54a04a20e69227d9af79257329217250595054697:Original`,vt=$localize`:@@publishChangesTo6c685175113203889d0f56c38d62493ad6b792639018682752166582713:Publish changes to`,Lt=$localize`:@@publishMetaWarning6ec2cb5a827f824662b2f0b16f1c0784f78b8d8a6415419225082020265:Notice: This will delete the comments, reactions, and favorite status from the original roll.`,Bt=$localize`:@@publishNoSourcef982c46a838dc987022c26097d6c16eb640f8df4408817903242932570:We were unable to find the roll to publish to. It may have been deleted, or the URLs that were assigned to it may have been deleted or moved.`,an=$localize`:@@notARollUrlb36421ee70841874d8d69c7fbf84642cf860529e5836583896471593998:This is not a valid roll url`,Kt=$localize`:@@rollUrlRequired2a7e275c85915d2301efc83ef1c9554a441c8d436442145411689930852:The roll url is required`,gt=$localize`:@@exitDraftNote569d5e53757aa3cbf8eed7000e88a74aed9f02927343522660729800498:This exits draft mode without publishing your changes. Your draft roll will still exist separately so you can do whatever you like with it.`,[["mat-dialog-title",""],me,[4,"ngIf"],[3,"formGroup",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled","click"],ce,[3,"formGroup"],["formControlName","publicationType"],[4,"ngIf","ngIfElse"],["noSourceRoll",""],["color","primary","name","publicationType",1,"mat-bold",3,"value"],Y,[1,"full-width","pl28",3,"hidden"],we,["color","primary",1,"mt12","full-width"],["type","text","color","primary","formControlName","url","matInput",""],be,["class","ml28",4,"ngIf"],Me,["class","roll-flow-container mb20",4,"ngIf"],[1,"roll-flow-container","mb20"],["fromTitle",ze,"toTitle",mt,"arrowLabel",vt,3,"fromRoll","toRoll"],["class","mt20 text--bold text--italic",4,"ngIf"],[1,"mt20","text--bold","text--italic"],Lt,[1,"mb20"],Bt,an,Kt,[1,"ml28"],gt]},template:function(ce,Y){1&ce&&(S.TgZ(0,"header",0),S.SDv(1,1),S.qZA(),S._UZ(2,"dialog-dismiss"),S.YNc(3,Ne,1,0,"blocking-spinner",2),S.ALo(4,"async"),S.TgZ(5,"mat-dialog-content"),S.YNc(6,De,19,12,"form",3),S.ALo(7,"async"),S.qZA(),S.TgZ(8,"mat-dialog-actions")(9,"button",4),S.NdJ("click",function(){return Y.continueClick()}),S.SDv(10,5),S.qZA()()),2&ce&&(S.xp6(3),S.Q6J("ngIf",S.lcZ(4,3,Y.showSpinner$)),S.xp6(3),S.Q6J("ngIf",!1===S.lcZ(7,5,Y.loading$)),S.xp6(3),S.Q6J("disabled",!Y.form.valid))},directives:[x.uh,V.k,ne.O5,$.n,x.xY,o._Y,o.JL,o.sg,q.VQ,o.JJ,o.u,q.U0,X.A,de.KE,o.Fj,fe.Nt,de.TO,x.H8,We.lW],pipes:[ne.Ov],styles:["mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.roll-flow-container[_ngcontent-%COMP%]{margin-left:28px}@media (max-width: 35.615em){.roll-flow-container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}}"],changeDetection:0}),qe})();r(5179);var lt=r(7633);let Ze=(()=>{class qe{constructor(ce){this.dialogSvc=ce}publish(){this.dialogSvc.open(Se)}}return qe.\u0275fac=function(ce){return new(ce||qe)(S.LFG(lt.xA))},qe.\u0275prov=S.Yz7({token:qe,factory:qe.\u0275fac}),qe})();var Gt=r(7395);const Xt=function(qe){return{editing:qe}};let kt=(()=>{class qe{constructor(ce,Y){this.publishService=ce,this.uiQuery=Y,this.editMode$=this.uiQuery.editMode$}onClick(){this.publishService.publish()}}return qe.\u0275fac=function(ce){return new(ce||qe)(S.Y36(Ze),S.Y36(L.YU))},qe.\u0275cmp=S.Xpm({type:qe,selectors:[["publish-button"]],hostBindings:function(ce,Y){1&ce&&S.NdJ("click",function(){return Y.onClick()})},features:[S._Bn([Ze])],decls:5,vars:5,consts:function(){let me;return me=$localize`:@@publish223aae0477f79f0bc4436c1c57619415f04cbbb37430416142942514215:Publish`,[[1,"pill-button","hover-scale","ease-out",3,"ngClass"],["iconName","publish"],me]},template:function(ce,Y){1&ce&&(S.TgZ(0,"div",0),S.ALo(1,"async"),S._UZ(2,"roll-icon",1),S.TgZ(3,"label"),S.SDv(4,2),S.qZA()()),2&ce&&S.Q6J("ngClass",S.VKq(3,Xt,S.lcZ(1,1,Y.editMode$)))},directives:[ne.mk,Gt.p],pipes:[ne.Ov],styles:[".pill-button[_ngcontent-%COMP%]{font-family:Roboto Condensed,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;font-size:16px}@media (pointer: fine){.pill-button.editing[_ngcontent-%COMP%]:hover{box-shadow:none}}@media (max-width: 47.99em){.pill-button.editing[_ngcontent-%COMP%]{padding:0}.pill-button.editing[_ngcontent-%COMP%]   roll-icon[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),qe})()},2814:(ot,pe,r)=>{"use strict";r.d(pe,{G:()=>u});var o=r(9808),c=r(7423),g=r(3641),a=r(5e3);let u=(()=>{class v{}return v.\u0275fac=function(d){return new(d||v)},v.\u0275mod=a.oAB({type:v}),v.\u0275inj=a.cJS({imports:[[o.ez,c.ot,g.X]]}),v})()},532:(ot,pe,r)=>{"use strict";r.d(pe,{k:()=>d});var o=r(5e3),c=r(9808),g=r(7423),a=r(8966),u=r(7395);function v(h,_){if(1&h&&(o.TgZ(0,"button",2),o._UZ(1,"roll-icon",3),o.qZA()),2&h){const e=o.oxw();o.Q6J("mat-dialog-close",e.closeValue)}}function p(h,_){if(1&h&&(o.TgZ(0,"button",4)(1,"span"),o.SDv(2,5),o.qZA()()),2&h){const e=o.oxw();o.Q6J("mat-dialog-close",e.closeValue)}}let d=(()=>{class h{constructor(){this.buttonMode="xicon"}get cls(){return`button-mode button-mode--${this.buttonMode}`}}return h.\u0275fac=function(e){return new(e||h)},h.\u0275cmp=o.Xpm({type:h,selectors:[["dialog-dismiss"]],hostVars:2,hostBindings:function(e,E){2&e&&o.Tol(E.cls)},inputs:{buttonMode:"buttonMode",closeValue:"closeValue"},decls:2,vars:2,consts:function(){let _;return _=$localize`:@@done8dd413cee2228118c536f503709329a4d1a395e2397098723873502323:Done`,[["data-test-id","dialog-dismiss-button","mat-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["data-test-id","dialog-dismiss-button","mat-flat-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["data-test-id","dialog-dismiss-button","mat-button","","color","primary",3,"mat-dialog-close"],["iconName","close"],["data-test-id","dialog-dismiss-button","mat-flat-button","","color","primary",3,"mat-dialog-close"],_]},template:function(e,E){1&e&&(o.YNc(0,v,2,1,"button",0),o.YNc(1,p,3,1,"button",1)),2&e&&(o.Q6J("ngIf","xicon"===E.buttonMode),o.xp6(1),o.Q6J("ngIf","done"===E.buttonMode))},directives:[c.O5,g.lW,a.ZT,u.p],styles:["[_nghost-%COMP%]{position:absolute;top:0;right:0;z-index:2}.button-mode--done[_nghost-%COMP%]{top:8px;right:8px}.button-mode--xicon[_nghost-%COMP%]{top:2px;right:2px}[_nghost-%COMP%]   button[mat-button][_ngcontent-%COMP%]{min-width:44px;line-height:44px;padding:0}[_nghost-%COMP%]   button[mat-flat-button][_ngcontent-%COMP%]{text-transform:lowercase;line-height:32px}"],changeDetection:0}),h})()},6950:(ot,pe,r)=>{"use strict";r.d(pe,{o:()=>v});var o=r(9808),c=r(7423),g=r(8966),a=r(3641),u=r(5e3);let v=(()=>{class p{}return p.\u0275fac=function(h){return new(h||p)},p.\u0275mod=u.oAB({type:p}),p.\u0275inj=u.cJS({imports:[[o.ez,c.ot,g.Is,a.X]]}),p})()},2424:(ot,pe,r)=>{"use strict";r.d(pe,{J:()=>_,f:()=>p});var o=r(5e3),c=r(8966),g=r(532),a=r(7423);let u=(()=>{class e{constructor(f){this.dialogRef=f}dismiss(){this.dialogRef.close()}}return e.\u0275fac=function(f){return new(f||e)(o.Y36(c.so))},e.\u0275cmp=o.Xpm({type:e,selectors:[["download-blocked-dialog"]],decls:9,vars:0,consts:function(){let E,f,y;return E=$localize`:@@checkForErrors14509e75015b19051de9d0f9ed5996bece7713da785168625275390935:Check for errors`,f=$localize`:3d02a93a88b10d9083c9023ca10461357ae60ffe5272579747230737966:There may have been an error with your download. Please check the video to make sure it downloaded correctly.`,y=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,[["mat-dialog-title",""],E,f,["mat-flat-button","","color","primary",3,"click"],y]},template:function(f,y){1&f&&(o._UZ(0,"dialog-dismiss"),o.TgZ(1,"header",0)(2,"span"),o.SDv(3,1),o.qZA()(),o.TgZ(4,"mat-dialog-content"),o.SDv(5,2),o.qZA(),o.TgZ(6,"mat-dialog-actions")(7,"button",3),o.NdJ("click",function(){return y.dismiss()}),o.SDv(8,4),o.qZA()())},directives:[g.k,c.uh,c.xY,c.H8,a.lW],styles:["[_nghost-%COMP%]{display:block}"]}),e})();var v=r(7633);let p=(()=>{class e{constructor(f){this.dialogSvc=f}open(){return this.dialogSvc.open(u)}}return e.\u0275fac=function(f){return new(f||e)(o.LFG(v.xA))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();var d=r(9808),h=r(6950);let _=(()=>{class e{}return e.\u0275fac=function(f){return new(f||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[d.ez,a.ot,c.Is,h.o]]}),e})()},7638:(ot,pe,r)=>{"use strict";r.d(pe,{K3:()=>e,x2:()=>L});var o=r(5e3),c=r(9808),g=r(4092);const u=["B","KB","MB","GB","TB"];let v=(()=>{class R{constructor(k){this.localeQuery=k}transform(k){let V=0;for(;k>1e3&&V<u.length;)k/=1024,V++;return(0,c.uf)(k,this.localeQuery.getLocale(),"0.0-2")+" "+u[V]}}return R.\u0275fac=function(k){return new(k||R)(o.Y36(g.iS,16))},R.\u0275pipe=o.Yjl({name:"fileSize",type:R,pure:!0}),R})();function p(R,G){if(1&R&&(o.TgZ(0,"div",3)(1,"span",4),o.SDv(2,5),o.qZA(),o.TgZ(3,"span",6),o._uU(4),o.ALo(5,"fileSize"),o.qZA()()),2&R){const k=o.oxw(2);o.xp6(4),o.Oqu(o.lcZ(5,1,k.data.fileSize))}}function d(R,G){if(1&R&&(o.TgZ(0,"div",3)(1,"span",4),o.SDv(2,7),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.qZA()()),2&R){const k=o.oxw(2);o.xp6(4),o.Oqu(k.data.resolution)}}function h(R,G){if(1&R&&(o.TgZ(0,"div",1),o.YNc(1,p,6,3,"div",2),o.YNc(2,d,5,1,"div",2),o.qZA()),2&R){const k=o.oxw();o.xp6(1),o.Q6J("ngIf",k.data.fileSize),o.xp6(1),o.Q6J("ngIf",k.data.resolution)}}let _=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275cmp=o.Xpm({type:R,selectors:[["download-info"]],inputs:{data:"data"},decls:1,vars:1,consts:function(){let G,k;return G=$localize`:@@fileSizeLabel109c6f4a5e46efb933612ededfaf52a13178b7e08712868262622854125:File size:`,k=$localize`:@@resolutionLabel9fa37704969eeebd496a172c5077370f569df3ae4076870975160614320:Resolution:`,[["class","download-info",4,"ngIf"],[1,"download-info"],["class","download-info__wrapper",4,"ngIf"],[1,"download-info__wrapper"],[1,"download-info__label"],G,[1,"file-size"],k]},template:function(k,V){1&k&&o.YNc(0,h,3,2,"div",0),2&k&&o.Q6J("ngIf",(null==V.data?null:V.data.fileSize)||(null==V.data?null:V.data.resolution))},directives:[c.O5],pipes:[v],styles:[".download-info[_ngcontent-%COMP%]{font-size:.9em}.download-info__wrapper[_ngcontent-%COMP%]{margin-bottom:5px}.download-info__label[_ngcontent-%COMP%]{margin-right:5px}.download-info[_ngcontent-%COMP%]   .file-size[_ngcontent-%COMP%]{text-transform:none}"]}),R})();var e=(()=>{return(R=e||(e={})).Original="original",R.Cancel="cancel",R.Compatible="compatible",e;var R})(),E=r(8966),f=r(3075),y=r(6970),s=r(9814),C=r(7423);let b=(()=>{class R{constructor(k,V,ne,$){var q,X,de,fe,We,Ne,dt,ge;if(this.data=k,this.dialogRef=V,this.formBuilder=ne,this.metaSvc=$,this.downloadChoice=e,this.originalData={},this.compatibleData={},this.form=this.formBuilder.group({choice:e.Original}),this.originalData.fileSize=null===(q=k.item.source)||void 0===q?void 0:q.file_size,$.isVideo(k.item)){const Je=null===(fe=null===(de=null===(X=k.item.video_data)||void 0===X?void 0:X.metadata)||void 0===de?void 0:de.original_dimensions)||void 0===fe?void 0:fe.width,se=null===(dt=null===(Ne=null===(We=k.item.video_data)||void 0===We?void 0:We.metadata)||void 0===Ne?void 0:Ne.original_dimensions)||void 0===dt?void 0:dt.height;Je&&se&&(this.originalData.resolution=`${Je}x${se}`),this.compatibleData={};const Re=k.item.video_data.versions.find(pt=>720===pt.quality);Re.size&&(this.compatibleData.fileSize=Re.size),(null==Re?void 0:Re.width)&&Re.height&&(this.compatibleData.resolution=`${Re.width}x${Re.height}`)}else if($.isImage(k.item)){(null===(ge=k.item.source)||void 0===ge?void 0:ge.image_width)&&k.item.source.image_height&&(this.originalData.resolution=`${k.item.source.image_width}x${k.item.source.image_height}`),this.compatibleData.fileSize=k.item.image_info.full_file_size;const Je=k.item.image_info.full_width,se=k.item.image_info.full_height;Je&&se&&(this.compatibleData.resolution=`${Je}x${se}`)}}cancel(){this.dialogRef.close(e.Cancel)}continue(){this.dialogRef.close(this.form.get("choice").value)}}return R.\u0275fac=function(k){return new(k||R)(o.Y36(E.WI),o.Y36(E.so),o.Y36(f.qu),o.Y36(y.Gl))},R.\u0275cmp=o.Xpm({type:R,selectors:[["ng-component"]],decls:19,vars:5,consts:function(){let G,k,V,ne,$,q;return G=$localize`:@@imageCompatibility82beec854e411b793fad636622b999bcbb2352397683250195579226292:Download compatibility`,k=$localize`:@@heicDownloadPrompt023de00b41e2344b0a6404520525cf016c19b18d7086573201721281658:This item may not be viewable on all devices in its original format. Would you like to keep the original or download it in a more compatible format?`,V=$localize`:@@mostCompatible4b6b3b35f7093bdfb24657e41e84339a61c7dc0820092079630106123:Most Compatible`,ne=$localize`:@@original76736e6038fc84a39e54a04a20e69227d9af79257329217250595054697:Original`,$=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,q=$localize`:@@continueac10a3d9b59575640797c1a8e6aea642cf5d5e776962699013778688473:Continue`,[["mat-dialog-title",""],G,k,[3,"formGroup"],["formControlName","choice"],["color","primary",3,"value"],[1,"label-header"],V,[3,"data"],ne,["mat-stroked-button","","color","primary",3,"click"],$,["mat-flat-button","","color","primary",3,"click"],q]},template:function(k,V){1&k&&(o.TgZ(0,"header",0),o.SDv(1,1),o.qZA(),o.TgZ(2,"mat-dialog-content"),o.SDv(3,2),o.qZA(),o.TgZ(4,"form",3)(5,"mat-radio-group",4)(6,"mat-radio-button",5)(7,"span",6),o.SDv(8,7),o.qZA(),o._UZ(9,"download-info",8),o.qZA(),o.TgZ(10,"mat-radio-button",5)(11,"span",6),o.SDv(12,9),o.qZA(),o._UZ(13,"download-info",8),o.qZA()()(),o.TgZ(14,"mat-dialog-actions")(15,"button",10),o.NdJ("click",function(){return V.cancel()}),o.SDv(16,11),o.qZA(),o.TgZ(17,"button",12),o.NdJ("click",function(){return V.continue()}),o.SDv(18,13),o.qZA()()),2&k&&(o.xp6(4),o.Q6J("formGroup",V.form),o.xp6(2),o.Q6J("value",V.data.compatibleChoice),o.xp6(3),o.Q6J("data",V.compatibleData),o.xp6(1),o.Q6J("value",V.downloadChoice.Original),o.xp6(3),o.Q6J("data",V.originalData))},directives:[E.uh,E.xY,f._Y,f.JL,f.sg,s.VQ,f.JJ,f.u,s.U0,_,E.H8,C.lW],styles:["mat-radio-group[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column}mat-radio-group[_ngcontent-%COMP%]   .label-header[_ngcontent-%COMP%]{font-weight:700}download-info[_ngcontent-%COMP%]{display:block;margin-top:5px}"]}),R})();var A=r(9646),I=r(4004),D=r(1596),O=r(7633);const S=new Set(["image/heic"]),x=new Set(["hvc1",null,void 0]);let L=(()=>{class R{constructor(k,V,ne){this.dialogSvc=k,this.metaSvc=V,this.simpleDialogSvc=ne}getChoice(k){const V=[k].flat();let ne;return V.some($=>{var q,X,de,fe,We,Ne,dt;return!!(this.metaSvc.isImage($)&&S.has(null===(q=$.content_type)||void 0===q?void 0:q.toLowerCase())&&(null===(X=$.image_info)||void 0===X?void 0:X.full_url)||this.metaSvc.isVideo($)&&x.has(null===(We=null===(fe=null===(de=$.video_data)||void 0===de?void 0:de.metadata)||void 0===fe?void 0:fe.video_codec_tag_string)||void 0===We?void 0:We.toLowerCase())&&(null===(dt=null===(Ne=$.video_data)||void 0===Ne?void 0:Ne.versions)||void 0===dt?void 0:dt.some(ge=>720===ge.quality)))&&(ne=e.Compatible,!0)})?1===V.length?this.dialogSvc.open(b,{data:{compatibleChoice:ne,item:V[0]}}).afterClosed():this.simpleDialogSvc.open({data:{title:$localize`:@@downloadCompatibility:Download Compatibility`,message:$localize`:@@multipleIncompatible:One or more of the selected items may not be viewable on all devices.`,primaryLabel:$localize`:@@continue:Continue`,secondaryLabel:$localize`:@@Cancel:Cancel`,suppressDialogDismiss:!1}}).afterClosed().pipe((0,I.U)($=>$===D.iv.PRIMARY?e.Original:e.Cancel)):(0,A.of)(e.Original)}}return R.\u0275fac=function(k){return new(k||R)(o.LFG(O.xA),o.LFG(y.Gl),o.LFG(D.cE))},R.\u0275prov=o.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()},8940:(ot,pe,r)=>{"use strict";r.d(pe,{R:()=>_});var o=r(4004),c=r(9300),g=r(3900),a=r(2566),u=r(5e3),v=r(8966),p=r(3075),d=r(532),h=r(7446);let _=(()=>{class e{constructor(f,y,s){this.dialogRef=f,this.dsmaSvc=y,this.fb=s,this.form=this.fb.group({dsma:[!1]}),this.dialogRef.disableClose=!0,this.dialogRef.afterClosed().pipe((0,o.U)(()=>this.form.get("dsma").value),(0,c.h)(C=>!!C),(0,g.w)(C=>this.dsmaSvc.markShowAgain(a.BM.EditMode,!1))).subscribe()}}return e.\u0275fac=function(f){return new(f||e)(u.Y36(v.so),u.Y36(a.ii),u.Y36(p.qu))},e.\u0275cmp=u.Xpm({type:e,selectors:[["ng-component"]],decls:9,vars:1,consts:function(){let E,f,y;return E=$localize`:db020ce4462e3d84f76620f9009a27c885a10d8d7715876794083336387:Welcome to live editing!`,f=$localize`:86e7305eac699c7be1531af95514805769bd1c234753413421240016254:Edits to this roll will be "live", meaning that as soon as you make a change, viewers can see it within a few minutes. If you want to make changes without viewers seeing your work in progress, use "edit in draft mode".`,y=$localize`:@@dontShowMeAgainbde4548e109dc7ce65933595cc93d23240a0dbac3582015531369677083:Don't show me again`,[["mat-dialog-title",""],E,[1,"message"],f,[3,"formGroup"],["formControlName","dsma","color","primary"],y]},template:function(f,y){1&f&&(u.TgZ(0,"header",0),u.SDv(1,1),u.qZA(),u._UZ(2,"dialog-dismiss"),u.TgZ(3,"mat-dialog-content")(4,"div",2),u.SDv(5,3),u.qZA(),u.TgZ(6,"form",4)(7,"mat-checkbox",5),u.SDv(8,6),u.qZA()()()),2&f&&(u.xp6(6),u.Q6J("formGroup",y.form))},directives:[v.uh,d.k,v.xY,p._Y,p.JL,p.sg,h.oG,p.JJ,p.u],styles:[".message[_ngcontent-%COMP%]{margin-bottom:20px;font-family:Roboto,sans-serif;font-size:16px;letter-spacing:normal}mat-checkbox[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:14px;letter-spacing:normal;margin-bottom:12px}"],changeDetection:0}),e})()},6245:(ot,pe,r)=>{"use strict";r.d(pe,{c:()=>s});var o=r(655),c=r(5390),g=r(7460),a=r(9670),u=r(6304),v=r(9300),p=r(8505),d=r(5698),h=r(3266),_=r(8940),e=r(5e3),E=r(7633),f=r(6024),y=r(4092);class s{constructor(b,A,I,D,O){this.dialogSvc=b,this.dsmaSvc=A,this.rollsQuery=I,this.uiQuery=D,this.userQuery=O,this.editModeDSMA$=this.userQuery.selectActive().pipe((0,u.c)(this.uiQuery.canEdit$),(0,v.h)(S=>!!S),(0,u.c)((0,c.k)(c.L.AND,this.dsmaSvc.shouldShow$(h.B.EditMode),(0,g.f)(this.uiQuery.draftEdit$),this.rollsQuery.wizardSeen$,this.uiQuery.editMode$)),(0,v.h)(S=>!!S),(0,p.b)(()=>{this.dialogSvc.open(_.R)}),(0,d.q)(1))}}s.\u0275fac=function(b){return new(b||s)(e.LFG(E.xA),e.LFG(f.i),e.LFG(y.Qy),e.LFG(y.YU),e.LFG(y.fE))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac}),(0,o.gn)([(0,a.Qm)()],s.prototype,"editModeDSMA$",void 0)},7825:(ot,pe,r)=>{"use strict";r.d(pe,{wJ:()=>L,vo:()=>x});var o=r(655),c=r(5659),g=r(2417),a=r(1390),u=r(9670),v=r(9040),p=r(4004),d=r(8505),h=r(5e3),_=r(8966),e=r(9808),E=r(532),f=r(1125);function y(R,G){1&R&&h._UZ(0,"dialog-dismiss")}function s(R,G){1&R&&(h.TgZ(0,"div",11)(1,"div",12),h._UZ(2,"li")(3,"li")(4,"li")(5,"li")(6,"li"),h.qZA()())}function C(R,G){if(1&R&&(h.TgZ(0,"div",13),h._uU(1),h.qZA()),2&R){const k=h.oxw();h.xp6(1),h.hij(" ",k.primaryError.resolution," ")}}function b(R,G){if(1&R&&(h.TgZ(0,"div",13),h._uU(1),h.qZA()),2&R){const k=h.oxw().$implicit;h.xp6(1),h.hij(" ",k.resolution," ")}}function A(R,G){if(1&R&&(h.TgZ(0,"div",17)(1,"div",8),h._uU(2),h.qZA(),h.YNc(3,b,2,1,"div",9),h.qZA()),2&R){const k=G.$implicit;h.xp6(2),h.hij(" ",k.problem," "),h.xp6(1),h.Q6J("ngIf",k.resolution)}}function I(R,G){if(1&R&&(h.TgZ(0,"mat-expansion-panel",14)(1,"mat-expansion-panel-header"),h.SDv(2,15),h.qZA(),h.YNc(3,A,4,2,"div",16),h.qZA()),2&R){const k=h.oxw();h.xp6(3),h.Q6J("ngForOf",k.data.errors.visible_errors.slice(1))}}let D=(()=>{class R{constructor(k,V){this.dialogRef=k,this.data=V,this.dialogRef.addPanelClass("bubl-trouble-dialog"),this.primaryError=V.errors.visible_errors[0]}dismiss(){this.dialogRef.close()}get title(){var k;if(this.data.title)return this.data.title;switch(null===(k=this.primaryError)||void 0===k?void 0:k.severity){case"bubbling":return null;case"maintenance":return $localize`:@@maintenance:Maintenance`;case"notice":return $localize`:@@notice:Notice`;case"success":return $localize`:@@success:Success`;case"warning":return $localize`:@@warning:Warning`}return $localize`:@@bublTrouble:Bubl trouble`}get allowDismiss(){return!this.dialogRef.disableClose}}return R.\u0275fac=function(k){return new(k||R)(h.Y36(_.so),h.Y36(_.WI))},R.\u0275cmp=h.Xpm({type:R,selectors:[["error-dialog"]],decls:14,vars:8,consts:function(){let G;return G=$localize`:@@additionalDetails8c3ef5b8395a41cf21e2329f5c4a7302abb8d5293296873088763156362:Additional details`,[[4,"ngIf"],[1,"icon-container",3,"ngClass"],["class","bubble-spinner",4,"ngIf"],[1,"error-container"],["mat-dialog-title","",3,"ngClass"],[1,"scroll-container"],[1,"error-list","error-list--primary"],[1,"error-group"],[1,"error-problem"],["class","error-resolution",4,"ngIf"],["class","error-container__additional-details",4,"ngIf"],[1,"bubble-spinner"],[1,"bubble-spinner__bubbles"],[1,"error-resolution"],[1,"error-container__additional-details"],G,["class","error-group error-group--secondary",4,"ngFor","ngForOf"],[1,"error-group","error-group--secondary"]]},template:function(k,V){1&k&&(h.YNc(0,y,1,0,"dialog-dismiss",0),h.TgZ(1,"mat-dialog-content")(2,"div",1),h.YNc(3,s,7,0,"div",2),h.qZA(),h.TgZ(4,"div",3)(5,"header",4),h._uU(6),h.qZA(),h.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),h._uU(11),h.qZA(),h.YNc(12,C,2,1,"div",9),h.qZA()(),h.YNc(13,I,4,1,"mat-expansion-panel",10),h.qZA()()()),2&k&&(h.Q6J("ngIf",V.allowDismiss),h.xp6(2),h.Q6J("ngClass",V.primaryError.severity||"error"),h.xp6(1),h.Q6J("ngIf","bubbling"===V.primaryError.severity),h.xp6(2),h.Q6J("ngClass",V.primaryError.severity||"error"),h.xp6(1),h.Oqu(V.title),h.xp6(5),h.hij(" ",V.primaryError.problem," "),h.xp6(1),h.Q6J("ngIf",V.primaryError.resolution),h.xp6(1),h.Q6J("ngIf",V.data.errors.visible_errors.length>1))},directives:[e.O5,E.k,_.xY,e.mk,_.uh,f.ib,f.yz,e.sg],styles:["[_nghost-%COMP%]{max-width:90%}[_nghost-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{margin:12px 0}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;overflow-y:hidden}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#f37021}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:#fcb116}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .notice[_ngcontent-%COMP%]{color:#ca559f}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#82c341}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .bubbling[_ngcontent-%COMP%]{color:#00b1d0}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   header.mat-dialog-title[_ngcontent-%COMP%]{font-family:Roboto Condensed,sans-serif;font-size:30px;line-height:1.2;margin-top:20px;font-style:normal;font-weight:400;letter-spacing:normal;text-transform:none}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{flex-grow:0;-webkit-user-select:none;user-select:none;background-repeat:no-repeat;height:220px;width:175px;min-width:175px;margin-top:-20px;margin-right:16px;background-size:auto}@media (max-width: 47.99em){[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:129px;min-width:129px;margin-top:-13px;margin-left:-40px;background-size:124px}}@media (max-width: 41.74em){[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{width:105px;min-width:105px;margin-top:-10px;margin-left:-30px;background-size:100px}}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .icon-container.error[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAgMjI1Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDojZjM3MDIxO30uYXtmaWxsLXJ1bGU6ZXZlbm9kZDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFsZXJ0X2JnX2ljb25fYW5ndWxhci0tYnVibHRyb3VibGU8L3RpdGxlPjxwYXRoIGNsYXNzPSJhIiBkPSJNODIuNjYsNTEuMDlhNy4xOCw3LjE4LDAsMSwxLDE0LjM1LDB2NTMuOGE3LjE4LDcuMTgsMCwwLDEtMTQuMzUsMFptNy4xOCw4Ni4wOGE4LjYxLDguNjEsMCwxLDEsOC42LTguNjFBOC42LDguNiwwLDAsMSw4OS44NCwxMzcuMTdaIi8+PHBhdGggY2xhc3M9ImIiIGQ9Ik05NC45NCwyMDAuOWExMS42MSwxMS42MSwwLDEsMS0xMS42LDExLjZBMTEuNjIsMTEuNjIsMCwwLDEsOTQuOTQsMjAwLjlabTAsMTcuN2E2LjEsNi4xLDAsMSwwLTYuMDktNi4xQTYuMSw2LjEsMCwwLDAsOTQuOTQsMjE4LjZaIi8+PHBhdGggY2xhc3M9ImIiIGQ9Ik0xMzguMjgsMTY4LjY4QTIxLjMsMjEuMywwLDEsMSwxMTcsMTkwLDIxLjMzLDIxLjMzLDAsMCwxLDEzOC4yOCwxNjguNjhabTAsMzIuODRBMTEuNTQsMTEuNTQsMCwxLDAsMTI2Ljc0LDE5MCwxMS41NiwxMS41NiwwLDAsMCwxMzguMjgsMjAxLjUyWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNODIuMjYsMS4yNEE4OS4zMyw4OS4zMywwLDEsMSwxLjE5LDk4LjEyLDg5LjQ0LDg5LjQ0LDAsMCwxLDgyLjI2LDEuMjRabTEzLjY4LDE1NEE2NS4yOSw2NS4yOSwwLDEsMCwyNS4xMyw5Niw2NS4zNyw2NS4zNywwLDAsMCw5NS45NCwxNTUuMjVaIi8+PC9zdmc+)}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .icon-container.warning[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAgMjI1Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDojZmNiMTE2O30uYXtmaWxsLXJ1bGU6ZXZlbm9kZDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFsZXJ0X2JnX2ljb25fYW5ndWxhci0td2FybmluZzwvdGl0bGU+PHBhdGggY2xhc3M9ImEiIGQ9Ik01OS44OCwxMzIuMzhsMzAuNi0zNy44Mi0yNi0xNCw1NS0zNy4zMy0yOCwzNy40OSwyMy44LDEyLjdaIi8+PHBhdGggY2xhc3M9ImIiIGQ9Ik05NC43OCwyMDAuOWExMS42MSwxMS42MSwwLDEsMS0xMS42MSwxMS42QTExLjYyLDExLjYyLDAsMCwxLDk0Ljc4LDIwMC45Wm0wLDE3LjdhNi4xLDYuMSwwLDEsMC02LjA5LTYuMUE2LjEsNi4xLDAsMCwwLDk0Ljc4LDIxOC42WiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNMTM4LjEyLDE2OC42OGEyMS4zLDIxLjMsMCwxLDEtMjEuMywyMS4zQTIxLjMyLDIxLjMyLDAsMCwxLDEzOC4xMiwxNjguNjhabTAsMzIuODRBMTEuNTQsMTEuNTQsMCwxLDAsMTI2LjU4LDE5MCwxMS41NiwxMS41NiwwLDAsMCwxMzguMTIsMjAxLjUyWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNODIuMSwxLjI0QTg5LjMzLDg5LjMzLDAsMSwxLDEsOTguMTIsODkuNDMsODkuNDMsMCwwLDEsODIuMSwxLjI0Wm0xMy42NywxNTRBNjUuMjksNjUuMjksMCwxLDAsMjUsOTYsNjUuMzcsNjUuMzcsMCwwLDAsOTUuNzcsMTU1LjI1WiIvPjwvc3ZnPg==)}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .icon-container.notice[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAgMjI1Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojY2E1NTlmO308L3N0eWxlPjwvZGVmcz48dGl0bGU+YWxlcnRfYmdfaWNvbl9hbmd1bGFyLS1ub3RpY2U8L3RpdGxlPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTE2LjE3LDc3LjI5SDYzLjVBNS4xMyw1LjEzLDAsMSwxLDYzLjUsNjdoNTIuNjdhNS4xMyw1LjEzLDAsMCwxLDAsMTAuMjZaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xMTYuMTcsOTYuNzlINjMuNWE1LjEzLDUuMTMsMCwwLDEsMC0xMC4yNmg1Mi42N2E1LjEzLDUuMTMsMCwxLDEsMCwxMC4yNloiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTExNi4xNywxMTYuMjhINjMuNWE1LjEzLDUuMTMsMCwwLDEsMC0xMC4yNmg1Mi42N2E1LjEzLDUuMTMsMCwwLDEsMCwxMC4yNloiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTk0Ljk0LDIwMC45YTExLjYxLDExLjYxLDAsMSwxLTExLjYsMTEuNkExMS42MiwxMS42MiwwLDAsMSw5NC45NCwyMDAuOVptMCwxNy43YTYuMSw2LjEsMCwxLDAtNi4wOS02LjFBNi4xLDYuMSwwLDAsMCw5NC45NCwyMTguNloiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTEzOC4yOCwxNjguNjhBMjEuMywyMS4zLDAsMSwxLDExNywxOTAsMjEuMzMsMjEuMzMsMCwwLDEsMTM4LjI4LDE2OC42OFptMCwzMi44NEExMS41NCwxMS41NCwwLDEsMCwxMjYuNzQsMTkwLDExLjU2LDExLjU2LDAsMCwwLDEzOC4yOCwyMDEuNTJaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik04Mi4yNiwxLjI0QTg5LjMzLDg5LjMzLDAsMSwxLDEuMTksOTguMTIsODkuNDQsODkuNDQsMCwwLDEsODIuMjYsMS4yNFptMTMuNjgsMTU0QTY1LjI5LDY1LjI5LDAsMSwwLDI1LjEzLDk2LDY1LjM3LDY1LjM3LDAsMCwwLDk1Ljk0LDE1NS4yNVoiLz48L3N2Zz4=)}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .icon-container.success[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAgMjI1Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojODJjMzQxO308L3N0eWxlPjwvZGVmcz48dGl0bGU+YWxlcnRfYmdfaWNvbl9hbmd1bGFyLS1zdWNjZXNzPC90aXRsZT48cGF0aCBjbGFzcz0iYSIgZD0iTTc4LjE3LDEyOC4zNGE1LjcsNS43LDAsMCwxLTQuMjktMkw1MS42OSwxMDEuMjdhNS43Miw1LjcyLDAsMSwxLDguNTgtNy41N2wxNy40LDE5LjY5LDQxLTU4LjIyYTUuNzQsNS43NCwwLDAsMSw0LjY5LTIuNDMsNS42NSw1LjY1LDAsMCwxLDMuMjksMSw1LjczLDUuNzMsMCwwLDEsMS4zOSw4TDgyLjg1LDEyNS45MWE1LjY3LDUuNjcsMCwwLDEtNC4zOCwyLjQyWiIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNOTQuNzgsMjAwLjlhMTEuNjEsMTEuNjEsMCwxLDEtMTEuNjEsMTEuNkExMS42MiwxMS42MiwwLDAsMSw5NC43OCwyMDAuOVptMCwxNy43YTYuMSw2LjEsMCwxLDAtNi4wOS02LjFBNi4xLDYuMSwwLDAsMCw5NC43OCwyMTguNloiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTEzOC4xMiwxNjguNjhhMjEuMywyMS4zLDAsMSwxLTIxLjMsMjEuM0EyMS4zMiwyMS4zMiwwLDAsMSwxMzguMTIsMTY4LjY4Wm0wLDMyLjg0QTExLjU0LDExLjU0LDAsMSwwLDEyNi41OCwxOTAsMTEuNTYsMTEuNTYsMCwwLDAsMTM4LjEyLDIwMS41MloiLz48cGF0aCBjbGFzcz0iYSIgZD0iTTgyLjEsMS4yNEE4OS4zMyw4OS4zMywwLDEsMSwxLDk4LjEyLDg5LjQzLDg5LjQzLDAsMCwxLDgyLjEsMS4yNFptMTMuNjcsMTU0QTY1LjI5LDY1LjI5LDAsMSwwLDI1LDk2LDY1LjM3LDY1LjM3LDAsMCwwLDk1Ljc3LDE1NS4yNVoiLz48L3N2Zz4=)}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .icon-container.bubbling[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxODAgMjI1Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDojMDBiMWQwO30uYntmaWxsLXJ1bGU6ZXZlbm9kZDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFsZXJ0X2JnX2ljb25fYW5ndWxhci0tc3VjY2VzcyBjb3B5PC90aXRsZT48cGF0aCBjbGFzcz0iYSIgZD0iTTk0Ljc4LDIwMC45YTExLjYxLDExLjYxLDAsMSwxLTExLjYxLDExLjZBMTEuNjIsMTEuNjIsMCwwLDEsOTQuNzgsMjAwLjlabTAsMTcuN2E2LjEsNi4xLDAsMSwwLTYuMDktNi4xQTYuMSw2LjEsMCwwLDAsOTQuNzgsMjE4LjZaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik0xMzguMTIsMTY4LjY4YTIxLjMsMjEuMywwLDEsMS0yMS4zLDIxLjNBMjEuMzIsMjEuMzIsMCwwLDEsMTM4LjEyLDE2OC42OFptMCwzMi44NEExMS41NCwxMS41NCwwLDEsMCwxMjYuNTgsMTkwLDExLjU2LDExLjU2LDAsMCwwLDEzOC4xMiwyMDEuNTJaIi8+PHBhdGggY2xhc3M9ImEiIGQ9Ik04Mi4xLDEuMjRBODkuMzMsODkuMzMsMCwxLDEsMSw5OC4xMiw4OS40Myw4OS40MywwLDAsMSw4Mi4xLDEuMjRabTEzLjY3LDE1NEE2NS4yOSw2NS4yOSwwLDEsMCwyNSw5Niw2NS4zNyw2NS4zNywwLDAsMCw5NS43NywxNTUuMjVaIi8+PHBhdGggY2xhc3M9ImIiIGQ9Ik0xMjUuNzQsMTE5LjIyLDg4LDgxLjQzQTI0LjIzLDI0LjIzLDAsMCwwLDU2LjY4LDUwLjE3TDcxLjg0LDY1LjMyVjc5LjM4SDU3Ljc4TDQyLjYyLDY0LjIzQTI0LjIzLDI0LjIzLDAsMCwwLDczLjg5LDk1LjQ5bDM3Ljc5LDM3Ljc5YTkuOTQsOS45NCwwLDEsMCwxNC4wNi0xNC4wNlptLTQsMTAuMWE1LjA2LDUuMDYsMCwxLDEsMC03LjE1QTUuMDYsNS4wNiwwLDAsMSwxMjEuNzgsMTI5LjMyWiIvPjxwYXRoIGNsYXNzPSJiIiBkPSJNOTYuMjgsNzcuMjRsLS4xNy4xNmMtLjEuNjgtLjIyLDEuMzUtLjM3LDJMMTA5LDkyLjYzQTUsNSwwLDAsMSwxMTAsOTFjMS44LTEuOCw0LjkyLTEuNCw0LjkyLTEuNGwxNS4yLTE1LjJhMTIuMTksMTIuMTksMCwxLDAtMTcuMjUtMTcuMjRsLTE1LjIsMTUuMlM5OC43OSw3NC43NCw5Ni4yOCw3Ny4yNFoiLz48cG9seWdvbiBjbGFzcz0iYiIgcG9pbnRzPSI4MC4yNiAxMTEuNjYgNzUuNTkgMTA2Ljk5IDU5LjUzIDEyMy4wNSA1Ny43IDEyMS4yMyA1MS4xOCAxMzAuMiA1Ny4xOCAxMzYuMTkgNjYuMDMgMTI5LjU1IDY0LjIgMTI3LjcyIDgwLjI2IDExMS42NiIvPjwvc3ZnPg==)}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{flex-grow:0;padding:0 10px}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;padding:0 10px}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-problem[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;font-size:16px;line-height:1.4;overflow-wrap:break-word}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-resolution[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:14px;color:#6e848f;line-height:1.4;word-wrap:break-word;word-break:break-word;margin-top:16px;margin-bottom:24px}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-group--secondary[_ngcontent-%COMP%]:not(:first-child){margin-top:10px}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .error-container__additional-details[_ngcontent-%COMP%]   .error-problem[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   .error-container__additional-details[_ngcontent-%COMP%]   .error-resolution[_ngcontent-%COMP%]{font-size:13px}.bubble-spinner[_ngcontent-%COMP%]{box-sizing:initial;width:60px;height:60px;left:82px;top:38px;border-radius:50%;position:absolute;overflow:hidden;background-color:#fff;box-shadow:1px 0 9px #0f123638;transform:scale(2.14)}@media (max-width: 47.99em){.bubble-spinner[_ngcontent-%COMP%]{transform:scale(1.5);left:16px;top:18px}}@media (max-width: 41.74em){.bubble-spinner[_ngcontent-%COMP%]{transform:scale(1.2);left:14px;top:10px}}.bubble-spinner__bubbles[_ngcontent-%COMP%]{margin:0;list-style:none;padding:0;position:relative;left:10px;bottom:-60px}.bubble-spinner__bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;border-radius:50%;box-sizing:border-box;overflow:visible}.bubble-spinner__bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){width:16px;height:16px;left:18px;border:3px solid #ca559f;animation:cssload-move 2.4s linear infinite,cssload-opa 2.4s ease-in-out infinite alternate,cssload-size 2.4s ease-in-out infinite;animation-delay:-.48s}.bubble-spinner__bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){width:15px;height:15px;left:20px;border:3px solid #82c341;animation:cssload-move 1.9s linear infinite,cssload-opa 1.9s ease-in-out infinite alternate,cssload-size 1.9s ease-in-out infinite;animation-delay:-.76s}.bubble-spinner__bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){width:13px;height:13px;left:15px;border:3px solid #00b1d0;animation:cssload-move 1.3s linear infinite,cssload-opa 1.3s ease-in-out infinite alternate,cssload-size 1.3s ease-in-out infinite;animation-delay:-.78s}.bubble-spinner__bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){width:18px;height:18px;left:7px;border:3px solid #fcb116;animation:cssload-move 1.7s linear infinite,cssload-opa 1.7s ease-in-out infinite alternate,cssload-size 1.7s ease-in-out infinite;animation-delay:-1.36s}.bubble-spinner__bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){width:11px;height:11px;left:4px;border:3px solid #f37021;animation:cssload-move 2s linear infinite,cssload-opa 2s ease-in-out infinite alternate,cssload-size 2s ease-in-out infinite}@keyframes cssload-size{0%{transform:scale(.4)}to{transform:scale(1)}}@keyframes cssload-move{0%{bottom:-6px}to{bottom:56px}}@keyframes cssload-opa{0%{opacity:0}50%{opacity:.88}84.2%{opacity:.9}100.0%{opacity:0}}"],changeDetection:0}),R})();var O=r(7633);const S={disableClose:!1};let x=(()=>{class R{constructor(k){this.dialogSvc=k}show(k,V){var ne,$;const q=Object.assign(Object.assign({},S),V),X=this.isError(k)?{error_list:[k]}:k;if(X.visible_errors=null===(ne=X.error_list)||void 0===ne?void 0:ne.filter(de=>"show"===de.visibility||de.client_facing),(null===($=X.visible_errors)||void 0===$?void 0:$.length)&&X.visible_errors.length)return this.dialogSvc.open(D,{disableClose:q.disableClose,data:{errors:X,title:q.title}})}showWarnings(k,V){const ne=Object.assign({title:$localize`:@@warning:Warning`},V),$=this.isError(k)?{error_list:[k]}:k;$.error_list.forEach(q=>q.severity="warning"),this.show($,ne)}isError(k){return k.severity}}return R.\u0275fac=function(k){return new(k||R)(h.LFG(O.xA))},R.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac,providedIn:"any"}),R})();class L{constructor(G,k){this.actions$=G,this.errorDialogSvc=k,this.showErrorEffect$=this.actions$.pipe((0,v.l)(c.f.errorsIntercepted),(0,p.U)(V=>V.payload),(0,d.b)(V=>this.errorDialogSvc.show(V)),(0,g.n)()),this.showWarningEffect$=this.actions$.pipe((0,v.l)(a.X.warningsIntercepted),(0,p.U)(V=>V.payload),(0,d.b)(V=>this.errorDialogSvc.showWarnings(V)),(0,g.n)())}}L.\u0275fac=function(G){return new(G||L)(h.LFG(u.eX),h.LFG(x))},L.\u0275prov=h.Yz7({token:L,factory:L.\u0275fac}),(0,o.gn)([(0,u.Qm)()],L.prototype,"showErrorEffect$",void 0),(0,o.gn)([(0,u.Qm)()],L.prototype,"showWarningEffect$",void 0)},8923:(ot,pe,r)=>{"use strict";r.d(pe,{rx:()=>se,_N:()=>y,zW:()=>Se,UQ:()=>It,vU:()=>Xt,B1:()=>Rt,oy:()=>f.o,hR:()=>_t,c4:()=>he,T6:()=>$t,AU:()=>Oi,Lq:()=>Oo,u2:()=>qo,p$:()=>Un,hm:()=>no,Dn:()=>fo,rG:()=>$i,c:()=>fn,LH:()=>Wt,CE:()=>oi,I0:()=>Yi,hO:()=>je,G:()=>Ho,GK:()=>ci,oV:()=>Wo,Hz:()=>ur,Jw:()=>so,Nm:()=>dr,qx:()=>Yo,ei:()=>xr,iv:()=>Lt.iv,cE:()=>Lt.cE,nM:()=>Te,KU:()=>_e,dp:()=>vn,z:()=>jt,XX:()=>ms,lE:()=>ic,a:()=>nl,HR:()=>tl});var o=r(9808),c=r(3075),g=r(7423),a=r(8966),u=r(1125),v=r(9814),p=r(7322),d=r(8833),h=r(5524),_=r(348),e=r(5e3);let E=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,_.C]]}),H})();var f=r(6950);let y=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,c.u5,c.UX,g.ot,a.Is,v.Fk,p.lN,d.c,u.To,h.M,f.o,E]]}),H})();var s=r(4092),C=r(7579),b=r(1135),A=r(9646),I=r(5698),D=r(8505),O=r(262),S=r(8746),x=r(4004),L=r(9517),R=r(3900),G=r(4256),k=r(4716),V=r(4157),ne=r(6700),$=r(532),q=r(283),X=r(2313),de=r(6955);function fe(H,Le){1&H&&(e.TgZ(0,"div"),e.SDv(1,7),e.qZA())}let We=(()=>{class H{constructor(P,U){this.cdRef=P,this.sanitizer=U,this.file=new e.vpe,this.maxFileSize=q.T,this.supportedImageTypes=q.d,this.showPreviewWarning=!1,this.imgError=!1}ngOnChanges(P){var U,Pe;P.rollAuthor&&(this.imgSrc=(null===(Pe=null===(U=this.rollAuthor)||void 0===U?void 0:U.personality)||void 0===Pe?void 0:Pe.avatar_thumb_url)||"/assets/img/misc/image-upload-no-selection.png")}onImageSelection(P){this.imgError=!1;const U=P[0];this.file.emit(U);const Pe=new FileReader;Pe.onload=tt=>{this.imgSrc=this.sanitizer.bypassSecurityTrustUrl(tt.target.result),this.cdRef.markForCheck()},Pe.readAsDataURL(U)}onImgLoad(){this.imgError||(this.showPreviewWarning=!1)}onImgError(P){this.imgError=!0,this.imgSrc="/assets/img/misc/image-upload-no-preview.png",this.showPreviewWarning=!0,this.cdRef.markForCheck()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(e.sBO),e.Y36(X.H7))},H.\u0275cmp=e.Xpm({type:H,selectors:[["author-image-upload"]],inputs:{rollAuthor:"rollAuthor"},outputs:{file:"file"},features:[e.TTD],decls:8,vars:5,consts:function(){let Le,P;return Le=$localize`:@@authorImageUploadInstructions36e292c4f636b0e64e4da7132e32595f622b84eb8567800897431511514:Click or tap the circle to select a picture`,P=$localize`:@@authorImageUploadPreviewWarning321dcf878c31d718eece3cc797164ce3b20b8cd87903686425028951142:The avatar preview will be available after clicking save.`,[[1,"author-image__message-block"],[4,"ngIf"],["name","imagePreview","id","imagePreview",1,"author-image__preview"],[3,"src","load","error"],[3,"accept","multiple","maxSize","selection"],["for","imagePreview",1,"author-image__label"],Le,P]},template:function(P,U){1&P&&(e.TgZ(0,"div",0),e.YNc(1,fe,2,0,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"img",3),e.NdJ("load",function(){return U.onImgLoad()})("error",function(tt){return U.onImgError(tt)}),e.qZA(),e.TgZ(4,"file-picker",4),e.NdJ("selection",function(tt){return U.onImageSelection(tt)}),e.qZA()(),e.TgZ(5,"label",5)(6,"div"),e.SDv(7,6),e.qZA()()),2&P&&(e.xp6(1),e.Q6J("ngIf",U.showPreviewWarning),e.xp6(2),e.Q6J("src",U.imgSrc,e.LSH),e.xp6(1),e.Q6J("accept",U.supportedImageTypes)("multiple",!1)("maxSize",U.maxFileSize))},directives:[o.O5,de.P],styles:["[_nghost-%COMP%]{display:block;margin-top:4px}[_nghost-%COMP%]   .author-image__preview[_ngcontent-%COMP%]{margin-top:4px;position:relative;overflow:hidden;height:96px;width:96px;background-size:cover;background-position:center;background-clip:content-box;border:2px solid #1acde5;border-radius:100%}[_nghost-%COMP%]   .author-image__preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;height:100%;width:100%}[_nghost-%COMP%]   .author-image__preview[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0}[_nghost-%COMP%]   .author-image__message-block[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]   .author-image__label[_ngcontent-%COMP%]{display:block;font-size:12px;text-transform:none;color:#1acde5}"],changeDetection:0}),H})();function Ne(H,Le){1&H&&e._UZ(0,"blocking-spinner")}function dt(H,Le){if(1&H){const P=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field",18)(2,"mat-label"),e.SDv(3,19),e.qZA(),e._UZ(4,"input",20),e.qZA(),e.TgZ(5,"div")(6,"label"),e.tHW(7,21),e._UZ(8,"strong"),e.N_p(),e.qZA(),e.TgZ(9,"div")(10,"author-image-upload",22),e.NdJ("file",function(Pe){return e.CHM(P),e.oxw().onFileSelection(Pe)}),e.qZA()()(),e.BQk()}if(2&H){const P=e.oxw();e.xp6(10),e.Q6J("rollAuthor",null==P.roll?null:P.roll.author)}}function ge(H,Le){if(1&H&&(e.TgZ(0,"div"),e.tHW(1,23),e._UZ(2,"a",24),e.N_p(),e.qZA()),2&H){const P=e.oxw();e.xp6(2),e.Q6J("href",P.premiumUrl,e.LSH)}}var Je=(()=>{return(H=Je||(Je={})).Profile="profile",H.Personality="personality",H.Hide="hide",Je;var H})();let se=(()=>{class H{constructor(P,U,Pe,tt,Dt,Tt,qt,sn){this.fb=P,this.dialogRef=U,this.uiQuery=Pe,this.userQuery=tt,this.urlService=Dt,this.logger=Tt,this.mediaSvc=qt,this.rollsSvc=sn,this.busy$=new C.x,this.Choices=Je,this.viewInit$=new b.X(!1)}ngOnInit(){this.premiumUrl=this.urlService.planManagement,this.roll=this.uiQuery.getRoll();const{personality:P}=this.roll.author;this.form=this.fb.group({choice:P?Je.Personality:Je.Profile,authorName:(null==P?void 0:P.name)||"",file:""}),this.allowPersonality$=this.userQuery.selectIsFeatureAllowed(s.G.PERSONALITY_EDIT)}ngAfterViewInit(){setTimeout(()=>this.viewInit$.next(!0))}dismiss(){this.dialogRef.close()}onFileSelection(P){this.form.get("file").setValue(P)}onSubmit(){this.busy$.next(!0);const P=this.form.value;let U;switch(P.choice){case Je.Profile:U=this.deletePersonality();break;case Je.Personality:U=this.createPersonality(P.file,P.authorName);break;case Je.Hide:U=this.hideAuthorInfo()}U.pipe((0,I.q)(1),(0,D.b)(()=>this.dialogRef.close()),(0,O.K)(Pe=>{throw this.logger.error("AuthorInfoDialogComponent.onSubmit",Pe),Pe}),(0,S.x)(()=>this.busy$.next(!1))).subscribe()}get formValid(){var P,U,Pe,tt;const Dt=this.form.value;if(Dt.choice===Je.Personality){const Tt=!!(null===(U=null===(P=this.roll.author)||void 0===P?void 0:P.personality)||void 0===U?void 0:U.avatar_thumb_url),qt=Dt.authorName!==((null===(tt=null===(Pe=this.roll.author)||void 0===Pe?void 0:Pe.personality)||void 0===tt?void 0:tt.name)||""),sn=!!Dt.file;return Tt&&(sn||qt)||sn}return!0}createPersonality(P,U){const Pe=P?this.mediaSvc.uploadImage(P).pipe((0,x.U)(Dt=>Dt.token)):(0,A.of)(null);return(0,A.of)(U).pipe((0,L.V)(Pe),(0,R.w)(([Dt,Tt])=>{const qt={token:this.roll.token};return qt.override_author_name=Dt,Tt&&(qt.override_author_image_token=Tt),this.rollsSvc.update(qt)}))}deletePersonality(){return this.rollsSvc.deletePersonality(this.roll.token)}hideAuthorInfo(){return this.rollsSvc.update({token:this.roll.token,hide_author_info:!0})}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(c.qu),e.Y36(a.so),e.Y36(s.YU),e.Y36(s.fE),e.Y36(G.i),e.Y36(k.m),e.Y36(V.I),e.Y36(s.u5))},H.\u0275cmp=e.Xpm({type:H,selectors:[["author-info-dialog"]],decls:32,vars:25,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn;return Le=$localize`:15b17d4458d7ae40447e937a7b9a5feb8d42ca2c6039769667707208023:Set author information for this roll`,P=$localize`:ae15ed21a20016cfee14e3f170e523e6e62bbda72794560381984606731:Use my profile`,U=$localize`:6e93ae7c6ea36a8a5af87b476594c54cbb89b8866942144477852854744:Use different name and avatar`,Pe=$localize`:7d2ddd9ce8be527422c9f985bf91ad60eb6d64fc8243571213748136121:Hide author info`,tt=$localize`:026237618938cd5116433efd242274ea35a0f3603423195494210518319:The author info can be restored by using the (...) menu on the roll cover.`,Dt=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,Tt=$localize`:@@save52c9a103b812f258bcddc3d90a6e3f46871d25fe3768927257183755959:Save`,qt=$localize`:ffb4f149b18f28b55da6d1917ebc718f253110733775096405827497844:Author name`,sn=$localize`:ecde4e8e58d281b12bf1274301a1e2d6cc541d299215016985584342459:Name not provided - will be blank`,pn=$localize`:334417af5f62ab2fd3cbf9e5f00e72be301f3fb12026948097638988339:Author picture ${"\ufffd#8\ufffd"}:START_TAG_STRONG:(required)${"\ufffd/#8\ufffd"}:CLOSE_TAG_STRONG:`,Cn=$localize`:be13bfe29d9a340ba991e7b5d0002d308e7751aa4252983009724836527:To use this feature, upgrade to ${"\ufffd#2\ufffd"}:START_LINK:a premium plan${"\ufffd/#2\ufffd"}:CLOSE_LINK:.`,[[4,"ngIf"],["mat-dialog-title",""],Le,["id","aiform",1,"author-info-dialog__choices",3,"formGroup","ngSubmit"],["formControlName","choice"],["color","primary",3,"value"],P,U,[1,"borderless",3,"expanded"],[1,"author-info-dialog__choice-content"],[4,"ngIf","ngIfElse"],Pe,tt,["mat-stroked-button","","color","primary",3,"disabled","click"],Dt,["mat-flat-button","","type","submit","form","aiform","color","primary",3,"disabled"],Tt,["upgrade",""],["color","primary","floatLabel","always"],qt,["matInput","","type","text","formControlName","authorName","placeholder",sn],pn,[3,"rollAuthor","file"],Cn,["target","_blank","rel","noopener",1,"author-info-dialog__premium-link",3,"href"]]},template:function(P,U){if(1&P&&(e.YNc(0,Ne,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss"),e.TgZ(3,"header",1),e.SDv(4,2),e.qZA(),e.TgZ(5,"mat-dialog-content")(6,"form",3),e.NdJ("ngSubmit",function(){return U.onSubmit()}),e.TgZ(7,"mat-radio-group",4)(8,"mat-radio-button",5),e.SDv(9,6),e.qZA(),e.TgZ(10,"mat-radio-button",5),e.SDv(11,7),e.qZA(),e.TgZ(12,"mat-expansion-panel",8),e.ALo(13,"async"),e.TgZ(14,"div",9),e.YNc(15,dt,11,1,"ng-container",10),e.ALo(16,"async"),e.qZA()(),e.TgZ(17,"mat-radio-button",5),e.SDv(18,11),e.qZA(),e.TgZ(19,"mat-expansion-panel",8),e.ALo(20,"async"),e.TgZ(21,"div",9),e.SDv(22,12),e.qZA()()()()(),e.TgZ(23,"mat-dialog-actions")(24,"button",13),e.NdJ("click",function(){return U.dismiss()}),e.SDv(25,14),e.ALo(26,"async"),e.qZA(),e.TgZ(27,"button",15),e.SDv(28,16),e.ALo(29,"async"),e.qZA()(),e.YNc(30,ge,3,1,"ng-template",null,17,e.W1O)),2&P){const Pe=e.MAs(31);e.Q6J("ngIf",e.lcZ(1,13,U.busy$)),e.xp6(6),e.Q6J("formGroup",U.form),e.xp6(2),e.Q6J("value",U.Choices.Profile),e.xp6(2),e.Q6J("value",U.Choices.Personality),e.xp6(2),e.Q6J("expanded",U.form.get("choice").value===U.Choices.Personality)("@.disabled",!e.lcZ(13,15,U.viewInit$)),e.xp6(3),e.Q6J("ngIf",e.lcZ(16,17,U.allowPersonality$))("ngIfElse",Pe),e.xp6(2),e.Q6J("value",U.Choices.Hide),e.xp6(2),e.Q6J("expanded",U.form.get("choice").value===U.Choices.Hide)("@.disabled",!e.lcZ(20,19,U.viewInit$)),e.xp6(5),e.Q6J("disabled",e.lcZ(26,21,U.busy$)),e.xp6(3),e.Q6J("disabled",!U.formValid||!0===e.lcZ(29,23,U.busy$))}},directives:[o.O5,ne.n,$.k,a.uh,a.xY,c._Y,c.JL,c.sg,v.VQ,c.JJ,c.u,v.U0,u.ib,p.KE,p.hX,d.Nt,c.Fj,We,a.H8,g.lW],pipes:[o.Ov],styles:[".author-info-dialog__choices{padding:8px 0}.author-info-dialog__choices mat-radio-group{display:flex;flex-direction:column;text-transform:lowercase}.author-info-dialog__choices mat-label,.author-info-dialog__choices input::placeholder,.author-info-dialog__choices label{text-transform:lowercase}.author-info-dialog__choice-content{margin-left:20px;padding:4px 0 4px 8px;text-transform:none}.author-info-dialog__choice-content mat-form-field{width:300px}.author-info-dialog__premium-link{color:var(--bu-brand__color)}\n"],encapsulation:2,changeDetection:0}),H})();var Re=r(2926);let pt=(()=>{class H{constructor(P,U){this.dialogRef=P,this.data=U}dismiss(){this.dialogRef.close()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["clone-success-dialog"]],decls:9,vars:1,consts:function(){let Le,P,U;return Le=$localize`:@@copySuccessful92193ced48ec082c31ff153ce2fabc16e4a807e2684080585800490539:Copy successful`,P=$localize`:9fec51ad44f65bad6e45e355b2b83a33fba7a06c5862809574422670889:Copying the roll was successful. Use the link below to open your new roll.`,U=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,[["mat-dialog-title",""],Le,P,[3,"href","click"],["mat-flat-button","","color","primary",3,"click"],U]},template:function(P,U){1&P&&(e.TgZ(0,"header",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"p"),e.SDv(4,2),e.qZA(),e.TgZ(5,"simple-link",3),e.NdJ("click",function(){return U.dismiss()}),e.qZA()(),e.TgZ(6,"mat-dialog-actions")(7,"button",4),e.NdJ("click",function(){return U.dismiss()}),e.SDv(8,5),e.qZA()()),2&P&&(e.xp6(5),e.Q6J("href",null==U.data||null==U.data.clone?null:U.data.clone.url))},directives:[a.uh,a.xY,Re.B,a.H8,g.lW],styles:["clone-success-dialog p{margin:0 0 16px}clone-success-dialog simple-link,clone-success-dialog .link{display:inline-block;width:100%}\n"],encapsulation:2}),H})();var ht=r(7633);let It=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(pt,{data:P})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"any"}),H})();var De=r(8581);let Se=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,g.ot,a.Is,f.o,De.Y]]}),H})();var Ae=r(6970);function lt(H,Le){1&H&&(e.TgZ(0,"p"),e.SDv(1,8),e.qZA())}let Ze=(()=>{class H{constructor(P,U,Pe){this.metaSvc=P,this.dialogRef=U,this.data=Pe}dismiss(){this.dialogRef.close()}get isSection(){return this.metaSvc.isSection(this.data.entity)}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(Ae.Gl),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["confirm-remove-image-dialog"]],decls:12,vars:3,consts:function(){let Le,P,U,Pe,tt;return Le=$localize`:@@confirm68e710782ccb5398b3acb8844caf0b199da2c3da9178182467454450952:Confirm`,P=$localize`:fa874f0a998be8974d5e702bdaff590209bdf4cf2267734247332661734:Are you sure you want to remove this image?`,U=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,Pe=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,tt=$localize`:751fee3f56914c58765e228608b167675e205c805866044982593991517:Note that folders require an image, so this will not change your source folder in My Stuff.`,[["mat-dialog-title",""],Le,P,[4,"ngIf"],["mat-stroked-button","","color","primary",3,"mat-dialog-close"],U,["mat-flat-button","","color","primary",3,"mat-dialog-close"],Pe,tt]},template:function(P,U){1&P&&(e._UZ(0,"dialog-dismiss"),e.TgZ(1,"header",0),e.SDv(2,1),e.qZA(),e.TgZ(3,"mat-dialog-content")(4,"div"),e.SDv(5,2),e.qZA(),e.YNc(6,lt,2,0,"p",3),e.qZA(),e.TgZ(7,"mat-dialog-actions")(8,"button",4),e.SDv(9,5),e.qZA(),e.TgZ(10,"button",6),e.SDv(11,7),e.qZA()()),2&P&&(e.xp6(6),e.Q6J("ngIf",U.isSection),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(2),e.Q6J("mat-dialog-close",!0))},directives:[$.k,a.uh,a.xY,o.O5,a.H8,g.lW,a.ZT],styles:["[_nghost-%COMP%]{display:block}"]}),H})(),Rt=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(Ze,{data:P})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"any"}),H})();var Gt=r(773);let Xt=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,f.o,g.ot,a.Is,Gt.Cq]]}),H})();var kt=r(2722),qe=r(9300),me=r(7638),ce=r(7261),Y=r(515),we=r(7688),be=r(4351),Me=r(4326),ze=r(7518);const mt=function(H){return{"footer-status-message--error":H}};let vt=(()=>{class H{constructor(P,U,Pe,tt){this.sbRef=P,this.data=U,this.mediaAccessSvc=Pe,this.metaSvc=tt,this.maxFrames=200,this.interOpDelay=1e3,this.frameAttr="bu-download-frame",this.done=!1,this.rejections=0,this.initiated=0,this.total=0,this.canceled=!1,this.total=this.data.items.length}ngOnInit(){this.downloadNext().pipe((0,S.x)(()=>{this.done=!0,0===this.rejections&&setTimeout(()=>this.dismiss(),this.interOpDelay)})).subscribe()}dismiss(){this.canceled=!0,this.sbRef.dismiss()}startDownloadWorker(){const P=new Worker(r.tu(new URL(r.p+r.u(374),r.b))),U=this.data.items.map(Pe=>Pe.source.url);P.postMessage(JSON.stringify({urls:U}))}downloadNext(){return(0,A.of)(void 0).pipe((0,we.j)(()=>this.total&&!this.canceled?this.doDownload(this.data.items.shift()):Y.E))}doDownload(P){if(!P)return Y.E;this.initiated++;let U=this.interOpDelay;return this.mediaAccessSvc.checkAccess$(P,!1).pipe((0,x.U)(Pe=>Pe.allowed),(0,D.b)(Pe=>{if(Pe){let tt=`${P.source.url}?content_disposition=attachment&slug=${Date.now()}`;this.data.choice!==me.K3.Cancel&&(tt+=`&version=${this.data.choice}`);const Dt=H.lastFrameNum+1;let Tt;try{const qt=window.document.querySelector(`iframe[${this.frameAttr}="${Dt}"]`);qt&&window.document.body.removeChild(qt),Tt=window.document.createElement("iframe"),Tt.setAttribute(this.frameAttr,`${Dt}`),Tt.style.display="none",Tt.src=tt,window.document.body.appendChild(Tt),H.lastFrameNum=Dt<this.maxFrames?Dt:1}catch(qt){Tt&&window.document.body.removeChild(Tt)}}else this.rejections++,U=0}),(0,be.b)(Pe=>(0,A.of)(Pe).pipe((0,Me.g)(U))))}}return H.lastFrameNum=0,H.\u0275fac=function(P){return new(P||H)(e.Y36(ce.OX),e.Y36(ce.qD),e.Y36(ze.X),e.Y36(Ae.Gl))},H.\u0275cmp=e.Xpm({type:H,selectors:[["download-progress-snack"]],decls:9,vars:7,consts:function(){let Le,P,U,Pe,tt,Dt;return Le=$localize`:@@downloadsProgressTitle6a66f7b3aeebb8f63d58e87bba3d9f0d30d08cec5106131481992504448:Downloading`,P=$localize`:@@downloadsProgressFeedback25fe7dd8740264293683f74887be994ea87e7e666301601419204132721:Your downloads may take a while to complete, depending on your network. Check that they have all been downloaded before leaving this roll.`,U=$localize`:fc6c1c772029fdff23a6378ef56aee04e5b0cd1f6299819844924293276:{VAR_PLURAL, plural, =1 {download} other {downloads}}`,U=e.Zx4(U,{VAR_PLURAL:"\ufffd2\ufffd"}),Pe=$localize`:a7aa4839926ed3789c8bfec23daaf8ea6de2d8c03731043864313172726:{VAR_SELECT, select, true {blocked} other {started}}`,Pe=e.Zx4(Pe,{VAR_SELECT:"\ufffd3\ufffd"}),tt=$localize`:@@downloadStatusMessage4206d78b1a9741e8392ba0498d97ac641776ff846243348419068681103:${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: ${U}:ICU: ${Pe}:ICU_1:`,Dt=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,[Le,P,[1,"footer-status-message",3,"ngClass"],tt,["mat-stroked-button","","color","primary",3,"click"],Dt]},template:function(P,U){1&P&&(e.TgZ(0,"header"),e.SDv(1,0),e.qZA(),e.TgZ(2,"div"),e.SDv(3,1),e.qZA(),e.TgZ(4,"footer")(5,"div",2),e.SDv(6,3),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return U.dismiss()}),e.SDv(8,5),e.qZA()()),2&P&&(e.xp6(5),e.Q6J("ngClass",e.VKq(5,mt,U.done&&U.rejections>0)),e.xp6(1),e.pQV(U.done&&U.rejections||U.initiated)(U.total)(U.total)(U.done&&U.rejections>0),e.QtT(6))},directives:[o.mk,g.lW],styles:["[_nghost-%COMP%]{color:#726e74}[_nghost-%COMP%]   header[_ngcontent-%COMP%]{font-size:18px;text-transform:lowercase;margin-bottom:16px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid #c0cbd0;margin-top:16px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .footer-status-message[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .footer-status-message--error[_ngcontent-%COMP%]{color:var(--ui-status__color--error)}"]}),H})();var Lt=r(1596),Bt=r(3328),an=r(7746),Kt=r(4933),gt=r(8478),xt=r(7395);function Nt(H,Le){1&H&&e._UZ(0,"roll-icon",8)}function Ke(H,Le){1&H&&e._UZ(0,"roll-icon",9)}function Et(H,Le){1&H&&e._UZ(0,"roll-icon",10)}function et(H,Le){1&H&&e._UZ(0,"roll-icon",11)}function nt(H,Le){1&H&&(e.TgZ(0,"div",12),e._UZ(1,"roll-icon",13),e.qZA())}function Be(H,Le){1&H&&(e.TgZ(0,"div",14),e._UZ(1,"mat-spinner",15),e.qZA())}let Ce=(()=>{class H{constructor(P){this.metaSvc=P,this.loading=!0,this.onSelectionChange=new e.vpe}onClick(){this.listItem.selected=!this.listItem.selected,this.onSelectionChange.emit(this.listItem)}imgSrc(){var P,U;const Pe=null===(U=null===(P=this.listItem)||void 0===P?void 0:P.entity)||void 0===U?void 0:U.image_info;return(null==Pe?void 0:Pe.thumb_from_gif_url)||(null==Pe?void 0:Pe.thumb_url)}isAudio(){return this.metaSvc.isAudio(this.listItem.entity)}isGif(){return this.metaSvc.isGif(this.listItem.entity)}isImage(){return this.metaSvc.isImage(this.listItem.entity)&&!this.isGif()}isVideo(){return this.metaSvc.isVideo(this.listItem.entity)}onImageLoad(){this.loading=!1}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(Ae.Gl))},H.\u0275cmp=e.Xpm({type:H,selectors:[["download-list-item"]],hostBindings:function(P,U){1&P&&e.NdJ("click",function(){return U.onClick()})},inputs:{listItem:"listItem"},outputs:{onSelectionChange:"onSelectionChange"},decls:8,vars:7,consts:[["loading","lazy","draggable","false",3,"src","load"],[1,"download-icon-container"],["iconName","audio",4,"ngIf"],["iconName","file-gif",4,"ngIf"],["iconName","image",4,"ngIf"],["iconName","video-camera",4,"ngIf"],["class","selected-icon",4,"ngIf"],["class","load-progress",4,"ngIf"],["iconName","audio"],["iconName","file-gif"],["iconName","image"],["iconName","video-camera"],[1,"selected-icon"],["iconName","check-circle"],[1,"load-progress"],["diameter","32"]],template:function(P,U){1&P&&(e.TgZ(0,"img",0),e.NdJ("load",function(){return U.onImageLoad()}),e.qZA(),e.TgZ(1,"div",1),e.YNc(2,Nt,1,0,"roll-icon",2),e.YNc(3,Ke,1,0,"roll-icon",3),e.YNc(4,Et,1,0,"roll-icon",4),e.YNc(5,et,1,0,"roll-icon",5),e.qZA(),e.YNc(6,nt,2,0,"div",6),e.YNc(7,Be,2,0,"div",7)),2&P&&(e.Q6J("src",U.imgSrc(),e.LSH),e.xp6(2),e.Q6J("ngIf",U.isAudio()),e.xp6(1),e.Q6J("ngIf",U.isGif()),e.xp6(1),e.Q6J("ngIf",U.isImage()),e.xp6(1),e.Q6J("ngIf",U.isVideo()),e.xp6(1),e.Q6J("ngIf",U.listItem.selected),e.xp6(1),e.Q6J("ngIf",U.loading))},directives:[o.O5,xt.p,Gt.Ou],styles:["[_nghost-%COMP%]{height:110px;width:110px;display:flex;align-items:center;justify-content:center;background-color:#d3d3d3;margin:8px;cursor:pointer;position:relative}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain}[_nghost-%COMP%]   .download-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;height:24px;width:24px;background-color:#0009;border-bottom-left-radius:6px}[_nghost-%COMP%]   roll-icon[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .selected-icon[_ngcontent-%COMP%]{display:grid;place-content:center;position:absolute;top:-8px;left:-8px;color:#fff;background-color:green;border:3px solid white;border-radius:50%;height:29px;width:29px}[_nghost-%COMP%]   .selected-icon[_ngcontent-%COMP%]   roll-icon[_ngcontent-%COMP%]{font-size:30px}[disabled=true][_nghost-%COMP%]{pointer-events:none;opacity:.5}[_nghost-%COMP%]   .load-progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}"]}),H})();var ke=r(7238),ve=r(5351);function ae(H,Le){if(1&H){const P=e.EpF();e.ynx(0),e.TgZ(1,"download-list-item",14),e.NdJ("onSelectionChange",function(Pe){return e.CHM(P),e.oxw().onSelectionChange(Pe)}),e.qZA(),e.BQk()}if(2&H){const P=Le.$implicit,U=e.oxw();e.xp6(1),e.Q6J("listItem",P)("matTooltip",U.tooltipText(P.entity)),e.uIk("disabled",U.maxReached&&!P.selected)}}const K={data:{title:$localize`Bulk download`,message:$localize`Your device will ask you to confirm each individual download.`,primaryLabel:$localize`:@@continue:Continue`,secondaryLabel:$localize`:@@cancel:Cancel`,suppressDialogDismiss:!0}};let Ee=(()=>{class H{constructor(P,U,Pe,tt,Dt,Tt,qt,sn,pn){this.downloadChoiceSvc=U,this.uiQuery=Pe,this.snackSvc=tt,this.versionSvc=Dt,this.platformSvc=Tt,this.simpleDialogSvc=qt,this.dialogRef=sn,this.data=pn,this.downloadables$=this.uiQuery.downloadablesMedia$,this.listItems=[],this.totalItems=0,this.selected=[],this.maxDownloads=20,this.isIOS$=(0,A.of)(this.platformSvc.isIOS),this.destroy$=new C.x;try{const Cn=parseInt(P.getParam("maxdl"),10);Cn==Cn&&(this.maxDownloads=Cn)}finally{}}ngOnInit(){this.downloadables$.pipe((0,kt.R)(this.destroy$),(0,x.U)(P=>P.map(U=>({selected:!1,entity:U}))),(0,D.b)(P=>{this.totalItems=P.length,this.listItems=P})).subscribe()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}clear(){this.listItems.forEach(P=>P.selected=!1),this.selected=[]}dismiss(){this.dialogRef.close()}download(){this.isIOS$.pipe((0,kt.R)(this.destroy$),(0,R.w)(P=>P&&this.selected.length>1?this.simpleDialogSvc.open(K).afterClosed():(0,A.of)(Lt.iv.PRIMARY)),(0,qe.h)(P=>P===Lt.iv.PRIMARY),(0,R.w)(()=>this.downloadChoiceSvc.getChoice(this.selected)),(0,qe.h)(P=>P&&P!==me.K3.Cancel),(0,R.w)(P=>this.initiateDownload(P))).subscribe()}tooltipText(P){const Pe=P.title||P.description;return Pe?Pe.length>128?`${Pe.substr(0,128)}...`:Pe:null}onSelectionChange(P){if(P.selected)this.selected.push(P.entity);else{const U=this.selected.indexOf(P.entity);U>-1&&this.selected.splice(U,1)}}get maxReached(){return!(this.selected.length<this.maxDownloads)}initiateDownload(P){return this.versionSvc.checkServer().pipe((0,O.K)(U=>{throw this.snackSvc.open($localize`:@@serverCheckFailMessage:We were not able to contact the download server. Please try again later.`,$localize`:@@ok:OK`),U}),(0,D.b)(()=>{this.dismiss(),this.snackSvc.openFromComponent(vt,{duration:-1,verticalPosition:"bottom",horizontalPosition:"right",panelClass:["roll-snack--download-progress"],data:{choice:P,items:this.selected}})}))}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(Bt.E),e.Y36(me.x2),e.Y36(s.YU),e.Y36(an.f),e.Y36(Kt.P),e.Y36(gt.mi),e.Y36(Lt.cE),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["download-dialog"]],decls:22,vars:10,consts:function(){let Le,P,U,Pe,tt,Dt;return Le=$localize`:@@downloadDialogTitle806d7cf6949b7d993e1159729ffbc80cdaf12f1f7459658349242816521:Download content`,P=$localize`:@@downloadDialogSubtitle031f2580b63fb2125efed1892a70e874fa9ff3617765497272533466039:Select up to 20 items to download at a time`,U=$localize`:@@downloadDialogNumSelectedd83027f64ed27d8126ed3db42c253f8020b0bcbe4275786375965980315:{VAR_PLURAL, plural, =1 {1 item selected} other {{INTERPOLATION} items selected}}`,U=e.Zx4(U,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),Pe=$localize`:@@totalDownloadableItemsa53fd221f007dcc1b9a25ac8ffdc08a45e0b00f21261996304421590236:{VAR_PLURAL, plural, =1 {1 item} other {{INTERPOLATION} items}}`,Pe=e.Zx4(Pe,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),tt=$localize`:@@clear99ee4faa69cd2ea8e3678c1f557c0ff1f05aae468700121026680200191:Clear`,Dt=$localize`:@@downloaddc75033a5238fdc4f462212c847a45ba8018a3fd3099741642167775297:Download`,[["mat-dialog-title",""],Le,P,[1,"selected-items-count"],U,[1,"download-dialog-list-content"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"total-items-count"],Pe,[1,"actions-container"],["mat-stroked-button","","color","primary",3,"disabled","click"],tt,["mat-flat-button","","color","primary",3,"disabled","click"],Dt,["matTooltipTouchGestures","off",3,"listItem","matTooltip","onSelectionChange"]]},template:function(P,U){1&P&&(e._UZ(0,"dialog-dismiss"),e.TgZ(1,"header",0)(2,"span"),e.SDv(3,1),e.qZA(),e.TgZ(4,"header")(5,"div"),e.SDv(6,2),e.qZA(),e.TgZ(7,"div",3),e.SDv(8,4),e.qZA()()(),e._UZ(9,"hr"),e.TgZ(10,"mat-dialog-content",5),e.YNc(11,ae,2,3,"ng-container",6),e.ALo(12,"trackByProperty"),e.qZA(),e._UZ(13,"hr"),e.TgZ(14,"mat-dialog-actions")(15,"div",7),e.SDv(16,8),e.qZA(),e.TgZ(17,"div",9)(18,"button",10),e.NdJ("click",function(){return U.clear()}),e.SDv(19,11),e.qZA(),e.TgZ(20,"button",12),e.NdJ("click",function(){return U.download()}),e.SDv(21,13),e.qZA()()()),2&P&&(e.xp6(8),e.pQV(U.selected.length)(U.selected.length),e.QtT(8),e.xp6(3),e.Q6J("ngForOf",U.listItems)("ngForTrackBy",e.lcZ(12,8,"token")),e.xp6(5),e.pQV(U.totalItems)(U.totalItems),e.QtT(16),e.xp6(2),e.Q6J("disabled",!U.selected.length),e.xp6(2),e.Q6J("disabled",!U.selected.length))},directives:[$.k,a.uh,a.xY,o.sg,Ce,ke.gM,a.H8,g.lW],pipes:[ve.$],styles:["[_nghost-%COMP%]   .download-dialog-list-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:center;flex-wrap:wrap}[_nghost-%COMP%]   .selected-items-count[_ngcontent-%COMP%], [_nghost-%COMP%]   .total-items-count[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{justify-content:space-between}"]}),H})(),he=(()=>{class H{constructor(P){this.dialogSvc=P}open(){return this.dialogSvc.open(Ee)}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"any"}),H})();var Fe=r(1594),Xe=r(3641);let _t=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,f.o,g.ot,a.Is,Gt.Cq,ke.AV,Fe.h,Xe.X]]}),H})();r(2424);var yt=r(5963),at=r(6683),rt=r(7153);const Ct=["titleInput"],Ut=["subtitleInput"],tn=["descriptionInput"];function ln(H,Le){1&H&&e._UZ(0,"blocking-spinner")}function On(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,16),e.qZA())}function Gn(H,Le){1&H&&(e.TgZ(0,"mat-form-field",4)(1,"mat-label"),e.SDv(2,17),e.qZA(),e._UZ(3,"textarea",18,19),e.qZA())}function pi(H,Le){1&H&&(e.ynx(0),e._UZ(1,"trix",20,21),e.BQk())}function jn(H,Le){1&H&&e._UZ(0,"textarea",22,21)}function yi(H,Le){1&H&&(e.TgZ(0,"mat-checkbox",23,24),e.SDv(2,25),e.qZA())}let Yn=(()=>{class H{constructor(P,U,Pe,tt,Dt,Tt){this.fb=P,this.updateSvc=U,this.metaSvc=Pe,this.myStuffSvc=tt,this.dialogRef=Dt,this.data=Tt,this.busy$=new b.X(!1),this.syncable$=new b.X(!1),this.destroy$=new C.x}ngOnInit(){this.myStuffSvc.canSyncToSource(this.data.entity).pipe((0,kt.R)(this.destroy$),(0,D.b)(P=>this.syncable$.next(P))).subscribe(),this.form=this.fb.group({token:[this.data.entity.token],sync_to_source:[!1],title:[this.data.entity.title],subtitle:[this.data.entity.subtitle||""],description:[this.data.entity.description]}),this.isRoll&&this.form.get("title").setValidators([c.kI.required])}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){let P;switch(this.data.attribute){case"description":P=this.descriptionElemRef.nativeElement;break;case"subtitle":P=this.subtitleElemRef.nativeElement;break;case"title":P=this.titleElemRef.nativeElement;break;default:return}setTimeout(()=>null==P?void 0:P.focus())}dismiss(){return this.dialogRef.close(),!1}onSubmit(){this.busy$.next(!0);const P=this.getUpdatePartial();null==P.title&&null==P.description&&null==P.subtitle?(0,yt.H)(250).pipe((0,S.x)(()=>this.dismiss())).subscribe():(0,at.d)(250,this.updateSvc.update(P)).pipe((0,I.q)(1),(0,D.b)(()=>this.dismiss()),(0,S.x)(()=>this.busy$.next(!1))).subscribe()}get supportsRichText(){return this.metaSvc.supportsRichText(this.data.entity)}get isRoll(){return this.metaSvc.isRoll(this.data.entity)}get isSection(){return this.metaSvc.isSection(this.data.entity)}get isItem(){return this.metaSvc.isItem(this.data.entity)}getUpdatePartial(){const P=this.form.value;return this.isRoll||delete P.subtitle,P.sync_to_source||(P.title===this.data.entity.title&&delete P.title,P.description===this.data.entity.description&&delete P.description,P.subtitle===this.data.entity.subtitle&&delete P.subtitle),P}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(c.qu),e.Y36(s.N5),e.Y36(Ae.Gl),e.Y36(rt.L),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["edit-dialog"]],viewQuery:function(P,U){if(1&P&&(e.Gf(Ct,5),e.Gf(Ut,5),e.Gf(tn,5)),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.titleElemRef=Pe.first),e.iGM(Pe=e.CRH())&&(U.subtitleElemRef=Pe.first),e.iGM(Pe=e.CRH())&&(U.descriptionElemRef=Pe.first)}},decls:28,vars:15,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn;return Le=$localize`:@@edit28f86ffd419b869711aa13f5e5ff54be6d70731c7585826646011739428:Edit`,P=$localize`:@@titlefdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e5701618810648052610:Title`,U=$localize`:62ffd9439c61331e7ed4170f0e8562089aa6f55d2808459010951137562:Add a title`,Pe=$localize`:@@descriptioneec715de352a6b114713b30b640d319fa78207a04902817035128594900:Description`,tt=$localize`:@@save52c9a103b812f258bcddc3d90a6e3f46871d25fe3768927257183755959:Save`,Dt=$localize`:@@rollTitleRequired1c8180714c059273956afc3251c2dd0994ce13451861834636625967108:Title is required for a roll`,Tt=$localize`:@@subtitlecc50767a953f7987117890731c4a78c74f7350161137319519199859335:Subtitle`,qt=$localize`:9e5e7bdb6e396f75124f5e21ad121a2751c69c274163407686667799863:Add a subtitle`,sn=$localize`:f744be4748d1101be4d8c030c90cce40444641401953668067798687404:Add a description`,pn=$localize`:f744be4748d1101be4d8c030c90cce40444641401953668067798687404:Add a description`,Cn=$localize`:@@syncToMyStuff13aab241df9dae515013295e6f297114f768fa087321335843028737187:Sync to MyStuff`,[[4,"ngIf"],["mat-dialog-title",""],Le,["id","editform",3,"formGroup","ngSubmit"],["color","primary"],P,["formControlName","title","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","2","cdkAutosizeMaxRows","3","placeholder",U,1,"edit-dialog__title-input",3,"required"],["titleInput",""],["color","primary",4,"ngIf"],Pe,[4,"ngIf","ngIfElse"],["plainText",""],["formControlName","sync_to_source","color","primary",4,"ngIf"],[2,"flex","1"],["type","submit","form","editform","mat-flat-button","","color","primary",3,"disabled"],tt,Dt,Tt,["formControlName","subtitle","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","2","placeholder",qt,1,"edit-dialog__subtitle-input"],["subtitleInput",""],["formControlName","description","matInput","","placeholder",sn],["descriptionInput",""],["formControlName","description","matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","4","cdkAutosizeMaxRows","8","placeholder",pn,1,"edit-dialog__description-input"],["formControlName","sync_to_source","color","primary"],["syncCheckbox",""],Cn]},template:function(P,U){if(1&P&&(e.YNc(0,ln,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss"),e.TgZ(3,"header",1)(4,"span"),e.SDv(5,2),e.qZA()(),e.TgZ(6,"form",3),e.NdJ("ngSubmit",function(){return U.onSubmit()}),e.TgZ(7,"mat-dialog-content")(8,"mat-form-field",4)(9,"mat-label"),e.SDv(10,5),e.qZA(),e._UZ(11,"textarea",6,7),e.YNc(13,On,2,0,"mat-error",0),e.qZA(),e.YNc(14,Gn,5,0,"mat-form-field",8),e.TgZ(15,"mat-form-field",4)(16,"mat-label"),e.SDv(17,9),e.qZA(),e.YNc(18,pi,3,0,"ng-container",10),e.YNc(19,jn,2,0,"ng-template",null,11,e.W1O),e.qZA()(),e.TgZ(21,"mat-dialog-actions"),e.YNc(22,yi,3,0,"mat-checkbox",12),e.ALo(23,"async"),e._UZ(24,"div",13),e.TgZ(25,"button",14),e.SDv(26,15),e.ALo(27,"async"),e.qZA()()()),2&P){const Pe=e.MAs(20);e.Q6J("ngIf",e.lcZ(1,9,U.busy$)),e.xp6(6),e.Q6J("formGroup",U.form),e.xp6(5),e.Q6J("required",U.isRoll),e.xp6(2),e.Q6J("ngIf",U.form.get("title").invalid),e.xp6(1),e.Q6J("ngIf",U.isRoll),e.xp6(4),e.Q6J("ngIf",U.supportsRichText)("ngIfElse",Pe),e.xp6(4),e.Q6J("ngIf",e.lcZ(23,11,U.syncable$)),e.xp6(3),e.Q6J("disabled",!U.form.get("sync_to_source").value&&(!U.form.valid||!U.form.dirty||e.lcZ(27,13,U.busy$)))}},styles:["edit-dialog form{display:contents}edit-dialog .mat-form-field{width:100%}edit-dialog .edit-dialog__title-input{font-size:22px}edit-dialog .edit-dialog__subtitle-input{font-size:18px}edit-dialog .edit-dialog__description-input{font-size:14px}edit-dialog .edit-dialog__sync-note{display:flex;border:1px solid rgba(0,0,0,.1);border-radius:4px;padding:8px;font-size:max(14px,1rem)}edit-dialog .edit-dialog__sync-note div{margin-right:8px}edit-dialog .edit-dialog__sync-note button{align-self:flex-start}edit-dialog mat-form-field:not(:last-child){margin-bottom:12px}\n"],encapsulation:2}),H})(),Oi=(()=>{class H{constructor(P,U,Pe){this.dialogSvc=P,this.metaSvc=U,this.simpleDialogSvc=Pe}open(P){return this.metaSvc.isYoutube(P.entity)?this.simpleDialogSvc.open({data:{title:$localize`:@@youtubeLinks:YouTube links`,message:$localize`:@@notEditable:Sorry, the title, description, and image of YouTube links can't be edited.`,primaryLabel:$localize`:@@ok:OK`},panelClass:"roll-dialog--no-title-transform"}):this.dialogSvc.open(Yn,{data:P,disableClose:!0})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA),e.LFG(Ae.Gl),e.LFG(Lt.cE))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})();var Zn=r(7446),nn=r(2529),yn=r(4968);function _i(H,Le=!0){try{return new URL(H),!0}catch(P){}if(!Le&&!/^https?:\/\//.test(H))try{return new URL(`http://${H}`),!0}catch(P){}return!1}class Pi{static strict(Le){return _i(Le.value)?null:{invalid:!0}}static lenient(Le){return _i(Le.value,!1)?null:{invalid:!0}}}const ii=["textInput"],Ri=function(){return{unlink:!0}};let $n=(()=>{class H{constructor(P,U){this.fb=P,this.data=U,this.destroy$=new C.x,this.userHasInputText=!1}ngOnInit(){this.form=this.fb.group({text:[this.data.text||this.data.url,{validators:[c.kI.required],updateOn:"change"}],url:[this.data.url,{validators:[c.kI.required,Pi.lenient],updateOn:"change"}]}),this.form.get("url").valueChanges.pipe((0,nn.o)(()=>!this.userHasInputText),(0,kt.R)(this.destroy$),(0,qe.h)(()=>!this.data.text&&!this.userHasInputText),(0,D.b)(P=>{this.form.get("text").setValue(P)})).subscribe()}ngAfterViewInit(){(0,yn.R)(this.textInput.nativeElement,"input").pipe((0,I.q)(1),(0,D.b)(()=>this.userHasInputText=!0)).subscribe()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}getCloseData(){var P;const U=this.form.get("text").value,Pe=null===(P=this.form.get("url").value)||void 0===P?void 0:P.trim();return _i(Pe)?{text:U,url:Pe}:_i(Pe,!1)?{text:U,url:`http://${Pe}`}:null}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(c.qu),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["link-editor-dialog"]],viewQuery:function(P,U){if(1&P&&e.Gf(ii,5),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.textInput=Pe.first)}},decls:20,vars:6,consts:function(){let Le,P,U,Pe,tt,Dt,Tt;return Le=$localize`:@@editLink8c5573dc11dae8f358e5b7b6f8c77827a25565689102377157611594766:Edit link`,P=$localize`:@text8ba143716c2da6e4120c0c1a804f0bdd9a7e5f5b6162693758764653365:Text`,U=$localize`:@@linkTextInputPlaceholderf4c8cd6f1dc24d30cd73f5507c6f2c8808aadd032225933706498286350:Enter link text`,Pe=$localize`:@url801b98c6f02fe3b32f6afa3ee854c99ed83474e62375260419993138758:URL`,tt=$localize`:@@linkURLInputPlaceholder35e9f7395ecd8242e95e5a680d5a307dacc99f1e6491129290323319269:Enter link url`,Dt=$localize`:@@unlinkb4c7b8ed9a734473143ebde10fb034c29ec483fd4658982717700339898:Unlink`,Tt=$localize`:@@applyc2d0ac9f528bbd5f53fd34269fde8b59e029621b4391289919356861627:Apply`,[["mat-dialog-title",""],Le,["id","linkeditform",3,"formGroup"],["appearance","outline","floatLabel","always"],P,["matInput","","type","text","name","linkTextInput","formControlName","text","placeholder",U],["textInput",""],Pe,["matInput","","type","text","name","linkURLInput","formControlName","url","placeholder",tt],["mat-stroked-button","","color","primary",3,"disabled","mat-dialog-close"],Dt,["mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],Tt]},template:function(P,U){1&P&&(e._UZ(0,"dialog-dismiss"),e.TgZ(1,"header",0)(2,"span"),e.SDv(3,1),e.qZA()(),e.TgZ(4,"mat-dialog-content")(5,"form",2)(6,"mat-form-field",3)(7,"mat-label"),e.SDv(8,4),e.qZA(),e._UZ(9,"input",5,6),e.qZA(),e.TgZ(11,"mat-form-field",3)(12,"mat-label"),e.SDv(13,7),e.qZA(),e._UZ(14,"input",8),e.qZA()()(),e.TgZ(15,"mat-dialog-actions")(16,"button",9),e.SDv(17,10),e.qZA(),e.TgZ(18,"button",11),e.SDv(19,12),e.qZA()()),2&P&&(e.xp6(5),e.Q6J("formGroup",U.form),e.xp6(11),e.Q6J("disabled",!U.data.url)("mat-dialog-close",e.DdM(5,Ri)),e.xp6(2),e.Q6J("mat-dialog-close",U.getCloseData())("disabled",!U.form.valid))},directives:[$.k,a.uh,a.xY,c._Y,c.JL,c.sg,p.KE,p.hX,d.Nt,c.Fj,c.JJ,c.u,a.H8,g.lW,a.ZT],styles:["[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),H})(),oi=(()=>{class H{constructor(P){this.dialogSvc=P}open(P={text:"",url:""}){return this.dialogSvc.open($n,{data:P,disableClose:!0,maxWidth:560})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"any"}),H})(),gi=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,c.u5,c.UX,g.ot,a.Is,p.lN,d.c,f.o]]}),H})(),Dn=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,gi]]}),H})();var Ui=r(4533);const si={attachFiles:$localize`:@@attachFiles:Attach files`,bold:$localize`:@@bold:Bold`,bullets:$localize`:@@bullets:Bullets`,byte:$localize`:@@byte:Byte`,bytes:$localize`:@@bytes:Bytes`,captionPlaceholder:$localize`:@@addCaption:Add a caption`,code:$localize`:@@code:Code`,heading1:$localize`:@@heading:Heading`,indent:$localize`:@@increaseLevel:Increase level`,italic:$localize`:@@italic:Italic`,link:$localize`:@@link:Link`,numbers:$localize`:@@numbers:Numbers`,outdent:$localize`:@@decreaseLevel:Decrease level`,quote:$localize`:@@quote:Quote`,redo:$localize`:@@redo:Redo`,remove:$localize`:@@remove:Remove`,strike:$localize`:@@strikethrough:Strikethrough`,underline:$localize`:@@underline:Underline`,undo:$localize`:@@undo:Undo`,unlink:$localize`:@@unlink:Unlink`,url:$localize`:@@url:URL`,urlPlaceholder:$localize`:@@enterAUrl:Enter a URL`,GB:$localize`:@@gb:GB`,KB:$localize`:@@kb:KB`,MB:$localize`:@@mb:MB`,PB:$localize`:@@pb:PB`,TB:$localize`:@@tb:TB`};var Ei=r(2546);let ei=(()=>{class H{constructor(){this.configureTrix()}configureTrix(){if(H.configured)return;let P;Ei.config.textAttributes.underline={tagName:"u",inheritable:!0,parser:U=>"underline"===window.getComputedStyle(U).textDecoration},delete Ei.config.textAttributes.strike,delete Ei.config.textAttributes.frozen,Ei.config.textAttributes.bold.tagName="b",Ei.config.textAttributes.italic.tagName="i",Ei.config.toolbar.getDefaultHTML=()=>(P||(P='<div class="trix-button-row">\n            <span class="trix-button-group"\n                  data-trix-button-group="text-tools">\n              <button type="button"\n                      class="trix-button icon icon-rt-editor-bold"\n                      data-trix-attribute="bold"\n                      data-trix-key="b"\n                      title="#{lang.bold}"\n                      tabindex="-1"></button>\n              <button type="button"\n                      class="trix-button icon icon-rt-editor-italic"\n                      data-trix-attribute="italic"\n                      data-trix-key="i"\n                      title="#{lang.italic}"\n                      tabindex="-1"></button>\n              <button type="button"\n                      class="trix-button icon icon-rt-editor-underline"\n                      data-trix-attribute="underline"\n                      data-trix-key="u"\n                      title="#{lang.underline}"\n                      tabindex="-1"></button>\n              <button type="button"\n                      class="trix-button icon icon-link"\n                      data-trix-attribute="href"\n                      data-trix-key="k"\n                      title="#{lang.link}"\n                      tabindex="-1"></button>\n              <div class="trix-button-row-divider">\n              </div>\n              <button type="button"\n                      class="trix-button icon icon-rt-editor-unordered"\n                      data-trix-attribute="bullet" title="#{lang.bullets}"\n                      tabindex="-1"></button>\n              <button type="button"\n                      class="trix-button icon icon-rt-editor-ordered"\n                      data-trix-attribute="number"\n                      title="#{lang.numbers}"\n                      tabindex="-1"></button>\n\x3c!--              <button type="button"--\x3e\n\x3c!--                      class="trix-button icon icon-rt-editor-decrease-nesting-level"--\x3e\n\x3c!--                      data-trix-action="decreaseNestingLevel"--\x3e\n\x3c!--                      title="#{lang.outdent}"--\x3e\n\x3c!--                      tabindex="-1"></button>--\x3e\n\x3c!--              <button type="button"--\x3e\n\x3c!--                      class="trix-button icon icon-rt-editor-increase-nesting-level"--\x3e\n\x3c!--                      data-trix-action="increaseNestingLevel" title="#{lang.indent}"--\x3e\n\x3c!--                      tabindex="-1"></button>--\x3e\n            </span>\n            <span class="trix-button-group trix-button-group--history-tools"\n                  data-trix-button-group="history-tools">\n              <button type="button"\n                      class="trix-button icon icon-rt-editor-undo"\n                      data-trix-action="undo"\n                      data-trix-key="z"\n                      title="#{lang.undo}"\n                      tabindex="-1"></button>\n              <button type="button"\n                      class="trix-button icon icon-rt-editor-redo"\n                      data-trix-action="redo"\n                      data-trix-key="shift+z"\n                      title="#{lang.redo}"\n                      tabindex="-1"></button>\n            </span>\n          </div>\n          <div class="trix-dialogs" data-trix-dialogs>\n            <div class="trix-dialog trix-dialog--link"\n                 data-trix-dialog="href"\n                 data-trix-dialog-attribute="href">\n              <div class="trix-dialog__link-fields">\n                <input type="url"\n                       name="href"\n                       class="trix-input trix-input--dialog"\n                       placeholder="#{lang.urlPlaceholder}"\n                       aria-label="#{lang.url}"\n                       required data-trix-input>\n                <div class="trix-button-group">\n                  <button type="button"\n                         class="trix-button"\n                         title="#{lang.link}"\n                         data-trix-method="setAttribute">#{lang.link}</button>\n                  <button type="button"\n                         class="trix-button"\n                         title="#{lang.unlink}"\n                         data-trix-method="removeAttribute">#{lang.unlink}</button>\n                </div>\n              </div>\n            </div>\n          </div>'.replace(/#{lang.(\S+)}/g,(Pe,tt)=>si[tt])),P),H.configured=!0}}return H.configured=!1,H.\u0275fac=function(P){return new(P||H)},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const ki=["trix"];let ut=(()=>{class H{constructor(P,U,Pe,tt,Dt){this.elementRef=P,this.logger=U,this.linkDlgSvc=Pe,this.ngControl=tt,this.id="trix-component-"+H.nextId++,this.controlType="trix-component",this.focused=!1,this.touched=!1,this.stateChanges=new C.x,this.trixValueChanges$=new C.x,this.destroy$=new C.x,this.tabIndex=0,this.onTouched=()=>{},tt.valueAccessor=this}onFocus(P){this.onFocusIn(P)}onBlur(P){this.onFocusOut(P)}ngAfterViewInit(){var P;this.trix=this.trixRef.nativeElement,this.trixRef.nativeElement.setAttribute("placeholder",this.placeholder),this.trix.addEventListener("trix-file-accept",Pe=>Pe.preventDefault());const U=()=>{this.updateEditorWithValue(),this.trix.removeEventListener("trix-initialize",U)};this.trix.addEventListener("trix-initialize",U),this.trix.addEventListener("trix-before-paste",Pe=>{var tt;(null===(tt=null==Pe?void 0:Pe.paste)||void 0===tt?void 0:tt.html)&&(Pe.paste.html=HtmlScrubber.scrub(Pe.paste.html))}),this.trix.addEventListener("trix-change",()=>{this.trixRef.nativeElement.innerHTML.replace(/<div.*?>/g,"<div>").replace(/<\/div.*?>/g,"</div>").replace(/<!--.*?-->/g,""),this.trixValueChanges$.next(this.trix.value)}),this.trixValueChanges$.pipe((0,kt.R)(this.destroy$),(0,D.b)(Pe=>this.value=Pe)).subscribe(),this.linkButton=this.elementRef.nativeElement.querySelector(".trix-button.icon-link"),null===(P=this.linkButton)||void 0===P||P.addEventListener("click",this.onLinkButtonClick.bind(this))}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this.destroy$.next(!0),this.destroy$.complete()}onContainerClick(P){}setDescribedByIds(P){}onFocusIn(P){this.focused||(this.focused=!0,this.stateChanges.next())}onFocusOut(P){this.elementRef.nativeElement.contains(P.relatedTarget)||(this.touched=!0,this.onTouched(),this.focused=!1,this.stateChanges.next())}get empty(){var P;return 0===((null===(P=this.value)||void 0===P?void 0:P.length)||0)}get shouldLabelFloat(){return this.focused||!this.empty}get errorState(){return!1}registerOnChange(P){this.trixValueChanges$.pipe((0,kt.R)(this.destroy$)).subscribe(P)}registerOnTouched(P){this.onTouched=P}setDisabledState(P){P&&this.logger.error("An attempt was made to disable a trix editor. This is not supported.")}writeValue(P){this.value=P,this.updateEditorWithValue()}updateEditorWithValue(){var P,U;null===(U=null===(P=this.trix)||void 0===P?void 0:P.editor)||void 0===U||U.insertHTML(this.value)}onLinkButtonClick(P){var U,Pe,tt,Dt,Tt,qt,sn,pn,Cn,Pn,Qn;null===(tt=null===(Pe=null===(U=this.trix)||void 0===U?void 0:U.editor)||void 0===Pe?void 0:Pe.composition)||void 0===tt||tt.expandSelectionForEditing();const ni=null===(Tt=null===(Dt=this.trix)||void 0===Dt?void 0:Dt.editor)||void 0===Tt?void 0:Tt.getSelectedRange(),zi=(null===(pn=null===(sn=null===(qt=this.trix)||void 0===qt?void 0:qt.editor)||void 0===sn?void 0:sn.getDocument())||void 0===pn?void 0:pn.getStringAtRange(ni))||"",ui=(null===(Qn=null===(Pn=null===(Cn=this.trix)||void 0===Cn?void 0:Cn.editorController)||void 0===Pn?void 0:Pn.currentAttributes)||void 0===Qn?void 0:Qn.href)||"";this.linkDlgSvc.open({text:zi,url:ui}).beforeClosed().pipe((0,I.q)(1),(0,D.b)(()=>{var Ji,Wi,Fi;null===(Fi=null===(Wi=null===(Ji=this.trix)||void 0===Ji?void 0:Ji.editorController)||void 0===Wi?void 0:Wi.toolbarController)||void 0===Fi||Fi.hideDialog("href")}),(0,qe.h)(Ji=>!!Ji),(0,D.b)(Ji=>{var Wi,Fi,ao,_o,di;Ji.unlink?null===(ao=null===(Fi=null===(Wi=this.trix)||void 0===Wi?void 0:Wi.editor)||void 0===Fi?void 0:Fi.composition)||void 0===ao||ao.removeBlockAttribute("href"):null===(di=null===(_o=this.trix)||void 0===_o?void 0:_o.editor)||void 0===di||di.insertHTML(`<a href="${Ji.url}">${Ji.text}</a>`)})).subscribe()}}return H.nextId=0,H.\u0275fac=function(P){return new(P||H)(e.Y36(e.SBq),e.Y36(k.m),e.Y36(oi),e.Y36(c.a5,10),e.Y36(ei))},H.\u0275cmp=e.Xpm({type:H,selectors:[["trix"]],viewQuery:function(P,U){if(1&P&&e.Gf(ki,5),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.trixRef=Pe.first)}},hostVars:4,hostBindings:function(P,U){1&P&&e.NdJ("focus",function(tt){return U.onFocus(tt)})("blur",function(tt){return U.onBlur(tt)}),2&P&&(e.Ikx("id",U.id)("tabIndex",U.tabIndex),e.ekj("floating",U.shouldLabelFloat))},inputs:{placeholder:"placeholder",value:"value"},features:[e._Bn([ei,{provide:p.Eo,useExisting:H}]),e.TTD],decls:2,vars:0,consts:[[1,"trix-content",3,"focus","blur"],["trix",""]],template:function(P,U){1&P&&(e.TgZ(0,"trix-editor",0,1),e.NdJ("focus",function(tt){return U.onFocusIn(tt)})("blur",function(tt){return U.onFocusOut(tt)}),e.qZA())},encapsulation:2,changeDetection:0}),H})(),$t=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[Oi],imports:[[o.ez,c.u5,c.UX,g.ot,Zn.p9,a.Is,p.lN,d.c,h.M,f.o,Dn]]}),H})();e.B6R(Yn,[o.O5,ne.n,$.k,a.uh,c._Y,c.JL,c.sg,a.xY,p.KE,p.hX,c.Fj,d.Nt,Ui.IC,c.JJ,c.u,c.Q7,p.TO,ut,a.H8,Zn.oG,g.lW],[o.Ov]),r(6245),r(8940);var Qe=r(6451),te=r(4782),$e=r(9468),At=r(8372),Jt=r(5376),on=r(1088),Ln=r(7897),Bn=r(1139),Hi=r(9763),Di=r(3835);const wn=["reticleElem"];function qi(H,Le){1&H&&e._UZ(0,"blocking-spinner")}function Ci(H,Le){1&H&&(e.TgZ(0,"div",28),e.SDv(1,29),e.qZA())}function Go(H,Le){1&H&&(e.TgZ(0,"div",30),e.SDv(1,31),e.qZA())}function Mo(H,Le){if(1&H&&(e.TgZ(0,"div",32),e._uU(1),e.ALo(2,"async"),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,P.selectedTitle$)," ")}}function $o(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"div",33),e.NdJ("visibilityChange",function(Pe){return e.CHM(P),e.oxw().onVisibilityChange(Pe)}),e.TgZ(1,"roll-image",34),e.NdJ("load",function(Pe){return e.CHM(P),e.oxw().imageLoad$.next(Pe)})("click",function(Pe){return e.CHM(P),e.oxw().imageClick$.next(Pe)}),e.qZA()()}if(2&H){const P=Le.$implicit;e.MGl("id","ssid_",P.entity.token,""),e.xp6(1),e.Q6J("entity",P.entity)}}function Xo(H,Le){1&H&&(e.TgZ(0,"span",35),e.SDv(1,36),e.qZA())}function co(H,Le){1&H&&(e.TgZ(0,"span",35),e.SDv(1,37),e.qZA())}function mr(H,Le){1&H&&(e.TgZ(0,"span",35),e.SDv(1,38),e.qZA())}function mo(H,Le){1&H&&e._UZ(0,"mat-spinner",39)}function Rr(H,Le){1&H&&(e.TgZ(0,"div",40),e._UZ(1,"roll-icon",41),e.TgZ(2,"div"),e.SDv(3,42),e.qZA()())}function vo(H,Le){1&H&&(e.TgZ(0,"span",35),e.SDv(1,43),e.qZA())}function xo(H,Le){1&H&&(e.TgZ(0,"span",35),e.SDv(1,44),e.qZA())}let Jo=(()=>{class H{constructor(P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn,Pn,Qn){this.envSvc=P,this.logger=U,this.platform=Pe,this.cRef=tt,this.elemRef=Dt,this.metaSvc=Tt,this.rollsQuery=qt,this.sectionsQuery=sn,this.uiQuery=pn,this.updateSvc=Cn,this.dialogRef=Pn,this.data=Qn,this.list$=this.uiQuery.selectAllDisplaysImage({includeRoll:!0}).pipe((0,x.U)(ni=>ni.map((zi,ui)=>({index:ui,entity:zi}))),(0,te.d)(1)),this.selected$=new b.X({index:-1,entity:null,next:null,prev:null,parent:null,element:null,image:null,imgOffsets:this.calcImageOffsets(null,!0)}),this.selectedTitle$=this.selected$.pipe((0,x.U)(ni=>null==ni?void 0:ni.entity),(0,qe.h)(ni=>!!ni),(0,x.U)(ni=>this.metaSvc.selectForType(ni,{def:()=>ni.title||ni.description,item:()=>{if(this.metaSvc.supportsRichText(ni)){const zi=ni;return zi.description_plain||(0,on.o)(zi.description)}return ni.title||ni.description}}))),this.reticlePosition$=new b.X({offsets:{top:0,left:0},image_info:{focal_point_x:0,focal_point_y:0}}),this.pointerMove$=(0,Qe.T)((0,yn.R)(document,"touchmove",{passive:!0}),(0,yn.R)(document,"mousemove")),this.pointerUp$=(0,Qe.T)((0,yn.R)(document,"touchend",{passive:!0}),(0,yn.R)(document,"mouseup")),this.busy$=new b.X(!1),this.saving$=new b.X(!1),this.saved$=new b.X(!1),this.imageClick$=new C.x,this.imageLoad$=new C.x,this.destroy$=new C.x}get reticle(){return this._reticle}set reticle(P){this._reticle=P,P.nativeElement.style.transform="translate(-50%, -50%)",this.pointerDown$=(0,Qe.T)((0,yn.R)(P.nativeElement,"touchstart",{passive:!0}),(0,yn.R)(P.nativeElement,"mousedown")).pipe((0,qe.h)(Pe=>!this.saving$.getValue()),(0,D.b)(Pe=>{const tt=this.selected$.getValue(),Dt=tt.image.getBoundingClientRect();tt.image.style.cursor="grabbing",this.selected$.next(Object.assign(Object.assign({},tt),{imgRect:Dt}))})),this.pointerDown$.pipe((0,D.b)(()=>{this.scrollSnap||(this.scrollSnap=document.getElementsByTagName("scroll-snap-container")[0]),this.scrollSnap.style.overflowX="hidden"}),(0,R.w)(Pe=>this.pointerMove$.pipe((0,D.b)(tt=>tt.preventDefault()),(0,x.U)(tt=>this.dragCoordsToReticlePosition(tt)),(0,D.b)(tt=>this.reticlePosition$.next(tt)),(0,L.V)(this.pointerUp$),(0,I.q)(1),(0,R.w)(()=>(this.selected$.getValue().image.style.cursor="default",this.scrollSnap.style.overflowX="auto",this.persistFocalPoint(this.reticlePosition$.getValue().image_info)))))).subscribe()}ngOnInit(){this.mxObserver=new MutationObserver((P,U)=>{var Pe,tt,Dt,Tt;for(const qt of P)if(qt.addedNodes.length){const sn=qt.addedNodes.item(0),pn=null===(Tt=null===(Dt=null===(tt=null===(Pe=null==sn?void 0:sn.attributes)||void 0===Pe?void 0:Pe.getNamedItem("id"))||void 0===tt?void 0:tt.value)||void 0===Dt?void 0:Dt.split("ssid_"))||void 0===Tt?void 0:Tt.pop();sn&&pn===this.data.entity.token&&(this.mxObserver.takeRecords(),this.mxObserver.disconnect(),this.mxObserver=null,sn.scrollIntoView())}}),this.mxObserver.observe(this.elemRef.nativeElement,{childList:!0,subtree:!0}),this.platform.isMobile||(0,yn.R)(document,"keydown").pipe((0,kt.R)(this.destroy$),(0,qe.h)(P=>["ArrowLeft","ArrowRight"].includes(P.key)),(0,D.b)(P=>P.preventDefault()),(0,$e.p)(500),(0,D.b)(P=>"ArrowLeft"===P.key?this.prev():this.next())).subscribe(),(0,yn.R)(window,"resize").pipe((0,kt.R)(this.destroy$),(0,At.b)(50),(0,D.b)(()=>this.updateReticlePosition())).subscribe(),this.imageClick$.pipe((0,kt.R)(this.destroy$),(0,qe.h)(()=>!this.saving$.getValue()),(0,x.U)(P=>this.imageClickEventToReticlePosition(P)),(0,D.b)(P=>this.reticlePosition$.next(P)),(0,be.b)(P=>this.persistFocalPoint(P.image_info)),(0,O.K)((P,U)=>U),(0,S.x)(()=>this.logger.debug("FocalPointDialogComponent.imageClick$ finalized"))).subscribe(),this.envSvc.production||this.imageLoad$.pipe((0,kt.R)(this.destroy$),(0,D.b)(P=>{this.logger.debug("FocalPointDialogComponent image loaded",P)})).subscribe()}ngOnDestroy(){var P,U;null===(P=this.mxObserver)||void 0===P||P.takeRecords(),null===(U=this.mxObserver)||void 0===U||U.disconnect(),this.destroy$.next(!0),this.destroy$.complete()}onVisibilityChange(P){P.visible&&(this.setSelected(P.target),this.cRef.detectChanges())}get hasNext(){var P;return!!(null===(P=this.selected$.getValue().element)||void 0===P?void 0:P.nextElementSibling)}get hasPrev(){var P;return!!(null===(P=this.selected$.getValue().element)||void 0===P?void 0:P.previousElementSibling)}get isRoll(){return this.metaSvc.isRoll(this.selected$.getValue().entity)}get isSection(){return this.metaSvc.isSection(this.selected$.getValue().entity)}get isItem(){return this.metaSvc.isItem(this.selected$.getValue().entity)}siblingIs(P,U){switch(U){case"item":return this.metaSvc.isItem(this.selected$.getValue()[P]);case"roll":return this.metaSvc.isRoll(this.selected$.getValue()[P]);case"section":return this.metaSvc.isSection(this.selected$.getValue()[P])}}dismiss(){this.dialogRef.close()}next(){var P,U;null===(U=null===(P=this.selected$.getValue().element)||void 0===P?void 0:P.nextElementSibling)||void 0===U||U.scrollIntoView({behavior:"smooth"})}prev(){var P,U;null===(U=null===(P=this.selected$.getValue().element)||void 0===P?void 0:P.previousElementSibling)||void 0===U||U.scrollIntoView({behavior:"smooth"})}trackByEntityId(P,U){return U.entity.token}setSelected(P){var U,Pe;this.setReticleVisible(!1),null===(Pe=null===(U=P.attributes.getNamedItem("id"))||void 0===U?void 0:U.value)||void 0===Pe||Pe.split("ssid_").pop();const Dt=Array.prototype.indexOf.call(P.parentNode.children,P),Tt=P.querySelector(".roll-image__object"),qt=Tt.offsetWidth?(0,yt.H)(300):(0,yn.R)(Tt,"load").pipe((0,x.U)(sn=>0));this.list$.pipe((0,I.q)(1),(0,Jt.j)(()=>qt),(0,D.b)(sn=>{const pn=sn[Dt].entity,Cn=this.findParent(pn),Pn=Dt<sn.length-1?sn[Dt+1].entity:null,Qn=Dt>0?sn[Dt-1].entity:null,ni=this.calcImageOffsets(Tt);this.selected$.next({index:Dt,element:P,entity:pn,next:Pn,prev:Qn,image:Tt,parent:Cn,imgOffsets:ni}),this.updateReticlePosition(pn.image_info)})).subscribe()}persistFocalPoint(P){const U={image_focal_point_x:P.focal_point_x,image_focal_point_y:P.focal_point_y};return this.saving$.next(!0),this.saved$.next(!1),(0,at.d)(300,this.updateSvc.update(Object.assign({token:this.selected$.getValue().entity.token},U))).pipe((0,D.b)(()=>{this.saving$.next(!1),this.saved$.next(!0)}),(0,Me.g)(1e3),(0,D.b)(()=>this.saved$.next(!1)),(0,O.K)(Pe=>{this.logger.error("FocalPointDialogComponent",Pe),this.saving$.next(!1),this.saved$.next(!1);const tt=this.selected$.getValue().entity.image_info,Dt=this.focalPointToReticlePosition(tt);throw this.reticlePosition$.next(Dt),Pe}))}findParent(P){return this.metaSvc.isItem(P)?P.is_root_item?this.rollsQuery.getActive():this.sectionsQuery.getEntity(P.parent_section_token):P}setReticleVisible(P){this.reticle.nativeElement.style.visibility=P?"visible":"hidden"}updateReticlePosition(P){const U=P||this.reticlePosition$.getValue().image_info,Pe=this.focalPointToReticlePosition(U);this.reticlePosition$.next(Pe),this.setReticleVisible(!0)}imageClickEventToReticlePosition(P){const Pe=P.offsetY,Dt=P.target.offsetHeight,Tt={focal_point_x:Math.min(100,Math.max(0,Math.round(P.offsetX/P.target.offsetWidth*100))),focal_point_y:Math.min(100,Math.max(0,Math.round(Pe/Dt*100)))};return this.focalPointToReticlePosition(Tt)}focalPointToReticlePosition(P){const U=this.calcImageOffsets();return{offsets:{top:U.top+U.height*(P.focal_point_y/100),left:U.left+U.width*(P.focal_point_x/100)},image_info:{focal_point_x:P.focal_point_x,focal_point_y:P.focal_point_y}}}dragCoordsToReticlePosition(P){const U=this.selected$.getValue(),Pe=U.imgRect,tt=U.imgOffsets,Dt={x:0,y:0};P instanceof MouseEvent?(Dt.x=P.clientX,Dt.y=P.clientY):P instanceof TouchEvent&&(Dt.x=P.touches[0].clientX,Dt.y=P.touches[0].clientY),Dt.x=Math.max(Pe.left,Math.min(Pe.right,Dt.x)),Dt.y=Math.max(Pe.top,Math.min(Pe.bottom,Dt.y));const Tt_x=(Dt.x-Pe.left)/Pe.width,Tt_y=(Dt.y-Pe.top)/Pe.height,qt={top:0,left:0};return qt.top=tt.top+tt.height*Tt_y,qt.left=tt.left+tt.width*Tt_x,{offsets:qt,image_info:{focal_point_x:Math.round(100*Tt_x),focal_point_y:Math.round(100*Tt_y)}}}calcImageOffsets(P,U=!1){let Pe=new DOMRect(0,0,0,0);return U||(P=P||this.selected$.getValue().image)&&(Pe=new DOMRect(P.offsetLeft,P.offsetTop,P.offsetWidth,P.offsetHeight)),Pe}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(Ln.D),e.Y36(k.m),e.Y36(gt.mi),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(Ae.Gl),e.Y36(s.Qy),e.Y36(s.e8),e.Y36(s.YU),e.Y36(s.N5),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["focal-point-dialog"]],viewQuery:function(P,U){if(1&P&&e.Gf(wn,5),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.reticle=Pe.first)}},decls:52,vars:42,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn,pn;return Le=$localize`:@@setKeyAreac4b4c37e46a0dd4ea72aed1a297a1d28e4d091ee6770745407669170729:Set key area`,P=$localize`:@focalPointDialogSubtitlef62cb2276d68970c93accf1c822ab0453d6b79d55177306222095744045:Click on the most important area to keep in view.`,U=$localize`:@@rollCoverImage8d02fd5b822d99f5ac75e91dc212f7b48a9dea60569331762623645115:Roll cover image`,Pe=$localize`:@@sectionCoverImage0b5b8f461c41044aaf4f6b1ce1c4f8ee215f4f101591317071744286785:Section cover image`,tt=$localize`:@@previousIteme1fe1cec06176481855e212afa6280487190222b5653437410909049152:Previous item`,Dt=$localize`:@@rollCover548b13557c29b7ec28a55cceb2b20c64a3d10f2b73132073849595276:Roll cover`,Tt=$localize`:@@previousSectiond80d2a09925a0145575eddde81af1923b56794eb925653852984270986:Previous section`,qt=$localize`:@@saved52b56d5859b56a3a1bfe56ce67dfd5e93b21e9606333335057236774263:Saved`,sn=$localize`:@@nextItemc024cc2de8b694002cd46000d8ee7591c3f0b90b3400778486335825746:Next item`,pn=$localize`:@@nextSectiondd525cfb0dc7abe2c18dab8e5a58f4ba915708cf1677785534094428939:Next section`,[[4,"ngIf"],["buttonMode","done"],["mat-dialog-title",""],Le,P,[1,"focal-point-dialog__meta-section"],[1,"focal-point-dialog__context-meta"],[1,"focal-point-dialog__context-meta__parent"],["class","focal-point-dialog__context-meta__entity focal-point-dialog__context-meta__entity--roll",4,"ngIf"],["class","focal-point-dialog__context-meta__entity focal-point-dialog__context-meta__entity--section",4,"ngIf"],["class","focal-point-dialog__context-meta__entity focal-point-dialog__context-meta__entity--item",4,"ngIf"],[1,"focal-point-dialog__count-meta"],[1,"focal-point-dialog__selection-container"],["snapContainer",""],["class","scroll-snap__element","visibility-intersect","",3,"id","visibilityChange",4,"ngFor","ngForOf","ngForTrackBy"],[1,"focal-point-reticle"],["reticleElem",""],["iconName","focal-point"],[1,"dialog-actions","dialog-actions--left"],["mat-button","","color","primary",1,"focal-point-dialog__nav-button",3,"disabled","click"],["iconName","previous-arrow"],["class","focal-point-dialog__nav-button-label force__vertical-align--unset",4,"ngIf"],[1,"dialog-actions","dialog-actions--middle"],[1,"save-status"],["diameter","24",4,"ngIf"],["class","save-status__saved",4,"ngIf"],[1,"dialog-actions","dialog-actions--right"],["iconName","next-arrow"],[1,"focal-point-dialog__context-meta__entity","focal-point-dialog__context-meta__entity--roll"],U,[1,"focal-point-dialog__context-meta__entity","focal-point-dialog__context-meta__entity--section"],Pe,[1,"focal-point-dialog__context-meta__entity","focal-point-dialog__context-meta__entity--item"],["visibility-intersect","",1,"scroll-snap__element",3,"id","visibilityChange"],["imageClass","max-height--100 max-width--100","height","auto","width","auto",3,"entity","load","click"],[1,"focal-point-dialog__nav-button-label","force__vertical-align--unset"],tt,Dt,Tt,["diameter","24"],[1,"save-status__saved"],["iconName","check2"],qt,sn,pn]},template:function(P,U){if(1&P&&(e.YNc(0,qi,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss",1),e.TgZ(3,"header",2)(4,"span"),e.SDv(5,3),e.qZA(),e.TgZ(6,"header")(7,"span"),e.SDv(8,4),e.qZA()()(),e._UZ(9,"hr"),e.TgZ(10,"mat-dialog-content")(11,"div",5)(12,"div",6)(13,"div",7),e._uU(14),e.ALo(15,"async"),e.ALo(16,"async"),e.qZA(),e.YNc(17,Ci,2,0,"div",8),e.YNc(18,Go,2,0,"div",9),e.YNc(19,Mo,3,3,"div",10),e.qZA(),e.TgZ(20,"div",11),e._uU(21),e.ALo(22,"async"),e.ALo(23,"async"),e.qZA()(),e.TgZ(24,"div",12)(25,"scroll-snap-container",null,13),e.YNc(27,$o,2,2,"div",14),e.ALo(28,"async"),e.qZA(),e.TgZ(29,"div",15,16),e.ALo(31,"async"),e.ALo(32,"async"),e._UZ(33,"roll-icon",17),e.qZA()()(),e.TgZ(34,"mat-dialog-actions")(35,"div",18)(36,"button",19),e.NdJ("click",function(){return U.prev()}),e._UZ(37,"roll-icon",20),e.YNc(38,Xo,2,0,"span",21),e.YNc(39,co,2,0,"span",21),e.YNc(40,mr,2,0,"span",21),e.qZA()(),e.TgZ(41,"div",22)(42,"div",23),e.YNc(43,mo,1,0,"mat-spinner",24),e.ALo(44,"async"),e.YNc(45,Rr,4,0,"div",25),e.ALo(46,"async"),e.qZA()(),e.TgZ(47,"div",26)(48,"button",19),e.NdJ("click",function(){return U.next()}),e.YNc(49,vo,2,0,"span",21),e.YNc(50,xo,2,0,"span",21),e._UZ(51,"roll-icon",27),e.qZA()()()),2&P){let Pe;e.Q6J("ngIf",e.lcZ(1,22,U.busy$)),e.xp6(14),e.Oqu((null==e.lcZ(15,24,U.selected$).parent?null:e.lcZ(15,24,U.selected$).parent.title)||(null==e.lcZ(16,26,U.selected$).parent?null:e.lcZ(16,26,U.selected$).parent.description)||"\xa0"),e.xp6(3),e.Q6J("ngIf",U.isRoll),e.xp6(1),e.Q6J("ngIf",U.isSection),e.xp6(1),e.Q6J("ngIf",U.isItem),e.xp6(2),e.AsE("",e.lcZ(22,28,U.selected$).index+1," / ",null==(Pe=e.lcZ(23,30,U.list$))?null:Pe.length,""),e.xp6(6),e.Q6J("ngForOf",e.lcZ(28,32,U.list$))("ngForTrackBy",U.trackByEntityId),e.xp6(2),e.Udp("left",e.lcZ(31,34,U.reticlePosition$).offsets.left+"px")("top",e.lcZ(32,36,U.reticlePosition$).offsets.top+"px"),e.xp6(7),e.Q6J("disabled",!U.hasPrev),e.xp6(2),e.Q6J("ngIf",U.siblingIs("prev","item")),e.xp6(1),e.Q6J("ngIf",U.siblingIs("prev","roll")),e.xp6(1),e.Q6J("ngIf",U.siblingIs("prev","section")),e.xp6(3),e.Q6J("ngIf",e.lcZ(44,38,U.saving$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(46,40,U.saved$)),e.xp6(3),e.Q6J("disabled",!U.hasNext),e.xp6(1),e.Q6J("ngIf",U.siblingIs("next","item")),e.xp6(1),e.Q6J("ngIf",U.siblingIs("next","section"))}},directives:[o.O5,ne.n,$.k,a.uh,a.xY,Bn.z,o.sg,Hi.N,Di.Y,xt.p,a.H8,g.lW,Gt.Ou],pipes:[o.Ov],styles:["focal-point-dialog hr{margin-block-end:.25em}focal-point-dialog .focal-point-dialog__meta-section{display:flex;flex-direction:row;width:100%;margin-bottom:10px}focal-point-dialog .focal-point-dialog__context-meta{display:flex;flex-direction:column;flex:1;font-family:Roboto,sans-serif;min-width:1px}focal-point-dialog .focal-point-dialog__context-meta__parent{--line-clamp: 1;-webkit-line-clamp:var(--line-clamp)!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:100%!important;white-space:nowrap!important;word-break:break-all!important;font-size:12px;font-weight:400;color:#726e74}focal-point-dialog .focal-point-dialog__context-meta__entity{--line-clamp: 1;-webkit-line-clamp:var(--line-clamp)!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:100%!important;white-space:nowrap!important;word-break:break-all!important;font-size:20px;font-weight:400;color:#111}focal-point-dialog .focal-point-dialog__context-meta__entity--roll,focal-point-dialog .focal-point-dialog__context-meta__entity--section{color:var(--bu-brand__color);font-weight:700;text-transform:capitalize}focal-point-dialog .focal-point-dialog__count-meta{display:flex;align-items:flex-end;justify-content:flex-end;font-size:12px;font-weight:400;color:#726e74;margin-left:16px;padding-bottom:2px;white-space:nowrap}focal-point-dialog .focal-point-dialog__selection-container{display:flex;align-items:center;justify-content:center;height:325px;width:100%;background:#c7c7c6;border-radius:2px;position:relative}@media (max-width: 47.99em){focal-point-dialog .focal-point-dialog__selection-container{height:220px}}@media (min-width: 48em) and (max-width: 63.99em){focal-point-dialog .focal-point-dialog__selection-container{height:260px}}focal-point-dialog .focal-point-dialog__selection-container img{max-height:100%;max-width:100%}focal-point-dialog .focal-point-dialog__selection-container .focal-point-reticle{display:flex;align-items:center;justify-content:center;box-sizing:border-box;position:absolute;height:40px;width:40px;border-radius:50%;border:12px solid rgba(0,0,0,.4);cursor:grab}focal-point-dialog .focal-point-dialog__selection-container .focal-point-reticle roll-icon{font-size:36px;color:#fff}focal-point-dialog .mat-dialog-content{overflow:visible}focal-point-dialog mat-dialog-actions .dialog-actions{flex:1}focal-point-dialog mat-dialog-actions .dialog-actions--left{text-align:left}focal-point-dialog mat-dialog-actions .dialog-actions--left button{padding-left:0;padding-right:4px}focal-point-dialog mat-dialog-actions .dialog-actions--middle{text-align:center}focal-point-dialog mat-dialog-actions .dialog-actions--middle .save-status{display:inline-flex;align-items:center;justify-content:center}focal-point-dialog mat-dialog-actions .dialog-actions--middle .save-status__saved{display:inline-flex;align-items:center;justify-content:center;color:#00b1d0;text-transform:lowercase;font-weight:500}focal-point-dialog mat-dialog-actions .dialog-actions--right{text-align:right}focal-point-dialog mat-dialog-actions .dialog-actions--right button{padding-left:4px;padding-right:0}@media (max-width: 26.5525em){focal-point-dialog mat-dialog-actions .focal-point-dialog__nav-button-label{display:none}}\n"],encapsulation:2}),H})(),qo=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(Jo,{data:P})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})();var Uo=r(7057),Ki=r(8653),uo=r(7033),ir=r(882);let Oo=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[qo],imports:[[o.ez,c.u5,c.UX,g.ot,Zn.p9,a.Is,p.lN,d.c,Gt.Cq,h.M,f.o,Xe.X,Ki.E,uo.s,Uo.M,ir.v]]}),H})();var fi=r(7389);function or(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"mat-dialog-actions")(1,"button",26),e.NdJ("click",function(){return e.CHM(P),e.oxw().clearAll()}),e.SDv(2,27),e.ALo(3,"async"),e.qZA()()}if(2&H){const P=e.oxw();e.xp6(1),e.Q6J("disabled",!e.lcZ(3,1,P.hasCustom$))}}let yo=(()=>{class H{constructor(P,U){this.svc=P,this.fontsSvc=U,this.dragPosition={x:20,y:55},this.allFonts$=this.fontsSvc.allFonts$,this.descFonts$=this.allFonts$.pipe((0,x.U)(Pe=>Pe.filter(tt=>"serif"===tt.category||"sans-serif"===tt.category))),this.hasCustom$=this.fontsSvc.hasCustom$,this.customVars$=this.fontsSvc.fontVars$,this.reset$=new b.X(!1),this.viewInit$=new b.X(!1)}ngOnInit(){this.fontsSvc.initEditMode()}ngAfterViewInit(){setTimeout(()=>this.viewInit$.next(!0))}ngOnDestroy(){this.fontsSvc.destroyEditMode()}clearAll(){this.fontsSvc.clearAll().pipe((0,D.b)(()=>this.reset$.next(!0))).subscribe()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(no),e.Y36(fi.Cs))},H.\u0275cmp=e.Xpm({type:H,selectors:[["fonts-panel-dialog"]],viewQuery:function(P,U){if(1&P&&e.Gf(u.pp,5),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.accordion=Pe.first)}},decls:80,vars:32,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn,Pn,Qn,ni,zi,ui,wo,Ji,Wi,Fi,ao,_o;return Le=$localize`:@@fontsc14041f3a4b017708975686afe86903de345fcb43188430589797990929:Fonts`,P=$localize`:@@rollCover548b13557c29b7ec28a55cceb2b20c64a3d10f2b73132073849595276:Roll cover`,U=$localize`:@@titlefdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e5701618810648052610:Title`,Pe=$localize`:@@titlefdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e5701618810648052610:Title`,tt=$localize`:@@subtitlecc50767a953f7987117890731c4a78c74f7350161137319519199859335:Subtitle`,Dt=$localize`:@@subtitlecc50767a953f7987117890731c4a78c74f7350161137319519199859335:Subtitle`,Tt=$localize`:@@descriptioneec715de352a6b114713b30b640d319fa78207a04902817035128594900:Description`,qt=$localize`:@@descriptioneec715de352a6b114713b30b640d319fa78207a04902817035128594900:Description`,sn=$localize`:@@sections40041b30e9275d671f2b8b77a6462d62ffdafd1f2471229163174544608:Sections`,pn=$localize`:@@titlefdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e5701618810648052610:Title`,Cn=$localize`:@@titlefdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e5701618810648052610:Title`,Pn=$localize`:@@descriptioneec715de352a6b114713b30b640d319fa78207a04902817035128594900:Description`,Qn=$localize`:@@descriptioneec715de352a6b114713b30b640d319fa78207a04902817035128594900:Description`,ni=$localize`:@@items6ffd71eda225c5d971b1fef21df03c06b41ba8a36162691442834560200:Items`,zi=$localize`:@@titlefdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e5701618810648052610:Title`,ui=$localize`:@@titlefdf7cbdc140d0aab0f0b6c06065a0fd448ed6a2e5701618810648052610:Title`,wo=$localize`:@@descriptioneec715de352a6b114713b30b640d319fa78207a04902817035128594900:Description`,Ji=$localize`:@@descriptioneec715de352a6b114713b30b640d319fa78207a04902817035128594900:Description`,Wi=$localize`:@@widgets22d747c8705e27affe85b80efa33496575e2bcd48741639631114794052:Widgets`,Fi=$localize`:@@label863226cffd5b66a6fee9810a9282a5006d6ef5764077520913910941990:Label`,ao=$localize`:@@label863226cffd5b66a6fee9810a9282a5006d6ef5764077520913910941990:Label`,_o=$localize`:@@resetToDefaults38e19e3c8d622877d91488503d11e24787e960ed7773671942343493215:Reset to defaults`,[["mat-dialog-title","","cdkDrag","","cdkDragHandle","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".cdk-overlay-container",3,"cdkDragFreeDragPosition"],Le,["displayMode","flat",1,"borderless"],P,[1,"font-panel__expansion-content"],["multi","",1,"min-padding"],U,["groupId","cover-title","groupLabel",Pe,3,"reset$","fonts$"],tt,["groupId","cover-subtitle","groupLabel",Dt,3,"reset$","fonts$"],Tt,["groupId","cover-description","groupLabel",qt,3,"reset$","fonts$"],sn,pn,["groupId","section-title","groupLabel",Cn,3,"reset$","fonts$"],Pn,["groupId","section-description","groupLabel",Qn,3,"reset$","fonts$"],ni,zi,["groupId","item-title","groupLabel",ui,3,"reset$","fonts$"],wo,["groupId","item-description","groupLabel",Ji,3,"reset$","fonts$"],Wi,Fi,["groupId","widget","groupLabel",ao,3,"reset$","fonts$"],[4,"ngIf"],["mat-stroked-button","","color","primary",3,"disabled","click"],_o]},template:function(P,U){1&P&&(e._UZ(0,"dialog-dismiss"),e.TgZ(1,"header",0)(2,"span"),e.SDv(3,1),e.qZA()(),e.TgZ(4,"mat-dialog-content")(5,"mat-accordion",2)(6,"mat-expansion-panel"),e.ALo(7,"async"),e.TgZ(8,"mat-expansion-panel-header")(9,"mat-panel-title")(10,"span"),e.SDv(11,3),e.qZA()()(),e.TgZ(12,"div",4)(13,"mat-accordion",5)(14,"mat-expansion-panel")(15,"mat-expansion-panel-header")(16,"mat-panel-title"),e.SDv(17,6),e.qZA()(),e._UZ(18,"font-control-group",7),e.qZA(),e.TgZ(19,"mat-expansion-panel")(20,"mat-expansion-panel-header")(21,"mat-panel-title"),e.SDv(22,8),e.qZA()(),e._UZ(23,"font-control-group",9),e.qZA(),e.TgZ(24,"mat-expansion-panel")(25,"mat-expansion-panel-header")(26,"mat-panel-title"),e.SDv(27,10),e.qZA()(),e._UZ(28,"font-control-group",11),e.qZA()()()(),e.TgZ(29,"mat-expansion-panel"),e.ALo(30,"async"),e.TgZ(31,"mat-expansion-panel-header")(32,"mat-panel-title")(33,"span"),e.SDv(34,12),e.qZA()()(),e.TgZ(35,"div",4)(36,"mat-accordion",5)(37,"mat-expansion-panel")(38,"mat-expansion-panel-header")(39,"mat-panel-title"),e.SDv(40,13),e.qZA()(),e._UZ(41,"font-control-group",14),e.qZA(),e.TgZ(42,"mat-expansion-panel")(43,"mat-expansion-panel-header")(44,"mat-panel-title"),e.SDv(45,15),e.qZA()(),e._UZ(46,"font-control-group",16),e.qZA()()()(),e.TgZ(47,"mat-expansion-panel"),e.ALo(48,"async"),e.TgZ(49,"mat-expansion-panel-header")(50,"mat-panel-title")(51,"span"),e.SDv(52,17),e.qZA()()(),e.TgZ(53,"div",4)(54,"mat-accordion",5)(55,"mat-expansion-panel")(56,"mat-expansion-panel-header")(57,"mat-panel-title"),e.SDv(58,18),e.qZA()(),e._UZ(59,"font-control-group",19),e.qZA(),e.TgZ(60,"mat-expansion-panel")(61,"mat-expansion-panel-header")(62,"mat-panel-title"),e.SDv(63,20),e.qZA()(),e._UZ(64,"font-control-group",21),e.qZA()()()(),e.TgZ(65,"mat-expansion-panel"),e.ALo(66,"async"),e.TgZ(67,"mat-expansion-panel-header")(68,"mat-panel-title")(69,"span"),e.SDv(70,22),e.qZA()()(),e.TgZ(71,"div",4)(72,"mat-accordion",5)(73,"mat-expansion-panel")(74,"mat-expansion-panel-header")(75,"mat-panel-title"),e.SDv(76,23),e.qZA()(),e._UZ(77,"font-control-group",24),e.qZA()()()()()(),e.YNc(78,or,4,3,"mat-dialog-actions",25),e.ALo(79,"async")),2&P&&(e.xp6(1),e.Q6J("cdkDragFreeDragPosition",U.dragPosition),e.xp6(5),e.Q6J("@.disabled",!e.lcZ(7,22,U.viewInit$)),e.xp6(12),e.Q6J("reset$",U.reset$)("fonts$",U.allFonts$),e.xp6(5),e.Q6J("reset$",U.reset$)("fonts$",U.allFonts$),e.xp6(5),e.Q6J("reset$",U.reset$)("fonts$",U.descFonts$),e.xp6(1),e.Q6J("@.disabled",!e.lcZ(30,24,U.viewInit$)),e.xp6(12),e.Q6J("reset$",U.reset$)("fonts$",U.allFonts$),e.xp6(5),e.Q6J("reset$",U.reset$)("fonts$",U.descFonts$),e.xp6(1),e.Q6J("@.disabled",!e.lcZ(48,26,U.viewInit$)),e.xp6(12),e.Q6J("reset$",U.reset$)("fonts$",U.allFonts$),e.xp6(5),e.Q6J("reset$",U.reset$)("fonts$",U.descFonts$),e.xp6(1),e.Q6J("@.disabled",!e.lcZ(66,28,U.viewInit$)),e.xp6(12),e.Q6J("reset$",U.reset$)("fonts$",U.descFonts$),e.xp6(1),e.Q6J("ngIf",e.lcZ(79,30,U.hasCustom$)))},styles:["fonts-panel-dialog mat-dialog-content{overscroll-behavior:contain;margin:0;padding:0}fonts-panel-dialog .mat-accordion.borderless>.mat-expansion-panel{border:none!important;box-shadow:none!important}fonts-panel-dialog .mat-accordion.borderless>.mat-expansion-panel>.mat-expansion-panel-header{border:none!important;box-shadow:none!important;padding:0 4px 0 0;font-weight:600}@media (pointer: fine){fonts-panel-dialog .mat-accordion.borderless>.mat-expansion-panel>.mat-expansion-panel-header:hover{background:none!important}}fonts-panel-dialog .mat-accordion.borderless .mat-expansion-panel-body{padding:1px!important}fonts-panel-dialog .mat-accordion.min-padding>.mat-expansion-panel>.mat-expansion-panel-header{padding:0 12px}fonts-panel-dialog .mat-expansion-panel-header{height:44px!important}fonts-panel-dialog .mat-expansion-panel-header roll-icon{margin-right:6px}fonts-panel-dialog .mat-panel-title{white-space:nowrap}fonts-panel-dialog .mat-checkbox-frame{border-color:var(--bu-brand-blue)}@media (max-width: 23.4275em){fonts-panel-dialog .mat-slider-horizontal{min-width:80px}}\n"],encapsulation:2,changeDetection:0}),H})();var No=r(1314);let no=(()=>{class H{constructor(P,U,Pe){this.uiQuery=P,this.uiSvc=U,this.dlgSvc=Pe}open(){const P=this.uiQuery.getEditMode();P&&this.uiSvc.updateEditMode(!1),this.uiSvc.updateFontPanelOpen(!0);const U=this.dlgSvc.open(yo,{panelClass:"roll-dialog--fonts-panel",scrollStrategy:new No.RZ,backdropClass:"cdk-overlay-transparent-backdrop",disableClose:!0,position:{top:"55px",left:"20px"},closeOnNavigation:!1});this.uiQuery.isDetailView$.pipe((0,kt.R)(U.afterClosed()),(0,D.b)(Pe=>{Pe?document.documentElement.classList.add("detail-view-noop-scroll-strategy"):document.documentElement.classList.remove("detail-view-noop-scroll-strategy")}),(0,S.x)(()=>{this.uiSvc.updateFontPanelOpen(!1),document.documentElement.classList.remove("detail-view-noop-scroll-strategy"),P&&this.uiSvc.updateEditMode(!0)})).subscribe()}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(s.YU),e.LFG(s.HL),e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"any"}),H})();var Eo=r(9287),Ai=r(7405),Qi=r(4107),So=r(8029),io=r(2368),Io=r(5178);function Ti(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,6),e.qZA())}function er(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,7),e.qZA())}function rr(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,8),e.qZA())}function Bi(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,9),e.qZA())}function Gi(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,10),e.qZA())}function bo(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,11),e.qZA())}function Po(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,12),e.qZA())}let ho=(()=>{class H{constructor(P,U,Pe,tt){this.urlSvc=P,this.winSvc=U,this.dialogRef=Pe,this.data=tt,this.features=s.G,this.destroy$=new C.x}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}dismiss(){this.dialogRef.close()}onSubmit(){this.winSvc.open(this.urlSvc.planManagement),this.dismiss()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(G.i),e.Y36(Io.u),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["premium-required-dialog"]],decls:17,vars:7,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn;return Le=$localize`:@@premiumRequiredDialogMessage85ecb22aef6271cc462e436758531cd39dae2b407912829279450255175:This feature requires a premium plan.${"\ufffd#13\ufffd"}:START_PARAGRAPH:Learn more about premium plans?${"\ufffd/#13\ufffd"}:CLOSE_PARAGRAPH:`,P=$localize`:@@learnMoree2dcf27db9c6a5e249960c576014aa40b3883360819996403327805209:Learn more`,U=$localize`:efbe55685ffef5af777f95b5b512f2c8b15cbfcc7861389751355579174:Analytics`,Pe=$localize`:97a9135fd751f88ed26d74b211f587566cd687081506914314787422220:Custom logo in footer`,tt=$localize`:11a8ed9dc8911ad491fb9029506242abf9c9cad73257649866775208948:Disable downloads`,Dt=$localize`:427589505741d1da181b756815701e756184cb8d7321299026311900359:Password protection`,Tt=$localize`:6e93ae7c6ea36a8a5af87b476594c54cbb89b8866942144477852854744:Use different name and avatar`,qt=$localize`:450d079cfc086334712559180338e999fb9335507183290072482437451:Hide share button`,sn=$localize`:8bb246d516a526655e40bd24c08a3d620d613aa95744611755301378980:Premium fonts`,[["mat-dialog-title",""],[4,"ngIf"],["id","premform",3,"ngSubmit"],Le,["mat-flat-button","","type","submit","form","premform","color","primary"],P,U,Pe,tt,Dt,Tt,qt,sn]},template:function(P,U){1&P&&(e._UZ(0,"dialog-dismiss"),e.TgZ(1,"header",0),e.YNc(2,Ti,2,0,"span",1),e.YNc(3,er,2,0,"span",1),e.YNc(4,rr,2,0,"span",1),e.YNc(5,Bi,2,0,"span",1),e.YNc(6,Gi,2,0,"span",1),e.YNc(7,bo,2,0,"span",1),e.YNc(8,Po,2,0,"span",1),e.qZA(),e.TgZ(9,"mat-dialog-content")(10,"form",2),e.NdJ("ngSubmit",function(){return U.onSubmit()}),e.TgZ(11,"span"),e.tHW(12,3),e._UZ(13,"p"),e.N_p(),e.qZA()()(),e.TgZ(14,"mat-dialog-actions")(15,"button",4),e.SDv(16,5),e.qZA()()),2&P&&(e.xp6(2),e.Q6J("ngIf",U.features.ANALYTICS===(null==U.data?null:U.data.feature)),e.xp6(1),e.Q6J("ngIf",U.features.CUSTOM_LOGO===(null==U.data?null:U.data.feature)),e.xp6(1),e.Q6J("ngIf",U.features.DOWNLOAD_DISABLE===(null==U.data?null:U.data.feature)),e.xp6(1),e.Q6J("ngIf",U.features.PASSWORD_PROTECTION===(null==U.data?null:U.data.feature)),e.xp6(1),e.Q6J("ngIf",U.features.PERSONALITY_EDIT===(null==U.data?null:U.data.feature)),e.xp6(1),e.Q6J("ngIf",U.features.SHARE_DISABLE===(null==U.data?null:U.data.feature)),e.xp6(1),e.Q6J("ngIf",U.features.PREMIUM_FONTS===(null==U.data?null:U.data.feature)))},directives:[$.k,a.uh,o.O5,a.xY,c._Y,c.JL,c.F,a.H8,g.lW],styles:["[_nghost-%COMP%]{display:block}"]}),H})(),Ho=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(ho,{data:P})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})(),je=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[Ho],imports:[[o.ez,c.u5,c.UX,g.ot,a.Is,d.c,v.Fk,io.rP,h.M,f.o]]}),H})(),w=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,c.u5,c.UX,Qi.LD,g.ot,u.To,d.c,Eo.Iq,ke.AV,So.KP,io.rP,Zn.p9,Xe.X,je]]}),H})();var W=r(1884),B=r(508);function re(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(){return e.CHM(P),e.oxw(2).onPremiumBadgeClick()}),e._UZ(1,"roll-icon",24),e.qZA()}}function Ve(H,Le){if(1&H&&(e.TgZ(0,"mat-option",21),e.ALo(1,"async"),e._uU(2),e.YNc(3,re,2,0,"div",22),e.qZA()),2&H){const P=Le.$implicit,U=e.oxw();e.Udp("font-family",U.getFontFamily(P)),e.Q6J("disabled",P.premium&&!e.lcZ(1,6,U.premiumFontsAllowed$))("value",P),e.xp6(2),e.Oqu(P.family),e.xp6(1),e.Q6J("ngIf",P.premium)}}function ct(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"roll-icon",26),e.TgZ(2,"mat-slider",27),e.NdJ("input",function(Pe){e.CHM(P);const tt=e.oxw();return tt.onSliderInput(tt.properties.FONT_SIZE,Pe.value)}),e.qZA(),e._UZ(3,"roll-icon",28),e.TgZ(4,"mat-form-field",29),e._UZ(5,"input",30),e.qZA()()}if(2&H){const P=e.oxw();e.Q6J("matTooltipPosition",P.tooltipPosition),e.xp6(2),e.Q6J("min",1)("max",5)("step",P.selectedFont.axes.fs.step),e.xp6(3),e.Q6J("min",P.selectedFont.axes.fs.min)("max",P.selectedFont.axes.fs.max)("step",P.selectedFont.axes.fs.step)}}function Pt(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,31),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.fs.min),e.QtT(1)}}function Vt(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,32),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.fs.max),e.QtT(1)}}function en(H,Le){1&H&&(e.TgZ(0,"div",41),e.SDv(1,42),e.qZA())}function gn(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"div",33),e._UZ(1,"mat-checkbox",34,35)(3,"roll-icon",36),e.TgZ(4,"mat-slider",37),e.NdJ("input",function(Pe){e.CHM(P);const tt=e.oxw();return tt.onSliderInput(tt.properties.FONT_WEIGHT,Pe.value)}),e.qZA(),e._UZ(5,"roll-icon",38),e.TgZ(6,"mat-form-field",29),e._UZ(7,"input",39),e.YNc(8,en,2,0,"div",40),e.qZA()()}if(2&H){const P=e.MAs(2),U=e.oxw();e.ekj("notcustom",!P.checked),e.Q6J("matTooltipPosition",U.tooltipPosition),e.xp6(4),e.Q6J("min",U.selectedFont.axes.wght.min)("max",U.selectedFont.axes.wght.max)("step",U.selectedFont.axes.wght.step),e.xp6(3),e.Q6J("min",U.selectedFont.axes.wght.min)("max",U.selectedFont.axes.wght.max)("step",U.selectedFont.axes.wght.step),e.xp6(1),e.Q6J("ngIf",!P.checked)}}function dn(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,43),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.wght.min),e.QtT(1)}}function hn(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,44),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.wght.max),e.QtT(1)}}function In(H,Le){1&H&&(e.TgZ(0,"div",41),e.SDv(1,52),e.qZA())}function En(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"div",45),e._UZ(1,"mat-checkbox",46,47)(3,"roll-icon",48),e.TgZ(4,"mat-slider",49),e.NdJ("input",function(Pe){e.CHM(P);const tt=e.oxw();return tt.onSliderInput(tt.properties.FONT_STRETCH,Pe.value)}),e.qZA(),e._UZ(5,"roll-icon",50),e.TgZ(6,"mat-form-field",29),e._UZ(7,"input",51),e.YNc(8,In,2,0,"div",40),e.qZA()()}if(2&H){const P=e.MAs(2),U=e.oxw();e.ekj("notcustom",!P.checked),e.Q6J("matTooltipPosition",U.tooltipPosition),e.xp6(4),e.Q6J("min",U.selectedFont.axes.wdth.min)("max",U.selectedFont.axes.wdth.max)("step",U.selectedFont.axes.wdth.step),e.xp6(3),e.Q6J("min",U.selectedFont.axes.wdth.min)("max",U.selectedFont.axes.wdth.max)("step",U.selectedFont.axes.wdth.step),e.xp6(1),e.Q6J("ngIf",!P.checked)}}function Wn(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,53),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.wdth.min),e.QtT(1)}}function ye(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,54),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.wdth.max),e.QtT(1)}}function le(H,Le){1&H&&(e.TgZ(0,"div",41),e.SDv(1,62),e.qZA())}function J(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"div",55),e._UZ(1,"mat-checkbox",56,57)(3,"roll-icon",58),e.TgZ(4,"mat-slider",59),e.NdJ("input",function(Pe){e.CHM(P);const tt=e.oxw();return tt.onSliderInput(tt.properties.LINE_HEIGHT,Pe.value)}),e.qZA(),e._UZ(5,"roll-icon",60),e.TgZ(6,"mat-form-field",29),e._UZ(7,"input",61),e.YNc(8,le,2,0,"div",40),e.qZA()()}if(2&H){const P=e.MAs(2),U=e.oxw();e.ekj("notcustom",!P.checked),e.Q6J("matTooltipPosition",U.tooltipPosition),e.xp6(4),e.Q6J("min",1)("max",2)("step",U.selectedFont.axes.lh.step),e.xp6(3),e.Q6J("min",U.selectedFont.axes.lh.min)("max",U.selectedFont.axes.lh.max)("step",U.selectedFont.axes.lh.step),e.xp6(1),e.Q6J("ngIf",!P.checked)}}function He(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,63),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.lh.min),e.QtT(1)}}function Ht(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,64),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.lh.max),e.QtT(1)}}function cn(H,Le){1&H&&(e.TgZ(0,"div",41),e.SDv(1,72),e.qZA())}function mi(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"div",65),e._UZ(1,"mat-checkbox",66,67)(3,"roll-icon",68),e.TgZ(4,"mat-slider",69),e.NdJ("input",function(Pe){e.CHM(P);const tt=e.oxw();return tt.onSliderInput(tt.properties.LETTER_SPACING,Pe.value)}),e.qZA(),e._UZ(5,"roll-icon",70),e.TgZ(6,"mat-form-field",29),e._UZ(7,"input",71),e.YNc(8,cn,2,0,"div",40),e.qZA()()}if(2&H){const P=e.MAs(2),U=e.oxw();e.ekj("notcustom",!P.checked),e.Q6J("matTooltipPosition",U.tooltipPosition),e.xp6(4),e.Q6J("min",-.1)("max",1)("step",U.selectedFont.axes.ls.step),e.xp6(3),e.Q6J("min",U.selectedFont.axes.ls.min)("max",U.selectedFont.axes.ls.max)("step",U.selectedFont.axes.ls.step),e.xp6(1),e.Q6J("ngIf",!P.checked)}}function Vi(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,73),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.ls.min),e.QtT(1)}}function ri(H,Le){if(1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,74),e.qZA()),2&H){const P=e.oxw();e.xp6(1),e.pQV(P.selectedFont.axes.ls.max),e.QtT(1)}}function qn(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){return e.CHM(P),e.oxw().undoSessionChanges()}),e.SDv(1,76),e.qZA()}}let Yt=(()=>{class H{constructor(P,U,Pe,tt,Dt,Tt,qt){this.logger=P,this.fb=U,this.cdr=Pe,this.fontsSvc=tt,this.userQuery=Dt,this.prDlgSvc=Tt,this.platform=qt,this.properties=fi.hr,this.form=this.fb.group({fontSelect:[],fontSizeInput:[],fontSizeSlider:[],wghtSlider:[],wghtCB:[!1],wghtInput:[],wdthSlider:[100],wdthCB:[!1],wdthInput:[],italToggle:[!1],lineHeightSlider:[],lineHeightCB:[!1],lineHeightInput:[],letterSpacingSlider:[],letterSpacingCB:[!1],letterSpacingInput:[]}),this.premiumFontsAllowed$=this.userQuery.selectIsFeatureAllowed(s.G.PREMIUM_FONTS),this.tooltipPosition=this.platform.isMobile?"above":"right",this.destroy$=new C.x,this.trapEvtOpts={onlySelf:!0,emitEvent:!1},this.formInitialized=!1,this.ngInitialized=!1,this.inputDebounce=750}ngOnInit(){this.reset$.pipe((0,kt.R)(this.destroy$),(0,qe.h)(()=>this.formInitialized&&this.form.dirty),(0,D.b)(()=>this.initForm())).subscribe(),this.form.valueChanges.pipe((0,kt.R)(this.destroy$),(0,D.b)(()=>this.cdr.markForCheck()),(0,qe.h)(()=>this.formInitialized),(0,D.b)(P=>this.logger.debug(P))).subscribe(),this.initForm(),this.ngInitialized=!0}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}getFontFamily(P){return`'${P.family}', ${P.category}`}undoSessionChanges(){this.form.reset(this.formResets,{emitEvent:!1}),this.fontsSvc.clearVars(this.groupVarsList()).subscribe(),this.cdr.markForCheck()}onSliderInput(P,U){this.getInputControl(P).setValue(U,this.trapEvtOpts),this.setDocumentProperty(P,U)}onPremiumBadgeClick(){const P=s.G.PREMIUM_FONTS;this.userQuery.getIsFeatureAllowed(P)||this.prDlgSvc.open({feature:P})}onFontSelectOpenChange(P){var U;P&&(null===(U=this.findSelectPanelOverlay())||void 0===U||U.setAttribute("data-font-select-pane",""))}findSelectPanelOverlay(){var P;const U=document.querySelector(".font-control__font-select");return null===(P=null==U?void 0:U.parentElement)||void 0===P?void 0:P.parentElement}initForm(){this.formInitialized=!1;const P=getComputedStyle(document.documentElement);this.initFontControl(P),this.initSizeControl(P),this.initWeightControl(P),this.initItalControl(P),this.initWidthControl(P),this.initLineHeightControl(P),this.initLetterSpacingControl(P),this.formResets=this.form.value,this.form.markAsPristine(),this.cdr.markForCheck(),this.formInitialized=!0}initFontControl(P){const U=this.capture(fi.hr.FONT_FAMILY,P),Pe=U.rawVal.split(",")[0].replace(/[\"\']/g,"").trim(),tt=this.form.get("fontSelect");this.ngInitialized||tt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Dt=>this.selectedFont=Dt),(0,x.U)(Dt=>`'${Dt.family}', ${Dt.category}`),(0,R.w)(Dt=>this.updateFontVar(U.cssProp,Dt))).subscribe(),this.fonts$.pipe((0,I.q)(1),(0,D.b)(Dt=>{const Tt=Dt.find(qt=>Pe===qt.family);tt.setValue(Tt),this.selectedFont=Tt})).subscribe()}initSizeControl(P){const U=this.capture(fi.hr.FONT_SIZE,P),Pe=this.form.get("fontSizeSlider"),tt=this.form.get("fontSizeInput");this.ngInitialized||(Pe.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Dt=>tt.setValue(Dt,this.trapEvtOpts)),(0,R.w)(Dt=>this.updateFontVar(U.cssProp,Dt))).subscribe(),tt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,x.U)(Dt=>Math.min(this.selectedFont.axes.fs.max,Math.max(this.selectedFont.axes.fs.min,Dt))),(0,D.b)(Dt=>Pe.setValue(Dt,this.trapEvtOpts)),(0,D.b)(Dt=>this.setDocumentProperty(U.cssProp,`${Dt}`)),(0,At.b)(this.inputDebounce),(0,R.w)(Dt=>this.updateFontVar(U.cssProp,`${Dt}`))).subscribe()),Pe.setValue(U.numVal),tt.setValue(U.numVal)}initItalControl(P){const U=this.capture(fi.hr.FONT_STYLE,P),Pe=this.form.get("italToggle");this.ngInitialized||Pe.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,x.U)(tt=>tt?"italic":"normal"),(0,R.w)(tt=>this.updateFontVar(U.cssProp,tt))).subscribe(),Pe.setValue("italic"===U.rawVal)}initWeightControl(P){const U=this.capture(fi.hr.FONT_WEIGHT,P),Pe=this.form.get("wghtCB"),tt=this.form.get("wghtSlider"),Dt=this.form.get("wghtInput");U.automatic&&(tt.disable(this.trapEvtOpts),Dt.disable(this.trapEvtOpts)),this.ngInitialized||(Pe.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Tt=>Tt?tt.enable(this.trapEvtOpts):tt.disable(this.trapEvtOpts)),(0,D.b)(Tt=>Tt?Dt.enable(this.trapEvtOpts):Dt.disable(this.trapEvtOpts)),(0,x.U)(Tt=>Tt?this.getNumericOrNormalFormValue(tt):"normal"),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe(),tt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Tt=>Dt.setValue(Tt,this.trapEvtOpts)),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe(),Dt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,x.U)(Tt=>Math.min(this.selectedFont.axes.wght.max,Math.max(this.selectedFont.axes.wght.min,Tt))),(0,D.b)(Tt=>tt.setValue(Tt,this.trapEvtOpts)),(0,D.b)(Tt=>this.setDocumentProperty(U.cssProp,`${Tt}`)),(0,At.b)(this.inputDebounce),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,`${Tt}`))).subscribe()),Pe.setValue(!U.automatic),tt.setValue(U.numVal),Dt.setValue(U.numVal)}initWidthControl(P){const U=this.capture(fi.hr.FONT_STRETCH,P),Pe=this.form.get("wdthCB"),tt=this.form.get("wdthSlider"),Dt=this.form.get("wdthInput");U.automatic&&(tt.disable(this.trapEvtOpts),Dt.disable(this.trapEvtOpts)),this.ngInitialized||(Pe.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Tt=>Tt?tt.enable(this.trapEvtOpts):tt.disable(this.trapEvtOpts)),(0,D.b)(Tt=>Tt?Dt.enable(this.trapEvtOpts):Dt.disable(this.trapEvtOpts)),(0,x.U)(Tt=>Tt?this.getNumericOrNormalFormValue(tt):"normal"),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe(),tt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Tt=>Dt.setValue(Tt,this.trapEvtOpts)),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe(),Dt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,x.U)(Tt=>`${Math.min(this.selectedFont.axes.wdth.max,Math.max(this.selectedFont.axes.wdth.min,Tt))}`),(0,D.b)(Tt=>tt.setValue(Tt,this.trapEvtOpts)),(0,D.b)(Tt=>this.setDocumentProperty(U.cssProp,`${Tt}`)),(0,At.b)(this.inputDebounce),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe()),Pe.setValue(!U.automatic),tt.setValue(U.numVal),Dt.setValue(U.numVal)}initLineHeightControl(P){const U=this.capture(fi.hr.LINE_HEIGHT,P),Pe=this.form.get("lineHeightCB"),tt=this.form.get("lineHeightSlider"),Dt=this.form.get("lineHeightInput");U.automatic&&(tt.disable(this.trapEvtOpts),Dt.disable(this.trapEvtOpts)),this.ngInitialized||(Pe.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Tt=>Tt?tt.enable(this.trapEvtOpts):tt.disable(this.trapEvtOpts)),(0,D.b)(Tt=>Tt?Dt.enable(this.trapEvtOpts):Dt.disable(this.trapEvtOpts)),(0,x.U)(Tt=>Tt?this.getNumericOrNormalFormValue(tt):"normal"),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe(),tt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Tt=>Dt.setValue(Tt,this.trapEvtOpts)),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe(),Dt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,x.U)(Tt=>Math.min(this.selectedFont.axes.lh.max,Math.max(this.selectedFont.axes.lh.min,Tt))),(0,D.b)(Tt=>tt.setValue(Tt,this.trapEvtOpts)),(0,D.b)(Tt=>this.setDocumentProperty(U.cssProp,`${Tt}`)),(0,At.b)(this.inputDebounce),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,`${Tt}`))).subscribe()),Pe.setValue(!U.automatic),tt.setValue(U.numVal),Dt.setValue(U.numVal)}initLetterSpacingControl(P){const U=this.capture(fi.hr.LETTER_SPACING,P),Pe=this.form.get("letterSpacingCB"),tt=this.form.get("letterSpacingSlider"),Dt=this.form.get("letterSpacingInput");U.automatic&&(tt.disable(this.trapEvtOpts),Dt.disable(this.trapEvtOpts)),this.ngInitialized||(Pe.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Tt=>Tt?tt.enable(this.trapEvtOpts):tt.disable(this.trapEvtOpts)),(0,D.b)(Tt=>Tt?Dt.enable(this.trapEvtOpts):Dt.disable(this.trapEvtOpts)),(0,x.U)(Tt=>Tt?this.getNumericOrNormalFormValue(tt):"normal"),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe(),tt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,D.b)(Tt=>Dt.setValue(Tt,this.trapEvtOpts)),(0,x.U)(Tt=>Tt?`${Tt}`:"normal"),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe(),Dt.valueChanges.pipe((0,kt.R)(this.destroy$),(0,W.x)(),(0,qe.h)(()=>this.formInitialized),(0,x.U)(Tt=>Math.min(this.selectedFont.axes.ls.max,Math.max(this.selectedFont.axes.ls.min,Tt))),(0,D.b)(Tt=>tt.setValue(Tt,this.trapEvtOpts)),(0,x.U)(Tt=>Tt?`${Tt}`:"normal"),(0,D.b)(Tt=>this.setDocumentProperty(U.cssProp,`${Tt}`)),(0,At.b)(this.inputDebounce),(0,R.w)(Tt=>this.updateFontVar(U.cssProp,Tt))).subscribe()),Pe.setValue(!U.automatic),tt.setValue(U.numVal),Dt.setValue(U.numVal)}capture(P,U){U=U||getComputedStyle(document.documentElement);const Pe=this.getVarMapEntry(P),tt=U.getPropertyValue(`--${this.groupId}__${P}`).trim(),Dt="normal"===tt;return{cssProp:P,automatic:Dt,rawVal:tt,numVal:Dt?Pe.config.numericNormal:parseFloat(tt)}}groupVarsList(){return Array.from(fi.dP.keys()).filter(P=>P.indexOf(this.groupId))}getNumericOrNormalFormValue(P){const U=P.value,Pe=parseFloat(U);return Pe?`${Pe}`:`${U}`}getVarMapEntry(P){const U=`--${this.groupId}__${P}`;return{name:U,config:fi.dP.get(U)}}getInputControl(P){switch(P){case fi.hr.FONT_SIZE:return this.form.get("fontSizeInput");case fi.hr.FONT_WEIGHT:return this.form.get("wghtInput");case fi.hr.FONT_STRETCH:return this.form.get("wdthInput");case fi.hr.LINE_HEIGHT:return this.form.get("lineHeightInput");case fi.hr.LETTER_SPACING:return this.form.get("letterSpacingInput")}}setDocumentProperty(P,U){const Pe=this.getVarMapEntry(P),tt=parseFloat(U);return tt==tt&&(U=`${U}${Pe.config.numericUnits}`),requestAnimationFrame(()=>{document.documentElement.style.setProperty(Pe.name,U)}),[Pe.name,U]}updateFontVar(P,U){const[Pe,tt]=this.setDocumentProperty(P,U);return this.fontsSvc.updateFontVar(Pe,tt)}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(k.m),e.Y36(c.qu),e.Y36(e.sBO),e.Y36(fi.Cs),e.Y36(s.fE),e.Y36(Ho),e.Y36(gt.mi))},H.\u0275cmp=e.Xpm({type:H,selectors:[["font-control-group"]],inputs:{groupId:"groupId",groupLabel:"groupLabel",fonts$:"fonts$",reset$:"reset$"},decls:36,vars:21,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn,Pn,Qn,ni,zi,ui,wo,Ji,Wi,Fi,ao,_o,di;return Le=$localize`:@@fontFamily9a048255eaff57af747bd072806025fe44c854e87844952679890336008:Font family`,P=$localize`:@@fontSize47280aab972c9ae8ae4d7bc8f562b07ba025f8a38961647648050064254:Font size`,U=$localize`:bc2e854e111ecf2bd7db170da5e3c2ed08181d886201638315245239510:Advanced`,Pe=$localize`:@@italic5d03f644fa70efc613805db7af74801cebf33bf6266505507282188406:Italic`,tt=$localize`:@@fontWeight72c115fc67fcba183ba11261ffc6bda0f1e3bc7e6251902065432379794:Font weight`,Dt=$localize`:@@fontWidth82370bbae41201afb53e8af133bab78e3ae9cd322980929799732082662:Font width`,Tt=$localize`:@@lineHeight608f6786e8badcbf44b99bb0b432e2bcd3a4a51c3351339831817755126:Line height`,qt=$localize`:@@letterSpacinge4bacb9106f8fb2887e1a050d192f91c7d3d1bd13833992060044991742:Letter spacing`,sn=$localize`:@@fontPanelInputMinError1bc9ccb95e33232ccebaae6a99ab7d0136a3c5e24942214201857687111:Value too small. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,pn=$localize`:@@fontPanelInputMaxError66e9114c35914d7146a1b702eda239a2e47cd0238552680748593374352:Value too large. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,Cn=$localize`:@@auto5fb13fb4a8447e59cdf05dc196ade39c02a6f8aa616064537937996961:Auto`,Pn=$localize`:2927de373384ce885f4b26f87a61a83b3599c5c46841422674481515622:Value too small. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,Qn=$localize`:45427b3c2984c6771502af2f49e645d2208bed2a4084641651693838484:Value too large. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,ni=$localize`:@@auto5fb13fb4a8447e59cdf05dc196ade39c02a6f8aa616064537937996961:Auto`,zi=$localize`:@@fontPanelInputMinError4a9863e06b49ccf4e511230243da0defe1214c0a3546884380771120237:Value too small. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,ui=$localize`:@@fontPanelInputMaxErrord1c2f8fe82da5ebd1d0b27f708b925540f7299513695735551259580556:Value too large. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,wo=$localize`:@@auto5fb13fb4a8447e59cdf05dc196ade39c02a6f8aa616064537937996961:Auto`,Ji=$localize`:@@fontPanelInputMinError57b7e7b6665895180f02a0f89d77556c1c9c34358476118179055129556:Value too small. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,Wi=$localize`:@@fontPanelInputMaxError67246f64ecd3497c3042eb17411a99b358609d933168899328253085303:Value too large. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,Fi=$localize`:@@auto5fb13fb4a8447e59cdf05dc196ade39c02a6f8aa616064537937996961:Auto`,ao=$localize`:@@fontPanelInputMinError332bf7e3da6708336a169168babaeb4bbe10d6f32132766997132117376:Value too small. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,_o=$localize`:@@fontPanelInputMaxError65d7f8ab83ffdabcac9ccee860b15312d15448db5924748079242021968:Value too large. We saved it as ${"\ufffd0\ufffd"}:INTERPOLATION:`,di=$localize`:@@undoChanges338e082ed1f26a9f1ef182158cc8f649b19b81a34194876199597412112:Undo changes`,[["id","fontControlForm",3,"formGroup"],[1,"font-control-group"],Le,["formControlName","fontSelect","panelClass","font-control__font-select",3,"openedChange"],[3,"disabled","font-family","value",4,"ngFor","ngForOf"],["class","font-control__container","matTooltip",P,"matTooltipClass","font-control-tooltip",3,"matTooltipPosition",4,"ngIf"],[4,"ngIf"],["displayMode","flat",1,"more-panel"],["morePanel",""],U,["matTooltip",Pe,"matTooltipClass","font-control-tooltip",1,"font-control__container","pr8",3,"matTooltipPosition"],["iconName","font-style-italic"],[1,"flex-spacer"],["formControlName","italToggle","color","primary","labelPosition","before"],["italToggle",""],["class","font-control__container","matTooltip",tt,"matTooltipClass","font-control-tooltip",3,"notcustom","matTooltipPosition",4,"ngIf"],["class","font-control__container","matTooltip",Dt,"matTooltipClass","font-control-tooltip",3,"notcustom","matTooltipPosition",4,"ngIf"],["class","font-control__container","matTooltip",Tt,"matTooltipClass","font-control-tooltip",3,"notcustom","matTooltipPosition",4,"ngIf"],["class","font-control__container","matTooltip",qt,"matTooltipClass","font-control-tooltip",3,"notcustom","matTooltipPosition",4,"ngIf"],[1,"font-control-group__footer"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[3,"disabled","value"],["class","premium-badge",3,"click",4,"ngIf"],[1,"premium-badge",3,"click"],["iconName","premium"],["matTooltip",P,"matTooltipClass","font-control-tooltip",1,"font-control__container",3,"matTooltipPosition"],["iconName","font-size-small"],["color","primary","formControlName","fontSizeSlider",3,"min","max","step","input"],["iconName","font-size-large"],["appearance","outline",1,"font-control__numeric_input"],["matInput","","type","number","formControlName","fontSizeInput",3,"min","max","step"],sn,pn,["matTooltip",tt,"matTooltipClass","font-control-tooltip",1,"font-control__container",3,"matTooltipPosition"],["color","primary","formControlName","wghtCB"],["wghtCB",""],["iconName","font-weight-light"],["color","primary","formControlName","wghtSlider",3,"min","max","step","input"],["iconName","font-weight-bold"],["matInput","","type","number","formControlName","wghtInput",3,"min","max","step"],["class","auto-placeholder",4,"ngIf"],[1,"auto-placeholder"],Cn,Pn,Qn,["matTooltip",Dt,"matTooltipClass","font-control-tooltip",1,"font-control__container",3,"matTooltipPosition"],["color","primary","formControlName","wdthCB"],["wdthCB",""],["iconName","font-width-condensed"],["color","primary","formControlName","wdthSlider",3,"min","max","step","input"],["iconName","font-width-expanded"],["matInput","","type","number","formControlName","wdthInput",3,"min","max","step"],ni,zi,ui,["matTooltip",Tt,"matTooltipClass","font-control-tooltip",1,"font-control__container",3,"matTooltipPosition"],["color","primary","formControlName","lineHeightCB"],["lineHCB",""],["iconName","line-height-dense"],["color","primary","formControlName","lineHeightSlider",3,"min","max","step","input"],["iconName","line-height"],["matInput","","type","number","formControlName","lineHeightInput",3,"min","max","step"],wo,Ji,Wi,["matTooltip",qt,"matTooltipClass","font-control-tooltip",1,"font-control__container",3,"matTooltipPosition"],["color","primary","formControlName","letterSpacingCB"],["spacingCB",""],["iconName","letter-spacing-dense"],["color","primary","formControlName","letterSpacingSlider",3,"min","max","step","input"],["iconName","letter-spacing"],["matInput","","type","number","formControlName","letterSpacingInput",3,"min","max","step"],Fi,ao,_o,["mat-stroked-button","","color","primary",3,"click"],di]},template:function(P,U){1&P&&(e.TgZ(0,"form",0)(1,"div",1)(2,"mat-form-field")(3,"mat-label"),e.SDv(4,2),e.qZA(),e.TgZ(5,"mat-select",3),e.NdJ("openedChange",function(tt){return U.onFontSelectOpenChange(tt)}),e.YNc(6,Ve,4,8,"mat-option",4),e.ALo(7,"async"),e.qZA()(),e.YNc(8,ct,6,7,"div",5),e.YNc(9,Pt,2,1,"mat-error",6),e.YNc(10,Vt,2,1,"mat-error",6),e.TgZ(11,"mat-expansion-panel",7,8)(13,"mat-expansion-panel-header")(14,"mat-panel-title"),e.SDv(15,9),e.qZA()(),e.TgZ(16,"div",10),e._UZ(17,"roll-icon",11)(18,"div",12)(19,"mat-slide-toggle",13,14),e.qZA(),e._UZ(21,"hr"),e.YNc(22,gn,9,10,"div",15),e.YNc(23,dn,2,1,"mat-error",6),e.YNc(24,hn,2,1,"mat-error",6),e.YNc(25,En,9,10,"div",16),e.YNc(26,Wn,2,1,"mat-error",6),e.YNc(27,ye,2,1,"mat-error",6),e.YNc(28,J,9,10,"div",17),e.YNc(29,He,2,1,"mat-error",6),e.YNc(30,Ht,2,1,"mat-error",6),e.YNc(31,mi,9,10,"div",18),e.YNc(32,Vi,2,1,"mat-error",6),e.YNc(33,ri,2,1,"mat-error",6),e.qZA(),e.TgZ(34,"div",19),e.YNc(35,qn,2,0,"button",20),e.qZA()()()),2&P&&(e.Q6J("formGroup",U.form),e.xp6(6),e.Q6J("ngForOf",e.lcZ(7,19,U.fonts$)),e.xp6(2),e.Q6J("ngIf",U.selectedFont.axes.fs),e.xp6(1),e.Q6J("ngIf",null==U.form.get("fontSizeInput").errors?null:U.form.get("fontSizeInput").errors.min),e.xp6(1),e.Q6J("ngIf",null==U.form.get("fontSizeInput").errors?null:U.form.get("fontSizeInput").errors.max),e.xp6(6),e.Q6J("matTooltipPosition",U.tooltipPosition),e.xp6(6),e.Q6J("ngIf",null==U.selectedFont||null==U.selectedFont.axes?null:U.selectedFont.axes.wght),e.xp6(1),e.Q6J("ngIf",null==U.form.get("wghtInput").errors?null:U.form.get("wghtInput").errors.min),e.xp6(1),e.Q6J("ngIf",null==U.form.get("wghtInput").errors?null:U.form.get("wghtInput").errors.max),e.xp6(1),e.Q6J("ngIf",null==U.selectedFont||null==U.selectedFont.axes?null:U.selectedFont.axes.wdth),e.xp6(1),e.Q6J("ngIf",null==U.form.get("wdthInput").errors?null:U.form.get("wdthInput").errors.min),e.xp6(1),e.Q6J("ngIf",null==U.form.get("wdthInput").errors?null:U.form.get("wdthInput").errors.max),e.xp6(1),e.Q6J("ngIf",null==U.selectedFont||null==U.selectedFont.axes?null:U.selectedFont.axes.lh),e.xp6(1),e.Q6J("ngIf",null==U.form.get("lineHeightInput").errors?null:U.form.get("lineHeightInput").errors.min),e.xp6(1),e.Q6J("ngIf",null==U.form.get("lineHeightInput").errors?null:U.form.get("lineHeightInput").errors.max),e.xp6(1),e.Q6J("ngIf",null==U.selectedFont||null==U.selectedFont.axes?null:U.selectedFont.axes.ls),e.xp6(1),e.Q6J("ngIf",null==U.form.get("letterSpacingInput").errors?null:U.form.get("letterSpacingInput").errors.min),e.xp6(1),e.Q6J("ngIf",null==U.form.get("letterSpacingInput").errors?null:U.form.get("letterSpacingInput").errors.max),e.xp6(2),e.Q6J("ngIf",U.form.dirty))},directives:[c._Y,c.JL,c.sg,p.KE,p.hX,Qi.gD,c.JJ,c.u,o.sg,B.ey,o.O5,xt.p,ke.gM,So.pH,d.Nt,c.wV,c.qQ,c.Fd,c.Fj,p.TO,u.ib,u.yz,u.yK,io.Rr,Zn.oG,g.lW],pipes:[o.Ov],styles:[".font-control-group{padding:0 8px 4px}.font-control-group label{font-weight:600}.font-control-group .mat-form-field{width:100%}.font-control-group .mat-form-field-wrapper{padding:0!important}.font-control-group .mat-slider{flex:1;margin:0 6px}.font-control-group .mat-checkbox{margin-left:4px}.font-control-group .mat-checkbox .mat-ripple-element{background:none!important}.font-control-group .mat-slider-min-value:not(.mat-slider-thumb-label-showing):not(.mat-slider-disabled) .mat-slider-thumb{background-color:var(--bu-brand-blue);border-color:transparent}.font-control-group .mat-expansion-panel-header{padding:0 14px}.font-control-group .mat-error{text-align:right}.font-control-group hr{margin:8px 0;border:none;border-top:1px solid rgba(0,0,0,.15)}.font-control-group__header{display:flex;align-items:center;margin-bottom:12px}.font-control-group__footer{display:flex;align-items:center;justify-content:flex-end;margin-top:4px}.font-control-group__footer button{text-transform:lowercase;font-size:12px}.font-control-group .font-control__container{display:flex;align-items:center;position:relative}.font-control-group .font-control__container.notcustom roll-icon{color:#0006}.font-control-group .font-control__container.notcustom input{opacity:0}.font-control-group .font-control__container .auto-placeholder{color:#0006;text-transform:lowercase;position:absolute;top:52%;left:50%;transform:translate(-50%,-50%)}.font-control-group .font-control__slide-toggle-label{color:var(--bu-brand-blue);text-transform:lowercase}.font-control-group .font-control__numeric_input{width:60px;margin-left:8px;font-size:16px}@media (pointer: fine){.font-control-group .font-control__numeric_input{width:80px}.font-control-group .font-control__numeric_input input::-webkit-outer-spin-button,.font-control-group .font-control__numeric_input input::-webkit-inner-spin-button{-webkit-appearance:inner-spin-button;opacity:1;width:15px}}.font-control-group .font-control__numeric_input .mat-form-field-infix{padding:.75em 0;border:none}.font-control-group .font-control__numeric_input input.mat-input-element{line-height:1.5;margin:0}.font-control-group .mat-expansion-panel.more-panel{border:none!important;box-shadow:none!important}.font-control-group .mat-expansion-panel.more-panel .font-control__numeric_input{margin-right:4px}.mat-tooltip-panel .font-control-tooltip{border:1px solid rgba(0,0,0,.15)!important;background:rgba(255,255,255,.9)!important;color:#000c!important;text-transform:lowercase}.mat-tooltip-panel.mat-tooltip-panel-above .font-control-tooltip{margin-bottom:0!important}.mat-tooltip-panel.mat-tooltip-panel-left .font-control-tooltip{margin-right:6px!important}.mat-tooltip-panel.mat-tooltip-panel-right .font-control-tooltip{margin-left:6px!important}.mat-select-panel.font-control__font-select{overscroll-behavior:contain}.mat-select-panel.font-control__font-select .mat-option .mat-option-text{display:inline-flex;position:relative}.mat-select-panel.font-control__font-select .mat-option .premium-badge{width:100%;text-align:right}.mat-select-panel.font-control__font-select .mat-option .premium-badge roll-icon{color:var(--bu-brand-blue)}.mat-select-panel.font-control__font-select .mat-option[aria-disabled=true] .mat-option-text{display:inline}.mat-select-panel.font-control__font-select .mat-option[aria-disabled=true] .premium-badge{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1;cursor:pointer}.cdk-overlay-pane[data-font-select-pane]{top:2.5%!important;bottom:2.5%!important;transform:translate(-16px)!important}.cdk-overlay-pane[data-font-select-pane] .mat-select-panel-wrap{display:flex}.cdk-overlay-pane[data-font-select-pane] .font-control__font-select{max-height:100%;margin:auto}\n"],encapsulation:2,changeDetection:0}),H})(),Un=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,Ai._t,Eo.Iq,g.ot,a.Is,u.To,Xe.X,f.o,w]]}),H})();e.B6R(yo,[$.k,a.uh,Ai.Zt,Ai.Bh,a.xY,u.pp,u.ib,u.yz,u.yK,Yt,o.O5,a.H8,g.lW],[o.Ov]);const cr=["gfIFrame"];function Mn(H,Le){1&H&&e._UZ(0,"blocking-spinner")}let Vo=(()=>{class H{constructor(P,U,Pe){this.urlSvc=P,this.dialogRef=U,this.data=Pe,this.busy$=new b.X(!0)}set gfIFrame(P){if(!(null==P?void 0:P.nativeElement))return;(0,yn.R)(P.nativeElement,"load").pipe((0,I.q)(1),(0,D.b)(()=>this.busy$.next(!1))).subscribe();const U=this.urlSvc.strToUrl(this.data.widget.data.url);U.search="?embedded=true",P.nativeElement.src=U.href}dismiss(){this.dialogRef.close()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(G.i),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["google-form-dialog"]],viewQuery:function(P,U){if(1&P&&e.Gf(cr,5),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.gfIFrame=Pe.first)}},decls:8,vars:4,consts:[[4,"ngIf"],["mat-dialog-title",""],["width","100%","height","100%"],["gfIFrame",""]],template:function(P,U){1&P&&(e.YNc(0,Mn,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss"),e.TgZ(3,"header",1),e._uU(4),e.qZA(),e.TgZ(5,"mat-dialog-content"),e._UZ(6,"iframe",2,3),e.qZA()),2&P&&(e.Q6J("ngIf",e.lcZ(1,2,U.busy$)),e.xp6(4),e.Oqu(U.data.widget.data.label))},directives:[o.O5,ne.n,$.k,a.uh,a.xY],pipes:[o.Ov],styles:["[_nghost-%COMP%]   iframe[_ngcontent-%COMP%]{border:none}"]}),H})(),$i=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(Vo,{panelClass:"roll-dialog--google-form",data:P})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})(),fo=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[$i],imports:[[o.ez,g.ot,a.Is,h.M,f.o]]}),H})(),tr=(()=>{class H{radioClicked(){}ngOnChanges(){var P;switch(null===(P=this.option)||void 0===P?void 0:P.value){case s.mV.DEFAULT:this.optionText=$localize`:@@normal:Normal`;break;case s.mV.CAROUSEL:this.optionText=$localize`:@@carousel:Carousel`;break;case s.mV.COMPACT:this.optionText=$localize`:@@compact:Compact`;break;case s.mV.FLOAT:this.optionText=$localize`:@@float:Float`;break;case s.mV.FLOATLEFT:this.optionText=$localize`:@@floatLeft:Float left`;break;case s.mV.FLOATRIGHT:this.optionText=$localize`:@@floatRight:Float right`;break;case s.mV.GALLERY:this.optionText=$localize`:@@gallery:Gallery`;break;case s.mV.LIST:this.optionText=$localize`:@@list:List`;break;case"single":this.optionText=$localize`:@@singleTilesOnly:Single tiles only`;break;case"wide":this.optionText=$localize`:@@wideTilesOnly:Wide tiles only`;break;case"mixed":this.optionText=$localize`:@@mixItUp:Mix it up!`;break;case s.u9.COVER:this.optionText=$localize`:@@fullArea:Full area`;break;case s.u9.CONTAIN:this.optionText=$localize`:@@medium:Medium`;break;case s.u9.STAMP:this.optionText=$localize`:@@small:Small`;break;default:this.optionText=void 0}}}return H.\u0275fac=function(P){return new(P||H)},H.\u0275cmp=e.Xpm({type:H,selectors:[["layout-macro-option"]],inputs:{option:"option",disabled:"disabled"},features:[e.TTD],decls:5,vars:5,consts:[["color","primary",3,"disabled","id","value","click"],[1,"layout-macro-option__image"],[3,"src"],[1,"layout-macro-option__text"]],template:function(P,U){1&P&&(e.TgZ(0,"mat-radio-button",0),e.NdJ("click",function(){return U.radioClicked()}),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.qZA()()),2&P&&(e.Q6J("disabled",U.disabled)("id",null==U.option?null:U.option.id)("value",null==U.option?null:U.option.value),e.xp6(2),e.Q6J("src",null==U.option?null:U.option.image,e.LSH),e.xp6(2),e.hij(" ",U.optionText," "))},directives:[v.U0],styles:["layout-macro-option{display:flex;flex-direction:column;align-items:center;cursor:pointer;width:25%;padding:0 5px;margin:8px 0}layout-macro-option .mat-radio-button{margin:0;width:100%}layout-macro-option .mat-radio-label{flex-direction:column-reverse;align-items:center}layout-macro-option .mat-radio-label-content{flex-direction:column;align-items:center;padding:0;text-align:center}layout-macro-option .layout-macro-option__image{display:flex;align-items:center;justify-content:center;height:80px;width:100%;transition:all .3s ease}@media (max-width: 26.5525em){layout-macro-option .layout-macro-option__image{height:50px}}layout-macro-option .layout-macro-option__text{margin-bottom:5px;font-size:14px;line-height:20px}@media (max-width: 26.5525em){layout-macro-option .layout-macro-option__text{font-size:13px;line-height:14px}}layout-macro-option img{max-height:56px;width:auto;transition:all .3s ease;box-sizing:content-box}@media (pointer: fine){layout-macro-option img:hover{max-height:72px}}layout-macro-option.selected img{border:4px solid var(--bu-brand__color);border-radius:4px;max-height:72px}@media (max-width: 26.5525em){layout-macro-option img{max-height:32px}}@media (max-width: 26.5525em) and (pointer: fine){layout-macro-option img:hover{max-height:42px}}@media (max-width: 26.5525em){layout-macro-option.selected img{max-height:42px}}\n"],encapsulation:2,changeDetection:0}),H})();function Zr(H,Le){1&H&&e._UZ(0,"blocking-spinner")}function ws(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,12),e.qZA())}function Lr(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,13),e.qZA())}function vr(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,14),e.qZA())}function yr(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,15),e.qZA())}function oo(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,16),e.qZA())}function jo(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,17),e.qZA())}function _s(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,18),e.qZA())}function xe(H,Le){if(1&H&&e._UZ(0,"layout-macro-option",25),2&H){const P=Le.$implicit;e.oxw();const U=e.MAs(4),Pe=e.oxw();e.ekj("selected",P.value===Pe.model.sectionLayouts.selected),e.Q6J("option",P)("disabled",!U.checked)}}function N(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"mat-expansion-panel",19),e.NdJ("opened",function(){return e.CHM(P),e.oxw().model.sectionLayouts.checked=!0})("closed",function(){return e.CHM(P),e.oxw().model.sectionLayouts.checked=!1}),e.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-checkbox",20,21),e.NdJ("ngModelChange",function(Pe){return e.CHM(P),e.oxw().model.sectionLayouts.checked=Pe}),e.SDv(5,22),e.qZA()()(),e.TgZ(6,"mat-radio-group",23),e.NdJ("ngModelChange",function(Pe){return e.CHM(P),e.oxw().model.sectionLayouts.selected=Pe}),e.YNc(7,xe,1,4,"layout-macro-option",24),e.qZA()()}if(2&H){const P=e.MAs(4),U=e.oxw();e.xp6(3),e.Q6J("ngModel",U.model.sectionLayouts.checked)("disableRipple",!0),e.xp6(3),e.Q6J("ngModel",U.model.sectionLayouts.selected)("disabled",!P.checked),e.xp6(1),e.Q6J("ngForOf",U.model.sectionLayouts.options)}}function j(H,Le){if(1&H&&e._UZ(0,"layout-macro-option",34),2&H){const P=Le.$implicit,U=e.oxw(2);e.ekj("selected",P.value===U.model.imageSizes.selected),e.Q6J("disabled",U.imageSizesDisabled)("option",P)}}const ue=function(H){return{"items-macro-caveat--disabled":H}};function Ge(H,Le){if(1&H&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&H){const P=e.oxw(2);e.Q6J("ngClass",e.VKq(2,ue,P.imageSizesDisabled)),e.xp6(1),e.hij(" ",P.layoutMacroCaveat," ")}}function it(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"mat-expansion-panel",26,27),e.NdJ("opened",function(){return e.CHM(P),e.oxw().model.imageSizes.checked=!0})("closed",function(){return e.CHM(P),e.oxw().model.imageSizes.checked=!1}),e.TgZ(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-checkbox",28,29),e.NdJ("ngModelChange",function(Pe){return e.CHM(P),e.oxw().model.imageSizes.checked=Pe}),e.SDv(6,30),e.qZA()()(),e.TgZ(7,"mat-radio-group",31),e.NdJ("ngModelChange",function(Pe){return e.CHM(P),e.oxw().model.imageSizes.selected=Pe}),e.YNc(8,j,1,4,"layout-macro-option",32),e.qZA(),e.YNc(9,Ge,2,4,"div",33),e.qZA()}if(2&H){const P=e.oxw();e.Q6J("disabled",P.imageSizesDisabled),e.xp6(4),e.Q6J("ngModel",P.model.imageSizes.checked)("disableRipple",!0)("disabled",P.imageSizesDisabled),e.xp6(3),e.Q6J("ngModel",P.model.imageSizes.selected)("disabled",P.imageSizesDisabled),e.xp6(1),e.Q6J("ngForOf",P.model.imageSizes.options),e.xp6(1),e.Q6J("ngIf",P.showItemOptionsCaveat)}}const St=[s.mV.GALLERY,s.mV.COMPACT,s.mV.LIST],bt=[{id:"single",value:"single",image:"assets/img/layout/item/single.png"},{id:"wide",value:"wide",image:"assets/img/layout/item/wide.png"},{id:"mixed",value:"mixed",image:"assets/img/layout/item/mixed.png"}];let Ft=(()=>{class H{constructor(P,U,Pe,tt,Dt){this.logger=P,this.rollsQuery=U,this.themesQuery=Pe,this.macroSvc=tt,this.dialogRef=Dt,this.busy$=new b.X(!1),this.model={busy:!1,sectionLayouts:{checked:!1,options:[],selected:""},itemLayouts:{checked:!1,options:[],selected:""},imageSizes:{checked:!1,options:[],selected:""}},this.viewInit$=new b.X(!1),this.layoutMacroCaveat=$localize`:@@layoutMacroCaveat:These options do not apply to items in gallery, list, or compact sections`}ngOnInit(){this.model.sectionLayouts.options=this.getSectionLayoutOptions(),this.model.imageSizes.options=this.getItemImageSizeOptions(),this.model.itemLayouts.options=bt,!this.hasSectionLayoutOptions&&!this.hasItemLayoutOptions&&!this.hasImageSizeOptions&&(this.logger.error("LayoutMacroDialogComponent","No options found"),this.dismiss())}ngAfterViewInit(){setTimeout(()=>this.viewInit$.next(!0))}dismiss(){this.dialogRef.close()}onSubmit(){!this.valid||(this.busy$.next(!0),(0,at.d)(250,this.macroSvc.update$(this.getUpdateData()).pipe((0,O.K)(P=>{throw this.logger.error("LayoutMacroDialogComponent","Update failed",P),P}),(0,D.b)(()=>this.dismiss()),(0,S.x)(()=>this.busy$.next(!1)))).subscribe())}get valid(){return this.itemLayoutsValid&&this.imageSizesValid&&this.sectionLayoutsValid&&(this.model.sectionLayouts.checked||!this.itemLayoutsDisabled&&this.model.itemLayouts.checked||!this.imageSizesDisabled&&this.model.imageSizes.checked)}get showItemOptionsCaveat(){return this.hasImageSizeOptions||this.hasItemLayoutOptions}get hasAllOptions(){return this.hasItemLayoutOptions&&this.hasImageSizeOptions&&this.hasSectionLayoutOptions}get hasNoOptions(){return!this.hasItemLayoutOptions&&!this.hasImageSizeOptions&&!this.hasSectionLayoutOptions}get hasImageSizeOptions(){return this.model.imageSizes.options.length>1}get hasImageSizeOptionsOnly(){return this.hasImageSizeOptions&&!this.hasItemLayoutOptions&&!this.hasSectionLayoutOptions}get hasImageSizeAndSectionLayoutOptionsOnly(){return this.hasSectionLayoutOptions&&!this.hasImageSizeOptions&&!this.hasItemLayoutOptions}get imageSizesDisabled(){return this.staticSectionLayoutSelected}get imageSizesValid(){return!(!this.imageSizesDisabled&&this.model.imageSizes.checked&&!this.model.imageSizes.selected)}get hasItemLayoutOptions(){var P;return!(null===(P=this.themesQuery.getActive())||void 0===P?void 0:P.single_column_theme)&&this.model.itemLayouts.options.length>1}get hasItemLayoutOptionsOnly(){return this.hasItemLayoutOptions&&!this.hasImageSizeOptions&&!this.hasSectionLayoutOptions}get hasItemLayoutAndSectionLayoutOptionsOnly(){return this.hasSectionLayoutOptions&&this.hasItemLayoutOptions&&!this.hasImageSizeOptions}get hasSectionLayoutAndItemSizeOptionsOnly(){return this.hasSectionLayoutOptions&&!this.hasItemLayoutOptions&&this.hasImageSizeOptions}get itemLayoutsDisabled(){return this.staticSectionLayoutSelected}get itemLayoutsValid(){return!(!this.itemLayoutsDisabled&&this.model.itemLayouts.checked&&!this.model.itemLayouts.selected)}get hasSectionLayoutOptions(){return this.model.sectionLayouts.options.length>1}get hasSectionLayoutOptionsOnly(){return this.hasSectionLayoutOptions&&!this.hasImageSizeOptions&&!this.hasItemLayoutOptions}get sectionLayoutsValid(){return!(this.model.sectionLayouts.checked&&!this.model.sectionLayouts.selected)}get staticSectionLayoutSelected(){return this.model.sectionLayouts.checked&&St.indexOf(this.model.sectionLayouts.selected)>-1}getItemImageSizeOptions(){return this.themesQuery.getAllowedItemImageClasses([s.u9.NO_IMAGE]).map(P=>({id:P,value:P,image:`/assets/img/image-size/${P}.png`}))}getSectionLayoutOptions(){return this.themesQuery.getAllowedSectionLayouts().map(P=>{const U=P.split(".").pop().toLowerCase();return{id:U,value:P,image:`/assets/img/layout/section/${U}.png`}})}getUpdateData(){const P={token:this.rollsQuery.getActiveId()};return this.model.sectionLayouts.checked&&(P.section_layout=this.model.sectionLayouts.selected),!this.itemLayoutsDisabled&&this.model.itemLayouts.checked&&(P.item_layout=this.model.itemLayouts.selected),!this.imageSizesDisabled&&this.model.imageSizes.checked&&(P.image_class=this.model.imageSizes.selected),P}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(k.m),e.Y36(s.Qy),e.Y36(s.ns),e.Y36(s._O),e.Y36(a.so))},H.\u0275cmp=e.Xpm({type:H,selectors:[["layout-macro-dialog"]],decls:25,vars:16,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn,Pn;return Le=$localize`:a02201121a270e8f88196f3ec25d7ddfd093361e5029243986973238685:Apply image size and layout changes to all items and sections in your roll.`,P=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,U=$localize`:@@save52c9a103b812f258bcddc3d90a6e3f46871d25fe3768927257183755959:Save`,Pe=$localize`:95ee520990446e1991eb6b2e4a85f993ff8bf31f3271336694845735135:Layouts & image sizes`,tt=$localize`:ef695a100e6c34d10b53224526ef50d79785f7693772956468006599690:Change item layouts`,Dt=$localize`:ff56899ed085dd2761a478f5d14f6638c2bcf6aa5935451802070590188:Change image sizes`,Tt=$localize`:a6377c6b315566f63e1a10cc48c040626ac285bc7674137617000685908:Change section layouts`,qt=$localize`:45b1d210c7d2c28fae14d54c8e22806e9ffeabfa4412271507574348282:Image sizes & section layouts`,sn=$localize`:4db95802b2114591502276f6b6aa39e6ac395e082604056764531919162:Change layouts`,pn=$localize`:95ee520990446e1991eb6b2e4a85f993ff8bf31f3271336694845735135:Layouts & image sizes`,Cn=$localize`:@@sectionLayouts0941a888314586306bc632cf1a3a85ec7d34e6aa1113035522513825110:Section layouts`,Pn=$localize`:@@imageSizes0a837d9f91c02c8cccb83617e0716dde8f0486f19024340671962195583:Image sizes`,[[4,"ngIf"],["mat-dialog-title",""],Le,["id","macroform",3,"ngSubmit"],["form","ngForm"],["multi","true"],[3,"opened","closed",4,"ngIf"],[3,"disabled","opened","closed",4,"ngIf"],["mat-stroked-button","","color","primary",3,"click"],P,["mat-flat-button","","type","submit","form","macroform","color","primary",3,"disabled"],U,Pe,tt,Dt,Tt,qt,sn,pn,[3,"opened","closed"],["name","sectionLayoutsCheckbox","color","primary",3,"ngModel","disableRipple","ngModelChange"],["sectionLayoutsCheckbox",""],Cn,["name","sectionLayoutGroup",1,"mat-radio-group--row","mat-radio-group--section-layouts",3,"ngModel","disabled","ngModelChange"],[3,"option","disabled","selected",4,"ngFor","ngForOf"],[3,"option","disabled"],[3,"disabled","opened","closed"],["imageSizePanel",""],["name","imageSizesCheckbox","color","primary",3,"ngModel","disableRipple","disabled","ngModelChange"],["imageSizesCheckbox",""],Pn,["name","imageSizeGroup",1,"mat-radio-group--row","mat-radio-group--image-sizes",3,"ngModel","disabled","ngModelChange"],[3,"disabled","option","selected",4,"ngFor","ngForOf"],["class","items-macro-caveat",3,"ngClass",4,"ngIf"],[3,"disabled","option"],[1,"items-macro-caveat",3,"ngClass"]]},template:function(P,U){if(1&P&&(e.YNc(0,Zr,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss"),e.TgZ(3,"header",1),e.YNc(4,ws,2,0,"span",0),e.YNc(5,Lr,2,0,"span",0),e.YNc(6,vr,2,0,"span",0),e.YNc(7,yr,2,0,"span",0),e.YNc(8,oo,2,0,"span",0),e.YNc(9,jo,2,0,"span",0),e.YNc(10,_s,2,0,"span",0),e.TgZ(11,"header"),e.SDv(12,2),e.qZA()(),e.TgZ(13,"mat-dialog-content")(14,"form",3,4),e.NdJ("ngSubmit",function(){return U.onSubmit()}),e.TgZ(16,"mat-accordion",5),e.ALo(17,"async"),e.YNc(18,N,8,5,"mat-expansion-panel",6),e.YNc(19,it,10,8,"mat-expansion-panel",7),e.qZA()()(),e.TgZ(20,"mat-dialog-actions")(21,"button",8),e.NdJ("click",function(){return U.dismiss()}),e.SDv(22,9),e.qZA(),e.TgZ(23,"button",10),e.SDv(24,11),e.qZA()()),2&P){const Pe=e.MAs(15);e.Q6J("ngIf",e.lcZ(1,12,U.busy$)),e.xp6(4),e.Q6J("ngIf",U.hasAllOptions||U.hasNoOptions),e.xp6(1),e.Q6J("ngIf",U.hasItemLayoutOptionsOnly),e.xp6(1),e.Q6J("ngIf",U.hasImageSizeOptionsOnly),e.xp6(1),e.Q6J("ngIf",U.hasSectionLayoutOptionsOnly),e.xp6(1),e.Q6J("ngIf",U.hasImageSizeAndSectionLayoutOptionsOnly),e.xp6(1),e.Q6J("ngIf",U.hasItemLayoutAndSectionLayoutOptionsOnly),e.xp6(1),e.Q6J("ngIf",U.hasSectionLayoutAndItemSizeOptionsOnly),e.xp6(6),e.Q6J("@.disabled",!e.lcZ(17,14,U.viewInit$)),e.xp6(2),e.Q6J("ngIf",U.hasSectionLayoutOptions),e.xp6(1),e.Q6J("ngIf",U.hasImageSizeOptions),e.xp6(4),e.Q6J("disabled",!Pe.dirty||!U.valid||U.model.busy)}},directives:[o.O5,ne.n,$.k,a.uh,a.xY,c._Y,c.JL,c.F,u.pp,u.ib,u.yz,u.yK,Zn.oG,c.JJ,c.On,v.VQ,o.sg,tr,o.mk,a.H8,g.lW],pipes:[o.Ov],styles:['layout-macro-dialog .mat-dialog-content{padding-top:4px;padding-bottom:4px}layout-macro-dialog mat-expansion-panel[ng-reflect-disabled=true] mat-checkbox{pointer-events:none;opacity:.5}layout-macro-dialog mat-expansion-panel .mat-expansion-panel-body{padding-left:0;padding-right:0}layout-macro-dialog mat-radio-group[ng-reflect-disabled=true] .layout-macro-option__image{pointer-events:none;opacity:.5}layout-macro-dialog .mat-expansion-panel-header{padding:0 24px 0 0}layout-macro-dialog .mat-expansion-panel-header-title{padding:24px 0 24px 24px}layout-macro-dialog .mat-checkbox{position:relative}layout-macro-dialog .mat-checkbox:before{content:"";position:absolute;top:-1px;bottom:-1px;left:-1px;right:-1px;z-index:1}layout-macro-dialog .mat-checkbox-label{white-space:nowrap}layout-macro-dialog .items-macro-caveat{font-size:12px;color:#4b464e;margin-top:10px;text-align:center}layout-macro-dialog .items-macro-caveat--disabled{color:#00000061}layout-macro-dialog .mat-radio-group--row{padding:0}layout-macro-dialog .mat-radio-group--image-sizes{justify-content:space-around}\n'],encapsulation:2,changeDetection:0}),H})(),Wt=(()=>{class H{constructor(P){this.dialogSvc=P}open(){return this.dialogSvc.open(Ft)}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})(),fn=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[Wt],imports:[[o.ez,c.u5,c.UX,g.ot,Zn.p9,a.Is,u.To,p.lN,d.c,Gt.Cq,v.Fk,h.M,f.o,Xe.X,Ki.E]]}),H})();const bn=["textInput"];function xn(H,Le){1&H&&e._UZ(0,"blocking-spinner")}function Kn(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,23),e.qZA())}function Rn(H,Le){1&H&&(e.TgZ(0,"mat-option",24),e.SDv(1,25),e.qZA())}function Hn(H,Le){1&H&&(e.TgZ(0,"mat-option",26),e.SDv(1,27),e.qZA())}function li(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){return e.CHM(P),e.oxw().remove()}),e.SDv(1,29),e.qZA()}}let wi=(()=>{class H{constructor(P,U,Pe,tt,Dt){this.fb=P,this.metaSvc=U,this.updateSvc=Pe,this.dialogRef=tt,this.data=Dt,this.editDialogTitle=$localize`:@@editJumpTo:Edit "jump to"`,this.addDialogTitle=$localize`:@@addJumpTo:Add "jump to"`,this.editPrimaryButtonLabel=$localize`:@@save:Save`,this.addPrimaryButtonLabel=$localize`:@@create:Create`,this.busy$=new b.X(!1),this.isCover=!1}ngOnInit(){var P,U;this.isCover=this.metaSvc.isRoll(this.data.entity),this.form=this.fb.group({label:[(null===(P=this.data.entity.nav_label)||void 0===P?void 0:P.label)||(this.data.entity.title||this.data.entity.description_plain||this.data.entity.description||"").substring(0,30),[c.kI.required]],view:[(null===(U=this.data.entity.nav_label)||void 0===U?void 0:U.view)||(this.isCover?"main":"current"),[c.kI.required]]})}dismiss(){this.dialogRef.close()}remove(){this.update({token:this.data.entity.token,remove_nav_label:!0})}save(){this.update({token:this.data.entity.token,nav_label:this.form.value})}get dialogTitle(){return this.data.entity.nav_label?this.editDialogTitle:this.addDialogTitle}get entityType(){return this.metaSvc.isRoll(this.data.entity)?"roll":this.metaSvc.isSection(this.data.entity)?"section":this.metaSvc.isItem(this.data.entity)?"item":""}get primaryButtonLabel(){return this.data.entity.nav_label?this.editPrimaryButtonLabel:this.addPrimaryButtonLabel}update(P){this.busy$.next(!0),(0,at.d)(250,this.updateSvc.update(P)).pipe((0,I.q)(1),(0,S.x)(()=>this.dismiss())).subscribe()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(c.qu),e.Y36(Ae.Gl),e.Y36(s.N5),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["nav-label-dialog"]],viewQuery:function(P,U){if(1&P&&e.Gf(bn,5),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.textInput=Pe.first)}},decls:37,vars:15,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn,Pn,Qn,ni,zi;return Le=$localize`:711ae08b795b3cdbaa9cef4fe7b9c972742ebc5337847780578181306:{VAR_SELECT, select, item {this item} section {this section} roll {the top of your roll}}`,Le=e.Zx4(Le,{VAR_SELECT:"\ufffd0\ufffd"}),P=$localize`:@@jumpToDialogSubheaderbcf01274da9448d9eded01affe01c57fb6074b925415530352933801997:Set a "jump to" label for ${Le}:ICU:. The "jump to" feature provides a way for viewers to quickly navigate to different areas of a roll.`,U=$localize`:@@label863226cffd5b66a6fee9810a9282a5006d6ef5764077520913910941990:Label`,Pe=$localize`:@@jumpToLabelTextInputPlaceholder2d74d9417d95848ff921e45c57b4c13befbdac431314865856262039169:Example: My item name`,tt=$localize`:@@inputHint30CharactersMax18c1533c2f5151004b1eb9684502edc92516ba5b2892538293201625884:30 characters max`,Dt=$localize`:@@view6829218544e108e152f5fa72cb79c4ccb82e0d062509141182388535183:View`,Tt=$localize`:@@stackedacad9ee00b2dbfb003d340797809ce9fe3e1ec3d1991766769963454924:Stacked`,qt=$localize`:@@outline3fcff79cd4bd8e8b5e2028638b813e1bdf8e8fca5320007980265950916:Outline`,sn=$localize`:711ae08b795b3cdbaa9cef4fe7b9c972742ebc5337847780578181306:{VAR_SELECT, select, item {this item} section {this section} roll {the top of your roll}}`,sn=e.Zx4(sn,{VAR_SELECT:"\ufffd0\ufffd"}),pn=$localize`:bcf4514a064f146a8bccc82bb59b9865842ebe402383331959971732490:{VAR_SELECT, select, current {the current} main {Stacked} detail {Carousel} outline {Outline}}`,pn=e.Zx4(pn,{VAR_SELECT:"\ufffd1\ufffd"}),Cn=$localize`:@@jumpToViewSelectorHinte6ed3239f5afb8cacc8e76f431e5deaee8f8f7855194692581949858345:Navigate to ${sn}:ICU: in ${pn}:ICU_1: view`,Pn=$localize`:@@labelIsRequiredf165da8045cd71561736e7ce129ab2fa11646c9d8127457593379587952:Label is required`,Qn=$localize`:@@currentbd5a3b1c5a3c185c7bbb0e09a061d4cdc88ce5ad6603000223840533819:Current`,ni=$localize`:@@carousel4528650648618bbd712ed4e80c3c28816f740f095464307029089203607:Carousel`,zi=$localize`:@@remove019d4bd6a5690f0cfa0ecf346a4e6bf7f0d8debb4814285799071780083:Remove`,[[4,"ngIf"],["mat-dialog-title",""],P,["id","navlabelform",3,"formGroup"],U,["name","labelInput","type","text","maxlength","30","required","","matInput","","formControlName","label","placeholder",Pe],["labelInput",""],["align","start"],tt,["align","end"],[1,"no-stretch","mb28"],Dt,["formControlName","view"],["navLabelViewSelect",""],["value","current",4,"ngIf"],["value","main"],Tt,["value","detail",4,"ngIf"],["value","outline"],qt,Cn,["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled","click"],Pn,["value","current"],Qn,["value","detail"],ni,["mat-stroked-button","","color","primary",3,"click"],zi]},template:function(P,U){if(1&P&&(e.YNc(0,xn,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss"),e.TgZ(3,"header",1)(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"header"),e.SDv(7,2),e.qZA()(),e.TgZ(8,"mat-dialog-content")(9,"form",3)(10,"mat-form-field")(11,"mat-label"),e.SDv(12,4),e.qZA(),e._UZ(13,"input",5,6),e.TgZ(15,"mat-hint",7),e.SDv(16,8),e.qZA(),e.TgZ(17,"mat-hint",9),e._uU(18),e.qZA(),e.YNc(19,Kn,2,0,"mat-error",0),e.qZA(),e.TgZ(20,"mat-form-field",10)(21,"mat-label"),e.SDv(22,11),e.qZA(),e.TgZ(23,"mat-select",12,13),e.YNc(25,Rn,2,0,"mat-option",14),e.TgZ(26,"mat-option",15),e.SDv(27,16),e.qZA(),e.YNc(28,Hn,2,0,"mat-option",17),e.TgZ(29,"mat-option",18),e.SDv(30,19),e.qZA()(),e.TgZ(31,"mat-hint",7),e.SDv(32,20),e.qZA()()()(),e.TgZ(33,"mat-dialog-actions"),e.YNc(34,li,2,0,"button",21),e.TgZ(35,"button",22),e.NdJ("click",function(){return U.save()}),e._uU(36),e.qZA()()),2&P){const Pe=e.MAs(14),tt=e.MAs(24);e.Q6J("ngIf",e.lcZ(1,13,U.busy$)),e.xp6(5),e.Oqu(U.dialogTitle),e.xp6(2),e.pQV(U.entityType),e.QtT(7),e.xp6(2),e.Q6J("formGroup",U.form),e.xp6(9),e.hij("",Pe.value.length," / 30"),e.xp6(1),e.Q6J("ngIf",U.form.get("label").invalid),e.xp6(6),e.Q6J("ngIf",!U.isCover),e.xp6(3),e.Q6J("ngIf",!U.isCover),e.xp6(4),e.pQV(U.entityType)(tt.value),e.QtT(32),e.xp6(2),e.Q6J("ngIf",!(null==U.data||null==U.data.entity||!U.data.entity.nav_label)),e.xp6(1),e.Q6J("disabled",!U.form.valid),e.xp6(1),e.Oqu(U.primaryButtonLabel)}},directives:[o.O5,ne.n,$.k,a.uh,a.xY,c._Y,c.JL,c.sg,p.KE,p.hX,d.Nt,c.Fj,c.nD,c.Q7,c.JJ,c.u,p.bx,p.TO,Qi.gD,B.ey,a.H8,g.lW],pipes:[o.Ov],styles:["[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%;margin-top:1rem}"]}),H})(),Yi=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(wi,{data:P,disableClose:!0,maxWidth:560})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"any"}),H})();var ro=r(925);let ci=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({imports:[[o.ez,a.Is,ro.ud,f.o]]}),H})();function po(H,Le){if(1&H&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&H){const P=Le.ngIf;e.xp6(1),e.Oqu(P)}}function ai(H,Le){if(1&H&&(e.ynx(0),e._UZ(1,"div",6),e.BQk()),2&H){const P=e.oxw().ngIf;e.xp6(1),e.Q6J("innerHTML",P,e.oJD)}}function eo(H,Le){if(1&H&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&H){const P=e.oxw().ngIf;e.xp6(1),e.Oqu(P)}}function zo(H,Le){if(1&H&&(e.ynx(0),e.YNc(1,ai,2,1,"ng-container",4),e.YNc(2,eo,2,1,"ng-template",null,5,e.W1O),e.BQk()),2&H){const P=e.MAs(3),U=e.oxw();e.xp6(1),e.Q6J("ngIf",U.supportsRichText)("ngIfElse",P)}}let xi=(()=>{class H{constructor(P,U,Pe){this.dialogRef=P,this.data=U,this.metaSvc=Pe}get supportsRichText(){return this.metaSvc.supportsRichText(this.data.item)}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(a.so),e.Y36(a.WI),e.Y36(Ae.Gl))},H.\u0275cmp=e.Xpm({type:H,selectors:[["read-more-dialog"]],decls:5,vars:2,consts:[[1,"read-more-dialog__inner-wrapper"],["class","read-more-dialog__title",4,"ngIf"],[4,"ngIf"],[1,"read-more-dialog__title"],[4,"ngIf","ngIfElse"],["plainText",""],[1,"read-more-dialog__description","trix-content",3,"innerHTML"],[1,"read-more-dialog__description"]],template:function(P,U){1&P&&(e.TgZ(0,"div",0),e._UZ(1,"dialog-dismiss"),e.TgZ(2,"mat-dialog-content"),e.YNc(3,po,2,1,"div",1),e.YNc(4,zo,4,2,"ng-container",2),e.qZA()()),2&P&&(e.xp6(3),e.Q6J("ngIf",null==U.data||null==U.data.item?null:U.data.item.title),e.xp6(1),e.Q6J("ngIf",null==U.data||null==U.data.item?null:U.data.item.description))},directives:[$.k,a.xY,o.O5],styles:["read-more-dialog{display:block;max-height:inherit;min-height:inherit}read-more-dialog dialog-dismiss{z-index:2}read-more-dialog .read-more-dialog__inner-wrapper{display:flex;flex-direction:column;position:relative;max-height:inherit;min-height:inherit;padding:40px 0}read-more-dialog .read-more-dialog__title{font-size:22px;line-height:24px;margin-bottom:18px}read-more-dialog .read-more-dialog__description{font-size:16px}read-more-dialog mat-dialog-content.mat-dialog-content{overflow:hidden;overflow-y:auto;margin:0;max-height:100%;white-space:pre-wrap;word-break:break-word;padding:32px}\n"],encapsulation:2,changeDetection:0}),H})(),Wo=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(xi,{data:P,panelClass:"roll-dialog--read-more",maxHeight:"calc(100vh - 120px)",minHeight:"200px"})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"any"}),H})();var Kr=r(2417),sr=r(6406),Ao=r(5363);function Fo(H,Le){1&H&&e._UZ(0,"div",4)}function Er(H,Le){if(1&H&&(e.ynx(0),e.TgZ(1,"div",5),e._UZ(2,"roll-image",6),e.qZA(),e.BQk()),2&H){const P=e.oxw();e.xp6(2),e.Q6J("entity",P.entity)}}function mn(H,Le){if(1&H&&(e.ynx(0),e.TgZ(1,"div",7),e._uU(2),e.qZA(),e.BQk()),2&H){const P=e.oxw();e.xp6(2),e.Oqu(P.title)}}function Tn(H,Le){1&H&&(e.TgZ(0,"div",8),e.SDv(1,9),e.qZA())}function Fn(H,Le){1&H&&e._UZ(0,"div",5)}let Vn=(()=>{class H{constructor(P,U){this.elemRef=P,this.metaSvc=U,this.displaysImage$=(0,A.of)(!1)}get entity(){return this._entity}set entity(P){this._entity=P,this.displaysImage$=(0,A.of)(this.metaSvc.displaysImage(P))}get cls(){const P=["reorder-list-item"];return this.currentContext===this.entity.token&&P.push("reorder-list-item--curr-context"),P.join(" ")}ngAfterViewInit(){this.currentContext===this.entity.token&&(0,yt.H)(500).pipe((0,D.b)(()=>{this.elemRef.nativeElement.scrollIntoView({behavior:"smooth",block:"center"})})).subscribe()}get title(){var P,U;if(null===(P=this.entity)||void 0===P?void 0:P.title)return this.entity.title;if(null===(U=this.entity)||void 0===U?void 0:U.description){if(this.metaSvc.supportsRichText(this.entity)){const Pe=this.entity;return Pe.description_plain||(0,on.o)(Pe.description)}return this.entity.description}return""}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(e.SBq),e.Y36(Ae.Gl))},H.\u0275cmp=e.Xpm({type:H,selectors:[["reorder-list-item"]],hostVars:2,hostBindings:function(P,U){2&P&&e.Tol(U.cls)},inputs:{entity:"entity",currentContext:"currentContext"},decls:8,vars:6,consts:function(){let Le;return Le=$localize`:@@untitledb07682998efa5150ce7c809a8755fd383dce51f27869199587095613616:Untitled`,[["class","reorder-list-placeholder",4,"cdkDragPlaceholder"],[4,"ngIf","ngIfElse"],["untitled",""],["noImage",""],[1,"reorder-list-placeholder"],[1,"reorder-list-item__image-container"],["objectFit","cover","square","40",3,"entity"],[1,"reorder-list-item__label"],[1,"reorder-list-item__label","reorder-list-item__label--untitled"],Le]},template:function(P,U){if(1&P&&(e.YNc(0,Fo,1,0,"div",0),e.YNc(1,Er,3,1,"ng-container",1),e.ALo(2,"async"),e.YNc(3,mn,3,1,"ng-container",1),e.YNc(4,Tn,2,0,"ng-template",null,2,e.W1O),e.YNc(6,Fn,1,0,"ng-template",null,3,e.W1O)),2&P){const Pe=e.MAs(5),tt=e.MAs(7);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,U.displaysImage$))("ngIfElse",tt),e.xp6(2),e.Q6J("ngIf",U.title)("ngIfElse",Pe)}},directives:[Ai.Hk,o.O5,Di.Y],pipes:[o.Ov],styles:[".reorder-list-item__image-container[_ngcontent-%COMP%]{height:40px;width:40px;min-width:40px;margin-right:12px}"]}),H})();function Ni(H,Le){1&H&&e._UZ(0,"blocking-spinner")}function Do(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,4),e.qZA())}function To(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,5),e.qZA())}function Zi(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"reorder-list-item",6),e.NdJ("cdkDragStarted",function(Pe){return e.CHM(P),e.oxw().dragStarted(Pe)})("cdkDragMoved",function(Pe){return e.CHM(P),e.oxw().dragMoved$.next(Pe)}),e.qZA()}if(2&H){const P=Le.$implicit,U=e.oxw();e.Q6J("entity",P)("currentContext",U.currContextToken)("cdkDragStartDelay",U.dragStartDelay),e.uIk("data-reorder-item-token",P.token)}}let gs=(()=>{class H{constructor(P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn){this.logger=P,this.metaSvc=U,this.platformSvc=Pe,this.updateSvc=tt,this.itemsQuery=Dt,this.itemsSvc=Tt,this.sectionsQuery=qt,this.uiQuery=sn,this.dialogRef=pn,this.data=Cn,this.busy$=new b.X(!1),this.destroy$=new C.x,this.dragStartDelay=this.platformSvc.isMobile?250:0,this.scrollStep=5,this.dragMoved$=new C.x}ngOnInit(){if(this.currContextToken=this.data.entity.token,this.metaSvc.isItem(this.data.entity))this.itemsQuery.selectItemsOf(this.data.entity.parent_section_token).pipe((0,kt.R)(this.destroy$),(0,D.b)(P=>this.entities=P)).subscribe();else if(this.metaSvc.isSection(this.data.entity)&&this.data.reorderChildren)this.currContextToken="",this.itemsQuery.selectItemsOf(this.data.entity.token).pipe((0,kt.R)(this.destroy$),(0,D.b)(P=>this.entities=P)).subscribe();else{if(!this.metaSvc.isSection(this.data.entity))return void this.dismiss();this.sectionsQuery.selectSubsections(this.data.entity.parent_section_token).pipe((0,kt.R)(this.destroy$),(0,D.b)(P=>this.entities=P)).subscribe()}this.dragMoved$.pipe((0,kt.R)(this.destroy$),(0,$e.p)(100),(0,Ao.Q)(sr.Z),(0,D.b)(P=>{const Pe=this.dropList.element.nativeElement.getBoundingClientRect(),tt=Math.round(.05*Pe.height),Dt=Pe.top+tt,Tt=Pe.bottom-tt,qt=this.dropList._dropListRef;P.pointerPosition.y<=Dt||P.pointerPosition.y>=Tt?(this.scrollStep=Math.min(50,5+Math.round((P.pointerPosition.y<=Dt?Dt-P.pointerPosition.y:P.pointerPosition.y-Tt)/3)),qt.autoScrollStep=this.scrollStep):(qt.autoScrollStep=5,this.scrollStep=5)}),(0,Kr.n)(this.logger)).subscribe()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}dismiss(){this.dialogRef.close()}get isItemReorder(){return this.data.reorderChildren||this.metaSvc.isItem(this.data.entity)}get isSectionReorder(){return!this.data.reorderChildren&&this.metaSvc.isSection(this.data.entity)}dragStarted(P){this.currContextToken=P.source.element.nativeElement.getAttribute("data-reorder-item-token")}drop(P){if(P.previousIndex===P.currentIndex)return;const U=this.entities[P.previousIndex],Pe=this.entities[0].flatIndex;(0,Ai.bA)(this.entities,P.previousIndex,P.currentIndex),this.busy$.next(!0),(0,at.d)(250,this.updateSvc.updateBackendPosition$({token:U.token,index:P.currentIndex})).pipe((0,D.b)(tt=>{if(tt.success)if(this.logger.info("Position change success"),this.metaSvc.isItem(U)){const Dt=[];this.entities.forEach((Tt,qt)=>{const sn=Pe+qt;sn!==Tt.flatIndex&&Dt.push(Object.assign(Object.assign({},Tt),{flatIndex:sn}))}),this.updateSvc.updateManyLocally(Dt)}else if(this.metaSvc.isSection(U)){const Dt=[],Tt=[];let qt=Pe;this.entities.forEach(sn=>{qt=this.reindexSection(qt,sn,Dt,Tt)}),this.updateSvc.updateManyLocally(Dt),this.updateSvc.updateManyLocally(Tt)}}),(0,S.x)(()=>this.busy$.next(!1))).subscribe()}reindexSection(P,U,Pe,tt){return U.flatIndex!==P&&Pe.push(Object.assign(Object.assign({},U),{flatIndex:P})),P++,this.itemsQuery.getItemsOf(U.token,{includeHidden:!0,includeNoImage:!0}).forEach(Dt=>{Dt.flatIndex!==P&&tt.push(Object.assign(Object.assign({},Dt),{flatIndex:P})),P++}),this.sectionsQuery.getSubsections(U.token).forEach(Dt=>{P=this.reindexSection(P,Dt,Pe,tt)}),P}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(k.m),e.Y36(Ae.Gl),e.Y36(gt.mi),e.Y36(s.N5),e.Y36(s.zR),e.Y36(s.Ll),e.Y36(s.e8),e.Y36(s.YU),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["reorder-dialog"]],viewQuery:function(P,U){if(1&P&&e.Gf(Ai.Wj,5),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.dropList=Pe.first)}},decls:10,vars:10,consts:function(){let Le,P;return Le=$localize`:@@reorderItems3f2fe9b0d0237ad7ec3d602514fecf73886429b09093401881136538388:Reorder items`,P=$localize`:@@reorderSections52346b1c1d7893ee80e9af33562ec43cd5f6efa14006023552407295063:Reorder sections`,[[4,"ngIf"],["mat-dialog-title",""],["cdkDropList","",1,"reorder-list",3,"cdkDropListAutoScrollStep","cdkDropListDropped"],["class","reorder-list-item","cdkDrag","",3,"entity","currentContext","cdkDragStartDelay","cdkDragStarted","cdkDragMoved",4,"ngFor","ngForOf","ngForTrackBy"],Le,P,["cdkDrag","",1,"reorder-list-item",3,"entity","currentContext","cdkDragStartDelay","cdkDragStarted","cdkDragMoved"]]},template:function(P,U){1&P&&(e.YNc(0,Ni,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss"),e.TgZ(3,"header",1),e.YNc(4,Do,2,0,"span",0),e.YNc(5,To,2,0,"span",0),e.qZA(),e.TgZ(6,"mat-dialog-content")(7,"div",2),e.NdJ("cdkDropListDropped",function(tt){return U.drop(tt)}),e.YNc(8,Zi,1,4,"reorder-list-item",3),e.ALo(9,"trackByProperty"),e.qZA()()),2&P&&(e.Q6J("ngIf",e.lcZ(1,6,U.busy$)),e.xp6(4),e.Q6J("ngIf",U.isItemReorder),e.xp6(1),e.Q6J("ngIf",U.isSectionReorder),e.xp6(2),e.Q6J("cdkDropListAutoScrollStep",U.scrollStep),e.xp6(1),e.Q6J("ngForOf",U.entities)("ngForTrackBy",e.lcZ(9,8,"token")))},directives:[o.O5,ne.n,$.k,a.uh,a.xY,Ai.Wj,o.sg,Vn,Ai.Zt],pipes:[o.Ov,ve.$],styles:["[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;display:flex;flex-direction:column;max-height:calc(100vh - 200px)}"]}),H})(),so=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(gs,{data:P,scrollStrategy:this.dialogSvc.bodyBlock()})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})(),ur=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[so],imports:[[o.ez,Ai._t,g.ot,a.Is,Gt.Cq,h.M,f.o,Ki.E,Fe.h]]}),H})(),Ro=(()=>{class H{constructor(P,U,Pe){this.urlSvc=P,this.winSvc=U,this.dialogRef=Pe}dismiss(){this.dialogRef.close()}onGetBublupClick(){this.winSvc.open(this.urlSvc.bublupDotCom),this.dismiss()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(G.i),e.Y36(Io.u),e.Y36(a.so))},H.\u0275cmp=e.Xpm({type:H,selectors:[["rolls-definition-dialog"]],decls:12,vars:0,consts:function(){let Le,P,U,Pe;return Le=$localize`:@@appTitle369559a8835c3dd330d7f559ac23e390ce78cf5f751518461770094458:Bublup rolls`,P=$localize`:@@appDefinitionaa27b74101fba35ae4c415ec1e4f95ab0e424d4e4012952694469559010:A roll is an instant webpage that anyone can create with Bublup, a free app for saving, organizing, and sharing your favorite stuff! To create a roll like this one, just put your content (photos, videos, GIFs, notes, pdfs, etc.) into folders, "CLICK" one button, and you're done! Rolls are designed to look good every time, but you have tons of options for customizing the look and the URL.${"\ufffd#6\ufffd"}:START_PARAGRAPH:Use rolls for albums, landing pages, tutorials, invitations, portfolios, you name it! Share the link with anyone! Time to get rolling!${"\ufffd/#6\ufffd"}:CLOSE_PARAGRAPH:`,U=$localize`:@@gotIt73930c2a2a893de488661188cdee7e22ebe020be5601530442010506564:Got it`,Pe=$localize`:@@getBublupa4dd57071e0fe9ec5927d92180838335e8724fbd4268490612192368281:Get Bublup!`,[["mat-dialog-title",""],[1,"icon","icon-roll"],Le,P,["mat-stroked-button","","color","primary",3,"click"],U,["mat-flat-button","","color","primary",3,"click"],Pe]},template:function(P,U){1&P&&(e.TgZ(0,"header",0),e._UZ(1,"span",1),e.TgZ(2,"span"),e.SDv(3,2),e.qZA()(),e.TgZ(4,"mat-dialog-content"),e.tHW(5,3),e._UZ(6,"p"),e.N_p(),e.qZA(),e.TgZ(7,"mat-dialog-actions")(8,"button",4),e.NdJ("click",function(){return U.dismiss()}),e.SDv(9,5),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return U.onGetBublupClick()}),e.SDv(11,7),e.qZA()())},directives:[a.uh,a.xY,a.H8,g.lW],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{color:var(--bu-brand__color);font-size:2em}[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:8px}"]}),H})(),Yo=(()=>{class H{constructor(P){this.dialogSvc=P}open(){return this.dialogSvc.open(Ro)}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})(),dr=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[Yo],imports:[[o.ez,g.ot,a.Is,f.o]]}),H})();var wr=r(7216),xs=r(8938);function Ns(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){return e.CHM(P).$implicit.share()}),e.TgZ(1,"div"),e._UZ(2,"roll-icon",8),e.qZA(),e.TgZ(3,"div",9),e._uU(4),e.qZA()()}if(2&H){const P=Le.$implicit;e.xp6(1),e.Gre("sharing-dialog__provider-icon sharing-dialog__provider-icon--",P.type,""),e.xp6(1),e.Q6J("iconName",P.icon),e.xp6(2),e.Oqu(P.fixedName)}}function hr(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,10),e.qZA())}function fa(H,Le){1&H&&(e.TgZ(0,"span"),e.SDv(1,11),e.qZA())}let xr=(()=>{class H{constructor(P,U,Pe,tt,Dt){this.analSvc=P,this.logger=U,this.providerSvc=Pe,this.data=tt,this.rollQuery=Dt,this.shareUrlCopied=!1,this.shareProviders=this.providerSvc.providers(this.data.entity)}onUrlCopied(P){var U;if(this.logger.debug("SharingDialogComponent.onUrlCopied",P),this.shareUrlCopied=P,!P)return;const Pe=()=>{this.shareUrlCopied=!1,this.timer=null};this.timer?(clearTimeout(this.timer),this.timer=setTimeout(Pe,2e3)):(this.analSvc.eventTrack(wr.s6.SHARE_COPY,{category:wr.Nv.SHARE_ROLL,label:null===(U=this.rollQuery.getActive())||void 0===U?void 0:U.title}),this.timer=setTimeout(Pe,2e3))}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(wr.yD),e.Y36(k.m),e.Y36(xs.Fr),e.Y36(a.WI),e.Y36(s.Qy))},H.\u0275cmp=e.Xpm({type:H,selectors:[["sharing-dialog"]],decls:10,vars:4,consts:function(){let Le,P,U;return Le=$localize`:@@shareThisRoll4997fa7086488ef89420c58556e2a19b63e241f22745043870352017001:Share this roll`,P=$localize`:@@copyShareableLinkf086680eba089068a355460e34d84ece6799e1871918689901689210383:Copy shareable link`,U=$localize`:@@sharableLinkCopied501c37ede010e2df9eb7b59ca7d6ac3d73ce146c5392341774767336507:Copied!`,[["mat-dialog-title",""],Le,[1,"sharing-dialog__providers"],["class","sharing-dialog__provider",3,"click",4,"ngFor","ngForOf"],[1,"sharing-dialog__divider"],["mat-flat-button","","color","primary",1,"sharing-dialog__copy-url-button",3,"cdkCopyToClipboard","cdkCopyToClipboardCopied"],[4,"ngIf"],[1,"sharing-dialog__provider",3,"click"],[3,"iconName"],[1,"sharing-dialog__provider-label"],P,U]},template:function(P,U){1&P&&(e._UZ(0,"dialog-dismiss"),e.TgZ(1,"header",0),e.SDv(2,1),e.qZA(),e.TgZ(3,"mat-dialog-content")(4,"div",2),e.YNc(5,Ns,5,5,"div",3),e.qZA(),e._UZ(6,"div",4),e.TgZ(7,"button",5),e.NdJ("cdkCopyToClipboardCopied",function(tt){return U.onUrlCopied(tt)}),e.YNc(8,hr,2,0,"span",6),e.YNc(9,fa,2,0,"span",6),e.qZA()()),2&P&&(e.xp6(5),e.Q6J("ngForOf",U.shareProviders),e.xp6(2),e.Q6J("cdkCopyToClipboard",null==U.data||null==U.data.shareData?null:U.data.shareData.url),e.xp6(1),e.Q6J("ngIf",!U.shareUrlCopied),e.xp6(1),e.Q6J("ngIf",U.shareUrlCopied))},directives:[$.k,a.uh,a.xY,o.sg,xt.p,g.lW,Eo.i3,o.O5],styles:["sharing-dialog mat-dialog-content{text-align:center}sharing-dialog .sharing-dialog__providers{display:flex;flex-direction:row;align-items:center;justify-content:space-around;width:100%}sharing-dialog .sharing-dialog__provider{display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}sharing-dialog .sharing-dialog__provider-icon{display:flex;align-items:center;justify-content:center;height:48px;width:48px;border-radius:50%;color:#fff}sharing-dialog .sharing-dialog__provider-icon--email{background-color:var(--email-share-red)}sharing-dialog .sharing-dialog__provider-icon--facebook{background-color:var(--facebook-blue)}sharing-dialog .sharing-dialog__provider-icon--linkedin{background-color:var(--linkedin-blue)}sharing-dialog .sharing-dialog__provider-icon--twitter{background-color:var(--twitter-blue)}sharing-dialog .sharing-dialog__provider-label{color:#726e74;margin-top:2px}sharing-dialog .sharing-dialog__divider{width:100%;border-top:1px solid #e5e5e5;margin:16px 0}sharing-dialog .sharing-dialog__copy-url-button{min-width:160px}sharing-dialog .mat-button-focus-overlay{display:none!important}\n"],encapsulation:2}),H})();const is=["inputField"];function os(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){return e.CHM(P),e.oxw().item.value=""}),e._UZ(1,"roll-icon",11),e.qZA()}}let ec=(()=>{class H{constructor(P){this.winSvc=P}get checkboxName(){var P;return`${null===(P=this.item)||void 0===P?void 0:P.network}Checkbox`}get inputName(){var P;return`${null===(P=this.item)||void 0===P?void 0:P.network}Input`}get iconUrl(){var P;return`/assets/img/social/${null===(P=this.item)||void 0===P?void 0:P.network}-icon.png`}get itemLabel(){var P;return`${null===(P=this.item)||void 0===P?void 0:P.network}.com/`}enable(){this.item.selected||(this.item.selected=!0,setTimeout(()=>this.inputField.nativeElement.focus(),5))}test(){return this.winSvc.open(`https://${this.item.network}.com/${this.item.value}`),!1}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(Io.u))},H.\u0275cmp=e.Xpm({type:H,selectors:[["social-link-item"]],viewQuery:function(P,U){if(1&P&&e.Gf(is,5),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.inputField=Pe.first)}},inputs:{item:"item"},decls:13,vars:9,consts:function(){let Le,P;return Le=$localize`:@@socialLinkEntryLabel8b36a470b1bf7d9540c81756ce2e998e3ba88bc17771862185735725487:{VAR_SELECT, select, true {Personalized info} false {Select checkbox to enable}}`,Le=e.Zx4(Le,{VAR_SELECT:"\ufffd0\ufffd"}),P=$localize`:@@testa79d938b5ed20249b4ab6bef86c12633d2f346a06563391987554512024:Test`,[["color","primary",1,"social-link-item__checkbox",3,"name","ngModel","ngModelChange"],["checkbox",""],[3,"src"],["appearance","standard",1,"social-link-item__entry-field",3,"click"],Le,["matInput","","type","text",3,"disabled","ngModel","ngModelChange"],["inputField",""],["class","social-link-item__entry-clear-button","matSuffix","",3,"click",4,"ngIf"],["mat-stroked-button","","color","primary",1,"social-link-item__test-button",3,"disabled","click"],P,["matSuffix","",1,"social-link-item__entry-clear-button",3,"click"],["iconName","close"]]},template:function(P,U){if(1&P&&(e.TgZ(0,"mat-checkbox",0,1),e.NdJ("ngModelChange",function(tt){return U.item.selected=tt}),e._UZ(2,"img",2),e.TgZ(3,"div"),e._uU(4),e.qZA()(),e.TgZ(5,"mat-form-field",3),e.NdJ("click",function(){return U.enable()}),e.TgZ(6,"mat-label"),e.SDv(7,4),e.qZA(),e.TgZ(8,"input",5,6),e.NdJ("ngModelChange",function(tt){return U.item.value=tt}),e.qZA(),e.YNc(10,os,2,0,"div",7),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){return U.test()}),e.SDv(12,9),e.qZA()),2&P){const Pe=e.MAs(1);e.Q6J("name",U.checkboxName)("ngModel",U.item.selected),e.xp6(2),e.Q6J("src",U.iconUrl,e.LSH),e.xp6(2),e.Oqu(U.itemLabel),e.xp6(3),e.pQV(Pe.checked),e.QtT(7),e.xp6(1),e.Q6J("disabled",!Pe.checked)("ngModel",U.item.value),e.xp6(2),e.Q6J("ngIf",U.item.value),e.xp6(1),e.Q6J("disabled",!U.item.value||!Pe.checked)}},directives:[Zn.oG,c.JJ,c.On,p.KE,p.hX,d.Nt,c.Fj,o.O5,p.R9,xt.p,g.lW],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:0 8px;text-transform:lowercase}img[_ngcontent-%COMP%]{height:28px;margin:0 5px 0 0}.social-link-item__entry-field[_ngcontent-%COMP%]{flex:1;line-height:1.125;margin:6px 14px 0 1px;position:relative;top:-4px}.social-link-item__entry-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:700;text-transform:none}.social-link-item__entry-field[_ngcontent-%COMP%]   .mat-checkbox-inner-container[_ngcontent-%COMP%]{margin-right:0}.social-link-item__entry-field[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{opacity:.6}.social-link-item__entry-field[_ngcontent-%COMP%]   roll-icon[_ngcontent-%COMP%]{font-size:10px}.social-link-item__entry-field__entry-clear-button[_ngcontent-%COMP%]{height:24px;width:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;position:relative;bottom:2px;cursor:pointer}@media (pointer: fine){.social-link-item__entry-field__entry-clear-button[_ngcontent-%COMP%]:hover{background:#eee}}.social-link-item__test-button[_ngcontent-%COMP%]{line-height:30px;text-transform:lowercase}@media (max-width: 35.615em){.social-link-item__test-button[_ngcontent-%COMP%]{display:none}}"]}),H})();function ee(H,Le){1&H&&e._UZ(0,"blocking-spinner")}function Q(H,Le){1&H&&e._UZ(0,"social-link-item",11),2&H&&e.Q6J("item",Le.$implicit)}let z=(()=>{class H{constructor(P,U,Pe,tt){var Dt;this.logger=P,this.updateSvc=U,this.dialogRef=Pe,this.data=tt,this.busy$=new C.x,this.origWidget=null===(Dt=this.data.entity.widgets)||void 0===Dt?void 0:Dt.find(Tt=>s.l9.SOCIAL_NETWORKS===Tt.type)}ngOnInit(){var P;const U=(null===(P=this.origWidget)||void 0===P?void 0:P.data)||{};this.linkItems=Object.values(s.sG).map(Pe=>({network:Pe,value:U[Pe]||"",selected:!!U[Pe]}))}dismiss(){this.dialogRef.close()}onSubmit(){var P;this.busy$.next(!0);const U={token:this.data.entity.token,widgets:(null===(P=this.data.entity.widgets)||void 0===P?void 0:P.filter(tt=>tt.type!==s.l9.SOCIAL_NETWORKS))||[]},Pe=this.linkItems.reduce((tt,Dt)=>(Dt.selected&&Dt.value&&(tt.data=tt.data||{},tt.data[Dt.network]=Dt.value),tt),{type:s.l9.SOCIAL_NETWORKS});Pe.data&&U.widgets.push(Pe),U.widgets.length||(U.clear_widgets=!0,delete U.widgets),this.updateSvc.update(U).pipe((0,D.b)(tt=>{this.logger.debug("SocialLinksDialogComponent update result",tt)}),(0,D.b)(()=>this.dismiss()),(0,S.x)(()=>this.busy$.next(!1))).subscribe()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(k.m),e.Y36(s.N5),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["social-links-dialog"]],decls:21,vars:10,consts:function(){let Le,P,U,Pe;return Le=$localize`:@@socialMediaLinks38a249721d3d503156cc72d46b4061050fe637925810423724951000799:Social media links`,P=$localize`:@@socialMediaLinksDialogSubtitle3bdac77c4ea84900c137d1470edb7cdb8e4d45457367318517468875:These links can be displayed in the roll cover. To enable them, complete the URLs with personalized info. To disable them, remove the personalized info from the URLs.`,U=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,Pe=$localize`:@@save52c9a103b812f258bcddc3d90a6e3f46871d25fe3768927257183755959:Save`,[[4,"ngIf"],["mat-dialog-title",""],Le,P,["id","slform",3,"ngSubmit"],["form","ngForm"],[3,"item",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",3,"disabled","click"],U,["mat-flat-button","","type","submit","form","slform","color","primary",3,"disabled"],Pe,[3,"item"]]},template:function(P,U){1&P&&(e.YNc(0,ee,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss"),e.TgZ(3,"header",1)(4,"span"),e.SDv(5,2),e.qZA(),e.TgZ(6,"header")(7,"div"),e.SDv(8,3),e.qZA()()(),e._UZ(9,"hr"),e.TgZ(10,"mat-dialog-content")(11,"form",4,5),e.NdJ("ngSubmit",function(){return U.onSubmit()}),e.YNc(13,Q,1,1,"social-link-item",6),e.qZA()(),e.TgZ(14,"mat-dialog-actions")(15,"button",7),e.NdJ("click",function(){return U.dismiss()}),e.SDv(16,8),e.ALo(17,"async"),e.qZA(),e.TgZ(18,"button",9),e.SDv(19,10),e.ALo(20,"async"),e.qZA()()),2&P&&(e.Q6J("ngIf",e.lcZ(1,4,U.busy$)),e.xp6(13),e.Q6J("ngForOf",U.linkItems),e.xp6(2),e.Q6J("disabled",e.lcZ(17,6,U.busy$)),e.xp6(3),e.Q6J("disabled",e.lcZ(20,8,U.busy$)))},directives:[o.O5,ne.n,$.k,a.uh,a.xY,c._Y,c.JL,c.F,o.sg,ec,a.H8,g.lW],pipes:[o.Ov],styles:[""]}),H})(),_e=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(z,{data:P})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})(),Te=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[_e],imports:[[o.ez,c.u5,c.UX,g.ot,Zn.p9,a.Is,p.lN,d.c,Gt.Cq,h.M,f.o,Xe.X,Ki.E]]}),H})();var Ye=r(8287);function ft(H,Le){1&H&&e._UZ(0,"blocking-spinner")}let Mt=(()=>{class H{constructor(P,U,Pe,tt,Dt){this.dialogRef=P,this.data=U,this.rollOpenerSvc=Pe,this.rollsQuery=tt,this.rollsSvc=Dt,this.busy$=new b.X(!1)}dismiss(){this.dialogRef.close()}initiateDraftEdit(){this.busy$.next(!0),(0,at.d)(500,this.rollsSvc.clone(this.rollsQuery.getActiveId(),!0)).pipe((0,D.b)(P=>{this.dismiss(),this.rollOpenerSvc.open(P)})).subscribe()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(a.so),e.Y36(a.WI),e.Y36(Ye.K),e.Y36(s.Qy),e.Y36(s.u5))},H.\u0275cmp=e.Xpm({type:H,selectors:[["start-draft-edit-dialog"]],decls:13,vars:3,consts:function(){let Le,P,U,Pe;return Le=$localize`:@@draftMode11073e5c8be83d4ebf4de7946563efc905b1843947175516624184899:Draft mode`,P=$localize`:4e154c11d4bfdf1367125a0e25da1c4db2a9b61a1138001514409020519:Use draft mode to edit privately, and click "publish" when you're done.`,U=$localize`:943afc862b743c250f1dfdc612f7a81871b7b62b1563002243965282434:If you want to make short changes quickly and don't mind viewers seeing your work in progress, use "edit live".`,Pe=$localize`:@@startMyDraft25cb153740c82bde9950fd96273ac50226ae14a8646489046904123334:Start my draft`,[[4,"ngIf"],["mat-dialog-title",""],Le,P,U,["mat-flat-button","","color","primary",3,"click"],Pe]},template:function(P,U){1&P&&(e.YNc(0,ft,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss"),e.TgZ(3,"header",1),e.SDv(4,2),e.qZA(),e.TgZ(5,"mat-dialog-content")(6,"div"),e.SDv(7,3),e.qZA(),e.TgZ(8,"p"),e.SDv(9,4),e.qZA()(),e.TgZ(10,"mat-dialog-actions")(11,"button",5),e.NdJ("click",function(){return U.initiateDraftEdit()}),e.SDv(12,6),e.qZA()()),2&P&&e.Q6J("ngIf",e.lcZ(1,1,U.busy$))},directives:[o.O5,ne.n,$.k,a.uh,a.xY,a.H8,g.lW],pipes:[o.Ov],styles:["[_nghost-%COMP%]{display:block}"]}),H})(),jt=(()=>{class H{constructor(P,U){this.rollsQuery=P,this.dialogSvc=U}open(){const P={entity:this.rollsQuery.getActive()};return this.dialogSvc.open(Mt,{data:P})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(s.Qy),e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})(),vn=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[jt],imports:[[o.ez,g.ot,a.Is,Gt.Cq,h.M,f.o]]}),H})();var ti=r(4762);function An(H,Le){if(1&H&&(e.TgZ(0,"span"),e.SDv(1,10),e.qZA()),2&H){const P=e.oxw(),U=P.items,Pe=P.folders;e.xp6(1),e.pQV(U)(U)(Pe)(Pe),e.QtT(1)}}function bi(H,Le){if(1&H&&(e.TgZ(0,"span"),e.SDv(1,11),e.qZA()),2&H){const P=e.oxw().items;e.xp6(1),e.pQV(P)(P),e.QtT(1)}}function vi(H,Le){if(1&H&&(e.TgZ(0,"span"),e.SDv(1,12),e.qZA()),2&H){const P=e.oxw().folders;e.xp6(1),e.pQV(P)(P),e.QtT(1)}}function nr(H,Le){if(1&H&&(e.YNc(0,An,2,4,"span",3),e.YNc(1,bi,2,2,"span",3),e.YNc(2,vi,2,2,"span",3)),2&H){const P=Le.items,U=Le.folders;e.Q6J("ngIf",P&&U),e.xp6(1),e.Q6J("ngIf",P&&!U),e.xp6(1),e.Q6J("ngIf",!P&&U)}}function Sr(H,Le){if(1&H&&(e.TgZ(0,"li"),e.SDv(1,13),e.qZA()),2&H){const P=e.oxw(),U=P.items,Pe=P.folders;e.xp6(1),e.pQV(U)(U)(Pe)(Pe),e.QtT(1)}}function Nr(H,Le){if(1&H&&(e.TgZ(0,"li"),e.SDv(1,14),e.qZA()),2&H){const P=e.oxw().items;e.xp6(1),e.pQV(P)(P)(P),e.QtT(1)}}function Fr(H,Le){if(1&H&&(e.TgZ(0,"li"),e.SDv(1,15),e.qZA()),2&H){const P=e.oxw().folders;e.xp6(1),e.pQV(P)(P)(P),e.QtT(1)}}function Qr(H,Le){if(1&H&&(e.YNc(0,Sr,2,4,"li",3),e.YNc(1,Nr,2,3,"li",3),e.YNc(2,Fr,2,3,"li",3)),2&H){const P=Le.items,U=Le.folders;e.Q6J("ngIf",P&&U),e.xp6(1),e.Q6J("ngIf",P&&!U),e.xp6(1),e.Q6J("ngIf",!P&&U)}}function Fs(H,Le){if(1&H&&(e.TgZ(0,"li"),e.SDv(1,16),e.qZA()),2&H){const P=e.oxw(),U=P.items,Pe=P.folders;e.xp6(1),e.pQV(U)(U)(Pe)(Pe),e.QtT(1)}}function Ya(H,Le){if(1&H&&(e.TgZ(0,"li"),e.SDv(1,17),e.qZA()),2&H){const P=e.oxw().items;e.xp6(1),e.pQV(P)(P)(P),e.QtT(1)}}function rs(H,Le){if(1&H&&(e.TgZ(0,"li"),e.SDv(1,18),e.qZA()),2&H){const P=e.oxw().folders;e.xp6(1),e.pQV(P)(P)(P),e.QtT(1)}}function Za(H,Le){if(1&H&&(e.YNc(0,Fs,2,4,"li",3),e.YNc(1,Ya,2,3,"li",3),e.YNc(2,rs,2,3,"li",3)),2&H){const P=Le.items,U=Le.folders;e.Q6J("ngIf",P&&U),e.xp6(1),e.Q6J("ngIf",P&&!U),e.xp6(1),e.Q6J("ngIf",!P&&U)}}function pa(H,Le){1&H&&e._UZ(0,"blocking-spinner")}function _a(H,Le){1&H&&(e.ynx(0),e.TgZ(1,"div",19),e._UZ(2,"mat-spinner",20),e.TgZ(3,"div",21),e.SDv(4,22),e.qZA()(),e.BQk())}function ss(H,Le){1&H&&(e.ynx(0),e.TgZ(1,"div",23)(2,"div",21),e.SDv(3,24),e.qZA()(),e.BQk())}function as(H,Le){1&H&&(e.tHW(0,41,1),e.GkF(1),e.N_p())}const br=function(H,Le){return{items:H,folders:Le}};function Ka(H,Le){if(1&H&&(e.TgZ(0,"mat-checkbox",39,40),e.tHW(2,41),e._UZ(3,"strong"),e.YNc(4,as,2,0,"ng-container",42),e._UZ(5,"div",43),e.N_p(),e.qZA()),2&H){const P=e.oxw(2),U=e.MAs(1);e.xp6(4),e.Q6J("ngTemplateOutlet",U)("ngTemplateOutletContext",e.WLB(2,br,null==P.diff?null:P.diff.counts.new.items,null==P.diff?null:P.diff.counts.new.folders))}}function ma(H,Le){1&H&&(e.tHW(0,46,1),e.GkF(1),e.N_p())}function ls(H,Le){if(1&H&&(e.TgZ(0,"mat-checkbox",44,45),e.tHW(2,46),e._UZ(3,"strong"),e.YNc(4,ma,2,0,"ng-container",42),e._UZ(5,"div",43),e.N_p(),e.qZA()),2&H){const P=e.oxw(2),U=e.MAs(1);e.xp6(4),e.Q6J("ngTemplateOutlet",U)("ngTemplateOutletContext",e.WLB(2,br,null==P.diff?null:P.diff.counts.moved.items,null==P.diff?null:P.diff.counts.moved.folders))}}function Pd(H,Le){1&H&&(e.TgZ(0,"div"),e.SDv(1,47),e.qZA())}function tc(H,Le){if(1&H&&(e.ynx(0),e.TgZ(1,"div",25)(2,"div",26),e.SDv(3,27),e.qZA(),e.TgZ(4,"div",28),e.SDv(5,29),e.qZA()(),e.TgZ(6,"section")(7,"header"),e.SDv(8,30),e.qZA(),e.YNc(9,Ka,6,5,"mat-checkbox",31),e.YNc(10,ls,6,5,"mat-checkbox",32),e.qZA(),e.TgZ(11,"section")(12,"header"),e.SDv(13,33),e.qZA(),e.TgZ(14,"mat-radio-group",34)(15,"mat-radio-button",35),e.SDv(16,36),e.qZA(),e.TgZ(17,"mat-radio-button",37),e.SDv(18,38),e.qZA()()(),e.YNc(19,Pd,2,0,"div",3),e.BQk()),2&H){const P=e.oxw();e.xp6(9),e.Q6J("ngIf",null==P.diff?null:P.diff.counts.new.total),e.xp6(1),e.Q6J("ngIf",null==P.diff?null:P.diff.counts.moved.total),e.xp6(9),e.Q6J("ngIf",P.checklistsFound)}}function Xi(H,Le){1&H&&e.GkF(0)}function nc(H,Le){1&H&&e.GkF(0)}function Rd(H,Le){if(1&H&&(e.ynx(0),e.TgZ(1,"main",48)(2,"header"),e.SDv(3,49),e.qZA(),e.TgZ(4,"ul"),e.YNc(5,Xi,1,0,"ng-container",42),e.YNc(6,nc,1,0,"ng-container",42),e.qZA()(),e.BQk()),2&H){const P=e.oxw(),U=e.MAs(3),Pe=e.MAs(5);e.xp6(5),e.Q6J("ngTemplateOutlet",U)("ngTemplateOutletContext",e.WLB(4,br,null==P.diff?null:P.diff.counts.new.items,null==P.diff?null:P.diff.counts.new.folders)),e.xp6(1),e.Q6J("ngTemplateOutlet",Pe)("ngTemplateOutletContext",e.WLB(7,br,null==P.diff?null:P.diff.counts.moved.items,null==P.diff?null:P.diff.counts.moved.folders))}}function Ld(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){return e.CHM(P),e.oxw().dismiss()}),e.SDv(1,51),e.qZA()}}function wd(H,Le){if(1&H&&(e.TgZ(0,"button",52),e.SDv(1,53),e.ALo(2,"async"),e.qZA()),2&H){const P=e.oxw();e.Q6J("disabled",!P.valid||e.lcZ(2,1,P.busy$))}}function xd(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){return e.CHM(P),e.oxw().okClick()}),e.SDv(1,55),e.qZA()}}let Nd=(()=>{class H{constructor(P,U,Pe,tt,Dt,Tt,qt){this.logger=P,this.fb=U,this.diffSvc=Pe,this.syncSvc=tt,this.openerSvc=Dt,this.dialogRef=Tt,this.data=qt,this.busy$=new b.X(!1),this.diffing$=new b.X(!0),this.changed$=new b.X(!1),this.done$=new b.X(!1),this.checklistsFound=!1,this.dialogRef.disableClose=!0}ngOnInit(){this.form=this.fb.group({token:[this.data.token],direction:[ti.VU.FROM_SOURCE],sync_new:[!1],sync_moved:[!1],sync_to_top:["true"]}),(0,at.d)(500,this.diffSvc.get(this.data.token)).pipe((0,D.b)(P=>{var U,Pe,tt,Dt,Tt,qt,sn,pn,Cn,Pn,Qn;this.diff=P,this.changed$.next(P.changed),this.done$.next(!P.changed),this.form.get("sync_new").setValue(!!(null===(Pe=null===(U=P.counts)||void 0===U?void 0:U.new)||void 0===Pe?void 0:Pe.folders)||!!(null===(Dt=null===(tt=P.counts)||void 0===tt?void 0:tt.new)||void 0===Dt?void 0:Dt.items)),this.form.get("sync_moved").setValue(!!(null===(qt=null===(Tt=P.counts)||void 0===Tt?void 0:Tt.moved)||void 0===qt?void 0:qt.folders)||!!(null===(pn=null===(sn=P.counts)||void 0===sn?void 0:sn.moved)||void 0===pn?void 0:pn.items)),(null===(Qn=null===(Pn=null===(Cn=P.warning_info)||void 0===Cn?void 0:Cn.error_list)||void 0===Pn?void 0:Pn.filter(ni=>"checklists_in_roll_sync"===ni.error_code))||void 0===Qn?void 0:Qn.shift())&&(this.checklistsFound=!0)}),(0,O.K)(P=>(this.logger.error("SyncDialogComponent","Roll diff failed",P),(0,A.of)(null))),(0,S.x)(()=>this.diffing$.next(!1))).subscribe()}get valid(){return this.form.get("sync_new").value||this.form.get("sync_moved").value}dismiss(){this.dialogRef.close()}okClick(){this.diff.changed?this.reloadRoll():this.dismiss()}reloadRoll(){this.openerSvc.reload()}onSubmit(){if(!this.valid)return;this.busy$.next(!0);const P=Object.assign(Object.assign({},this.form.value),{diff:this.diff});P.sync_to_top="true"===P.sync_to_top.toString(),(0,at.d)(250,this.syncSvc.sync(P)).pipe((0,O.K)(U=>(this.logger.error("SyncDialogComponent","Roll sync failed",U),(0,A.of)(null))),(0,S.x)(()=>{this.busy$.next(!1),this.done$.next(!0)})).subscribe()}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(k.m),e.Y36(c.qu),e.Y36(s.Ei),e.Y36(s.rY),e.Y36(Ye.K),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["sync-dialog"]],decls:32,vars:33,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn,Pn,Qn,ni,zi,ui,wo,Ji,Wi,Fi,ao,_o,di,Mi,bs,$s,Cs,As,Ds,Br,Xr,pr,Ts,Ms,Us,Gr,Jr,us,ds;return Le=$localize`:@@syncFromFolder221fe549fff33589ba00aa09c78fcc9c5eef467b8906957922509196801:Sync from folder`,P=$localize`:6518ea2200697236a97091a69bf523acd67732808067407489905419073:{VAR_PLURAL, plural, =1 {1 item} other {{INTERPOLATION} items}}`,P=e.Zx4(P,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),U=$localize`:43fccd74af593a5be2b0ec0244ca097f41c37a991835854912687933421:{VAR_PLURAL, plural, =1 {1 folder} other {{INTERPOLATION} folders}}`,U=e.Zx4(U,{VAR_PLURAL:"\ufffd2\ufffd",INTERPOLATION:"\ufffd3\ufffd"}),Pe=$localize`:01f6776cfa7d6ea9d624a16659c9e963e916e4049048603041565290817:${P}:ICU: and ${U}:ICU_1:`,tt=$localize`:6518ea2200697236a97091a69bf523acd67732808067407489905419073:{VAR_PLURAL, plural, =1 {1 item} other {{INTERPOLATION} items}}`,tt=e.Zx4(tt,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),Dt=$localize`:43fccd74af593a5be2b0ec0244ca097f41c37a991835854912687933421:{VAR_PLURAL, plural, =1 {1 folder} other {{INTERPOLATION} folders}}`,Dt=e.Zx4(Dt,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),Tt=$localize`:6518ea2200697236a97091a69bf523acd67732808067407489905419073:{VAR_PLURAL, plural, =1 {1 item} other {{INTERPOLATION} items}}`,Tt=e.Zx4(Tt,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),qt=$localize`:43fccd74af593a5be2b0ec0244ca097f41c37a991835854912687933421:{VAR_PLURAL, plural, =1 {1 folder} other {{INTERPOLATION} folders}}`,qt=e.Zx4(qt,{VAR_PLURAL:"\ufffd2\ufffd",INTERPOLATION:"\ufffd3\ufffd"}),sn=$localize`:2d055432394a6ba830f1b5cce4f3c27ec23e7b0d1382708051092629058:${Tt}:ICU: and ${qt}:ICU_1: have been added`,pn=$localize`:6518ea2200697236a97091a69bf523acd67732808067407489905419073:{VAR_PLURAL, plural, =1 {1 item} other {{INTERPOLATION} items}}`,pn=e.Zx4(pn,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),Cn=$localize`:b224c1a764e6348b5b1fbbc086583e78e45046983545101778563772680:{VAR_PLURAL, plural, =1 {has} other {have}}`,Cn=e.Zx4(Cn,{VAR_PLURAL:"\ufffd2\ufffd"}),Pn=$localize`:289a34e66148d59cae24e57160cc1b57314ea60f5233782741310979643:${pn}:ICU: ${Cn}:ICU_1: been added`,Qn=$localize`:43fccd74af593a5be2b0ec0244ca097f41c37a991835854912687933421:{VAR_PLURAL, plural, =1 {1 folder} other {{INTERPOLATION} folders}}`,Qn=e.Zx4(Qn,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),ni=$localize`:386c5b0a5ff2dc1b13f6d3011bb2257bd552db573545101778563772680:{VAR_PLURAL, plural, =1 {has} other {have}}`,ni=e.Zx4(ni,{VAR_PLURAL:"\ufffd2\ufffd"}),zi=$localize`:519a79da7a3b615b319a9f5ef791da8fe7d2fdca6945539255140482096:${Qn}:ICU: ${ni}:ICU_1: been added`,ui=$localize`:6518ea2200697236a97091a69bf523acd67732808067407489905419073:{VAR_PLURAL, plural, =1 {1 item} other {{INTERPOLATION} items}}`,ui=e.Zx4(ui,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),wo=$localize`:43fccd74af593a5be2b0ec0244ca097f41c37a991835854912687933421:{VAR_PLURAL, plural, =1 {1 folder} other {{INTERPOLATION} folders}}`,wo=e.Zx4(wo,{VAR_PLURAL:"\ufffd2\ufffd",INTERPOLATION:"\ufffd3\ufffd"}),Ji=$localize`:f0521f05df53391ddc635e9883f3b740e4d1bae56015266372287427004:${ui}:ICU: and ${wo}:ICU_1: have been moved`,Wi=$localize`:6518ea2200697236a97091a69bf523acd67732808067407489905419073:{VAR_PLURAL, plural, =1 {1 item} other {{INTERPOLATION} items}}`,Wi=e.Zx4(Wi,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),Fi=$localize`:b224c1a764e6348b5b1fbbc086583e78e45046983545101778563772680:{VAR_PLURAL, plural, =1 {has} other {have}}`,Fi=e.Zx4(Fi,{VAR_PLURAL:"\ufffd2\ufffd"}),ao=$localize`:00bebcd69edbf7253f3842df7b6a143158a03edd2783090112145055186:${Wi}:ICU: ${Fi}:ICU_1: been moved`,_o=$localize`:43fccd74af593a5be2b0ec0244ca097f41c37a991835854912687933421:{VAR_PLURAL, plural, =1 {1 folder} other {{INTERPOLATION} folders}}`,_o=e.Zx4(_o,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),di=$localize`:386c5b0a5ff2dc1b13f6d3011bb2257bd552db573545101778563772680:{VAR_PLURAL, plural, =1 {has} other {have}}`,di=e.Zx4(di,{VAR_PLURAL:"\ufffd2\ufffd"}),Mi=$localize`:4f14745baa002e36a0aa0995ddc7efb01b0b9e1a2766370428294599152:${_o}:ICU: ${di}:ICU_1: been moved`,bs=$localize`:@@syncCheckingMessage7afab5f75bc2c4f3d0dcb4825fb157c5c59858ba7433430962063554980:Checking for changes`,$s=$localize`:@@syncNoChangesMessage2f582202579d8143ec1aebf46ada633d36f7abfb9063511558375797335:The folder and the roll are already in sync.`,Cs=$localize`:@@syncWarningHeader593d7cf2d0c10fb2fd71642cf1c0314fc6c65a538351316945943751666:Note about syncing content`,As=$localize`:@@syncWarningBodye47f42d6268707a6d2d046b3b6ed41ebf00fa63f8983297284012047607:When syncing content, ALL items and subfolders from the source folder for your roll will be included. However, items or sections you have deleted from the roll itself will not be synced. To add previously deleted items, go to the source folder and use 'sync folder to roll'.`,Ds=$localize`:0c255b93adb5b6bb2654d001dbfe1c61e9d9ef564954550285302958111:What to sync:`,Br=$localize`:e6f52e1bfc2a13cc907f7d7711d9bc53b71fb991283669913592442810:Where to sync:`,Xr=$localize`:@@syncToTop55cfefdd51b015b11ecf6e2ef8d58bda5fa6b2e8590909014157937940:Top of each section`,pr=$localize`:@@syncToBottom722098651332d0b60b6ff196f7b181a765a104849199762551349791883:Bottom of each section`,Ts=$localize`:@@newContentCheckboxMessage302a739e2b53f96ca265f3868457b0be21461274565938696565427092:${"\ufffd#3\ufffd"}:START_TAG_STRONG:New content: ${"\ufffd/#3\ufffd"}:CLOSE_TAG_STRONG:${"\ufffd*4:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER:${"\ufffd/#1:1\ufffd\ufffd/*4:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:${"\ufffd#5\ufffd"}:START_TAG_DIV:Will add content to the bottom of the appropriate roll sections${"\ufffd/#5\ufffd"}:CLOSE_TAG_DIV:`,Ms=$localize`:@@movedContentCheckboxMessage7742ae2c0529bdbe574682ea55b90e7921445a96251507206473075467:${"\ufffd#3\ufffd"}:START_TAG_STRONG:Content moved among subfolders: ${"\ufffd/#3\ufffd"}:CLOSE_TAG_STRONG:${"\ufffd*4:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER:${"\ufffd/#1:1\ufffd\ufffd/*4:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:${"\ufffd#5\ufffd"}:START_TAG_DIV:Will relocate existing content to appropriate roll sections${"\ufffd/#5\ufffd"}:CLOSE_TAG_DIV:`,Us=$localize`:60d2e74f99ced3bcbad9d80481ca3344e9e3a7315509332659584556872:Rolls don't support checklists, so they won't be included.`,Gr=$localize`:c4297a7d18e86397e1fab102beb34f41be6796db8299911270233503336:What was synced:`,Jr=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,us=$localize`:@@syncc042c28e4b743a7aaa943e9f7d8714f78662d54c4235505579599675574:Sync`,ds=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,[["simpleCount",""],["addedResult",""],["movedResult",""],[4,"ngIf"],["mat-dialog-title",""],Le,["id","syncform",3,"formGroup","ngSubmit"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","type","submit","form","syncform","color","primary",3,"disabled",4,"ngIf"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],Pe,tt,Dt,sn,Pn,zi,Ji,ao,Mi,[1,"sync-dialog__checking"],["diameter","14"],[1,"sync-dialog__checking__label"],bs,[1,"sync-dialog__no-changes"],$s,[1,"sync-warning"],[1,"sync-warning__header"],Cs,[1,"sync-warning__body"],As,Ds,["formControlName","sync_new","color","primary",4,"ngIf"],["formControlName","sync_moved","color","primary",4,"ngIf"],Br,["name","radioGroup","formControlName","sync_to_top",1,"mat-radio-group--column"],["color","primary","value","true"],Xr,["color","primary","value","false"],pr,["formControlName","sync_new","color","primary"],["newContentCheckbox",""],Ts,[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"roll-dialog__note","roll-dialog__note--small"],["formControlName","sync_moved","color","primary"],["movedContentCheckbox",""],Ms,Us,[1,"sync-dialog__results"],Gr,["mat-stroked-button","","color","primary",3,"click"],Jr,["mat-flat-button","","type","submit","form","syncform","color","primary",3,"disabled"],us,["mat-flat-button","","color","primary",3,"click"],ds]},template:function(P,U){1&P&&(e.YNc(0,nr,3,3,"ng-template",null,0,e.W1O),e.YNc(2,Qr,3,3,"ng-template",null,1,e.W1O),e.YNc(4,Za,3,3,"ng-template",null,2,e.W1O),e.YNc(6,pa,1,0,"blocking-spinner",3),e.ALo(7,"async"),e._UZ(8,"dialog-dismiss"),e.TgZ(9,"header",4),e.SDv(10,5),e.qZA(),e.TgZ(11,"mat-dialog-content")(12,"form",6),e.NdJ("ngSubmit",function(){return U.onSubmit()}),e.YNc(13,_a,5,0,"ng-container",3),e.ALo(14,"async"),e.YNc(15,ss,4,0,"ng-container",3),e.ALo(16,"async"),e.ALo(17,"async"),e.YNc(18,tc,20,3,"ng-container",3),e.ALo(19,"async"),e.ALo(20,"async"),e.YNc(21,Rd,7,10,"ng-container",3),e.ALo(22,"async"),e.ALo(23,"async"),e.qZA()(),e.TgZ(24,"mat-dialog-actions"),e.YNc(25,Ld,2,0,"button",7),e.ALo(26,"async"),e.YNc(27,wd,3,3,"button",8),e.ALo(28,"async"),e.ALo(29,"async"),e.YNc(30,xd,2,0,"button",9),e.ALo(31,"async"),e.qZA()),2&P&&(e.xp6(6),e.Q6J("ngIf",e.lcZ(7,9,U.busy$)),e.xp6(6),e.Q6J("formGroup",U.form),e.xp6(1),e.Q6J("ngIf",e.lcZ(14,11,U.diffing$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(16,13,U.diffing$)&&!e.lcZ(17,15,U.changed$)),e.xp6(3),e.Q6J("ngIf",e.lcZ(19,17,U.changed$)&&!e.lcZ(20,19,U.done$)),e.xp6(3),e.Q6J("ngIf",e.lcZ(22,21,U.done$)&&e.lcZ(23,23,U.changed$)),e.xp6(4),e.Q6J("ngIf",!e.lcZ(26,25,U.done$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(28,27,U.changed$)&&!e.lcZ(29,29,U.done$)),e.xp6(3),e.Q6J("ngIf",e.lcZ(31,31,U.done$)))},directives:[o.O5,ne.n,$.k,a.uh,a.xY,c._Y,c.JL,c.sg,Gt.Ou,Zn.oG,c.JJ,c.u,o.tP,v.VQ,v.U0,a.H8,g.lW],pipes:[o.Ov],styles:['sync-dialog .sync-dialog__checking{display:inline-flex;flex-direction:row;align-items:center;justify-content:center}sync-dialog .sync-dialog__checking__label{margin-left:4px}sync-dialog .sync-dialog__results ul{list-style:none}sync-dialog .sync-dialog__results li{margin-bottom:4px}sync-dialog .sync-dialog__results li:before{content:"\\e961";font-family:rolls-2;color:green;margin-left:-20px;margin-right:10px}sync-dialog form header{margin-bottom:10px;margin-top:20px}sync-dialog form .mat-checkbox{display:block;margin-bottom:14px}sync-dialog form .mat-radio-group{padding:0 0 6px}sync-dialog .sync-warning{border:1px solid rgba(0,0,0,.2);padding:10px;border-radius:3px}sync-dialog .sync-warning__header{font-family:Roboto Condensed,sans-serif;font-style:normal;font-weight:700;letter-spacing:normal;font-size:16px}sync-dialog .sync-warning__body{margin-top:12px;font-size:14px}\n'],encapsulation:2}),H})(),ic=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(Nd,{data:P})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})(),ms=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[ic],imports:[[o.ez,c.u5,c.UX,g.ot,Zn.p9,a.Is,p.lN,d.c,Gt.Cq,v.Fk,h.M,f.o]]}),H})();var oc=r(1159);const ji=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/,va=/^(((https?|ftp):\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?((\/|\?)\S*)?)$/i,vs=/(^(https:\/\/)?docs\.google\.com\/forms\/d\/e\/[^\/]+\/viewform)/,Fd=/^(https?:\/\/)?docs\.google\.com\/forms\/d\/[^\/]+\/edit/i,rc=/(^(https?:\/\/)?(goo\.gl|forms\.gle)\/)/i;var Lo=(()=>{return(H=Lo||(Lo={}))[H.external_link=0]="external_link",H[H.google_form=1]="google_form",H[H.mailto=2]="mailto",Lo;var H})(),fr=r(6026),ks=r(3251),kr=r(6688);const ys=["toChipList"],Qa=["ccChipList"],sc=["bccChipList"];function ac(H,Le){1&H&&e._UZ(0,"blocking-spinner")}function kd(H,Le){1&H&&(e.ynx(0),e._UZ(1,"hr"),e.TgZ(2,"div",84)(3,"div",8),e.tHW(4,85),e._UZ(5,"share-menu-trigger"),e.N_p(),e.qZA(),e._UZ(6,"mat-slide-toggle",10,86),e.qZA(),e._UZ(8,"hr"),e.BQk())}function Bd(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,87),e.qZA())}function Xa(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,88),e.qZA())}function Zo(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,89),e.qZA())}function ya(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,90),e.qZA())}function cs(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,91),e.qZA())}function Gd(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,92),e.qZA())}function Ja(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,93),e.qZA())}function lc(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,94),e.qZA())}function cc(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,95),e.qZA())}function uc(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,96),e.qZA())}function dc(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,97),e.qZA())}function hc(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"mat-chip",98),e.NdJ("removed",function(){const tt=e.CHM(P).$implicit;return e.oxw().removeEmailChip(tt,"to",!0)}),e._uU(1),e._UZ(2,"roll-icon",99),e.qZA()}if(2&H){const P=Le.$implicit;e.Q6J("selected",!P.valid)("color",P.valid?void 0:"warn"),e.xp6(1),e.hij(" ",P.address," ")}}function qa(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,100),e.qZA())}function Ea(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,101),e.qZA())}function Bs(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,102),e.qZA())}function $d(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"mat-chip",98),e.NdJ("removed",function(){const tt=e.CHM(P).$implicit;return e.oxw().removeEmailChip(tt,"cc")}),e._uU(1),e._UZ(2,"roll-icon",99),e.qZA()}if(2&H){const P=Le.$implicit;e.Q6J("selected",!P.valid)("color",P.valid?void 0:"warn"),e.xp6(1),e.hij(" ",P.address," ")}}function Es(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,103),e.qZA())}function Sa(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,104),e.qZA())}function Gs(H,Le){if(1&H){const P=e.EpF();e.TgZ(0,"mat-chip",98),e.NdJ("removed",function(){const tt=e.CHM(P).$implicit;return e.oxw().removeEmailChip(tt,"bcc")}),e._uU(1),e._UZ(2,"roll-icon",99),e.qZA()}if(2&H){const P=Le.$implicit;e.Q6J("selected",!P.valid)("color",P.valid?void 0:"warn"),e.xp6(1),e.hij(" ",P.address," ")}}function fc(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,105),e.qZA())}function pc(H,Le){1&H&&(e.TgZ(0,"mat-error"),e.SDv(1,106),e.qZA())}let el=(()=>{class H{constructor(P,U,Pe,tt,Dt,Tt){this.logger=P,this.fb=U,this.updateSvc=Pe,this.metaSvc=tt,this.dialogRef=Dt,this.data=Tt,this.addChipsOnblur=!0,this.chipSeparatorKeysCodes=[oc.K5,oc.OC],this.chips={cta:{mailto:{to:[],cc:[],bcc:[]}}},this.busy$=new b.X(!1),this.viewInit$=new b.X(!1)}ngOnInit(){var P;const U=this.data.entity.widgets||[],tt=(U.find(Dt=>s.l9.SOCIAL_ENGAGEMENT===Dt.type),U.find(Dt=>s.ov.includes(Dt.type)));if(this.form=this.fb.group({social_engagement:this.fb.group({checked:[!!this.persistedWidgetValue(s.l9.SOCIAL_ENGAGEMENT,"type")]}),cta:this.fb.group({checked:[!!tt],type:[(null==tt?void 0:tt.type)||s.l9.EXTERNAL_LINK],external_link:this.fb.group({label:[this.persistedWidgetValue(s.l9.EXTERNAL_LINK,"label"),[c.kI.required]],url:[this.persistedWidgetValue(s.l9.EXTERNAL_LINK,"url"),[c.kI.required,c.kI.pattern(va)]]}),google_form:this.fb.group({label:[this.persistedWidgetValue(s.l9.GOOGLE_FORM,"label"),[c.kI.required]],url:[this.persistedWidgetValue(s.l9.GOOGLE_FORM,"url"),[c.kI.required,c.kI.pattern(vs)]]}),mailto:this.fb.group({label:[this.persistedWidgetValue(s.l9.MAILTO,"label"),[c.kI.required]],to:["",[c.kI.pattern(ji)]],cc:["",[c.kI.pattern(ji)]],bcc:["",[c.kI.pattern(ji)]],subject:[this.persistedWidgetValue(s.l9.MAILTO,"subject")],body:[this.persistedWidgetValue(s.l9.MAILTO,"body")]})})}),s.l9.MAILTO===(null==tt?void 0:tt.type)){const Dt=Tt=>Tt.map(qt=>({address:qt,valid:ji.test(qt)}))||[];(null===(P=tt.data.to)||void 0===P?void 0:P.length)&&(this.chips.cta.mailto.to=Dt(tt.data.to),this.chips.cta.mailto.cc=Dt(tt.data.cc),this.chips.cta.mailto.bcc=Dt(tt.data.bcc))}}ngAfterViewInit(){setTimeout(()=>this.viewInit$.next(!0))}get entityName(){return this.data.entity.title||this.data.entity.description_plain||this.data.entity.description}get isLinkItem(){return this.metaSvc.isLink(this.data.entity)}get ctaTabIndex(){const P=this.form.get("cta.type").value;return Lo[P]}get ctaGroupInvalid(){const P=!!this.form.get("cta.checked").value,U=this.form.get("cta.type").value;return P&&U&&this.form.get(["cta",U]).invalid}get formInvalid(){return!this.form.dirty||this.ctaGroupInvalid}dismiss(){return this.dialogRef.close(),!1}onSubmit(){this.busy$.next(!0);const P=this.geWidgetstUpdatePartial();(0,at.d)(250,this.updateSvc.update(P)).pipe((0,D.b)(U=>{this.logger.debug("WidgetsDialogComponent.onSubmit",U)}),(0,D.b)(()=>this.dismiss()),(0,O.K)(U=>(0,A.of)(null)),(0,S.x)(()=>this.busy$.next(!1))).subscribe()}isGoogleFormEditUrl(P){return Fd.test(P)}isGoogleFormShortUrl(P){return rc.test(P)}isNotGoogleFormDisallowedPattern(P){return!this.isGoogleFormEditUrl(P)&&!this.isGoogleFormShortUrl(P)}addEmailChip(P,U,Pe=!1){var tt;const{chips:Dt,chipsList:Tt,control:qt}=this.getMailtoControls(U);if(Dt&&Tt&&qt&&!qt.invalid){const sn=P.input,pn=null===(tt=P.value)||void 0===tt?void 0:tt.trim();if(pn&&!Dt.find(Cn=>pn.toLowerCase()===Cn.address.toLowerCase())){const Cn=ji.test(pn);Dt.push({address:pn,valid:Cn}),Cn||qt.setErrors({pattern:!0}),Tt.errorState=!Cn}sn&&(sn.value="")}else Pe&&(Tt.errorState=!Dt.length)}removeEmailChip(P,U,Pe=!1){const{chips:tt,chipsList:Dt,control:Tt}=this.getMailtoControls(U);if(tt&&Dt&&Tt){const qt=tt.indexOf(P);qt>-1&&tt.splice(qt,1),Pe&&!tt.length&&(Tt.setErrors({required:!0,emptylist:!0},{emitEvent:!0}),Dt.errorState=!0),Tt.markAsDirty()}}getMailtoControls(P){return{chips:this.chips.cta.mailto[P],chipsList:this[`${P}ChipList`],control:this.form.get(`cta.mailto.${P}`)}}persistedWidgetValue(P,U){const Pe=(this.data.entity.widgets||[]).find(tt=>P===tt.type);return"type"===U?(null==Pe?void 0:Pe.type)||"":Pe&&Pe.data&&Pe.data[U]||""}geWidgetstUpdatePartial(){var P;const U=new Set([s.l9.MAILTO,s.l9.SOCIAL_ENGAGEMENT,s.l9.EXTERNAL_LINK,s.l9.GOOGLE_FORM]),Pe=(null===(P=this.data.entity.widgets)||void 0===P?void 0:P.filter(Dt=>!U.has(Dt.type)))||[];if(this.form.get("social_engagement.checked").value&&Pe.push({type:s.l9.SOCIAL_ENGAGEMENT}),this.form.get("cta.checked").value){const Dt=this.form.get("cta.type").value,Tt=this.form.get(`cta.${Dt}`).value;if(Dt===s.l9.MAILTO){const qt=sn=>sn.map(pn=>pn.address)||[];Tt.to=qt(this.chips.cta.mailto.to),Tt.cc=qt(this.chips.cta.mailto.cc),Tt.bcc=qt(this.chips.cta.mailto.bcc),Tt.subject=this.form.get("cta.mailto.subject").value||"",Tt.body=this.form.get("cta.mailto.body").value||""}Pe.push({type:Dt,data:Tt})}const tt={token:this.data.entity.token};return Pe.length?tt.widgets=Pe:tt.clear_widgets=!0,tt}}return H.\u0275fac=function(P){return new(P||H)(e.Y36(k.m),e.Y36(c.qu),e.Y36(s.N5),e.Y36(Ae.Gl),e.Y36(a.so),e.Y36(a.WI))},H.\u0275cmp=e.Xpm({type:H,selectors:[["widgets-dialog"]],viewQuery:function(P,U){if(1&P&&(e.Gf(ys,5),e.Gf(Qa,5),e.Gf(sc,5)),2&P){let Pe;e.iGM(Pe=e.CRH())&&(U.toChipList=Pe.first),e.iGM(Pe=e.CRH())&&(U.ccChipList=Pe.first),e.iGM(Pe=e.CRH())&&(U.bccChipList=Pe.first)}},decls:163,vars:56,consts:function(){let Le,P,U,Pe,tt,Dt,Tt,qt,sn,pn,Cn,Pn,Qn,ni,zi,ui,wo,Ji,Wi,Fi,ao,_o,di,Mi,bs,$s,Cs,As,Ds,Br,Xr,pr,Ts,Ms,Us,Gr,Jr,us,ds,Xn,$r,il,ol,rl,sl,al,_r,qr,ba,ll,cl,ul,dl,hl,Ca,fl,pl,_l,gl,_c,ml,hs,Aa;return Le=$localize`:@@widgetsConfigTitleacc113e1db3d769fabc33b7b5ef65d9cdb3004df3780562205165914200:Widget configuration`,P=$localize`:@@widgetsConfigSubtitle5dbfa633592b6687aa37010197ce40a187d46fb66539122991724196078:For: ${"\ufffd0\ufffd"}:INTERPOLATION:`,U=$localize`:@@includeCTAWidgetLabelb5c79d4ee5e85ac9c1ed9879f29e30c24d88dab0148122596114932947:Include a call to action button`,Pe=$localize`:55e868ed6649193492dc7abb6c038ddc5f1bc7283551736338494160515:Select call to action widget type`,tt=$localize`:c1fdd7eee86804f53fe10bdae488ca47443986608716645218475465995:What this button does: Allows users to open another web page in a new tab.`,Dt=$localize`:@@buttonLabel31025c3473db32dcc72aa40f035407e22a3cdd434675530938769371344:Button label`,Tt=$localize`:@@externalLinkWidgetLabelInputPlaceholder38f4de8e11618a57f1cfe0a9fc9af7e4dfa18d28576273831251802247:Example: Visit my page!`,qt=$localize`:@@ctaButtonLabelHint18c1533c2f5151004b1eb9684502edc92516ba5b2892538293201625884:30 characters max`,sn=$localize`:@@linke03b6cba7c88318e4f91a60a079870e8fba4bee72981219928115418649:Link`,pn=$localize`:@@externalLinkWidgetUrlInputPlaceholderc25815fdf39bba37d6f001c49163eefa191080dc8562325630982338104:Example: https://www.mysite.com`,Cn=$localize`:@@exteranlLinkUrlHint72d77c39d27c69557228c346aacca9b39deaf8f73128570399477017563:url of web page to open`,Pn=$localize`:7a7a09fba9d0dacd73139c2349f2cd41df1f1c104635597720144245438:What this button does: Allows users to fill out a form that you design.`,Qn=$localize`:@@buttonLabel31025c3473db32dcc72aa40f035407e22a3cdd434675530938769371344:Button label`,ni=$localize`:@@googleFormWidgetLabelInputPlaceholderad7618bad3acd305954600214bc54272f261bbe63597323870088494900:Example: Fill out my form!`,zi=$localize`:@@ctaButtonLabelHint18c1533c2f5151004b1eb9684502edc92516ba5b2892538293201625884:30 characters max`,ui=$localize`:@@linke03b6cba7c88318e4f91a60a079870e8fba4bee72981219928115418649:Link`,wo=$localize`:@@googleFormWidgetUrlInputPlaceholder17cc84bf85e7c726344ce75cc009e6c2e567ff6f7081196552126390322:Example: https://docs.google.com/forms/d/e/.../viewform.`,Ji=$localize`:@@googleFormUrlHint2c731e4cf5b414c16c712e02a757da3875a62b4e6755116455652206338:Google Form link`,Wi=$localize`:@@doYouNeedGoogleFormLinkHelpMessage498e9e374157ed8379575e31dfbf94017d21b4ca8003582783229060181:Do you need help linking to your Google Form? Follow the instructions for ${"[\ufffd#83\ufffd|\ufffd#84\ufffd]"}:START_TAG_STRONG:Get a link to a form${"[\ufffd/#83\ufffd|\ufffd/#84\ufffd]"}:CLOSE_TAG_STRONG: in the ${"[\ufffd#83\ufffd|\ufffd#84\ufffd]"}:START_TAG_STRONG:Step 2: Send the form${"[\ufffd/#83\ufffd|\ufffd/#84\ufffd]"}:CLOSE_TAG_STRONG: section of this help page:`,Wi=e.Zx4(Wi),Fi=$localize`:@@googleFormsHelpLinkLabele489ad9810cf210e38814d0955d7f27dcd22c9b32754887378978100298:Google Forms Help`,ao=$localize`:fd178993621dcd52dbb12ab5e3ce16599912b25a6711431069384923621:What this button does: Allows users to send an email to a list of email addresses.`,_o=$localize`:@@buttonLabel31025c3473db32dcc72aa40f035407e22a3cdd434675530938769371344:Button label`,di=$localize`:@@emailWidgetLabelPlaceholdere284fb21d21b0f40bdfb626c54732cc9dc9a2cb77215113570440281905:Example: Email us!`,Mi=$localize`:@@ctaButtonLabelHint18c1533c2f5151004b1eb9684502edc92516ba5b2892538293201625884:30 characters max`,bs=$localize`:@@sendTo1950027ab4d095db1a6eb478567aad73893c630d7303761131714824582:Send to`,$s=$localize`:95d6592a76f6aaa96a03b2b46d2f308d36244c976637900527872837760:Email address input`,Cs=$localize`:@@emailAddress69b6ac577a19acc39fc0c22342092f327fff25293967269098753656610:Email address`,As=$localize`:f66fa43df2d901957828ac8e9f001b2b3bdeac898829590953073806612:Separate addresses with comma or return`,Ds=$localize`:@@ccc51f5fa0ea5a9626a5c9f20053316e666b95c5225221634081456230212:cc`,Br=$localize`:95d6592a76f6aaa96a03b2b46d2f308d36244c976637900527872837760:Email address input`,Xr=$localize`:@@emailAddress69b6ac577a19acc39fc0c22342092f327fff25293967269098753656610:Email address`,pr=$localize`:f66fa43df2d901957828ac8e9f001b2b3bdeac898829590953073806612:Separate addresses with comma or return`,Ts=$localize`:@@bccadb8727ec451c6d9434afe848b2e54dd50f846c82353690130016686803:bcc`,Ms=$localize`:95d6592a76f6aaa96a03b2b46d2f308d36244c976637900527872837760:Email address input`,Us=$localize`:@@emailAddress69b6ac577a19acc39fc0c22342092f327fff25293967269098753656610:Email address`,Gr=$localize`:f66fa43df2d901957828ac8e9f001b2b3bdeac898829590953073806612:Separate addresses with comma or return`,Jr=$localize`:@@subject4b0ca852bafa5037c4e64c7b18f9cd1e14b799de9127604588498960753:Subject`,us=$localize`:@@defaultSubject87571d464d931c1d69e809e996387799a5f8f1923073536119232726426:Enter your subject`,ds=$localize`:@@ctaButtonSubjectHint48ba3aef2cfa41ca4869381b3fa99bc504a1bd1999296532315049012:100 characters max`,Xn=$localize`:@@messageccac601bf473fa28c9ac46794f1cd40542f743478066608938393600549:Message`,$r=$localize`:@@defaultMessage4a29575950d83bacc193441a0d36185c7eeecfaa3903798265121704662:Enter your message`,il=$localize`:@@ctaButtonMessageHint6f0b4efbbb55a2b6f837594bda093da5e17fe8587885337692486492561:200 characters max`,ol=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,rl=$localize`:@@save52c9a103b812f258bcddc3d90a6e3f46871d25fe3768927257183755959:Save`,sl=$localize`:@@includeShareWidgetLabel325617869b31ef9fef07c7ec01b91459b42b628b8447134987626837927:Include sharing button ${"\ufffd#5\ufffd"}:START_TAG_SHARE_MENU_TRIGGER:${"\ufffd/#5\ufffd"}:CLOSE_TAG_SHARE_MENU_TRIGGER:`,al=$localize`:@@buttonLabelRequired1925ea6a47a6d76f3995b021ff82d784a6d2b87f7389126628919618068:Button label is required`,_r=$localize`:@@linkRequiredc6093efd3184fc2feb7e06a05144518c26f5c7631343363602333665353:Link is required`,qr=$localize`:@@linkInvalide4c43ec67e8c05cb3466692269bf90ba8035e6f44713528566074462465:Link is invalid`,ba=$localize`:@@enterProperLinkFormatf1635a38f2b6be688c759ddb26978adb30d4e9326709391416643190096:Please enter a link in proper link (url) format.`,ll=$localize`:@@buttonLabelRequired1925ea6a47a6d76f3995b021ff82d784a6d2b87f7389126628919618068:Button label is required`,cl=$localize`:@@linkRequiredc6093efd3184fc2feb7e06a05144518c26f5c7631343363602333665353:Link is required`,ul=$localize`:@@linkInvalide4c43ec67e8c05cb3466692269bf90ba8035e6f44713528566074462465:Link is invalid`,dl=$localize`:@@invalidGoogleFormLink4a20488d03e5d9e9f868f447c65854cb314b01191832812830841671267:Link is not a valid Google Form link.`,hl=$localize`:@@shortenedGoogleFormLinkNotAllowed547da13fa6f0601c5c9b280352f45f5e497871407646589386208572879:Shortened links are not supported. Please uncheck the "shorten URL" box, within the Google Forms page, before copying your link.`,Ca=$localize`:@@editGoogleFormLinkNotAllowed3aebd64414f0007ac164626b01bfe474461128988159797996634773701:This is a link to the form editor. Please return to your Google Form and copy a link for sharing/sending to your recipients. Then paste it here. Note: do not use the option for shortening the link.`,fl=$localize`:@@buttonLabelRequired1925ea6a47a6d76f3995b021ff82d784a6d2b87f7389126628919618068:Button label is required`,pl=$localize`:@@invalidEmail8bf2a6b13d79fd1fbbccb5049e7ade1ee7f69f1c1140599166278569579:Invalid email`,_l=$localize`:@@enterValidEmailAddressesdbe69dbcf3b4fbd1a6817590b02dedcc15f6283d1022321764957789091:Please enter email addresses in proper email format.`,gl=$localize`:@@enterOneOrMoreEmailAddressesc1a3bb929c79b9546a4c71f8cee60472b537fda74614772769767217611:Please enter one or more recipient email addresses.`,_c=$localize`:@@invalidEmail8bf2a6b13d79fd1fbbccb5049e7ade1ee7f69f1c1140599166278569579:Invalid email`,ml=$localize`:@@enterValidEmailAddressesdbe69dbcf3b4fbd1a6817590b02dedcc15f6283d1022321764957789091:Please enter email addresses in proper email format.`,hs=$localize`:@@invalidEmail8bf2a6b13d79fd1fbbccb5049e7ade1ee7f69f1c1140599166278569579:Invalid email`,Aa=$localize`:@@enterValidEmailAddressesdbe69dbcf3b4fbd1a6817590b02dedcc15f6283d1022321764957789091:Please enter email addresses in proper email format.`,[[4,"ngIf"],["mat-dialog-title",""],Le,[1,"single-line-clamp"],P,["id","widgetsform",3,"formGroup","ngSubmit"],["formGroupName","cta","disabled","true","hideToggle","",3,"expanded"],[1,"simple-toggle-control","simple-toggle-control--cta"],[1,"simple-toggle-control__label"],U,["color","primary","formControlName","checked"],["ctatoggle",""],["name","ctaRadioGroup","formControlName","type","aria-label",Pe,1,"mat-radio-group--row"],["color","primary","value","external_link","ii8n","@@ctaWidgetOptionExternalLink"],["color","primary","value","google_form","ii8n","@@ctaWidgetOptionGoogleForm"],["color","primary","value","mailto","ii8n","@@ctaWidgetOptionSendEmail"],[1,"borderless",3,"expanded"],[1,"mat-tab-group--no-header",3,"selectedIndex"],["formGroupName","external_link"],[1,"cta-button-description"],tt,[1,"widets-dialog__form-field"],Dt,["name","externalLinkLabel","type","text","maxlength","30","required","","matInput","","formControlName","label","placeholder",Tt],["externalLinkLabel",""],["align","start"],qt,["align","end"],sn,["name","externalLinkUrl","type","text","required","","matInput","","formControlName","url","placeholder",pn],["externalLinkUrl",""],Cn,[1,"verbose-form-field-errors"],["formGroupName","google_form"],Pn,Qn,["name","googleFormLabel","type","text","required","","matInput","","formControlName","label","placeholder",ni],["googleFormLabel",""],zi,ui,["name","googleFormUrl","type","text","required","","matInput","","formControlName","url","placeholder",wo],["googleFormUrl",""],Ji,Wi,["href","https://support.google.com/docs/answer/2839588"],Fi,["formGroupName","mailto"],ao,_o,["name","buttonLabel","type","text","required","","matInput","","formControlName","label","placeholder",di],["mailtoLabel",""],Mi,[1,"required-workaround"],bs,["aria-label",$s],["toChipList",""],["removable","true",3,"selected","color","removed",4,"ngFor","ngForOf"],["name","mailtoTo","type","email","matInput","","formControlName","to","placeholder",Cs,3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["mailtoTo",""],As,Ds,["aria-label",Br],["ccChipList",""],["name","mailtoCC","type","email","matInput","","formControlName","cc","placeholder",Xr,3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["mailtoToCC",""],pr,Ts,["aria-label",Ms],["bccChipList",""],["name","mailtoBCC","type","email","matInput","","formControlName","bcc","placeholder",Us,3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["mailtoToBCC",""],Gr,Jr,["type","text","formControlName","subject","matInput","","maxlength","100","placeholder",us],["subjectInput",""],ds,Xn,["formControlName","body","matInput","","maxlength","200","placeholder",$r],["messageInput",""],il,["mat-stroked-button","","color","primary",3,"click"],ol,["type","submit","form","widgetsform","mat-flat-button","","color","primary",3,"disabled"],rl,["formGroupName","social_engagement",1,"simple-toggle-control","simple-toggle-control--share"],sl,["sharetoggle",""],al,_r,qr,ba,ll,cl,ul,dl,hl,Ca,fl,["removable","true",3,"selected","color","removed"],["iconName","cancel","matChipRemove",""],pl,_l,gl,_c,ml,hs,Aa]},template:function(P,U){if(1&P&&(e.YNc(0,ac,1,0,"blocking-spinner",0),e.ALo(1,"async"),e._UZ(2,"dialog-dismiss"),e.TgZ(3,"header",1)(4,"span"),e.SDv(5,2),e.qZA(),e.TgZ(6,"header")(7,"span",3),e.SDv(8,4),e.qZA()()(),e.TgZ(9,"mat-dialog-content")(10,"form",5),e.NdJ("ngSubmit",function(){return U.onSubmit()}),e.YNc(11,kd,9,0,"ng-container",0),e.TgZ(12,"mat-expansion-panel",6),e.ALo(13,"async"),e.ALo(14,"async"),e.TgZ(15,"mat-expansion-panel-header")(16,"div",7)(17,"div",8),e.SDv(18,9),e.qZA(),e._UZ(19,"mat-slide-toggle",10,11),e.qZA()(),e.TgZ(21,"mat-radio-group",12)(22,"mat-radio-button",13),e._uU(23,"External link"),e.qZA(),e.TgZ(24,"mat-radio-button",14),e._uU(25,"Google Form"),e.qZA(),e.TgZ(26,"mat-radio-button",15),e._uU(27,"Send email"),e.qZA()(),e.TgZ(28,"mat-expansion-panel",16)(29,"mat-tab-group",17)(30,"mat-tab",18)(31,"div",19),e.SDv(32,20),e.qZA(),e.TgZ(33,"mat-form-field",21)(34,"mat-label"),e.SDv(35,22),e.qZA(),e._UZ(36,"input",23,24),e.TgZ(38,"mat-hint",25),e.SDv(39,26),e.qZA(),e.TgZ(40,"mat-hint",27),e._uU(41),e.qZA(),e.YNc(42,Bd,2,0,"mat-error",0),e.qZA(),e.TgZ(43,"mat-form-field",21)(44,"mat-label"),e.SDv(45,28),e.qZA(),e._UZ(46,"input",29,30),e.TgZ(48,"mat-hint",25),e.SDv(49,31),e.qZA(),e.YNc(50,Xa,2,0,"mat-error",0),e.YNc(51,Zo,2,0,"mat-error",0),e.qZA(),e.TgZ(52,"div",32),e.YNc(53,ya,2,0,"mat-error",0),e.qZA()(),e.TgZ(54,"mat-tab",33)(55,"div",19),e.SDv(56,34),e.qZA(),e.TgZ(57,"mat-form-field",21)(58,"mat-label"),e.SDv(59,35),e.qZA(),e._UZ(60,"input",36,37),e.TgZ(62,"mat-hint",25),e.SDv(63,38),e.qZA(),e.TgZ(64,"mat-hint",27),e._uU(65),e.qZA(),e.YNc(66,cs,2,0,"mat-error",0),e.qZA(),e.TgZ(67,"mat-form-field",21)(68,"mat-label"),e.SDv(69,39),e.qZA(),e._UZ(70,"input",40,41),e.TgZ(72,"mat-hint",25),e.SDv(73,42),e.qZA(),e.YNc(74,Gd,2,0,"mat-error",0),e.YNc(75,Ja,2,0,"mat-error",0),e.qZA(),e.TgZ(76,"div",32),e.YNc(77,lc,2,0,"mat-error",0),e.YNc(78,cc,2,0,"mat-error",0),e.YNc(79,uc,2,0,"mat-error",0),e.qZA(),e.TgZ(80,"div")(81,"div"),e.tHW(82,43),e._UZ(83,"strong")(84,"strong"),e.N_p(),e.qZA(),e.TgZ(85,"simple-link",44),e.SDv(86,45),e.qZA()()(),e.TgZ(87,"mat-tab",46)(88,"div",19),e.SDv(89,47),e.qZA(),e.TgZ(90,"mat-form-field",21)(91,"mat-label"),e.SDv(92,48),e.qZA(),e._UZ(93,"input",49,50),e.TgZ(95,"mat-hint",25),e.SDv(96,51),e.qZA(),e.TgZ(97,"mat-hint",27),e._uU(98),e.qZA(),e.YNc(99,dc,2,0,"mat-error",0),e.qZA(),e.TgZ(100,"mat-form-field",21)(101,"mat-label",52),e.SDv(102,53),e.qZA(),e.TgZ(103,"mat-chip-list",54,55),e.YNc(105,hc,3,3,"mat-chip",56),e.qZA(),e.TgZ(106,"input",57,58),e.NdJ("matChipInputTokenEnd",function(tt){return U.addEmailChip(tt,"to",!0)}),e.qZA(),e.TgZ(108,"mat-hint",25),e.SDv(109,59),e.qZA(),e.YNc(110,qa,2,0,"mat-error",0),e.qZA(),e.TgZ(111,"div",32),e.YNc(112,Ea,2,0,"mat-error",0),e.YNc(113,Bs,2,0,"mat-error",0),e.qZA(),e.TgZ(114,"mat-form-field",21)(115,"mat-label"),e.SDv(116,60),e.qZA(),e.TgZ(117,"mat-chip-list",61,62),e.YNc(119,$d,3,3,"mat-chip",56),e.qZA(),e.TgZ(120,"input",63,64),e.NdJ("matChipInputTokenEnd",function(tt){return U.addEmailChip(tt,"cc")}),e.qZA(),e.TgZ(122,"mat-hint",25),e.SDv(123,65),e.qZA(),e.YNc(124,Es,2,0,"mat-error",0),e.qZA(),e.TgZ(125,"div",32),e.YNc(126,Sa,2,0,"mat-error",0),e.qZA(),e.TgZ(127,"mat-form-field",21)(128,"mat-label"),e.SDv(129,66),e.qZA(),e.TgZ(130,"mat-chip-list",67,68),e.YNc(132,Gs,3,3,"mat-chip",56),e.qZA(),e.TgZ(133,"input",69,70),e.NdJ("matChipInputTokenEnd",function(tt){return U.addEmailChip(tt,"bcc")}),e.qZA(),e.TgZ(135,"mat-hint",25),e.SDv(136,71),e.qZA(),e.YNc(137,fc,2,0,"mat-error",0),e.qZA(),e.TgZ(138,"div",32),e.YNc(139,pc,2,0,"mat-error",0),e.qZA(),e.TgZ(140,"mat-form-field",21)(141,"mat-label"),e.SDv(142,72),e.qZA(),e._UZ(143,"input",73,74),e.TgZ(145,"mat-hint",25),e.SDv(146,75),e.qZA(),e.TgZ(147,"mat-hint",27),e._uU(148),e.qZA()(),e.TgZ(149,"mat-form-field",21)(150,"mat-label"),e.SDv(151,76),e.qZA(),e._UZ(152,"textarea",77,78),e.TgZ(154,"mat-hint",25),e.SDv(155,79),e.qZA(),e.TgZ(156,"mat-hint",27),e._uU(157),e.qZA()()()()()()()(),e.TgZ(158,"mat-dialog-actions")(159,"button",80),e.NdJ("click",function(){return U.dismiss()}),e.SDv(160,81),e.qZA(),e.TgZ(161,"button",82),e.SDv(162,83),e.qZA()()),2&P){const Pe=e.MAs(20),tt=e.MAs(37),Dt=e.MAs(61),Tt=e.MAs(71),qt=e.MAs(94),sn=e.MAs(104),pn=e.MAs(118),Cn=e.MAs(131),Pn=e.MAs(144),Qn=e.MAs(153);e.Q6J("ngIf",e.lcZ(1,50,U.busy$)),e.xp6(8),e.pQV(U.entityName),e.QtT(8),e.xp6(2),e.Q6J("formGroup",U.form),e.xp6(1),e.Q6J("ngIf",U.isLinkItem),e.xp6(1),e.Q6J("@.disabled",!e.lcZ(13,52,U.viewInit$))("expanded",e.lcZ(14,54,U.viewInit$)&&Pe.checked),e.xp6(16),e.Q6J("expanded",!!U.form.get("cta.type").value),e.xp6(1),e.Q6J("selectedIndex",U.ctaTabIndex),e.xp6(12),e.hij("",tt.value.length," / 30"),e.xp6(1),e.Q6J("ngIf",U.form.get("cta.external_link.label").invalid),e.xp6(8),e.Q6J("ngIf",U.form.get("cta.external_link.url").hasError("required")),e.xp6(1),e.Q6J("ngIf",U.form.get("cta.external_link.url").hasError("pattern")),e.xp6(2),e.Q6J("ngIf",U.form.get("cta.external_link.url").hasError("pattern")),e.xp6(12),e.hij("",Dt.value.length," / 30"),e.xp6(1),e.Q6J("ngIf",U.form.get("cta.google_form.label").invalid),e.xp6(8),e.Q6J("ngIf",U.form.get("cta.google_form.url").hasError("required")),e.xp6(1),e.Q6J("ngIf",U.form.get("cta.google_form.url").hasError("pattern")),e.xp6(2),e.Q6J("ngIf",U.form.get("cta.google_form.url").hasError("pattern")&&U.isNotGoogleFormDisallowedPattern(Tt.value)),e.xp6(1),e.Q6J("ngIf",U.form.get("cta.google_form.url").hasError("pattern")&&U.isGoogleFormShortUrl(Tt.value)),e.xp6(1),e.Q6J("ngIf",U.form.get("cta.google_form.url").hasError("pattern")&&U.isGoogleFormEditUrl(Tt.value)),e.xp6(19),e.hij("",qt.value.length," / 30"),e.xp6(1),e.Q6J("ngIf",U.form.get("cta.mailto.label").invalid),e.xp6(6),e.Q6J("ngForOf",U.chips.cta.mailto.to),e.xp6(1),e.ekj("chips-present",null==U.chips.cta.mailto.to?null:U.chips.cta.mailto.to.length),e.Q6J("matChipInputFor",sn)("matChipInputSeparatorKeyCodes",U.chipSeparatorKeysCodes)("matChipInputAddOnBlur",U.addChipsOnblur),e.xp6(4),e.Q6J("ngIf",U.form.hasError("pattern","cta.mailto.to")),e.xp6(2),e.Q6J("ngIf",U.form.hasError("pattern","cta.mailto.to")),e.xp6(1),e.Q6J("ngIf",U.form.hasError("emptylist","cta.mailto.to")),e.xp6(6),e.Q6J("ngForOf",U.chips.cta.mailto.cc),e.xp6(1),e.ekj("chips-present",null==U.chips.cta.mailto.cc?null:U.chips.cta.mailto.cc.length),e.Q6J("matChipInputFor",pn)("matChipInputSeparatorKeyCodes",U.chipSeparatorKeysCodes)("matChipInputAddOnBlur",U.addChipsOnblur),e.xp6(4),e.Q6J("ngIf",U.form.hasError("pattern","cta.mailto.cc")),e.xp6(2),e.Q6J("ngIf",U.form.hasError("pattern","cta.mailto.cc")),e.xp6(6),e.Q6J("ngForOf",U.chips.cta.mailto.bcc),e.xp6(1),e.ekj("chips-present",null==U.chips.cta.mailto.bcc?null:U.chips.cta.mailto.bcc.length),e.Q6J("matChipInputFor",Cn)("matChipInputSeparatorKeyCodes",U.chipSeparatorKeysCodes)("matChipInputAddOnBlur",U.addChipsOnblur),e.xp6(4),e.Q6J("ngIf",U.form.hasError("pattern","cta.mailto.bcc")),e.xp6(2),e.Q6J("ngIf",U.form.hasError("pattern","cta.mailto.bcc")),e.xp6(9),e.hij("",Pn.value.length," / 100"),e.xp6(9),e.hij("",Qn.value.length," / 200"),e.xp6(4),e.Q6J("disabled",U.formInvalid)}},directives:[o.O5,ne.n,$.k,a.uh,a.xY,c._Y,c.JL,c.sg,c.x0,fr.y,io.Rr,c.JJ,c.u,u.ib,u.yz,v.VQ,v.U0,ks.SP,ks.uX,p.KE,p.hX,d.Nt,c.Fj,c.nD,c.Q7,p.bx,p.TO,Re.B,kr.qn,o.sg,kr.HS,xt.p,kr.qH,kr.oH,a.H8,g.lW],pipes:[o.Ov],styles:['[_nghost-%COMP%]   header[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{text-transform:none}[_nghost-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:not(.borderless){margin-top:1px;margin-bottom:12px}[_nghost-%COMP%]   .mat-radio-group[_ngcontent-%COMP%]{margin-top:-16px}[_nghost-%COMP%]   .simple-toggle-control--share[_ngcontent-%COMP%]{padding:6px 28px}[_nghost-%COMP%]   .simple-toggle-control--cta[_ngcontent-%COMP%]{color:#4b464e!important}[_nghost-%COMP%]   share-menu-trigger[_ngcontent-%COMP%]{margin-left:12px;pointer-events:none!important}[_nghost-%COMP%]   .mat-tab-header[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]   .cta-button-description[_ngcontent-%COMP%]{font-weight:700;margin-bottom:1em}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]:not(:last-child){margin-bottom:12px}[_nghost-%COMP%]   .verbose-form-field-errors[_ngcontent-%COMP%]{margin-top:-12px;margin-bottom:12px}[_nghost-%COMP%]   .verbose-form-field-errors[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:8px}[_nghost-%COMP%]   input.chips-present[_ngcontent-%COMP%]{margin-top:12px}[_nghost-%COMP%]   .required-workaround[_ngcontent-%COMP%]:after{content:" *"}']}),H})(),tl=(()=>{class H{constructor(P){this.dialogSvc=P}open(P){return this.dialogSvc.open(el,{data:P})}}return H.\u0275fac=function(P){return new(P||H)(e.LFG(ht.xA))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac}),H})();var Ss=r(317);let nl=(()=>{class H{}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=e.oAB({type:H}),H.\u0275inj=e.cJS({providers:[tl],imports:[[o.ez,c.u5,c.UX,g.ot,Zn.p9,kr.Hi,a.Is,u.To,p.lN,d.c,Gt.Cq,v.Fk,io.rP,ks.Nh,h.M,f.o,Xe.X,Ki.E,Ss.t,De.Y]]}),H})()},1596:(ot,pe,r)=>{"use strict";r.d(pe,{iv:()=>o,cE:()=>f});var o=(()=>{return(y=o||(o={})).PRIMARY="primaryAction",y.SECONDARY="secondaryAction",o;var y})(),c=r(8966),g=r(5e3),a=r(9808),u=r(532),v=r(7423);function p(y,s){1&y&&g._UZ(0,"dialog-dismiss")}function d(y,s){if(1&y&&(g.TgZ(0,"header",4),g._uU(1),g.qZA()),2&y){const C=g.oxw();g.xp6(1),g.Oqu(C.data.title)}}function h(y,s){if(1&y&&(g.TgZ(0,"button",5),g._uU(1),g.qZA()),2&y){const C=g.oxw();g.Q6J("mat-dialog-close",C.actions.SECONDARY),g.xp6(1),g.hij(" ",C.data.secondaryLabel," ")}}function _(y,s){if(1&y&&(g.TgZ(0,"button",6),g._uU(1),g.qZA()),2&y){const C=g.oxw();g.Q6J("mat-dialog-close",C.actions.PRIMARY),g.xp6(1),g.hij(" ",C.data.primaryLabel," ")}}let e=(()=>{class y{constructor(C,b){this.dialogRef=C,this.data=b,this.actions=o}dismiss(){this.dialogRef.close()}}return y.\u0275fac=function(C){return new(C||y)(g.Y36(c.so),g.Y36(c.WI))},y.\u0275cmp=g.Xpm({type:y,selectors:[["simple-dialog"]],decls:7,vars:5,consts:[[4,"ngIf"],["mat-dialog-title","",4,"ngIf"],["data-test-id","simple-dialog-secondary-button","mat-stroked-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["data-test-id","simple-dialog-primary-button","mat-flat-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["mat-dialog-title",""],["data-test-id","simple-dialog-secondary-button","mat-stroked-button","","color","primary",3,"mat-dialog-close"],["data-test-id","simple-dialog-primary-button","mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(C,b){1&C&&(g.YNc(0,p,1,0,"dialog-dismiss",0),g.YNc(1,d,2,1,"header",1),g.TgZ(2,"mat-dialog-content"),g._uU(3),g.qZA(),g.TgZ(4,"mat-dialog-actions"),g.YNc(5,h,2,2,"button",2),g.YNc(6,_,2,2,"button",3),g.qZA()),2&C&&(g.Q6J("ngIf",!b.data.suppressDialogDismiss),g.xp6(1),g.Q6J("ngIf",b.data.title),g.xp6(2),g.Oqu(b.data.message),g.xp6(2),g.Q6J("ngIf",b.data.secondaryLabel),g.xp6(1),g.Q6J("ngIf",b.data.primaryLabel))},directives:[a.O5,u.k,c.uh,c.xY,c.H8,v.lW,c.ZT],styles:["md-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),y})();var E=r(7633);let f=(()=>{class y{constructor(C){this.dialogSvc=C}open(C){return this.dialogSvc.open(e,C)}}return y.\u0275fac=function(C){return new(C||y)(g.LFG(E.xA))},y.\u0275prov=g.Yz7({token:y,factory:y.\u0275fac,providedIn:"any"}),y})()},1053:(ot,pe,r)=>{"use strict";r.d(pe,{C:()=>v});var o=r(7579),c=r(2722),g=r(8505),a=r(5e3),u=r(4092);let v=(()=>{class p{constructor(h,_,e){this.elemRef=h,this.uiQuery=_,this.changeDetection=e,this.display="none",this.border="2px dotted var(--edit-mode-border-directive__color--important, var(--edit-mode-border-directive__color))",this.pos="absolute",this.top="-4px",this.right="-4px",this.bottom="-4px",this.left="-4px",this.cursor="pointer",this.z="1",this.destroy$=new o.x}ngOnInit(){this.uiQuery.editMode$.pipe((0,c.R)(this.destroy$),(0,g.b)(h=>this.update(h))).subscribe()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}update(h){this.updateRelativeToColor(h)}updateRelativeToColor(h){if(h)try{const _=getComputedStyle(this.elemRef.nativeElement),e=/(\d+\s*,\s*\d+\s*,\s*\d+),*\s*(.*)\)/g.exec(_.color),E=e[1],y=E.split(",").reduce((C,b)=>C+parseInt(b),0)<384?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)",s=e.length>2&&e[2]?`${(.7*parseFloat(e[2])).toFixed(2)}`:".7";this.elemRef.nativeElement.style.setProperty("--edit-mode-border-directive__color",`rgba(${E}, ${s})`),this.elemRef.nativeElement.style.setProperty("--edit-mode-border-directive__icon__background",y),this.display="initial"}catch(_){}else this.display="none";this.changeDetection.markForCheck()}}return p.\u0275fac=function(h){return new(h||p)(a.Y36(a.SBq),a.Y36(u.YU),a.Y36(a.sBO))},p.\u0275dir=a.lG2({type:p,selectors:[["","edit-mode-border",""]],hostVars:18,hostBindings:function(h,_){2&h&&a.Udp("display",_.display)("border",_.border)("position",_.pos)("top",_.top)("right",_.right)("bottom",_.bottom)("left",_.left)("cursor",_.cursor)("z-index",_.z)}}),p})()},5020:(ot,pe,r)=>{"use strict";r.d(pe,{j5:()=>c,ob:()=>u,QY:()=>v,x7:()=>I,eo:()=>p,Gm:()=>d,io:()=>b,AG:()=>A,H6:()=>D.H,Md:()=>O.M});var o=r(5e3);let c=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=o.oAB({type:S}),S.\u0275inj=o.cJS({imports:[[]]}),S})();var g=r(7633),a=r(8923);let u=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=o.oAB({type:S}),S.\u0275inj=o.cJS({imports:[[],g.Su,a.T6]}),S})(),v=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=o.oAB({type:S}),S.\u0275inj=o.cJS({imports:[[]]}),S})(),p=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=o.oAB({type:S}),S.\u0275inj=o.cJS({imports:[[]]}),S})(),d=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=o.oAB({type:S}),S.\u0275inj=o.cJS({imports:[[]]}),S})();var h=r(655),_=r(9670),e=r(9040),E=r(9300),f=r(4004),y=r(5840),s=r(4092),C=r(6970);class b{constructor(x,L,R){this.actions$=x,this.itemsSvc=L,this.metaSvc=R,this.textOverflowChange$=this.actions$.pipe((0,e.l)(y.A.textOverflowChange),(0,E.h)(G=>this.metaSvc.isItem(G.payload.entity)),(0,f.U)(G=>{const k=G.payload,{entity:V}=k,ne=(0,h._T)(k,["entity"]);this.itemsSvc.updateUI(V,ne)}))}}b.\u0275fac=function(x){return new(x||b)(o.LFG(_.eX),o.LFG(s.Ll),o.LFG(C.Gl))},b.\u0275prov=o.Yz7({token:b,factory:b.\u0275fac}),(0,h.gn)([(0,_.Qm)()],b.prototype,"textOverflowChange$",void 0);let A=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=o.oAB({type:S}),S.\u0275inj=o.cJS({imports:[[]]}),S})(),I=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=o.oAB({type:S}),S.\u0275inj=o.cJS({imports:[[]]}),S})();var D=r(6371),O=r(7057)},5840:(ot,pe,r)=>{"use strict";r.d(pe,{A:()=>c});var o=r(5631);class c{}c.textOverflowChange=(0,o.aD)("[Text Overflow] Text Overflow Change",(0,o.xm)())},9763:(ot,pe,r)=>{"use strict";r.d(pe,{N:()=>u});var o=r(5e3),c=r(7579),g=r(6371),a=r(4092);let u=(()=>{class v{constructor(d,h){this.elemRef=d,this.uiQuery=h,this.visibilityChange=new o.vpe,this.visible=!1,this.destroy$=new c.x,this.onOrientationChange=()=>{clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout(()=>{this.orientationTimeout=null},100)}}ngOnChanges(d){d.options&&this.observe()}ngOnDestroy(){this.unobserve(),this.destroy$.next(!0),this.destroy$.complete()}observe(){this.unobserve(),"orientation"in screen?screen.orientation.addEventListener("change",this.onOrientationChange):"onorientationchange"in window&&window.addEventListener("orientationchange",this.onOrientationChange),this.observer=new IntersectionObserver(d=>{var h,_,e,E;if(this.uiQuery.getIsFullScreen()||this.orientationTimeout)return;const f=d[0];f.isIntersecting!==this.visible&&(this.visible=f.isIntersecting,this.visible&&(null===(h=this.options)||void 0===h?void 0:h.notifyVisible)&&(null===(_=this.options)||void 0===_?void 0:_.id)&&this.options.notifyVisible({id:this.options.id}),this.visibilityChange.emit({id:null===(e=this.options)||void 0===e?void 0:e.id,target:this.elemRef.nativeElement,entity:null===(E=this.options)||void 0===E?void 0:E.entity,visible:this.visible}))},{root:null,rootMargin:this.getRootMargin(),threshold:0}),this.observer.observe(this.elemRef.nativeElement)}unobserve(){var d,h;null===(d=this.observer)||void 0===d||d.takeRecords(),null===(h=this.observer)||void 0===h||h.disconnect(),this.observer=null,"orientation"in screen?screen.orientation.removeEventListener("change",this.onOrientationChange):"onorientationchange"in window&&window.removeEventListener("orientationchange",this.onOrientationChange),clearTimeout(this.orientationTimeout)}getRootMargin(){var d;switch(null===(d=this.options)||void 0===d?void 0:d.mode){case g.H.TOP:return"0px 0px -100% 0px";case g.H.HORZ_CENTERLINE:return"-50% 0px";case g.H.VERT_CENTERLINE:return"0px -50%";case g.H.VIEWPORT:return"0px 0px";default:return"-50%"}}}return v.\u0275fac=function(d){return new(d||v)(o.Y36(o.SBq),o.Y36(a.YU))},v.\u0275dir=o.lG2({type:v,selectors:[["","visibility-intersect",""]],inputs:{options:["visibility-intersect","options"]},outputs:{visibilityChange:"visibilityChange"},features:[o.TTD]}),v})()},6371:(ot,pe,r)=>{"use strict";r.d(pe,{H:()=>o});var o=(()=>{return(c=o||(o={})).CENTER="center",c.HORZ_CENTERLINE="horizontal centerline",c.TOP="top",c.VERT_CENTERLINE="vertical centerline",c.VIEWPORT="viewport",o;var c})()},7057:(ot,pe,r)=>{"use strict";r.d(pe,{M:()=>c});var o=r(5e3);let c=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=o.oAB({type:g}),g.\u0275inj=o.cJS({imports:[[]]}),g})()},1687:(ot,pe,r)=>{"use strict";r.d(pe,{RB:()=>b.RB,Sr:()=>b.Sr,p6:()=>b.p6,Vg:()=>b.Vg,tI:()=>b.tI,QQ:()=>b.QQ,FK:()=>b.FK,u3:()=>I,zI:()=>S,MV:()=>b.MV,jj:()=>b.jj,iq:()=>R,gD:()=>b.gD,HK:()=>b.HK,Vp:()=>b.Vp,GQ:()=>b.GQ,cX:()=>b.cX,V6:()=>b.V6,an:()=>b.an,Mq:()=>b.Mq,c2:()=>b.c2,uo:()=>b.uo,T9:()=>b.T9,uV:()=>b.uV,vX:()=>b.vX,dw:()=>b.dw,fS:()=>b.fS,ir:()=>b.ir,te:()=>b.te,a7:()=>b.a7,dV:()=>b.dV,mJ:()=>b.mJ,IF:()=>b.IF}),r(4092),r(304),r(1499);var _=r(9808),e=r(1314),E=r(6538),f=r(2732),y=r(3641),s=r(5e3);let C=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275mod=s.oAB({type:G}),G.\u0275inj=s.cJS({imports:[[_.ez,y.X]]}),G})();var b=r(8136);function A(G){return()=>G.scrollStrategies.block()}let I=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275mod=s.oAB({type:G}),G.\u0275inj=s.cJS({providers:[{provide:E.CP,useFactory:A,deps:[e.aV]}],imports:[[_.ez,E.Tx,C,b.V6,b.Rd,b.Jf,f.m]]}),G})(),D=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275mod=s.oAB({type:G}),G.\u0275inj=s.cJS({imports:[[_.ez,y.X]]}),G})();function O(G){return()=>G.scrollStrategies.block()}let S=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275mod=s.oAB({type:G}),G.\u0275inj=s.cJS({providers:[{provide:E.CP,useFactory:O,deps:[e.aV]}],imports:[[_.ez,E.Tx,D,b.V6]]}),G})(),x=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275mod=s.oAB({type:G}),G.\u0275inj=s.cJS({imports:[[_.ez,y.X]]}),G})();function L(G){return()=>G.scrollStrategies.block()}let R=(()=>{class G{}return G.\u0275fac=function(V){return new(V||G)},G.\u0275mod=s.oAB({type:G}),G.\u0275inj=s.cJS({providers:[{provide:E.CP,useFactory:L,deps:[e.aV]}],imports:[[_.ez,E.Tx,b.N0,b.R$,b.V6,y.X,x,f.m]]}),G})()},8136:(ot,pe,r)=>{"use strict";r.d(pe,{N0:()=>u,RB:()=>p,Sr:()=>_,p6:()=>e,Vg:()=>E,tI:()=>y,QQ:()=>s,FK:()=>C,Rd:()=>b,Jf:()=>A,MV:()=>D,jj:()=>I,gD:()=>O,HK:()=>S,Vp:()=>x,GQ:()=>L,cX:()=>R,V6:()=>G,an:()=>ne,R$:()=>V,Mq:()=>$,c2:()=>q,uo:()=>X,T9:()=>de,uV:()=>fe,vX:()=>We,dw:()=>Ne,fS:()=>dt,ir:()=>ge,te:()=>Je,a7:()=>Re,dV:()=>se,mJ:()=>ht,IF:()=>It});var o=r(9808),c=r(6538),g=r(3641),a=r(5e3);let u=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})();var v=r(8923);let p=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,v.hR]]}),De})();var d=r(7399),h=r(3214);let _=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,d._r,g.X,h.WX]]}),De})(),e=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,d._r,g.X,h.gd]]}),De})(),E=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,d._r,g.X,h.JT]]}),De})();var f=r(7389);let y=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,f.M]]}),De})(),s=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),C=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,f.tp,g.X]]}),De})(),b=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,v.dp]]}),De})(),A=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),I=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),D=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,v.Lq]]}),De})(),O=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),S=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,f.ws]]}),De})(),x=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,d._r,g.X,h.l4]]}),De})(),L=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,d._r,g.X,h.JT]]}),De})(),R=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),G=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})();var k=r(0);let V=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,k.a]]}),De})(),ne=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,d._r,g.X,h.JT]]}),De})(),$=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),q=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),X=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,d._r,g.X,h.JT]]}),De})(),de=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,d._r,g.X,h.gd]]}),De})(),fe=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,v.Hz]]}),De})(),We=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),Ne=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),dt=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,v.nM]]}),De})(),ge=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})(),Je=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,d._r,g.X,h.JT]]}),De})(),se=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,f.Bb]]}),De})(),Re=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X]]}),De})();var pt=r(4092);let ht=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,pt.wL]]}),De})(),It=(()=>{class De{}return De.\u0275fac=function(Ae){return new(Ae||De)},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({imports:[[o.ez,c.Tx,g.X,v.a]]}),De})()},882:(ot,pe,r)=>{"use strict";r.d(pe,{v:()=>c});var o=r(5e3);let c=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=o.oAB({type:g}),g.\u0275inj=o.cJS({}),g})()},1594:(ot,pe,r)=>{"use strict";r.d(pe,{h:()=>c});var o=r(5e3);let c=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=o.oAB({type:g}),g.\u0275inj=o.cJS({}),g})()},5351:(ot,pe,r)=>{"use strict";r.d(pe,{$:()=>c});var o=r(5e3);let c=(()=>{class g{transform(u){return function(p,d){return d[u]}}}return g.\u0275fac=function(u){return new(u||g)},g.\u0275pipe=o.Yjl({name:"trackByProperty",type:g,pure:!0}),g})()},3266:(ot,pe,r)=>{"use strict";r.d(pe,{B:()=>o});var o=(()=>{return(c=o||(o={})).CustomPaletteOverwriteWarn="dsma_roll_custom_palette_overwrite_warn",c.CustomPaletteScroll="dsma_roll_custom_palette_scroll",c.EditMode="dsma_roll_callout_edit_mode",c.ShowHide="dsma_roll_show_hide",c.UnhideLogoInSettings="dsma_roll_unhide_logo_in_settings",c.MobileImageSizeWarn="dsma_roll_warn_image_size_on_mobile",o;var c})()},6024:(ot,pe,r)=>{"use strict";r.d(pe,{i:()=>y});var o=r(6304),c=r(5698),g=r(9300),a=r(3900),u=r(8966),v=r(5e3),p=r(3075),d=r(532),h=r(7446);let _=(()=>{class s{constructor(b,A,I){this.data=b,this.fb=A,this.form=this.fb.group({dsma:[!1]}),I.disableClose=!0}}return s.\u0275fac=function(b){return new(b||s)(v.Y36(u.WI),v.Y36(p.qu),v.Y36(u.so))},s.\u0275cmp=v.Xpm({type:s,selectors:[["ng-component"]],decls:9,vars:5,consts:function(){let C;return C=$localize`:@@dontShowMeAgainbde4548e109dc7ce65933595cc93d23240a0dbac3582015531369677083:Don't show me again`,[[3,"closeValue"],["mat-dialog-title",""],[1,"message"],[3,"formGroup"],["color","primary","formControlName","dsma",3,"formGroup"],C]},template:function(b,A){1&b&&(v._UZ(0,"dialog-dismiss",0),v.TgZ(1,"header",1),v._uU(2),v.qZA(),v.TgZ(3,"mat-dialog-content")(4,"div",2),v._uU(5),v.qZA(),v.TgZ(6,"form",3)(7,"mat-checkbox",4),v.SDv(8,5),v.qZA()()()),2&b&&(v.Q6J("closeValue",A.form.value.dsma),v.xp6(2),v.Oqu(A.data.title),v.xp6(3),v.Oqu(A.data.message),v.xp6(1),v.Q6J("formGroup",A.form),v.xp6(1),v.Q6J("formGroup",A.form))},directives:[d.k,u.uh,u.xY,p._Y,p.JL,p.sg,h.oG,p.JJ,p.u],styles:[".message[_ngcontent-%COMP%]{font-size:16px}form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-size:14px;margin-top:20px;margin-bottom:12px}"],changeDetection:0}),s})();var e=r(3266),E=r(7633),f=r(1838);let y=(()=>{class s{constructor(b,A,I){this.dialogSvc=b,this.prefQuery=A,this.prefSvc=I}shouldShow$(b){return this.prefSvc.getPreferences().pipe((0,o.c)(this.prefQuery.selectValue$(b)))}showDialog(b,A,I){this.shouldShow$(b).pipe((0,c.q)(1),(0,g.h)(D=>D),(0,a.w)(()=>this.dialogSvc.open(_,{data:{dsmaPreference:b,title:A,message:I,buttons:void 0}}).afterClosed()),(0,g.h)(D=>!!D),(0,a.w)(()=>this.markShowAgain(b,!1))).subscribe()}markShowAgain(b,A){return this.prefSvc.updatePreference(b,A,!0)}resetAll(){this.prefSvc.updatePreferences(Object.values(e.B).reduce((b,A)=>(b[A]=!0,b),{})).subscribe()}}return s.\u0275fac=function(b){return new(b||s)(v.LFG(E.xA),v.LFG(f.D),v.LFG(f.yW))},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},2566:(ot,pe,r)=>{"use strict";r.d(pe,{pH:()=>_,fY:()=>E,BM:()=>p.B,ii:()=>h.i});var o=r(655),c=r(4092),g=r(9670),a=r(9040),u=r(9300),v=r(8505),p=r(3266),d=r(5e3),h=r(6024);class _{constructor(y,s,C){this.actions$=y,this.dsmaService=s,this.uiQuery=C,this.entityHidden$=this.actions$.pipe((0,a.l)(c.j8.entityHidden),(0,u.h)(()=>!this.uiQuery.getIsOutlineView()),(0,v.b)(()=>this.dsmaService.showDialog(p.B.ShowHide,$localize`Hide/Unhide`,$localize`You have hidden an item or a section. To show it again, use the main menu (top left) to go to outline view, and select unhide. Make sure you're in edit mode.`)))}}_.\u0275fac=function(y){return new(y||_)(d.LFG(g.eX),d.LFG(h.i),d.LFG(c.YU))},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac}),(0,o.gn)([(0,g.Qm)()],_.prototype,"entityHidden$",void 0);var e=r(9808);let E=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[[e.ez]]}),f})()},7389:(ot,pe,r)=>{"use strict";r.d(pe,{Sd:()=>A,pH:()=>f.pH,fY:()=>f.fY,BM:()=>f.BM,ii:()=>f.ii,Bb:()=>X,$H:()=>q,tp:()=>de,Gh:()=>fe,M:()=>me,uR:()=>qe,Cs:()=>Lt,ws:()=>Ke,V0:()=>Nt,kK:()=>Et.k,Xc:()=>Et.X,hr:()=>ce,dP:()=>Y});var o=r(3608),c=r(1135),g=r(1884),a=r(4782),u=r(9300),v=r(8505),p=r(5698),d=r(515),h=r(4004),_=r(8746),e=r(4092),E=r(8923),f=r(2566),y=r(2417),s=r(5e3),C=r(4716),b=r(7746);let A=(()=>{class et{constructor(Be,Ce,ke,ve,ae,K,Ee,he,Fe){this.logger=Be,this.palettesQuery=Ce,this.palettesSvc=ke,this.rollsQuery=ve,this.rollsSvc=ae,this.themesQuery=K,this.simpleDlgSvc=Ee,this.dsmaSvc=he,this.snackSvc=Fe,this.editing=!1,this.baseSwatches=new Map([]),this.modifiedSwatches=new Map([]),this.modified$=new c.X(!1),this.isModified$=this.modified$.pipe((0,g.x)(),(0,a.d)(1)),this.palettesQuery.activePalette$.pipe((0,u.h)(Xe=>!!Xe),(0,u.h)(()=>!this.editing),(0,v.b)(Xe=>this.logger.debug("CustomPaletteService: detected palette change (non-edit mode)",Xe.store_id)),(0,v.b)(Xe=>{Xe.is_custom?this.doRebase(Xe):this.clear()}),(0,y.n)()).subscribe()}get hasModifications(){return!!this.modifiedSwatches.size}get currentThemeHasCustom(){return this.palettesQuery.getHasCustomPalette(this.themesQuery.getActiveId())}startEdit(){this.currentThemeHasCustom&&this.dsmaSvc.showDialog(f.BM.CustomPaletteOverwriteWarn,$localize`:@@customPaletteOverwriteWarnTitle:Modifying your custom palette`,$localize`:@@customPaletteOverwriteWarnMessage:You already have a custom palette for this roll. It will be replaced by your new color selections when you click 'Apply'.`),this.setEditMode(!0)}cancelEdit(){this.setEditMode(!1)}rebase(Be){!this.editing||(this.hasModifications?this.simpleDlgSvc.open({data:{title:$localize`:@@discardChanges:Discard changes`,message:$localize`Do you want to discard your custom colors?`,primaryLabel:$localize`:@@keepChanges:Keep changes`,secondaryLabel:$localize`:@@discard:Discard`,suppressDialogDismiss:!0}}).afterClosed().pipe((0,p.q)(1),(0,v.b)(Ce=>{this.doRebase(Be,E.iv.SECONDARY===Ce)})).subscribe():this.doRebase(Be))}modifySwatch(Be){!this.editing||(this.setSwatchOverride(Be),this.modifiedSwatches.set(Be.id,Be),this.modified$.next(!0))}update(){if(!this.editing)return d.E;const Be=!this.currentThemeHasCustom,Ce=this.toRollThemePalette();if(!Ce)return d.E;const ke=Object.assign(Object.assign({},Ce),{base_theme_id:this.themesQuery.getActiveId(),enabled:!0});return this.rollsSvc.update({token:this.rollsQuery.getActiveId(),set_custom_palette:ke}).pipe((0,h.U)(ve=>ve.custom_palettes[ve.theme]),(0,v.b)(ve=>{this.logger.debug("CustomPaletteService.update() result",ve),this.palettesSvc.updateStore(ve),this.palettesSvc.setActive(ve)}),(0,v.b)(ve=>{Be&&this.snackSvc.open($localize`Your custom palette has been saved. You can assign a different palette to your roll at any time by selecting "Themes" from the edit toolbar.`,$localize`:@@ok:OK`)}),(0,_.x)(()=>{this.clearModified(),this.editing=!1}))}clear(){this.clearModified(),this.clearOverrides(),this.baseSwatches.clear(),this.basePalette=null}setEditMode(Be){if(Be===this.editing)return;this.editing=Be;const Ce=this.palettesQuery.getActive();Be||Ce.is_custom?this.doRebase(Ce):this.clear()}toRollThemePalette(){if(!this.basePalette)return null;const Be=new Map([...this.baseSwatches,...this.modifiedSwatches]),Ce={base_palette_id:this.basePalette.base_palette_id||this.basePalette.id};for(let[ke,ve]of Be)Ce[ke]=ve;return Ce}clearModified(){this.modifiedSwatches.clear(),this.modified$.next(!1)}doRebase(Be,Ce=!0){this.logger.debug("CustomPaletteService.doRebase()",Be),this.basePalette=Be,Ce&&this.modifiedSwatches.clear(),this.swatchIds().forEach(ke=>{const ve=Be[ke];ve&&!this.modifiedSwatches.get(ve.id)&&(this.setSwatchOverride(ve),this.baseSwatches.set(ke,ve))})}setSwatchOverride(Be){try{const Ce=null==Be?void 0:Be.id,ke=new o(Be.base),ve=new o(Be.contrast);window.document.documentElement.style.setProperty(`--palette__${Ce}--h`,`${ke.hue()}deg`),window.document.documentElement.style.setProperty(`--palette__${Ce}--s`,`${ke.saturationl()}%`),window.document.documentElement.style.setProperty(`--palette__${Ce}--l`,`${ke.lightness()}%`),window.document.documentElement.style.setProperty(`--palette__${Ce}__contrast--h`,`${ve.hue()}deg`),window.document.documentElement.style.setProperty(`--palette__${Ce}__contrast--s`,`${ve.saturationl()}%`),window.document.documentElement.style.setProperty(`--palette__${Ce}__contrast--l`,`${ve.lightness()}%`)}catch(Ce){this.logger.error("Failed to parse swatch",Be.name,Be)}}removeSwatchOverride(Be){const Ce=null==Be?void 0:Be.id;window.document.documentElement.style.removeProperty(`--palette__${Ce}--h`),window.document.documentElement.style.removeProperty(`--palette__${Ce}--s`),window.document.documentElement.style.removeProperty(`--palette__${Ce}--l`),window.document.documentElement.style.removeProperty(`--palette__${Ce}__contrast--h`),window.document.documentElement.style.removeProperty(`--palette__${Ce}__contrast--s`),window.document.documentElement.style.removeProperty(`--palette__${Ce}__contrast--l`),this.baseSwatches.delete(Ce)}clearOverrides(){for(let[Be,Ce]of this.baseSwatches)this.removeSwatchOverride(Ce)}swatchIds(){const Be=[];for(let Ce in e.qL)Be.push(e.qL[Ce]);return Be}}return et.\u0275fac=function(Be){return new(Be||et)(s.LFG(C.m),s.LFG(e.nU),s.LFG(e.uV),s.LFG(e.Qy),s.LFG(e.u5),s.LFG(e.ns),s.LFG(E.cE),s.LFG(f.ii),s.LFG(b.f))},et.\u0275prov=s.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();var I=r(9646),D=r(262),O=r(7261),S=r(6970),x=r(9808),L=r(7423);function R(et,nt){if(1&et){const Be=s.EpF();s.ynx(0),s.TgZ(1,"div",1)(2,"div",2),s.SDv(3,3),s.qZA(),s.TgZ(4,"button",4),s.NdJ("click",function(){return s.CHM(Be),s.oxw().undo()}),s.SDv(5,5),s.qZA()(),s.BQk()}if(2&et){const Be=s.oxw();s.xp6(3),s.pQV(Be.type),s.QtT(3)}}function G(et,nt){if(1&et){const Be=s.EpF();s.ynx(0),s.TgZ(1,"div",1)(2,"div",2),s.SDv(3,6),s.qZA(),s.TgZ(4,"button",4),s.NdJ("click",function(){return s.CHM(Be),s.oxw().dismiss()}),s.SDv(5,7),s.qZA()(),s.BQk()}if(2&et){const Be=s.oxw();s.xp6(3),s.pQV(Be.type),s.QtT(3)}}function k(et,nt){if(1&et){const Be=s.EpF();s.ynx(0),s.TgZ(1,"div",1)(2,"div",2),s.SDv(3,8),s.qZA(),s.TgZ(4,"button",4),s.NdJ("click",function(){return s.CHM(Be),s.oxw().undo()}),s.SDv(5,9),s.qZA()(),s.BQk()}if(2&et){const Be=s.oxw();s.xp6(3),s.pQV(Be.type),s.QtT(3)}}function V(et,nt){if(1&et){const Be=s.EpF();s.ynx(0),s.TgZ(1,"div",1)(2,"div",2),s.SDv(3,10),s.qZA(),s.TgZ(4,"button",4),s.NdJ("click",function(){return s.CHM(Be),s.oxw().dismiss()}),s.SDv(5,11),s.qZA()(),s.BQk()}if(2&et){const Be=s.oxw();s.xp6(3),s.pQV(Be.type),s.QtT(3)}}let ne=(()=>{class et{constructor(Be,Ce,ke){this.metaSvc=Be,this.snackRef=Ce,this.data=ke}ngOnInit(){this.type=this.metaSvc.isRoll(this.data.entity)?"roll":this.metaSvc.isSection(this.data.entity)?"section":"item"}dismiss(){this.snackRef.dismiss()}undo(){this.snackRef.dismissWithAction()}}return et.\u0275fac=function(Be){return new(Be||et)(s.Y36(S.Gl),s.Y36(O.OX),s.Y36(O.qD))},et.\u0275cmp=s.Xpm({type:et,selectors:[["description-visibility-snack"]],decls:4,vars:4,consts:function(){let nt,Be,Ce,ke,ve,ae,K,Ee,he,Fe,Xe,_t;return nt=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,nt=s.Zx4(nt,{VAR_SELECT:"\ufffd0\ufffd"}),Be=$localize`:c4d94088b60a734855c512bf3e5ceb35c8769c752592574743143760008:The ${nt}:ICU: description is now hidden.`,Ce=$localize`:@@undo4f26c54d5c3edadf92756d7d3ce466dde1f01e2a5775346636203685655:Undo`,ke=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,ke=s.Zx4(ke,{VAR_SELECT:"\ufffd0\ufffd"}),ve=$localize`:956831af31b2114a305eeebac323b1178b8d00f88670475578018072226:Failed to hide the ${ke}:ICU: description. Please try again later.`,ae=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,K=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,K=s.Zx4(K,{VAR_SELECT:"\ufffd0\ufffd"}),Ee=$localize`:a7f78caab27c23749166fb157c968a642f5107fe5779798516077559938:The ${K}:ICU: description is now visible.`,he=$localize`:@@undo4f26c54d5c3edadf92756d7d3ce466dde1f01e2a5775346636203685655:Undo`,Fe=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,Fe=s.Zx4(Fe,{VAR_SELECT:"\ufffd0\ufffd"}),Xe=$localize`:fe3b62891af9958c59e8c27e86c82266f8c173ad6217619831447385683:Failed to show the ${Fe}:ICU: description. Please try again later.`,_t=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,[[4,"ngIf"],[1,"roll-snack__simple-container"],["data-snack-message",""],Be,["mat-button","","color","primary",3,"click"],Ce,ve,ae,Ee,he,Xe,_t]},template:function(Be,Ce){1&Be&&(s.YNc(0,R,6,1,"ng-container",0),s.YNc(1,G,6,1,"ng-container",0),s.YNc(2,k,6,1,"ng-container",0),s.YNc(3,V,6,1,"ng-container",0)),2&Be&&(s.Q6J("ngIf","hide"===Ce.data.operation&&Ce.data.success),s.xp6(1),s.Q6J("ngIf","hide"===Ce.data.operation&&!Ce.data.success),s.xp6(1),s.Q6J("ngIf","show"===Ce.data.operation&&Ce.data.success),s.xp6(1),s.Q6J("ngIf","show"===Ce.data.operation&&!Ce.data.success))},directives:[x.O5,L.lW],styles:[""],encapsulation:2,changeDetection:0}),et})(),$=(()=>{class et{}return et.\u0275fac=function(Be){return new(Be||et)},et.\u0275mod=s.oAB({type:et}),et.\u0275inj=s.cJS({imports:[[x.ez,L.ot]]}),et})(),q=(()=>{class et{constructor(Be,Ce,ke){this.logger=Be,this.updateSvc=Ce,this.snackSvc=ke}toggle(Be){const Ce=Be.layout,ke=Ce.show_description?"hide":"show",ve={token:Be.token,layout:Object.assign(Object.assign({},Ce),{show_description:!Ce.show_description})};this.updateSvc.update(ve).pipe((0,p.q)(1),(0,v.b)(()=>{this.showSnack({operation:ke,entity:Be,success:!0})}),(0,D.K)(ae=>(this.logger.error("ToggleDescriptionService","Toggle description failed"),this.showSnack({operation:ke,entity:Be,success:!1}),(0,I.of)()))).subscribe()}showSnack(Be){this.snackSvc.openFromComponent(ne,{data:Be}).afterDismissed().pipe((0,p.q)(1),(0,v.b)(Ce=>{Ce.dismissedByAction&&(this.logger.debug("Undoing description visibility"),this.updateSvc.update({token:Be.entity.token,layout:Be.entity.layout}).pipe((0,p.q)(1)).subscribe())})).subscribe()}}return et.\u0275fac=function(Be){return new(Be||et)(s.LFG(C.m),s.LFG(e.N5),s.LFG(b.f))},et.\u0275prov=s.Yz7({token:et,factory:et.\u0275fac}),et})(),X=(()=>{class et{}return et.\u0275fac=function(Be){return new(Be||et)},et.\u0275mod=s.oAB({type:et}),et.\u0275inj=s.cJS({providers:[q],imports:[[$]]}),et})(),de=(()=>{class et{}return et.\u0275fac=function(Be){return new(Be||et)},et.\u0275mod=s.oAB({type:et}),et.\u0275inj=s.cJS({imports:[[E.zW]]}),et})(),fe=(()=>{class et{constructor(Be,Ce,ke,ve){this.logger=Be,this.rollsQuery=Ce,this.cloneSvc=ke,this.csDlgSvc=ve}duplicateActive(){const Be={token:this.rollsQuery.getActiveId()};this.cloneSvc.clone(Be).pipe((0,p.q)(1),(0,v.b)(Ce=>{this.csDlgSvc.open({clone:Ce})}),(0,D.K)(Ce=>(this.logger.error("DuplicateRollService","Duplication failed"),(0,I.of)()))).subscribe()}}return et.\u0275fac=function(Be){return new(Be||et)(s.LFG(C.m),s.LFG(e.Qy),s.LFG(e.Tg),s.LFG(E.UQ))},et.\u0275prov=s.Yz7({token:et,factory:et.\u0275fac,providedIn:"any"}),et})();var We=r(7579),Ne=r(8966),dt=r(6700),ge=r(532);function Je(et,nt){1&et&&s._UZ(0,"blocking-spinner")}function se(et,nt){1&et&&(s.ynx(0),s.TgZ(1,"span"),s.SDv(2,9),s.qZA(),s.BQk())}function Re(et,nt){1&et&&(s.TgZ(0,"span"),s.SDv(1,10),s.qZA())}let pt=(()=>{class et{constructor(Be,Ce,ke){this.metaSvc=Be,this.dialogRef=Ce,this.data=ke,this.busy$=new c.X(!1),this.isSection=!1,this.actions=E.iv,this.destroy$=new We.x,this.isSection=this.metaSvc.isSection(this.data.entity)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}dismiss(){this.dialogRef.close()}}return et.\u0275fac=function(Be){return new(Be||et)(s.Y36(S.Gl),s.Y36(Ne.so),s.Y36(Ne.WI))},et.\u0275cmp=s.Xpm({type:et,selectors:[["confirm-entity-delete-dialog"]],decls:14,vars:7,consts:function(){let nt,Be,Ce,ke,ve;return nt=$localize`:@@confirmDelete3568b788ff89cd81b4af5b52a7e12cdc9cbd30639021887951960049161:Confirm delete`,Be=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,Ce=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,ke=$localize`:0dbebfa5d3d380a618aa2927c2b47a9138860bcb674660635654579506:Deleting a section will remove it and all of the items and sections within it. Are you sure you want to permanently delete this section?`,ve=$localize`:3d037d48e56b16b039a7e1df597f1706151c7d287316117379240696746:Are you sure you want to permanently delete this item?`,[[4,"ngIf"],["mat-dialog-title",""],nt,[4,"ngIf","ngIfElse"],["itemConfirm",""],["mat-stroked-button","","color","primary",3,"mat-dialog-close"],Be,["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close"],Ce,ke,ve]},template:function(Be,Ce){if(1&Be&&(s.YNc(0,Je,1,0,"blocking-spinner",0),s.ALo(1,"async"),s._UZ(2,"dialog-dismiss"),s.TgZ(3,"header",1),s.SDv(4,2),s.qZA(),s.TgZ(5,"mat-dialog-content"),s.YNc(6,se,3,0,"ng-container",3),s.YNc(7,Re,2,0,"ng-template",null,4,s.W1O),s.qZA(),s.TgZ(9,"mat-dialog-actions")(10,"button",5),s.SDv(11,6),s.qZA(),s.TgZ(12,"button",7),s.SDv(13,8),s.qZA()()),2&Be){const ke=s.MAs(8);s.Q6J("ngIf",s.lcZ(1,5,Ce.busy$)),s.xp6(6),s.Q6J("ngIf",Ce.isSection)("ngIfElse",ke),s.xp6(4),s.Q6J("mat-dialog-close",Ce.actions.SECONDARY),s.xp6(2),s.Q6J("mat-dialog-close",Ce.actions.PRIMARY)}},directives:[x.O5,dt.n,ge.k,Ne.uh,Ne.xY,Ne.H8,L.lW,Ne.ZT],pipes:[x.Ov],styles:["[_nghost-%COMP%]{display:block}"]}),et})();var ht=r(3075),It=r(2368),De=r(5524),Se=r(6950);let Ae=(()=>{class et{}return et.\u0275fac=function(Be){return new(Be||et)},et.\u0275mod=s.oAB({type:et}),et.\u0275inj=s.cJS({imports:[[x.ez,ht.u5,ht.UX,L.ot,Ne.Is,It.rP,De.M,Se.o]]}),et})();function lt(et,nt){if(1&et){const Be=s.EpF();s.ynx(0),s.TgZ(1,"div",2)(2,"div",3),s.SDv(3,4),s.qZA(),s.TgZ(4,"button",5),s.NdJ("click",function(){return s.CHM(Be),s.oxw().dismiss()}),s.SDv(5,6),s.qZA()(),s.BQk()}if(2&et){const Be=s.oxw();s.xp6(3),s.pQV(Be.type),s.QtT(3)}}function Ze(et,nt){if(1&et){const Be=s.EpF();s.TgZ(0,"div",2)(1,"div",3),s.SDv(2,7),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){return s.CHM(Be),s.oxw().dismiss()}),s.SDv(4,8),s.qZA()()}if(2&et){const Be=s.oxw();s.xp6(2),s.pQV(Be.type),s.QtT(2)}}let Rt=(()=>{class et{constructor(Be,Ce,ke){this.metaSvc=Be,this.snackRef=Ce,this.data=ke}ngOnInit(){this.type=this.metaSvc.isRoll(this.data.entity)?"roll":this.metaSvc.isSection(this.data.entity)?"section":"item"}dismiss(){this.snackRef.dismiss()}}return et.\u0275fac=function(Be){return new(Be||et)(s.Y36(S.Gl),s.Y36(O.OX),s.Y36(O.qD))},et.\u0275cmp=s.Xpm({type:et,selectors:[["entity-delete-snack"]],decls:3,vars:2,consts:function(){let nt,Be,Ce,ke,ve,ae;return nt=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,nt=s.Zx4(nt,{VAR_SELECT:"\ufffd0\ufffd"}),Be=$localize`:8e804c23ed1d889f6014bd3a1ac470977ce9d3cd3669134169451671401:Successfully deleted ${nt}:ICU:`,Ce=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,ke=$localize`:b7f91cac71201ec7707f1b8fa47f01b7b9ef843b3854654858537618205:{VAR_SELECT, select, item {item} section {section} other {element}}`,ke=s.Zx4(ke,{VAR_SELECT:"\ufffd0\ufffd"}),ve=$localize`:b775ccc259703aa14fbfcc0d272153c06986c8271104187061148572104:Failed to delete ${ke}:ICU:. Please try again later.`,ae=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,[[4,"ngIf","ngIfElse"],["failure",""],[1,"roll-snack__simple-container"],["data-snack-message",""],Be,["mat-button","","color","primary",3,"click"],Ce,ve,ae]},template:function(Be,Ce){if(1&Be&&(s.YNc(0,lt,6,1,"ng-container",0),s.YNc(1,Ze,5,1,"ng-template",null,1,s.W1O)),2&Be){const ke=s.MAs(2);s.Q6J("ngIf",Ce.data.success)("ngIfElse",ke)}},directives:[x.O5,L.lW],styles:[""],encapsulation:2,changeDetection:0}),et})(),Gt=(()=>{class et{}return et.\u0275fac=function(Be){return new(Be||et)},et.\u0275mod=s.oAB({type:et}),et.\u0275inj=s.cJS({imports:[[x.ez,L.ot]]}),et})();var Xt=r(4351),kt=r(7633);let qe=(()=>{class et{constructor(Be,Ce,ke){this.dialogSvc=Be,this.snackSvc=Ce,this.updateSvc=ke}delete(Be){this.dialogSvc.open(pt,{data:{entity:Be}}).afterClosed().pipe((0,p.q)(1),(0,u.h)(ke=>E.iv.PRIMARY===ke),(0,Xt.b)(ke=>this.updateSvc.delete$(Be)),(0,p.q)(1),(0,v.b)(ke=>{this.snackSvc.openFromComponent(Rt,{data:{entity:Be,success:!0}})}),(0,D.K)(()=>(this.snackSvc.openFromComponent(Rt,{data:{entity:Be,success:!1}}),(0,I.of)(null)))).subscribe()}}return et.\u0275fac=function(Be){return new(Be||et)(s.LFG(kt.xA),s.LFG(b.f),s.LFG(e.N5))},et.\u0275prov=s.Yz7({token:et,factory:et.\u0275fac}),et})(),me=(()=>{class et{}return et.\u0275fac=function(Be){return new(Be||et)},et.\u0275mod=s.oAB({type:et}),et.\u0275inj=s.cJS({providers:[qe],imports:[[Ae,Gt]]}),et})();var ce=(()=>{return(et=ce||(ce={})).FONT_FAMILY="font-family",et.FONT_SIZE="font-size",et.FONT_WEIGHT="font-weight",et.FONT_STRETCH="font-stretch",et.FONT_STYLE="font-style",et.LINE_HEIGHT="line-height",et.LETTER_SPACING="letter-spacing",ce;var et})();const Y=new Map([["--cover-title__font-family",{numericUnits:"",numericNormal:null}],["--cover-title__font-size",{numericUnits:"rem",numericNormal:null}],["--cover-title__font-weight",{numericUnits:"",numericNormal:400}],["--cover-title__font-stretch",{numericUnits:"%",numericNormal:100}],["--cover-title__font-style",{numericUnits:"",numericNormal:null}],["--cover-title__line-height",{numericUnits:"",numericNormal:1.2}],["--cover-title__letter-spacing",{numericUnits:"em",numericNormal:0}],["--cover-subtitle__font-family",{numericUnits:"",numericNormal:null}],["--cover-subtitle__font-size",{numericUnits:"rem",numericNormal:null}],["--cover-subtitle__font-weight",{numericUnits:"",numericNormal:400}],["--cover-subtitle__font-stretch",{numericUnits:"%",numericNormal:100}],["--cover-subtitle__font-style",{numericUnits:"",numericNormal:null}],["--cover-subtitle__line-height",{numericUnits:"",numericNormal:1.2}],["--cover-subtitle__letter-spacing",{numericUnits:"em",numericNormal:0}],["--cover-description__font-family",{numericUnits:"",numericNormal:null}],["--cover-description__font-size",{numericUnits:"rem",numericNormal:null}],["--cover-description__font-weight",{numericUnits:"",numericNormal:400}],["--cover-description__font-stretch",{numericUnits:"%",numericNormal:100}],["--cover-description__font-style",{numericUnits:"",numericNormal:null}],["--cover-description__line-height",{numericUnits:"",numericNormal:1.2}],["--cover-description__letter-spacing",{numericUnits:"em",numericNormal:0}],["--section-title__font-family",{numericUnits:"",numericNormal:null}],["--section-title__font-size",{numericUnits:"rem",numericNormal:null}],["--section-title__font-weight",{numericUnits:"",numericNormal:400}],["--section-title__font-stretch",{numericUnits:"%",numericNormal:100}],["--section-title__font-style",{numericUnits:"",numericNormal:null}],["--section-title__line-height",{numericUnits:"",numericNormal:1.2}],["--section-title__letter-spacing",{numericUnits:"em",numericNormal:0}],["--section-description__font-family",{numericUnits:"",numericNormal:null}],["--section-description__font-size",{numericUnits:"rem",numericNormal:null}],["--section-description__font-weight",{numericUnits:"",numericNormal:400}],["--section-description__font-stretch",{numericUnits:"%",numericNormal:100}],["--section-description__font-style",{numericUnits:"",numericNormal:null}],["--section-description__line-height",{numericUnits:"",numericNormal:1.2}],["--section-description__letter-spacing",{numericUnits:"em",numericNormal:0}],["--item-title__font-family",{numericUnits:"",numericNormal:null}],["--item-title__font-size",{numericUnits:"rem",numericNormal:null}],["--item-title__font-weight",{numericUnits:"",numericNormal:400}],["--item-title__font-stretch",{numericUnits:"%",numericNormal:100}],["--item-title__font-style",{numericUnits:"",numericNormal:null}],["--item-title__line-height",{numericUnits:"",numericNormal:1.2}],["--item-title__letter-spacing",{numericUnits:"em",numericNormal:0}],["--item-description__font-family",{numericUnits:"",numericNormal:null}],["--item-description__font-size",{numericUnits:"rem",numericNormal:null}],["--item-description__font-weight",{numericUnits:"",numericNormal:400}],["--item-description__font-stretch",{numericUnits:"%",numericNormal:100}],["--item-description__font-style",{numericUnits:"",numericNormal:null}],["--item-description__line-height",{numericUnits:"",numericNormal:1.2}],["--item-description__letter-spacing",{numericUnits:"em",numericNormal:0}],["--widget__font-family",{numericUnits:"",numericNormal:null}],["--widget__font-size",{numericUnits:"rem",numericNormal:null}],["--widget__font-weight",{numericUnits:"",numericNormal:400}],["--widget__font-stretch",{numericUnits:"%",numericNormal:100}],["--widget__font-style",{numericUnits:"",numericNormal:null}],["--widget__line-height",{numericUnits:"",numericNormal:1.2}],["--widget__letter-spacing",{numericUnits:"em",numericNormal:0}]]),we={fs:{min:1,max:10,default:3,step:.1},lh:{min:.1,max:2,default:1.2,step:.01},ls:{min:-.1,max:2,default:0,step:.01}},be=[{family:"Archivo Narrow",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Archivo+Narrow:ital,wght@0,400..700;1,400..700&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:400,max:700,default:400,step:1}}},{family:"Amatic SC",category:"handwriting",stylesheet:"https://fonts.googleapis.com/css?family=Amatic+SC:400,700",axes:{wght:{min:400,max:700,default:400,step:1}}},{family:"Berkshire Swash",category:"handwriting",stylesheet:"https://fonts.googleapis.com/css2?family=Berkshire+Swash&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Butler",category:"sans-serif",stylesheet:"/assets/fonts/Butler/web/_.css",axes:{wght:{min:100,max:900,default:400,step:100}}},{family:"Butler Stencil",category:"sans-serif",stylesheet:"/assets/fonts/ButlerStencil/web/_.css",axes:{wght:{min:100,max:900,default:400,step:100}}},{family:"Chivo",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap",axes:{wght:{min:300,max:900,default:400,step:100}}},{family:"Cooper Hewitt",category:"sans-serif",stylesheet:"/assets/fonts/CooperHewitt/web/_.css",axes:{wght:{min:100,max:900,default:400,step:100}}},{family:"Glacial Indifference",category:"sans-serif",stylesheet:"/assets/fonts/GlacialIndifference/web/_.css",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"HK Grotesk",category:"sans-serif",stylesheet:"/assets/fonts/HKGrotesk/web/_.css",axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:100,max:900,default:400,step:100}}},{family:"IBM Plex Sans",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap",axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:100,max:700,default:400,step:100}}},{family:"IBM Plex Sans Condensed",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap",axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:100,max:700,default:400,step:100}}},{family:"Inter",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap",variable:!0,axes:{wght:{min:100,max:900,default:400,step:1}}},{family:"Lato",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap",axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:300,max:900,default:400,step:100}}},{family:"Lora",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:400,max:700,default:400,step:1}}},{family:"Montreal",category:"sans-serif",stylesheet:"/assets/fonts/Montreal/web/_.css",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Nunito",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..900;1,200..900&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:200,max:900,default:400,step:1}}},{family:"Playfair Display",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:400,max:900,default:400,step:1}}},{family:"Poppins",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap",axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:100,max:900,default:400,step:100}}},{family:"PT Sans",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap",axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:400,max:700,default:400,step:300}}},{family:"PT Sans Narrow",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=PT+Sans+Narrow:wght@400;700&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Roboto",category:"sans-serif",stylesheet:"/assets/fonts/Roboto/variable/RobotoFlex[GRAD,XOPQ,XTRA,YOPQ,YTAS,YTDE,YTFI,YTLC,YTUC,opsz,slnt,wdth,wght].woff2",preloaded:!0,variable:!0,axes:{wght:{min:100,max:1e3,default:400,step:1},wdth:{min:25,max:151,default:100,step:1},opsz:{min:8,max:144,default:14,step:1},slnt:{min:-10,max:0,default:0,step:.1},GRAD:{min:-200,max:150,default:0,step:1},XOPQ:{min:26,max:175,default:96,step:1},XTRA:{min:323,max:602,default:468,step:1},YOPQ:{min:25,max:135,default:79,step:1},YTLC:{min:416,max:517,default:514,step:1},YTUC:{min:528,max:760,default:712,step:1},YTAS:{min:649,max:854,default:750,step:1},YTDE:{min:-305,max:-98,default:-203,step:1},YTFI:{min:560,max:788,default:738,step:1}}},{family:"Roboto Condensed",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap",preloaded:!0,axes:{wght:{min:300,max:700,default:400,step:100}}},{family:"Source Sans 3",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:200,max:900,default:400,step:1}}},{family:"Source Serif 4",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,wght@0,200..900;1,200..900&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:200,max:900,default:400,step:1}}},{family:"Seaweed Script",category:"display",stylesheet:"https://fonts.googleapis.com/css2?family=Seaweed+Script&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Teko",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Teko:wght@300;400;500;600;700&display=swap",axes:{wght:{min:300,max:700,default:400,step:100}}},{family:"Trade Winds",category:"display",stylesheet:"https://fonts.googleapis.com/css2?family=Trade+Winds&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}}].map(et=>{const nt=Object.assign(Object.assign({},we),et.axes);return Object.assign(Object.assign({},et),{axes:nt})}),Me=[{family:"Abril Fatface",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Abril+Fatface&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Ballet",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Ballet&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Bangers",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Bangers&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Barrio",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Barrio&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Bebas Neue",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"BioRhyme",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=BioRhyme:wght@200;300;400;700;800&display=swap",axes:{wght:{min:200,max:700,default:400,step:100}}},{family:"Black Ops One",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Black+Ops+One&display=swap",axes:{wght:{min:200,max:700,default:400,step:100}}},{family:"Bodoni Moda",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,wght@0,400..900;1,400..900&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:400,max:900,default:400,step:1},opsz:{min:6,max:96,default:14,step:.1}}},{family:"Caesar Dressing",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Caesar+Dressing&display=swap",axes:{wght:{min:200,max:700,default:400,step:100}}},{family:"Chewy",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Chewy&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Cinzel",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Cinzel:wght@400..900&display=swap",variable:!0,axes:{wght:{min:400,max:900,default:400,step:1}}},{family:"Cinzel Decorative",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"EB Garamond",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:400,max:800,default:400,step:1}}},{family:"Emilys Candy",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Emilys+Candy&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Fraunces",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Fraunces:ital,wght@0,100..900;1,100..900&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:100,max:900,default:400,step:1},opsz:{min:9,max:144,default:14,step:.1},SOFT:{min:0,max:100,default:0,step:.1},WONK:{min:0,max:1,default:0,step:1}}},{family:"Freckle Face",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Freckle+Face&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Germania One",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Germania+One&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Grand Hotel",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Grand+Hotel&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Griffy",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Griffy&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Gugi",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Gugi&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Holtwood One SC",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Holtwood+One+SC&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"IBM Plex Serif",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap",axes:{wght:{min:100,max:700,default:400,step:100}}},{family:"IM Fell English",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=IM+Fell+English:ital@0;1&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"IM Fell English SC",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Jockey One",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Jockey+One&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Julius Sans One",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Julius+Sans+One&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Kaushan Script",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Kaushan+Script&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"League Gothic",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=League+Gothic:wdth@75..100&display=swap",variable:!0,axes:{wght:{min:400,max:700,default:400,step:300},wdth:{min:75,max:100,default:100,step:1}}},{family:"League Spartan",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap",variable:!0,axes:{wght:{min:100,max:900,default:400,step:1}}},{family:"Lexend",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap",variable:!0,axes:{wght:{min:100,max:900,default:400,step:1}}},{family:"Libre Caslon Display",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Libre+Caslon+Display&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Libre Caslon Text",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Libre+Caslon+Text:ital,wght@0,400;0,700;1,400&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Life Savers",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Life+Savers:wght@400;700;800&display=swap",axes:{wght:{min:400,max:800,default:400,step:100}}},{family:"Limelight",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Limelight&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Marcellus",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Marcellus&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Marcellus SC",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Marcellus+SC&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Mochiy Pop One",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Outfit",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap",variable:!0,axes:{wght:{min:100,max:900,default:400,step:1}}},{family:"Ovo",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Ovo&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Pacifico",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Pacifico&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Paytone One",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Paytone+One&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Permanent Marker",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Pinyon Script",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Pinyon+Script&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Pirata One",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Pirata+One&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Poller One",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Poller+One&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Quicksand",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap",variable:!0,axes:{wght:{min:300,max:700,default:400,step:1}}},{family:"Rancho",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Rancho&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Red Rose",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Red+Rose:wght@300..700&display=swap",variable:!0,axes:{wght:{min:300,max:700,default:400,step:1}}},{family:"Readex Pro",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Readex+Pro:wght@160..700&display=swap",variable:!0,axes:{wght:{min:160,max:700,default:400,step:1}}},{family:"Ribeye",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Ribeye&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Ribeye Marrow",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Ribeye+Marrow&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Sacramento",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Sacramento&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Sancreek",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Sancreek&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Sen",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Sen&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Smooch Sans",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Smooch+Sans:wght@100..900&display=swap",variable:!0,axes:{wght:{min:100,max:900,default:400,step:1}}},{family:"Source Code Pro",category:"monospace",stylesheet:"https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:200,max:900,default:400,step:1}}},{family:"Special Elite",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Special+Elite&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Spicy Rice",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Spicy+Rice&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Stick No Bills",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Stick+No+Bills:wght@200..800&display=swap",variable:!0,axes:{wght:{min:200,max:800,default:400,step:1}}},{family:"Stoke",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Stoke:wght@300;400&display=swap",axes:{wght:{min:300,max:700,default:400,step:100}}},{family:"Tomorrow",category:"sans-serif",stylesheet:"https://fonts.googleapis.com/css2?family=Tomorrow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap",axes:{wght:{min:100,max:900,default:400,step:100}}},{family:"Tourney",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Tourney:ital,wdth,wght@0,75..125,100..900;1,75..125,100..900&display=swap",variable:!0,axes:{ital:{min:0,max:1,default:0,step:1},wght:{min:100,max:900,default:400,step:1},wdth:{min:75,max:125,default:100,step:1}}},{family:"Ultra",category:"serif",stylesheet:"https://fonts.googleapis.com/css2?family=Ultra&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Vampiro One",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Vampiro+One&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}},{family:"Yellowtail",category:"cursive",stylesheet:"https://fonts.googleapis.com/css2?family=Yellowtail&display=swap",axes:{wght:{min:400,max:700,default:400,step:300}}}].map(et=>{const nt=Object.assign(Object.assign({},we),et.axes);return Object.assign(Object.assign({},et),{axes:nt,premium:!0})});var ze=r(4128),mt=r(2722),vt=r(3328);let Lt=(()=>{class et{constructor(Be,Ce,ke){this.rollsSvc=Be,this.rollsQuery=Ce,this.qpSvc=ke,this.hasCustom$=this.rollsQuery.hasCustomFonts$,this.fontVars$=this.rollsQuery.customFontsVars$,this.baseFonts$=(0,I.of)(be),this.premiumFonts$=(0,I.of)(Me),this.editLinks=[],this.viewLinksMap=new Map,this.allFonts$=(0,ze.D)([this.baseFonts$,this.premiumFonts$]).pipe((0,h.U)(([ve,ae])=>[...ve,...ae]),(0,h.U)(ve=>ve.sort((ae,K)=>ae.family<K.family?-1:ae.family>K.family?1:0))),this.destroy$=new We.x,this.fontVars$.pipe((0,mt.R)(this.destroy$),(0,v.b)(ve=>{const ae=new Map(Y),K=new Map;if(ve)for(const[Ee,he]of Object.entries(ve))if(ae.has(Ee)){if("font-family"===Ee.split("__").pop()){const Fe=this.findFontByFamily(he);if(!Fe.preloaded){const Xe=this.viewLinksMap.get(Fe.family);if(Xe)K.set(Ee,Xe),this.viewLinksMap.delete(Fe.family);else{const _t=document.createElement("link");_t.rel="stylesheet",_t.type="text/css",_t.href=Fe.stylesheet,K.set(Fe.family,_t),document.head.appendChild(_t)}}}document.documentElement.style.setProperty(Ee,he),ae.delete(Ee)}for(let Ee of ae.keys())document.documentElement.style.removeProperty(Ee);for(let Ee of this.viewLinksMap.values())Ee.remove();this.viewLinksMap=new Map(K)})).subscribe()}ngOnInit(){}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}initEditMode(){this.allFonts$.pipe((0,p.q)(1),(0,v.b)(Be=>{Be.forEach(Ce=>{const ke=document.createElement("link");ke.rel="stylesheet",ke.type="text/css",ke.href=Ce.stylesheet,document.head.appendChild(ke),this.editLinks.push(ke)})})).subscribe()}destroyEditMode(){this.editLinks.forEach(Be=>Be.remove()),this.editLinks=[]}clearAll(){return this.rollsSvc.update({token:this.rollsQuery.getActiveId(),clear_custom_fonts:!0})}clearVars(Be){const Ce=Object.assign({},this.rollsQuery.getCustomFontsCssVars());return Be.forEach(ke=>{delete Ce[`${ke}`]}),Object.keys(Ce).length?this.update(Ce):this.clearAll()}updateFontVar(Be,Ce){if(Y.has(Be)){const ke=Object.assign(Object.assign({},this.rollsQuery.getCustomFontsCssVars()),{[Be]:Ce});return this.update(ke)}return d.E}findFontByFamily(Be){const Ce=this.parseFamilyName(Be);return[...be,...Me].find(ke=>Ce===ke.family)}parseFamilyName(Be){return Be.split(",")[0].trim().replace(/[\'\"]/g,"")}update(Be){return this.rollsSvc.update({token:this.rollsQuery.getActiveId(),set_custom_fonts:{css_vars:Be}})}}return et.\u0275fac=function(Be){return new(Be||et)(s.LFG(e.u5),s.LFG(e.Qy),s.LFG(vt.E))},et.\u0275prov=s.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();var Bt=r(2843),an=r(6099),Kt=r(4035);let gt=(()=>{class et{constructor(Be,Ce,ke,ve){this.router=Be,this.rollsQuery=Ce,this.sbRef=ke,this.data=ve}dismiss(){this.sbRef.dismiss()}onActionClick(){this.router.navigate([this.rollsQuery.getRollBasePath().absolute],{queryParamsHandling:"merge"}).then(()=>{window.scroll({top:0,behavior:"smooth"})}),this.dismiss()}}return et.\u0275fac=function(Be){return new(Be||et)(s.Y36(Kt.F0),s.Y36(e.Qy),s.Y36(O.OX),s.Y36(O.qD))},et.\u0275cmp=s.Xpm({type:et,selectors:[["image-for-cover-snack"]],decls:5,vars:0,consts:function(){let nt,Be;return nt=$localize`:5788e67fdd92e54f389aa2f862d244958abfd4208128388626521378036:Roll cover image successfully changed.`,Be=$localize`:@@view6829218544e108e152f5fa72cb79c4ccb82e0d062509141182388535183:View`,[[1,"roll-snack__simple-container"],["data-snack-message",""],nt,["mat-button","","color","primary",3,"click"],Be]},template:function(Be,Ce){1&Be&&(s.TgZ(0,"div",0)(1,"div",1),s.SDv(2,2),s.qZA(),s.TgZ(3,"button",3),s.NdJ("click",function(){return Ce.onActionClick()}),s.SDv(4,4),s.qZA()())},directives:[L.lW],styles:["[_nghost-%COMP%]{display:block}"]}),et})();var xt=r(4157);let Nt=(()=>{class et{constructor(Be,Ce,ke,ve,ae){this.logger=Be,this.mediaSvc=Ce,this.rollsQuery=ke,this.updateSvc=ve,this.snackSvc=ae}use(Be){this.getToken(Be).pipe((0,an.z)(Ce=>this.updateSvc.update({token:this.rollsQuery.getActiveId(),image_token:Ce})),(0,v.b)(Ce=>{this.snackSvc.openFromComponent(gt)})).subscribe()}getToken(Be){return Be.token?(0,I.of)(Be.token):Be.full_url||Be.medium_url||Be.thumb_url?this.mediaSvc.createFromUrl(Be.full_url||Be.medium_url||Be.thumb_url).pipe((0,h.U)(Ce=>Ce.token)):(0,Bt._)(()=>"Item does not have enough data to use image as cover.")}}return et.\u0275fac=function(Be){return new(Be||et)(s.LFG(C.m),s.LFG(xt.I),s.LFG(e.Qy),s.LFG(e.N5),s.LFG(b.f))},et.\u0275prov=s.Yz7({token:et,factory:et.\u0275fac}),et})(),Ke=(()=>{class et{}return et.\u0275fac=function(Be){return new(Be||et)},et.\u0275mod=s.oAB({type:et}),et.\u0275inj=s.cJS({providers:[Nt],imports:[[L.ot]]}),et})();var Et=r(7518)},7518:(ot,pe,r)=>{"use strict";r.d(pe,{k:()=>g,X:()=>E});var o=r(2424),c=r(5e3);let g=(()=>{class f{}return f.\u0275fac=function(s){return new(s||f)},f.\u0275mod=c.oAB({type:f}),f.\u0275inj=c.cJS({imports:[[o.J]]}),f})();class a{constructor(y,s){if(this.cacheTimeMs=y,this.creator=s,this.cache=new Map,y<=0)throw new Error("cacheTimeMs must be a positive integer")}get(y,s=this.creator){return this.cache.has(y)||(this.cache.set(y,s(y)),setTimeout(()=>this.delete(y),this.cacheTimeMs)),this.cache.get(y)}delete(y){this.cache.delete(y)}}var u=r(9646),v=r(5698),p=r(8505),d=r(262),h=r(4782),_=r(4716),e=r(4762);let E=(()=>{class f{constructor(s,C,b){this.logger=s,this.mediaAccess=C,this.dlgSvc=b,this.cache=new a(1e4)}checkAccess$(s,C=!1){return this.cache.get(s.token,()=>this.mediaAccess.get(s.token).pipe((0,v.q)(1),(0,p.b)(b=>{!b.allowed&&C&&this.dlgSvc.open()}),(0,d.K)(b=>(this.logger.error("MediaAccessService","checkAccess failed"),C&&this.dlgSvc.open(),(0,u.of)({allowed:!1,token:s.token,chrome_warning:!1}))),(0,h.d)(1)))}checkAccess(s,C=!1){this.checkAccess$(s,C).subscribe()}}return f.\u0275fac=function(s){return new(s||f)(c.LFG(_.m),c.LFG(e.jc),c.LFG(o.f))},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},8938:(ot,pe,r)=>{"use strict";r.d(pe,{Fr:()=>f,t8:()=>A,vw:()=>c});const o={scrollbars:"no",resizable:"no",toolbar:"no",location:"no",height:420,width:550};var c=(()=>{return(I=c||(c={}))[I.MODAL=0]="MODAL",I[I.MENU=1]="MENU",c;var I})(),g=(()=>{return(I=g||(g={})).COPY_LINK="copy-link",I.EMAIL="email",I.FACEBOOK="facebook",I.TWITTER="twitter",I.LINKEDIN="linkedin",g;var I})(),a=(()=>{return(I=a||(a={})).COPY_LINK="link",I.EMAIL="share-email",I.FACEBOOK="share-facebook",I.TWITTER="share-twitter",I.LINKEDIN="share-linkedin",a;var I})(),u=r(7216);class v{constructor(D,O,S){this.entity=D,this.metaSvc=O,this.analyticsSvc=S,this._windowOptions=Object.assign({},o)}get windowOptions(){return this._windowOptions}setShareWindowOptions(D){this._windowOptions=Object.assign(Object.assign({},this._windowOptions),D)}getEntity(){return this.entity}trackShare(D){let O;this.metaSvc.isRoll(this.entity)?O=u.Nv.SHARE_ROLL:this.metaSvc.isItem(this.entity)&&(O=u.Nv.SHARE_ROLL_ITEM),O&&D.event&&this.analyticsSvc.eventTrack(D.event,{category:O,label:this.entity.title})}handleShare(D){this.openWindowFor(D)}openWindowFor(D){const O=D.windowOptions,S=Object.keys(O).filter(x=>O[x]).map(x=>`${x}=${O[x]}`).join(",");(window.open(D.url(),"_blank",S),{}).opener=null}}class p extends v{constructor(D,O,S){super(D,O,S),this.entity=D,this.metaSvc=O,this.analyticsSvc=S,this.type=g.COPY_LINK,this.event=null,this.icon=a.COPY_LINK,this.fixedName=""}share(){}url(){return this.metaSvc.entityShareUrl(this.entity)}}class d extends v{constructor(D,O,S){super(D,O,S),this.entity=D,this.metaSvc=O,this.analyticsSvc=S,this.type=g.FACEBOOK,this.event=u.s6.SHARE_FACEBOOK,this.icon=a.FACEBOOK,this.fixedName="Facebook"}share(){this.handleShare(this),this.trackShare(this)}url(){return"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(this.metaSvc.entityShareUrl(this.entity))}}class h extends v{constructor(D,O,S){super(D,O,S),this.entity=D,this.metaSvc=O,this.analyticsSvc=S,this.type=g.LINKEDIN,this.event=u.s6.SHARE_LINKEDIN,this.icon=a.LINKEDIN,this.fixedName="LinkedIn"}share(){this.handleShare(this),this.trackShare(this)}url(){let D="https://www.linkedin.com/shareArticle?url="+encodeURIComponent(this.metaSvc.entityShareUrl(this.entity))+"&text="+encodeURIComponent(this.entity.title);return this.entity.description&&(D+="&summary="+encodeURIComponent(this.entity.description)),D+="&source=bublup",D}}class _ extends v{constructor(D,O,S){super(D,O,S),this.entity=D,this.metaSvc=O,this.analyticsSvc=S,this.type=g.TWITTER,this.event=u.s6.SHARE_TWITTER,this.icon=a.TWITTER,this.fixedName="Twitter"}share(){this.handleShare(this),this.trackShare(this)}url(){return"https://twitter.com/intent/tweet?url="+encodeURIComponent(this.metaSvc.entityShareUrl(this.entity))+"&text="+encodeURIComponent(this.entity.title)}}var e=r(5e3),E=r(6970);let f=(()=>{class I{constructor(O,S){this.metaSvc=O,this.analyticsSvc=S}providers(O){return[new d(O,this.metaSvc,this.analyticsSvc),new _(O,this.metaSvc,this.analyticsSvc),new h(O,this.metaSvc,this.analyticsSvc)]}}return I.\u0275fac=function(O){return new(O||I)(e.LFG(E.Gl),e.LFG(u.yD))},I.\u0275prov=e.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var y=r(8923),s=r(4716),C=r(2250),b=r(7633);let A=(()=>{class I{constructor(O,S,x,L,R){this.logger=O,this.metaSvc=S,this.analyticsSvc=x,this.nativeSvc=L,this.dialogSvc=R,this.defaultOptions={scrollbars:"no",resizable:"no",toolbar:"no",location:"no",height:420,width:550}}shareMenuProviders(O){return[new d(O,this.metaSvc,this.analyticsSvc),new h(O,this.metaSvc,this.analyticsSvc),new _(O,this.metaSvc,this.analyticsSvc),new p(O,this.metaSvc,this.analyticsSvc)]}initiate(O,S){const x=this.toShareData(O),L=this.metaSvc.isRoll(O)?u.Nv.SHARE_ROLL:u.Nv.SHARE_ROLL_ITEM;if(c.MODAL===S&&this.nativeSvc.supported)try{return this.nativeSvc.bublupShareEvent(x),this.analyticsSvc.eventTrack(u.s6.SHARE_OPEN_NATIVE,{category:L,label:x.title}),!0}catch(R){this.logger.error("ShareService: native share failed",R)}else{if(c.MODAL===S)return this.dialogSvc.open(y.ei,{maxWidth:400,data:{entity:O,shareData:x}}),this.analyticsSvc.eventTrack(u.s6.SHARE_OPEN_DIALOG,{category:L,label:x.title}),!0;c.MENU===S&&this.analyticsSvc.eventTrack(u.s6.SHARE_OPEN_MENU,{category:L,label:x.title})}return!1}toShareData(O){var S,x;let L=null;return this.metaSvc.isRoll(O)?L={url:this.metaSvc.entityShareUrl(O),title:O.title,description:O.description,image_url:null===(S=O.image_info)||void 0===S?void 0:S.full_url}:this.metaSvc.isItem(O)&&(L={url:this.metaSvc.entityShareUrl(O),title:O.title,description:void 0,image_url:null===(x=O.image_info)||void 0===x?void 0:x.full_url}),L}}return I.\u0275fac=function(O){return new(O||I)(e.LFG(s.m),e.LFG(E.Gl),e.LFG(u.yD),e.LFG(C.dL),e.LFG(b.xA))},I.\u0275prov=e.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},3214:(ot,pe,r)=>{"use strict";r.d(pe,{Mm:()=>si,zJ:()=>Dn,WX:()=>Et,z7:()=>ze,l4:()=>ae,w0:()=>ve,gd:()=>at,AO:()=>yt,JT:()=>ki,Rd:()=>ei});var o=r(7399),c=r(6916),g=r(283),a=r(1135),u=r(7579),v=r(9841),p=r(515),d=r(5698),h=r(4782),_=r(4004),e=r(8505),E=r(2722),f=r(3900),y=r(8746),s=r(5e3),C=r(9670),b=r(4092),A=r(4716),I=r(8923),D=r(4157),O=r(6970),S=r(7153);const x=[[["","topbar-title",""]],[["","topbar-option",""]],[["","topbar-middle",""]],[["","topbar-right",""]]],L=["[topbar-title]","[topbar-option]","[topbar-middle]","[topbar-right]"];let R=(()=>{class ut{constructor(){}ngOnInit(){}}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["carousel-sheet-topbar"]],ngContentSelectors:L,decls:7,vars:0,consts:[[1,"carousel-sheet__topbar--left"],[1,"carousel-sheet__topbar--middle"],[1,"carousel-sheet__topbar--right"]],template:function(Ie,oe){1&Ie&&(s.F$t(x),s.TgZ(0,"div",0),s.Hsn(1),s.Hsn(2,1),s.qZA(),s.TgZ(3,"div",1),s.Hsn(4,2),s.qZA(),s.TgZ(5,"div",2),s.Hsn(6,3),s.qZA())},styles:["[_nghost-%COMP%]{font-family:Roboto Condensed;font-size:18px;color:#5a5a5a;display:flex;flex-direction:row;height:46px;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .carousel-sheet__topbar--left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;padding-left:8px}[_nghost-%COMP%]   .carousel-sheet__topbar--middle[_ngcontent-%COMP%]{flex-grow:0;display:flex;flex-direction:row;align-items:center;justify-content:center}[_nghost-%COMP%]   .carousel-sheet__topbar--right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;align-items:center;justify-content:flex-end;padding-right:8px}"],changeDetection:0}),ut})();var G=r(9808),k=r(7446),V=r(3075),ne=r(7423),$=r(7395),q=r(6955),X=r(9300),de=r(8372),fe=r(1139);const We=["*"];let Ne=(()=>{class ut{constructor(Ie){this.elemRef=Ie}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(s.SBq))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["snap-carousel-content"]],ngContentSelectors:We,decls:2,vars:0,template:function(Ie,oe){1&Ie&&(s.F$t(),s.TgZ(0,"scroll-snap-container"),s.Hsn(1),s.qZA())},directives:[fe.z],styles:['[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   scroll-snap-container[_ngcontent-%COMP%]{padding:0 50%;display:flex;flex-direction:row}[data-browser=safari][_nghost-%COMP%]   scroll-snap-container[_ngcontent-%COMP%], [data-browser=safari]   [_nghost-%COMP%]   scroll-snap-container[_ngcontent-%COMP%]{padding:0}[data-browser=safari][_nghost-%COMP%]   scroll-snap-container[_ngcontent-%COMP%]:before, [data-browser=safari]   [_nghost-%COMP%]   scroll-snap-container[_ngcontent-%COMP%]:before{content:"";padding-left:50%;height:1px}[data-browser=safari][_nghost-%COMP%]   scroll-snap-container[_ngcontent-%COMP%]:after, [data-browser=safari]   [_nghost-%COMP%]   scroll-snap-container[_ngcontent-%COMP%]:after{content:"";padding-right:50%;height:1px}'],changeDetection:0}),ut})();const dt=["*"];let ge=(()=>{class ut{constructor(){}}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["snap-carousel"]],ngContentSelectors:dt,decls:2,vars:0,template:function(Ie,oe){1&Ie&&(s.F$t(),s.TgZ(0,"snap-carousel-content"),s.Hsn(1),s.qZA())},directives:[Ne],styles:["[_nghost-%COMP%]{display:block;background:#1b1b1b;color:#fff;width:100%;max-width:100%;height:auto;overflow:hidden;position:relative}[_nghost-%COMP%]   .snap-carousel__overlay[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.5)}"],changeDetection:0}),ut})();const Je=["*"];let se=(()=>{class ut{constructor(Ie){this.elemRef=Ie,this.itemClick=new s.vpe,this.ixObs=new IntersectionObserver(oe=>{},{root:document.querySelector("snap-carousel-content"),rootMargin:"-50% -50%",threshold:0}),this.ixObs.observe(this.elemRef.nativeElement)}onClick(Ie){this.itemClick.emit(this.elemRef.nativeElement),this.elemRef.nativeElement.scrollIntoView({behavior:"smooth",inline:"center"})}ngOnDestroy(){this.ixObs.takeRecords(),this.ixObs.disconnect(),this.ixObs=null}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(s.SBq))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["snap-carousel-item"]],hostBindings:function(Ie,oe){1&Ie&&s.NdJ("click",function(te){return oe.onClick(te)})},outputs:{itemClick:"itemClick"},ngContentSelectors:Je,decls:1,vars:0,template:function(Ie,oe){1&Ie&&(s.F$t(),s.Hsn(0))},styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:column;align-items:center;justify-content:flex-start;transition:all .3s ease-out;cursor:pointer;scroll-snap-align:center;scroll-snap-stop:always}[_nghost-%COMP%]:not(:last-child){margin-right:1rem}"],changeDetection:0}),ut})();var Re=r(9763),pt=r(773);const ht=["imgElem"];function It(ut,$t){1&ut&&(s.TgZ(0,"div"),s.SDv(1,10),s.qZA())}function De(ut,$t){if(1&ut&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&ut){const Ie=s.oxw(2);s.xp6(1),s.Oqu(Ie.item.altLoadErrorMsg)}}function Se(ut,$t){if(1&ut&&(s.TgZ(0,"div",8),s.YNc(1,It,2,0,"div",9),s.YNc(2,De,2,1,"div",9),s.qZA()),2&ut){const Ie=s.oxw();s.xp6(1),s.Q6J("ngIf",!Ie.item.altLoadErrorMsg),s.xp6(1),s.Q6J("ngIf",Ie.item.altLoadErrorMsg)}}function Ae(ut,$t){if(1&ut&&(s.TgZ(0,"div",11),s._uU(1),s.qZA()),2&ut){const Ie=s.oxw();s.xp6(1),s.Oqu(Ie.item.primaryLabel||"\xa0")}}function lt(ut,$t){if(1&ut&&(s.TgZ(0,"div",12),s._uU(1),s.qZA()),2&ut){const Ie=s.oxw();s.xp6(1),s.Oqu(Ie.item.secondaryLabel||"\xa0")}}let Ze=(()=>{class ut{constructor(Ie){this.logger=Ie,this.imageSize=80,this.showPrimaryLabel=!1,this.showSecondaryLabel=!1,this.itemImageLoad=new s.vpe,this.isLoading=!0,this.loadError=!1}get selAttr(){var Ie;return null===(Ie=this.item)||void 0===Ie?void 0:Ie.selected}onImageLoad(Ie){this.isLoading=!1,this.itemImageLoad.emit(this.item)}onImageError(Ie){this.logger.error("CarouselItemComponent image load error",Ie);const oe=document.createElement("canvas");oe.width=this.item.width||this.imageSize,oe.height=this.item.height||this.imageSize;const Qe=oe.getContext("2d"),te=new Image;Qe.drawImage(te,0,0),this.imgRef.nativeElement.src=oe.toDataURL(),this.loadError=!0}get imgHeightPx(){return`${this.imageSize}px`}get imgWidthPx(){return`${this.item.width}px`}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(A.m))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["selection-carousel-item"]],viewQuery:function(Ie,oe){if(1&Ie&&s.Gf(ht,5),2&Ie){let Qe;s.iGM(Qe=s.CRH())&&(oe.imgRef=Qe.first)}},hostVars:3,hostBindings:function(Ie,oe){2&Ie&&s.uIk("selected",oe.selAttr)("data-is-loading",oe.isLoading)("data-load-error",oe.loadError)},inputs:{item:"item",imageSize:"imageSize",showPrimaryLabel:"showPrimaryLabel",showSecondaryLabel:"showSecondaryLabel"},outputs:{itemImageLoad:"itemImageLoad"},decls:8,vars:16,consts:function(){let $t;return $t=$localize`:4890f30fced002db48dd3729280e1d07e82a53252309683095114988708:Image not available :(`,[[1,"selection-carousel-item__image-container"],["draggable","false",3,"src","load","error"],["imgElem",""],[1,"selection-carousel-item__image-progress"],["diameter","32"],["class","selection-carousel-item__load-error",4,"ngIf"],["class","selection-carousel-item__label selection-carousel-item__label--primary",4,"ngIf"],["class","selection-carousel-item__abel selection-carousel-item__label--secondary",4,"ngIf"],[1,"selection-carousel-item__load-error"],[4,"ngIf"],$t,[1,"selection-carousel-item__label","selection-carousel-item__label--primary"],[1,"selection-carousel-item__abel","selection-carousel-item__label--secondary"]]},template:function(Ie,oe){1&Ie&&(s.TgZ(0,"div",0)(1,"img",1,2),s.NdJ("load",function(te){return oe.onImageLoad(te)})("error",function(te){return oe.onImageError(te)}),s.qZA(),s.TgZ(3,"div",3),s._UZ(4,"mat-spinner",4),s.qZA(),s.YNc(5,Se,3,2,"div",5),s.qZA(),s.YNc(6,Ae,2,1,"div",6),s.YNc(7,lt,2,1,"div",7)),2&Ie&&(s.xp6(1),s.Udp("height",oe.imgHeightPx)("min-height",oe.imgHeightPx)("max-height",oe.imgHeightPx)("width",oe.imgWidthPx)("min-width",oe.imgWidthPx)("max-width",oe.imgWidthPx),s.Q6J("src",oe.item.url,s.LSH),s.xp6(4),s.Q6J("ngIf",oe.loadError),s.xp6(1),s.Q6J("ngIf",oe.showPrimaryLabel),s.xp6(1),s.Q6J("ngIf",oe.showSecondaryLabel))},directives:[pt.Ou,G.O5],styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:column;align-items:center;justify-content:flex-start;transform:scale(.8);transition:all .3s ease-out;will-change:transform;cursor:pointer;margin:12px 0}[_nghost-%COMP%]:not(:last-child){margin-right:16px}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:auto;max-width:60vw;object-fit:contain}[_nghost-%COMP%]   .selection-carousel-item__image-container[_ngcontent-%COMP%]{position:relative;margin-bottom:6px}[_nghost-%COMP%]   .selection-carousel-item__image-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .selection-carousel-item__image-progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .selection-carousel-item__load-error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;top:0;left:0;height:100%;width:100%;font-size:12px;text-align:center;white-space:break-spaces;color:#00b1d0}[_nghost-%COMP%]   .selection-carousel-item__label--primary[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .selection-carousel-item__label--secondary[_ngcontent-%COMP%]{font-size:12px;color:#899faa}[selected=true][_nghost-%COMP%]{transform:scale(1)}[selected=true][_nghost-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #00b1d0;border-radius:3px}[data-is-loading=true][_nghost-%COMP%]   .carousel-item__image-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:block}[data-is-loading=true][_nghost-%COMP%]   img[_ngcontent-%COMP%]{border:1px dashed #00b1d0}[data-load-error=true][selected=false][_nghost-%COMP%]   img[_ngcontent-%COMP%]{border:1px dashed #00b1d0;border-radius:2px}"],changeDetection:0}),ut})(),Rt=(()=>{class ut{constructor(){this.destroy$=new u.x}ngOnInit(){this.klass=`selection-carousel-nav-arrow selection-carousel-nav-arrow--${this.mode}`}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["selection-carousel-nav-arrow"]],hostVars:2,hostBindings:function(Ie,oe){2&Ie&&s.Tol(oe.klass)},inputs:{mode:"mode"},decls:1,vars:1,consts:[[3,"iconName"]],template:function(Ie,oe){1&Ie&&s._UZ(0,"roll-icon",0),2&Ie&&s.MGl("iconName","",oe.mode,"-arrow")},directives:[$.p],styles:["[_nghost-%COMP%]{position:absolute;height:100%;width:120px;z-index:1;color:#f3f3f3;top:0;bottom:0;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease-in-out}@media (max-width: 26.5525em){[_nghost-%COMP%]{width:80px}}[disabled=true][_nghost-%COMP%]{cursor:auto;opacity:.5}.selection-carousel-nav-arrow--previous[_nghost-%COMP%]{left:0;justify-content:flex-start;background:linear-gradient(to right,#1b1b1b 50%,rgba(27,27,27,0));text-align:left;padding-left:14px}.selection-carousel-nav-arrow--next[_nghost-%COMP%]{right:0;justify-content:flex-end;background:linear-gradient(to left,#1b1b1b 50%,rgba(27,27,27,0));text-align:right;padding-right:14px}"],changeDetection:0}),ut})();var Gt=r(5351);const Xt=function(){return{mode:"vertical centerline"}};function kt(ut,$t){if(1&ut){const Ie=s.EpF();s.ynx(0),s.TgZ(1,"snap-carousel-item",5),s.NdJ("visibilityChange",function(Qe){const $e=s.CHM(Ie).$implicit;return s.oxw().visibilityChanges$.next({event:Qe,item:$e})}),s.TgZ(2,"selection-carousel-item",6),s.NdJ("itemImageLoad",function(Qe){return s.CHM(Ie),s.oxw().onItemImageLoad(Qe)})("click",function(){const te=s.CHM(Ie).$implicit;return s.oxw().onItemClick(te)}),s.qZA()(),s.BQk()}if(2&ut){const Ie=$t.$implicit,oe=s.oxw();s.xp6(1),s.Q6J("visibility-intersect",s.DdM(6,Xt)),s.uIk("data-snap-index",Ie.index),s.xp6(1),s.Q6J("item",Ie)("imageSize",oe.imageSize)("showPrimaryLabel",oe.showPrimaryLabels)("showSecondaryLabel",oe.showSecondaryLabels)}}function qe(ut,$t){1&ut&&(s.TgZ(0,"div",7),s._UZ(1,"mat-spinner",8),s.qZA())}function me(ut,$t){1&ut&&(s.TgZ(0,"div",9)(1,"div"),s.SDv(2,10),s.qZA()())}let ce=(()=>{class ut{constructor(Ie){this.elemRef=Ie,this.showPrimaryLabels=!1,this.showSecondaryLabels=!1,this.canAlphaNav=!1,this.visibilityChanges$=new u.x,this.destroy$=new u.x,this.selectedIdx=0,this.scrollPending=!1,this.scrollDuration=300,this.firstScroll=!0,this.imageSize=80,this.busy=!1,this.loading=!1,this.enterKey=new s.vpe,this.selectionChange=new s.vpe}set items(Ie){!Ie||(Ie=Ie.map(oe=>{var Qe;oe.alpha=null===(Qe=oe.alpha)||void 0===Qe?void 0:Qe.substring(0,1).toLocaleLowerCase(),oe.alpha&&(this.canAlphaNav=!0),oe.primaryLabel&&(this.showPrimaryLabels=!0),oe.secondaryLabel&&(this.showSecondaryLabels=!0);const te=oe.width&&oe.height?oe.width/oe.height:1;return oe.height=this.imageSize,oe.width=this.imageSize*te,oe}),this._items=Ie)}get items(){return this._items}onKeyup(Ie){switch(Ie.key){case"ArrowRight":Ie.shiftKey?this.tail():this.next();break;case"ArrowLeft":Ie.shiftKey?this.head():this.prev();break;case"Enter":this.enterKey.emit();break;default:const oe=/Numpad(\d)|Digit(\d)/.exec(Ie.code);if(oe){let te=parseInt(oe[1]||oe[2],10);te==te&&(te=te||10,this.skip(te,!Ie.shiftKey))}else Ie.code.startsWith("Key")&&this.canAlphaNav&&this.skipToAlpha(Ie.key.toLowerCase(),!Ie.shiftKey)}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onItemImageLoad(Ie){Ie.selected&&!this.selectedItem&&this.setSelection(Ie)}onItemClick(Ie){Ie!==this.selectedItem&&this.setSelection(Ie)}allowNext(){var Ie;return!this.busy&&this.selectedIdx<((null===(Ie=this.items)||void 0===Ie?void 0:Ie.length)||0)-1}next(){this.allowNext()&&this.setSelection(this.items[this.selectedIdx+1])}allowPrev(){return!this.busy&&this.selectedIdx>0}prev(){this.allowPrev()&&this.setSelection(this.items[this.selectedIdx-1])}head(){this.allowPrev()&&this.setSelection(this.items[0])}tail(){const Ie=this.items.length-1;this.allowNext()&&this.setSelection(this.items[Ie])}skip(Ie,oe){const Qe=oe?Math.min(this.items.length-1,this.selectedIdx+Ie):Math.max(0,this.selectedIdx-Ie);this.setSelection(this.items[Qe])}skipToAlpha(Ie,oe=!0){const Qe=this.items.filter(te=>Ie===te.alpha);if(Qe.length){const te=Qe.indexOf(this.selectedItem);this.setSelection(oe?te>-1&&te<Qe.length-1?Qe[te+1]:Qe.shift():te>0?Qe[te-1]:Qe.pop())}}setSelection(Ie,oe=!0){var Qe;this.scrollPending||(this.selectedItem&&(this.selectedItem.selected=!1),Ie.selected=!0,this.selectedItem=Ie,this.selectedIdx=this.items.indexOf(Ie),oe&&this.scrollItemToCenter(Ie),null===(Qe=this.selectionChange)||void 0===Qe||Qe.emit(Ie))}scrollItemToCenter(Ie){const oe=this.elemRef.nativeElement.querySelector(`[data-snap-index='${null==Ie?void 0:Ie.index}']`);if(oe){this.scrollPending=!0,setTimeout(()=>this.scrollPending=!1,this.scrollDuration);const Qe=this.firstScroll?{inline:"center"}:{behavior:"smooth",inline:"center"};window.requestAnimationFrame(()=>oe.scrollIntoView(Qe))}this.firstScroll&&this.visibilityChanges$.pipe((0,E.R)(this.destroy$),(0,X.h)(()=>!this.scrollPending),(0,X.h)(Qe=>Qe.event.visible),(0,de.b)(2*this.scrollDuration),(0,e.b)(Qe=>this.setSelection(Qe.item,!1))).subscribe(),this.firstScroll=!1}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(s.SBq))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["selection-carousel"]],hostBindings:function(Ie,oe){1&Ie&&s.NdJ("keyup",function(te){return oe.onKeyup(te)},!1,s.evT)},inputs:{imageSize:"imageSize",busy:"busy",loading:"loading",scrollAnchorId:"scrollAnchorId",items:"items"},outputs:{enterKey:"enterKey",selectionChange:"selectionChange"},decls:7,vars:8,consts:function(){let $t;return $t=$localize`:42ddb93816875c1ce07180261ee2dcb9463e90e68762211213954018453:No alternative images are available. You can upload images ...`,[[4,"ngFor","ngForOf","ngForTrackBy"],["class","selection-carousel__overlay selection-carousel__overlay--spinner",4,"ngIf"],["class","selection-carousel__overlay selection-carousel__--no-items",4,"ngIf"],["mode","previous",3,"click"],["mode","next",3,"click"],[3,"visibility-intersect","visibilityChange"],[3,"item","imageSize","showPrimaryLabel","showSecondaryLabel","itemImageLoad","click"],[1,"selection-carousel__overlay","selection-carousel__overlay--spinner"],["diameter","48"],[1,"selection-carousel__overlay","selection-carousel__--no-items"],$t]},template:function(Ie,oe){1&Ie&&(s.TgZ(0,"snap-carousel"),s.YNc(1,kt,3,7,"ng-container",0),s.ALo(2,"trackByProperty"),s.qZA(),s.YNc(3,qe,2,0,"div",1),s.YNc(4,me,3,0,"div",2),s.TgZ(5,"selection-carousel-nav-arrow",3),s.NdJ("click",function(){return oe.prev()}),s.qZA(),s.TgZ(6,"selection-carousel-nav-arrow",4),s.NdJ("click",function(){return oe.next()}),s.qZA()),2&Ie&&(s.xp6(1),s.Q6J("ngForOf",oe.items)("ngForTrackBy",s.lcZ(2,6,"index")),s.xp6(2),s.Q6J("ngIf",oe.busy||oe.loading),s.xp6(1),s.Q6J("ngIf",!oe.loading&&oe.items&&!oe.items.length),s.xp6(1),s.uIk("disabled",!oe.allowPrev()),s.xp6(1),s.uIk("disabled",!oe.allowNext()))},directives:[ge,G.sg,se,Re.N,Ze,G.O5,pt.Ou,Rt],pipes:[Gt.$],styles:["[_nghost-%COMP%]{display:block;background:#1b1b1b;color:#fff;width:100%;max-width:100%;min-height:80px;overflow:hidden;position:relative}[_nghost-%COMP%]   .selection-carousel__overlay[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.5)}"],changeDetection:0}),ut})();function Y(ut,$t){if(1&ut){const Ie=s.EpF();s.TgZ(0,"mat-checkbox",14,15),s.NdJ("ngModelChange",function(Qe){return s.CHM(Ie),s.oxw().model.sync=Qe}),s.SDv(2,16),s.ALo(3,"async"),s.qZA()}if(2&ut){const Ie=s.oxw();s.Q6J("disabled",!Ie.selectedCarouselItem||s.lcZ(3,2,Ie.busy$))("ngModel",Ie.model.sync)}}function we(ut,$t){if(1&ut){const Ie=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){return s.CHM(Ie),s.oxw().remove()}),s.ALo(1,"async"),s._UZ(2,"roll-icon",18),s.TgZ(3,"span",6),s.SDv(4,19),s.qZA()()}if(2&ut){const Ie=s.oxw();s.Q6J("disabled",s.lcZ(1,1,Ie.busy$))}}let be=(()=>{class ut{constructor(Ie,oe,Qe,te,$e,At,Jt,on,Ln,Bn,Hi){this.actions$=Ie,this.uiSvc=oe,this.logger=Qe,this.confirmImageRemoveDlgSvc=te,this.mediaServiceSvc=$e,this.metaSvc=At,this.imagesSvc=Jt,this.entitySvc=on,this.myStuffSvc=Ln,this.sheetRef=Bn,this.data=Hi,this.maxSizeBytes=g.T,this.maxSizeMB=this.maxSizeBytes/1e6,this.supportedImageTypes=g.d,this.applicable$=new a.X(!1),this.destroy$=new u.x,this.dismissed$=new u.x,this.working$=new a.X(!1),this.persisted=!1,this.model={sync:!1},this.canSync$=this.myStuffSvc.canSyncToSource(this.data.entity),this.isLoading$=this.imagesSvc.loadingImages$(this.data.entity),this.carouselItems$=this.imagesSvc.loadImages$(this.data.entity).pipe((0,d.q)(1),(0,h.d)(1),(0,_.U)(Di=>Di.map((wn,qi)=>({index:qi,url:wn.thumb_url,height:wn.thumb_height,width:wn.thumb_width,selected:wn.thumb_url===this.data.entity.image_info.thumb_url,data:wn}))),(0,e.b)(Di=>{if(Di.length){let wn=0,qi=Di.find((Ci,Go)=>!!Ci.selected&&(wn=Go,!0));qi?wn>0&&(qi=Di[wn],Di[wn]=Di[0],Di[0]=qi):Di[0].selected=!0}})),this.busy$=(0,v.a)([this.isLoading$,this.working$]).pipe((0,E.R)(this.destroy$),(0,_.U)(([Di,wn])=>Di||wn)),this.applyDisabled$=(0,v.a)([this.busy$,this.applicable$]).pipe((0,E.R)(this.destroy$),(0,_.U)(([Di,wn])=>Di||!wn)),this.metaSvc.isEntity(this.data.entity)||this.dismiss()}onKeyup(Ie){"Enter"===Ie.key&&this.apply()}ngOnInit(){this.sheetRef.afterDismissed().pipe((0,E.R)(this.destroy$),(0,e.b)(()=>{var Ie;this.working$.next(!1),this.persisted||(this.entitySvc.update(Object.assign({token:this.data.entity.token,image_info:this.data.entity.image_info},this.metaSvc.imageClassUpdateObject(this.data.entity,this.metaSvc.imageClass(this.data.entity),!1,!0)),{persistToServer:!1}).subscribe(),null===(Ie=this.entitySvc.get(this.data.entity.token))||void 0===Ie||Ie.subscribe()),this.dismissed$.next(!0),this.dismissed$.complete(),this.uiSvc.updateImageSelectionOpenFor(null)})).subscribe(),this.uiSvc.updateImageSelectionOpenFor(this.data.entity.token)}ngOnDestroy(){this.dismissed$.pipe((0,d.q)(1),(0,e.b)(()=>{this.destroy$.next(!0),this.destroy$.complete()})).subscribe()}dismiss(){this.sheetRef.dismiss()}apply(){this.working$.next(!0),this.handleUserChoice("apply()",this.mediaServiceSvc.createFromUrl(this.selectedCarouselItem.url).pipe((0,f.w)(Ie=>this.entitySvc.update(Object.assign({token:this.data.entity.token,image_token:Ie.token,image_url:Ie.full_url,sync_to_source:this.model.sync,focal_point_x:this.data.entity.image_info.focal_point_x,focal_point_y:this.data.entity.image_info.focal_point_y},this.metaSvc.imageClassUpdateObject(this.data.entity,this.metaSvc.imageClass(this.data.entity),!0))))))}remove(){this.handleUserChoice("remove()",this.confirmImageRemoveDlgSvc.open({entity:this.data.entity,sync_to_source:this.model.sync}).afterClosed().pipe((0,f.w)(Ie=>Ie?this.entitySvc.removeImage(this.data.entity.token,this.model.sync):p.E)))}get allowRemoveImage(){return this.metaSvc.hasImage(this.data.entity)&&!this.metaSvc.isAudioOrVideo(this.data.entity)}onCarouselSelectionChange(Ie){this.selectedCarouselItem=Ie,this.applicable$.next(!!Ie&&(this.model.sync||Ie.data.image_thumb_url!==this.data.entity.image_info.thumb_url)),this.entitySvc.update(Object.assign({token:this.data.entity.token,image_info:Ie.data},this.metaSvc.imageClassUpdateObject(this.data.entity,this.metaSvc.imageClass(this.data.entity),!0)),{persistToServer:!1}).subscribe()}onUploadFileSelection(Ie){this.logger.debug("ImageSelectSheetComponent.onUploadFileSelection",Ie);const oe=Ie.item(0);this.uploadImage(oe)}uploadImage(Ie){this.handleUserChoice("uploadImage()",this.mediaServiceSvc.uploadImage(Ie).pipe((0,f.w)(oe=>this.entitySvc.update(Object.assign({token:this.data.entity.token,image_token:oe.token,sync_to_source:this.model.sync},this.metaSvc.imageClassUpdateObject(this.data.entity,this.metaSvc.imageClass(this.data.entity),!0))))))}handleUserChoice(Ie,oe){this.working$.next(!0),oe.pipe((0,e.b)(Qe=>{this.logger.debug(`ImageSelectSheetComponent.${Ie} result`,Qe),this.persisted=!0,this.dismiss()}),(0,e.b)(Qe=>{"completed"!==Qe.image_info.status&&this.actions$.dispatch(c.m.incompleteEntityImageDetected(Qe))}),(0,y.x)(()=>this.working$.next(!1))).subscribe()}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(C.eX),s.Y36(b.HL),s.Y36(A.m),s.Y36(I.B1),s.Y36(D.I),s.Y36(O.Gl),s.Y36(b.CM),s.Y36(b.N5),s.Y36(S.L),s.Y36(o.oL),s.Y36(o.OG))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["image-select-sheet"]],hostBindings:function(Ie,oe){1&Ie&&s.NdJ("keyup",function(te){return oe.onKeyup(te)},!1,s.evT)},decls:22,vars:25,consts:function(){let $t,Ie,oe,Qe,te,$e;return $t=$localize`:@@changeImage4743793372ff4910d653cd5c4d5ed1f285d348564532619958456819030:Change image`,Ie=$localize`:@@upload4b3972c3e9485218508a95f7a4ce7758e3f09ced6932865105766151309:Upload`,oe=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,Qe=$localize`:@@applyc2d0ac9f528bbd5f53fd34269fde8b59e029621b4391289919356861627:Apply`,te=$localize`:@@syncToMyStuff13aab241df9dae515013295e6f297114f768fa087321335843028737187:Sync to MyStuff`,$e=$localize`:@@remove019d4bd6a5690f0cfa0ecf346a4e6bf7f0d8debb4814285799071780083:Remove`,[["topbar-title",""],$t,["topbar-option","","name","syncCheckbox","color","primary",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["topbar-middle","","mat-button","","color","primary",3,"disabled","click",4,"ngIf"],["topbar-middle","","mat-button","","color","primary",1,"upload-button",3,"disabled"],["iconName","upload"],[1,"action-button-label"],Ie,["multiple","false",3,"accept","maxSize","selection"],["topbar-right","","mat-stroked-button","","color","primary",3,"disabled","click"],oe,["topbar-right","","mat-flat-button","","color","primary",3,"disabled","click"],Qe,[3,"busy","loading","items","scrollAnchorId","enterKey","selectionChange"],["topbar-option","","name","syncCheckbox","color","primary",3,"disabled","ngModel","ngModelChange"],["syncCheckbox",""],te,["topbar-middle","","mat-button","","color","primary",3,"disabled","click"],["iconName","delete-image"],$e]},template:function(Ie,oe){1&Ie&&(s.TgZ(0,"carousel-sheet-topbar")(1,"div",0),s.SDv(2,1),s.qZA(),s.YNc(3,Y,4,4,"mat-checkbox",2),s.ALo(4,"async"),s.YNc(5,we,5,3,"button",3),s.TgZ(6,"button",4),s.ALo(7,"async"),s._UZ(8,"roll-icon",5),s.TgZ(9,"span",6),s.SDv(10,7),s.qZA(),s.TgZ(11,"file-picker",8),s.NdJ("selection",function(te){return oe.onUploadFileSelection(te)}),s.qZA()(),s.TgZ(12,"button",9),s.NdJ("click",function(){return oe.dismiss()}),s.SDv(13,10),s.ALo(14,"async"),s.qZA(),s.TgZ(15,"button",11),s.NdJ("click",function(){return oe.apply()}),s.SDv(16,12),s.ALo(17,"async"),s.qZA()(),s.TgZ(18,"selection-carousel",13),s.NdJ("enterKey",function(){return oe.apply()})("selectionChange",function(te){return oe.onCarouselSelectionChange(te)}),s.ALo(19,"async"),s.ALo(20,"async"),s.ALo(21,"async"),s.qZA()),2&Ie&&(s.xp6(3),s.Q6J("ngIf",s.lcZ(4,11,oe.canSync$)),s.xp6(2),s.Q6J("ngIf",oe.allowRemoveImage),s.xp6(1),s.Q6J("disabled",s.lcZ(7,13,oe.busy$)),s.xp6(5),s.Q6J("accept",oe.supportedImageTypes)("maxSize",oe.maxSizeBytes),s.xp6(1),s.Q6J("disabled",s.lcZ(14,15,oe.busy$)),s.xp6(3),s.Q6J("disabled",s.lcZ(17,17,oe.applyDisabled$)),s.xp6(3),s.Q6J("busy",s.lcZ(19,19,oe.busy$))("loading",s.lcZ(20,21,oe.isLoading$))("items",s.lcZ(21,23,oe.carouselItems$))("scrollAnchorId",oe.data.entity.token))},directives:[R,G.O5,k.oG,V.JJ,V.On,ne.lW,$.p,q.P,ce],pipes:[G.Ov],styles:["[_nghost-%COMP%]   button[_ngcontent-%COMP%]   roll-icon[_ngcontent-%COMP%]{margin:0 6px}"],changeDetection:0}),ut})();var Me=r(2859);let ze=(()=>{class ut{constructor(Ie){this.sheetSvc=Ie}open(Ie){return this.sheetSvc.open(be,{panelClass:["carousel-select-sheet","carousel-select-sheet--image-select"],data:Ie})}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.LFG(Me.q))},ut.\u0275prov=s.Yz7({token:ut,factory:ut.\u0275fac}),ut})();var mt=r(3641),vt=r(348),Lt=r(6538);let Bt=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({imports:[[G.ez,mt.X]]}),ut})();var an=r(5020),Kt=r(7033);let gt=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({imports:[[G.ez,pt.Cq,Kt.s]]}),ut})();var xt=r(1594);let Nt=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({imports:[[G.ez,pt.Cq,mt.X,gt,an.Md,xt.h,Bt]]}),ut})(),Ke=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({imports:[[G.ez]]}),ut})(),Et=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({providers:[ze],imports:[[G.ez,V.u5,o._r,ne.ot,k.p9,Lt.Tx,pt.Cq,Nt,vt.C,mt.X,Ke]]}),ut})();var et=r(8478),nt=r(7389),Be=r(5113);function Ce(ut,$t){if(1&ut){const Ie=s.EpF();s.TgZ(0,"mat-checkbox",8,9),s.NdJ("ngModelChange",function(Qe){return s.CHM(Ie),s.oxw().model.applyToAll=Qe}),s.SDv(2,10),s.ALo(3,"async"),s.qZA()}if(2&ut){const Ie=s.oxw();s.Q6J("disabled",s.lcZ(3,2,Ie.busy$)||!Ie.selectedCarouselItem)("ngModel",Ie.model.applyToAll)}}let ke=(()=>{class ut{constructor(Ie,oe,Qe,te,$e,At,Jt,on,Ln){this.dsmaSvc=Ie,this.logger=oe,this.updateSvc=Qe,this.themesQuery=te,this.layoutSvc=$e,this.mediaMatcher=At,this.metaSvc=Jt,this.sheetRef=on,this.data=Ln,this.applyDisabled$=new a.X(!0),this.busy$=new a.X(!1),this.model={applyToAll:!1},this.applicable$=new a.X(!1),this.destroy$=new u.x,this.dismissed$=new u.x,this.persisted=!1,this.metaSvc.isEntity(this.data.entity)||this.dismiss()}ngOnInit(){this.mediaMatcher.matchMedia(`(max-width: ${et.bb.MOBILE_L})`).matches&&this.dsmaSvc.showDialog(nt.BM.MobileImageSizeWarn,$localize`Image size on mobile devices`,$localize`Due to image optimizations on smaller screens, changes in image size may appear to have no effect. Your changes will be saved and reflected on larger screens.`),this.sheetRef.afterDismissed().pipe((0,E.R)(this.destroy$),(0,e.b)(()=>{if(this.busy$.next(!1),!this.persisted){const Ie=this.themesQuery.getMappedEntityImageClass(this.data.entity,!0),oe=this.getUpdateObject(Ie,!0);this.updateSvc.update(oe,{persistToServer:!1}).subscribe()}this.dismissed$.next(!0),this.dismissed$.complete()})).subscribe(),(0,v.a)([this.busy$,this.applicable$]).pipe((0,E.R)(this.destroy$),(0,e.b)(([Ie,oe])=>this.applyDisabled$.next(Ie||!oe))).subscribe()}ngAfterViewInit(){let Ie=-1;this.carouselItems=this.themesQuery.getAllowedImageClasses(this.data.entity).filter(oe=>oe!==b.u9.NO_IMAGE||!this.metaSvc.isImage(this.data.entity)).map(oe=>({index:++Ie,url:`/assets/img/image-size/${oe}.png`,height:96,width:96,selected:oe===this.metaSvc.imageClass(this.data.entity),primaryLabel:this.getPrimaryLabel(oe),data:oe}))}ngOnDestroy(){this.dismissed$.pipe((0,d.q)(1),(0,e.b)(()=>{this.destroy$.next(!0),this.destroy$.complete()})).subscribe()}get allowApplyAll(){return this.metaSvc.isItem(this.data.entity)}dismiss(){this.sheetRef.dismiss()}apply(){if(this.applyDisabled$.getValue())return;this.busy$.next(!0);const Ie=Object.assign(Object.assign({},this.getUpdateObject(this.selectedCarouselItem.data)),{apply_image_class_to_all_items:this.model.applyToAll});this.updateSvc.update(Ie,{showWarnings:!0}).pipe((0,e.b)(oe=>{this.logger.debug("Image Size Sheet update result",oe),this.persisted=!0,this.dismiss()}),(0,e.b)(oe=>{this.metaSvc.isItem(oe)&&this.layoutSvc.processLayoutUpdates(oe)}),(0,y.x)(()=>this.logger.debug("ImageSizeSheetData update finalize"))).subscribe()}onCarouselSelectionChange(Ie){this.selectedCarouselItem=Ie,this.applicable$.next(!!Ie&&(this.model.applyToAll||Ie.data!==this.metaSvc.imageClass(this.data.entity)));const oe=this.getUpdateObject(this.selectedCarouselItem.data);this.updateSvc.update(oe,{persistToServer:!1}).subscribe()}getPrimaryLabel(Ie){switch(Ie){case"cover":return $localize`:@@large:Large`;case"contain":return $localize`:@@medium:Medium`;case"stamp":return $localize`:@@small:Small`;default:return $localize`:@@hideImage:Hide image`}}getUpdateObject(Ie,oe=!1){return Object.assign({token:this.data.entity.token},this.metaSvc.imageClassUpdateObject(this.data.entity,Ie,!1,oe))}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(nt.ii),s.Y36(A.m),s.Y36(b.N5),s.Y36(b.ns),s.Y36(b._O),s.Y36(Be.vx),s.Y36(O.Gl),s.Y36(o.oL),s.Y36(o.OG))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["image-size-sheet"]],decls:11,vars:9,consts:function(){let $t,Ie,oe,Qe;return $t=$localize`:@@imageSizec2f4ff651147131166bc5d0350fbc2581095ddde7563180972568210268:Image size`,Ie=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,oe=$localize`:@@applyc2d0ac9f528bbd5f53fd34269fde8b59e029621b4391289919356861627:Apply`,Qe=$localize`:@@applyToAllItemsInSection86af2f2d4770f3ff16210c6001fe5d95752419811922779462498438684:Apply to all items in section?`,[["topbar-title",""],$t,["topbar-option","","name","applyToAllCheckbox","color","primary",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["topbar-right","","mat-stroked-button","","color","primary",3,"click"],Ie,["topbar-right","","mat-flat-button","","color","primary",3,"disabled","click"],oe,[3,"busy","items","scrollAnchorId","enterKey","selectionChange"],["topbar-option","","name","applyToAllCheckbox","color","primary",3,"disabled","ngModel","ngModelChange"],["applyToAllCheckbox",""],Qe]},template:function(Ie,oe){1&Ie&&(s.TgZ(0,"carousel-sheet-topbar")(1,"div",0),s.SDv(2,1),s.qZA(),s.YNc(3,Ce,4,4,"mat-checkbox",2),s.TgZ(4,"button",3),s.NdJ("click",function(){return oe.dismiss()}),s.SDv(5,4),s.qZA(),s.TgZ(6,"button",5),s.NdJ("click",function(){return oe.apply()}),s.SDv(7,6),s.ALo(8,"async"),s.qZA()(),s.TgZ(9,"selection-carousel",7),s.NdJ("enterKey",function(){return oe.apply()})("selectionChange",function(te){return oe.onCarouselSelectionChange(te)}),s.ALo(10,"async"),s.qZA()),2&Ie&&(s.xp6(3),s.Q6J("ngIf",oe.allowApplyAll),s.xp6(3),s.Q6J("disabled",s.lcZ(8,5,oe.applyDisabled$)),s.xp6(3),s.Q6J("busy",s.lcZ(10,7,oe.busy$))("items",oe.carouselItems)("scrollAnchorId",oe.data.entity.token))},directives:[R,G.O5,k.oG,V.JJ,V.On,ne.lW,ce],pipes:[G.Ov],styles:[""]}),ut})(),ve=(()=>{class ut{constructor(Ie){this.sheetSvc=Ie}open(Ie){return this.sheetSvc.open(ke,{panelClass:["carousel-select-sheet","carousel-select-sheet--image-size-select"],data:Ie})}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.LFG(Me.q))},ut.\u0275prov=s.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),ae=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({providers:[ve],imports:[[G.ez,V.u5,o._r,ne.ot,k.p9,Lt.Tx,pt.Cq,Nt,vt.C,mt.X,Ke]]}),ut})();var K=r(8382),Ee=r(9646);function he(ut,$t){1&ut&&(s.TgZ(0,"div",9),s.SDv(1,10),s.qZA())}function Fe(ut,$t){1&ut&&(s.TgZ(0,"div",9),s.SDv(1,11),s.qZA())}function Xe(ut,$t){1&ut&&(s.TgZ(0,"span"),s.SDv(1,12),s.qZA())}function _t(ut,$t){1&ut&&(s.TgZ(0,"span"),s.SDv(1,13),s.qZA())}let zt=(()=>{class ut{constructor(Ie,oe,Qe,te,$e,At,Jt,on){this.layoutSvc=Ie,this.logger=oe,this.themesQuery=Qe,this.uiQuery=te,this.updateSvc=$e,this.metaSvc=At,this.sheetRef=Jt,this.data=on,this.layoutLabels={default:{primary:$localize`:@@normal:Normal`},carousel:{primary:$localize`:@@carousel:Carousel`},compact:{primary:$localize`:@@compact:Compact`},float:{primary:$localize`:@@float:Float`},floatleft:{primary:$localize`:@@floatLeft:Float left`},floatright:{primary:$localize`:@@floatRight:Float right`},gallery:{primary:$localize`:@@gallery:Gallery`},list:{primary:$localize`:@@list:List`}},this.applyDisabled$=new a.X(!0),this.busy$=new a.X(!1),this.model={applyToAll:!1},this.applicable$=new a.X(!1),this.destroy$=new u.x,this.dismissed$=new u.x,this.persisted=!1,this.metaSvc.isItemOrSection(this.data.entity)||this.dismiss()}ngOnInit(){this.sheetRef.afterDismissed().pipe((0,E.R)(this.destroy$),(0,f.w)(Ie=>(0,K.s)(()=>!this.persisted,this.updateSvc.update(this.getUpdatePartial(this.data.entity.layout.id),{persistToServer:!1}),(0,Ee.of)(Ie))),(0,e.b)(()=>{this.busy$.next(!1),this.dismissed$.next(!0),this.dismissed$.complete()})).subscribe(),(0,v.a)([this.busy$,this.applicable$]).pipe((0,E.R)(this.destroy$),(0,e.b)(([Ie,oe])=>this.applyDisabled$.next(Ie||!oe))).subscribe()}ngAfterViewInit(){let Ie=-1;this.carouselItems=this.themesQuery.getAllowedLayouts(this.data.entity).map(oe=>{const Qe=oe.toLowerCase().split("."),te=this.layoutLabels[`${Qe[2]}`]||{};return{index:++Ie,url:`/assets/img/${Qe[0]}/${Qe[1]}/${Qe[2]}.png`,selected:oe===this.metaSvc.layoutId(this.data.entity),data:oe,primaryLabel:te.primary||"",secondaryLabel:te.secondary||""}})}ngOnDestroy(){this.dismissed$.pipe((0,d.q)(1),(0,e.b)(()=>{this.destroy$.next(!0),this.destroy$.complete()})).subscribe()}dismiss(){this.sheetRef.dismiss()}apply(){if(this.applyDisabled$.getValue())return;let Ie;this.busy$.next(!0),Ie=this.isSection&&this.model.applyToAll?this.bulkLayout$():this.singleUpdate$(),Ie.pipe((0,y.x)(()=>{this.persisted=!0,this.dismiss()})).subscribe()}bulkLayout$(){return this.layoutSvc.update$({token:this.uiQuery.getRollId(),section_layout:this.selectedCarouselItem.data}).pipe((0,e.b)(Ie=>this.logger.debug("LayoutSheetComponent bulk layout result",Ie)),(0,y.x)(()=>this.logger.debug("LayoutSheetComponent bulk layout finalized")))}singleUpdate$(){const Ie=Object.assign(Object.assign({},this.getUpdatePartial()),{apply_layout_to_all_items:this.model.applyToAll});return this.updateSvc.update(Ie,{showWarnings:!0}).pipe((0,e.b)(oe=>this.logger.debug("LayoutSheetComponent single update result",oe)),(0,y.x)(()=>this.logger.debug("LayoutSheetComponent single update finalized")))}get isItem(){return this.metaSvc.isItem(this.data.entity)}get isSection(){return this.metaSvc.isSection(this.data.entity)}onCarouselSelectionChange(Ie){this.selectedCarouselItem=Ie,this.updateSvc.update(this.getUpdatePartial(),{persistToServer:!1}).subscribe(),this.applicable$.next(!!Ie&&(this.model.applyToAll||Ie.data!==this.data.entity.layout.id))}getUpdatePartial(Ie){const oe=Ie||this.selectedCarouselItem.data;return{token:this.data.entity.token,layout:Object.assign(Object.assign({},this.data.entity.layout),{id:oe})}}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(b._O),s.Y36(A.m),s.Y36(b.ns),s.Y36(b.YU),s.Y36(b.N5),s.Y36(O.Gl),s.Y36(o.oL),s.Y36(o.OG))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["layout-sheet"]],decls:14,vars:13,consts:function(){let $t,Ie,oe,Qe,te,$e;return $t=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,Ie=$localize`:@@applyc2d0ac9f528bbd5f53fd34269fde8b59e029621b4391289919356861627:Apply`,oe=$localize`:@@tileLayout9bf340674df3ea2f0305a2b6f417f8b155fa1acb5392437461582536095:Tile layout`,Qe=$localize`:@@sectionLayout88850c2fde21b9ffe5728f78947e296ce2fdf5113873315865165433543:Section layout`,te=$localize`:abe67ce6ca6223846463b7fafc6c34b2dbe95eaa1943299134263717861:Apply to all items in section`,$e=$localize`:573d8e27b0d6936e3a7ae14c6bad1829e0408b238108024948386406289:Apply to all sections in roll`,[["topbar-title","",4,"ngIf"],["topbar-option","","color","primary",3,"ngModel","ngModelChange"],[4,"ngIf"],["topbar-middle",""],["topbar-right","","mat-stroked-button","","color","primary",3,"click"],$t,["topbar-right","","mat-flat-button","","color","primary",3,"disabled","click"],Ie,[3,"busy","items","scrollAnchorId","enterKey","selectionChange"],["topbar-title",""],oe,Qe,te,$e]},template:function(Ie,oe){1&Ie&&(s.TgZ(0,"carousel-sheet-topbar"),s.YNc(1,he,2,0,"div",0),s.YNc(2,Fe,2,0,"div",0),s.TgZ(3,"mat-checkbox",1),s.NdJ("ngModelChange",function(te){return oe.model.applyToAll=te}),s.YNc(4,Xe,2,0,"span",2),s.YNc(5,_t,2,0,"span",2),s.qZA(),s._UZ(6,"div",3),s.TgZ(7,"button",4),s.NdJ("click",function(){return oe.dismiss()}),s.SDv(8,5),s.qZA(),s.TgZ(9,"button",6),s.NdJ("click",function(){return oe.apply()}),s.SDv(10,7),s.ALo(11,"async"),s.qZA()(),s.TgZ(12,"selection-carousel",8),s.NdJ("enterKey",function(){return oe.apply()})("selectionChange",function(te){return oe.onCarouselSelectionChange(te)}),s.ALo(13,"async"),s.qZA()),2&Ie&&(s.xp6(1),s.Q6J("ngIf",oe.isItem),s.xp6(1),s.Q6J("ngIf",oe.isSection),s.xp6(1),s.Q6J("ngModel",oe.model.applyToAll),s.xp6(1),s.Q6J("ngIf",oe.isItem),s.xp6(1),s.Q6J("ngIf",oe.isSection),s.xp6(4),s.Q6J("disabled",s.lcZ(11,9,oe.applyDisabled$)),s.xp6(3),s.Q6J("busy",s.lcZ(13,11,oe.busy$))("items",oe.carouselItems)("scrollAnchorId",oe.data.entity.token))},directives:[R,G.O5,k.oG,V.JJ,V.On,ne.lW,ce],pipes:[G.Ov],styles:[""]}),ut})(),yt=(()=>{class ut{constructor(Ie){this.sheetSvc=Ie}open(Ie){return this.sheetSvc.open(zt,{panelClass:["carousel-select-sheet","carousel-select-sheet--layout-select"],data:Ie})}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.LFG(Me.q))},ut.\u0275prov=s.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),at=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({providers:[yt],imports:[[G.ez,V.u5,o._r,ne.ot,k.p9,Lt.Tx,pt.Cq,Nt,vt.C,mt.X,Ke]]}),ut})();var rt=r(1884),Ct=r(5684),Ut=r(5390),tn=r(7460),ln=r(1307),On=r(1314),Gn=r(8966),pi=r(3608),jn=r(532);const yi=["baseInput"],Yn=["contrastInput"],Oi=["sampleSwatch"];function Zn(ut,$t){if(1&ut){const Ie=s.EpF();s.TgZ(0,"div",14)(1,"div",15),s.SDv(2,16),s.qZA(),s.TgZ(3,"span",17),s.NdJ("click",function(){return s.CHM(Ie),s.oxw().dismissDsma()}),s.SDv(4,18),s.qZA()()}}let nn=(()=>{class ut{constructor(Ie,oe,Qe,te){this.themesQuery=Ie,this.customPaletteSvc=oe,this.dsmaSvc=Qe,this.data=te,this.showDsma$=this.dsmaSvc.shouldShow$(nt.BM.CustomPaletteScroll)}get baseInput(){return this._baseInput}set baseInput(Ie){this._baseInput=Ie,Ie.nativeElement.style.background=`var(--palette__${this.data.swatch.id})`}get contrastInput(){return this._contrastInput}set contrastInput(Ie){this._contrastInput=Ie,Ie.nativeElement.style.background=`var(--palette__${this.data.swatch.id}__contrast)`}set sampleSwatch(Ie){Ie.nativeElement.style.background=`var(--palette__${this.data.swatch.id})`,Ie.nativeElement.style.color=`var(--palette__${this.data.swatch.id}__contrast)`}ngOnInit(){const Ie=getComputedStyle(window.document.documentElement),oe=Ie.getPropertyValue(`--palette__${this.data.swatch.id}`).trim();this.baseColor=new pi(oe);const Qe=Ie.getPropertyValue(`--palette__${this.data.swatch.id}__contrast`).trim();this.contrastColor=new pi(Qe),this.usageMeta=this.themesQuery.getActive().swatch_usage_meta[this.data.swatch.id]}onColorChange(Ie){const Qe=Ie.target.value;Ie.target===this.baseInput.nativeElement?this.baseColor=new pi(Qe):this.contrastColor=new pi(Qe);const te=this.baseColor.hex(),$e=this.contrastColor.hex(),At=Object.assign(Object.assign({},this.data.swatch),{base:te,contrast:$e});this.customPaletteSvc.modifySwatch(At)}dismissDsma(){this.dsmaSvc.markShowAgain(nt.BM.CustomPaletteScroll,!1).subscribe()}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(b.ns),s.Y36(nt.Sd),s.Y36(nt.ii),s.Y36(Gn.WI))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["swatch-edit-dialog"]],viewQuery:function(Ie,oe){if(1&Ie&&(s.Gf(yi,5),s.Gf(Yn,5),s.Gf(Oi,5)),2&Ie){let Qe;s.iGM(Qe=s.CRH())&&(oe.baseInput=Qe.first),s.iGM(Qe=s.CRH())&&(oe.contrastInput=Qe.first),s.iGM(Qe=s.CRH())&&(oe.sampleSwatch=Qe.first)}},decls:25,vars:7,consts:function(){let $t,Ie,oe,Qe,te;return $t=$localize`:@@main82421c3e46a0453a70c42900eab51d58d79e65993815928829326879804:Main`,Ie=$localize`:@@contrast62e444ea8d29ea32f2ed419a2a1d23efad9354659099744393311106892:Contrast`,oe=$localize`:@@preview3e2a583f531f7dd9f089f68a6968e444c372c3e81295614462098694869:Preview`,Qe=$localize`:@@swatchDSMAea01761d603b538f99abb94e6898b64497bec0e05991504319709366780:If you do not see the effect of the change you make, you may need to scroll to other parts of your roll, or go to a different view.`,te=$localize`:@@gotIt73930c2a2a893de488661188cdee7e22ebe020be5601530442010506564:Got it`,[[1,"swatch-edit-dialog__swatch-name"],[1,"swatch-edit-dialog__swatch-description"],[1,"swatch-edit-dialog__buttons-container"],[1,"swatch-edit-dialog__button"],["type","color",1,"swatch-edit-dialog__button-input",3,"value","input"],["baseInput",""],[1,"swatch-edit-dialog__button-label"],$t,["contrastInput",""],Ie,[1,"swatch-edit-dialog__button-input","swatch-edit-dialog__button-input--sample"],["sampleSwatch",""],oe,["class","swatch-edit-dialog__dsma",4,"ngIf"],[1,"swatch-edit-dialog__dsma"],[1,"swatch-edit-dialog__dsma__message"],Qe,[1,"swatch-edit-dialog__dsma__dismiss",3,"click"],te]},template:function(Ie,oe){1&Ie&&(s._UZ(0,"dialog-dismiss"),s.TgZ(1,"mat-dialog-content")(2,"div",0),s._uU(3),s.qZA(),s.TgZ(4,"div",1),s._uU(5),s.qZA(),s.TgZ(6,"div",2)(7,"div",3)(8,"input",4,5),s.NdJ("input",function(te){return oe.onColorChange(te)}),s.qZA(),s.TgZ(10,"div",6),s.SDv(11,7),s.qZA()(),s.TgZ(12,"div",3)(13,"input",4,8),s.NdJ("input",function(te){return oe.onColorChange(te)}),s.qZA(),s.TgZ(15,"div",6),s.SDv(16,9),s.qZA()(),s.TgZ(17,"div",3)(18,"div",10,11),s._uU(20,"Aa"),s.qZA(),s.TgZ(21,"div",6),s.SDv(22,12),s.qZA()()(),s.YNc(23,Zn,5,0,"div",13),s.ALo(24,"async"),s.qZA()),2&Ie&&(s.xp6(3),s.Oqu(oe.data.swatch.name),s.xp6(2),s.Oqu(oe.usageMeta),s.xp6(3),s.Q6J("value",oe.baseColor.hex()),s.xp6(5),s.Q6J("value",oe.contrastColor.hex()),s.xp6(10),s.Q6J("ngIf",s.lcZ(24,5,oe.showDsma$)))},directives:[jn.k,Gn.xY,G.O5],pipes:[G.Ov],styles:["[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   input[type=color][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;cursor:pointer;border:1px solid rgba(0,0,0,.4)!important;border-image:none!important;padding:0!important}[_nghost-%COMP%]   input[type=color][_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:0!important}[_nghost-%COMP%]   input[type=color][_ngcontent-%COMP%]::-webkit-color-swatch{border:none!important}[_nghost-%COMP%]   .swatch-edit-dialog__swatch-name[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .swatch-edit-dialog__swatch-description[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .swatch-edit-dialog__buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;margin-top:12px}[_nghost-%COMP%]   .swatch-edit-dialog__button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .swatch-edit-dialog__button[_ngcontent-%COMP%]:not(:last-child){margin-right:1.25rem}[_nghost-%COMP%]   .swatch-edit-dialog__button-input[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.4)!important;height:3.25rem;width:3.25rem;border-radius:999px;overflow:hidden;box-sizing:border-box}[_nghost-%COMP%]   .swatch-edit-dialog__button-input--sample[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:auto;font: 500 2rem Roboto;letter-spacing:0;padding:0 20px}[_nghost-%COMP%]   .swatch-edit-dialog__button-label[_ngcontent-%COMP%]{font-size:max(12px,.8rem);margin-top:.5rem}[_nghost-%COMP%]   .swatch-edit-dialog__dsma[_ngcontent-%COMP%]{margin-top:24px;padding:12px;border:1px solid lightgrey;border-radius:5px;display:flex;flex-direction:column;align-items:flex-end}[_nghost-%COMP%]   .swatch-edit-dialog__dsma__dismiss[_ngcontent-%COMP%]{cursor:pointer;color:#00b1d0;white-space:nowrap}@media (pointer: fine){[_nghost-%COMP%]   .swatch-edit-dialog__dsma__dismiss[_ngcontent-%COMP%]:hover{text-decoration:underline}}"]}),ut})();var yn=r(7633);let zn=(()=>{class ut{constructor(Ie){this.dialogSvc=Ie}open(Ie){return this.dialogSvc.open(nn,{panelClass:"roll-dialog--palette-swatch-edit",backdropClass:"opacity-0",closeOnNavigation:!0,disableClose:!0,hasBackdrop:!0,position:{bottom:"0"},minHeight:125,scrollStrategy:new On.RZ,data:Ie})}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.LFG(yn.xA))},ut.\u0275prov=s.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"any"}),ut})();var _i=r(6950);let Pi=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({imports:[[G.ez,Gn.Is,ne.ot,_i.o]]}),ut})();const ii=["swatchElem"];let Ri=(()=>{class ut{constructor(Ie){this.editDlgSvc=Ie}set swatchElem(Ie){var oe,Qe;Ie.nativeElement.style.background=`var(--palette__${null===(oe=this.swatch)||void 0===oe?void 0:oe.id})`,Ie.nativeElement.style.color=`var(--palette__${null===(Qe=this.swatch)||void 0===Qe?void 0:Qe.id}__contrast)`}onClick(){setTimeout(()=>{this.editDlgSvc.open({swatch:this.swatch})},200)}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(zn))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["palette-carousel-item"]],viewQuery:function(Ie,oe){if(1&Ie&&s.Gf(ii,5),2&Ie){let Qe;s.iGM(Qe=s.CRH())&&(oe.swatchElem=Qe.first)}},hostBindings:function(Ie,oe){1&Ie&&s.NdJ("click",function(){return oe.onClick()})},inputs:{swatch:"swatch"},decls:5,vars:1,consts:[[1,"palette-carousel-item__swatch"],["swatchElem",""],[1,"palette-carousel-item__label"]],template:function(Ie,oe){1&Ie&&(s.TgZ(0,"div",0,1),s._uU(2,"Aa"),s.qZA(),s.TgZ(3,"div",2),s._uU(4),s.qZA()),2&Ie&&(s.xp6(4),s.Oqu(null==oe.swatch?null:oe.swatch.name))},styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:80px;width:80px;margin:1rem 0}[_nghost-%COMP%]   .palette-carousel-item__label[_ngcontent-%COMP%]{font: 700 1rem Roboto,sans-serif;letter-spacing:0px;margin-top:.375rem}[_nghost-%COMP%]   .palette-carousel-item__swatch[_ngcontent-%COMP%]{font: 500 1.5rem Roboto,sans-serif!important;border:1px solid rgba(255,255,255,.2);border-radius:50%;letter-spacing:0px!important;display:flex;flex-direction:column;align-items:center;justify-content:center;height:3rem;width:3rem}"],changeDetection:0}),ut})();const $n=function(){return{mode:"vertical centerline"}};function oi(ut,$t){if(1&ut){const Ie=s.EpF();s.ynx(0),s.TgZ(1,"snap-carousel-item",11),s.NdJ("itemClick",function(Qe){return s.CHM(Ie),s.oxw().onItemClick(Qe)})("visibilityChange",function(Qe){return s.CHM(Ie),s.oxw().visibilityChanges$.next(Qe)}),s._UZ(2,"palette-carousel-item",12),s.qZA(),s.TgZ(3,"snap-carousel-item",11),s.NdJ("itemClick",function(Qe){return s.CHM(Ie),s.oxw().onItemClick(Qe)})("visibilityChange",function(Qe){return s.CHM(Ie),s.oxw().visibilityChanges$.next(Qe)}),s._UZ(4,"palette-carousel-item",12),s.qZA(),s.TgZ(5,"snap-carousel-item",11),s.NdJ("itemClick",function(Qe){return s.CHM(Ie),s.oxw().onItemClick(Qe)})("visibilityChange",function(Qe){return s.CHM(Ie),s.oxw().visibilityChanges$.next(Qe)}),s._UZ(6,"palette-carousel-item",12),s.qZA(),s.TgZ(7,"snap-carousel-item",11),s.NdJ("itemClick",function(Qe){return s.CHM(Ie),s.oxw().onItemClick(Qe)})("visibilityChange",function(Qe){return s.CHM(Ie),s.oxw().visibilityChanges$.next(Qe)}),s._UZ(8,"palette-carousel-item",12),s.qZA(),s.TgZ(9,"snap-carousel-item",11),s.NdJ("itemClick",function(Qe){return s.CHM(Ie),s.oxw().onItemClick(Qe)})("visibilityChange",function(Qe){return s.CHM(Ie),s.oxw().visibilityChanges$.next(Qe)}),s._UZ(10,"palette-carousel-item",12),s.qZA(),s.TgZ(11,"snap-carousel-item",11),s.NdJ("itemClick",function(Qe){return s.CHM(Ie),s.oxw().onItemClick(Qe)})("visibilityChange",function(Qe){return s.CHM(Ie),s.oxw().visibilityChanges$.next(Qe)}),s._UZ(12,"palette-carousel-item",12),s.qZA(),s.BQk()}if(2&ut){const Ie=$t.ngIf;s.xp6(1),s.Q6J("visibility-intersect",s.DdM(12,$n)),s.xp6(1),s.Q6J("swatch",Ie.primary),s.xp6(1),s.Q6J("visibility-intersect",s.DdM(13,$n)),s.xp6(1),s.Q6J("swatch",Ie.secondary),s.xp6(1),s.Q6J("visibility-intersect",s.DdM(14,$n)),s.xp6(1),s.Q6J("swatch",Ie.tertiary),s.xp6(1),s.Q6J("visibility-intersect",s.DdM(15,$n)),s.xp6(1),s.Q6J("swatch",Ie.accent),s.xp6(1),s.Q6J("visibility-intersect",s.DdM(16,$n)),s.xp6(1),s.Q6J("swatch",Ie.light),s.xp6(1),s.Q6J("visibility-intersect",s.DdM(17,$n)),s.xp6(1),s.Q6J("swatch",Ie.dark)}}let gi=(()=>{class ut{constructor(Ie,oe,Qe,te,$e){this.customPaletteSvc=Ie,this.palettesSvc=oe,this.uiQuery=Qe,this.sheetRef=te,this.data=$e,this.destroy$=new u.x,this.dismissed$=new u.x,this.paletteChanged$=new a.X(!1),this.persisted=!1,this._applyDisabled=!0,this.scrollPending=!1,this.scrollDuration=300,this.busy$=new a.X(!1),this.selectedPalette$=new u.x,this.customPalette$=this.uiQuery.selectActiveThemeCustomPalette(!0),this.visibilityChanges$=new u.x,this.applyDisabled$=(0,Ut.k)(Ut.L.AND,(0,tn.f)(this.busy$),(0,tn.f)(this.paletteChanged$),(0,tn.f)(this.customPaletteSvc.isModified$)).pipe((0,e.b)(At=>this._applyDisabled=At))}onKeyup(Ie){"Enter"===Ie.key&&this.apply()}ngOnInit(){this.customPaletteSvc.startEdit(),this.selectedPalette$.pipe((0,E.R)(this.destroy$),(0,rt.x)(),(0,Ct.T)(1),(0,X.h)(()=>!this.busy$.getValue()),(0,e.b)(Ie=>this.customPaletteSvc.rebase(Ie)),(0,e.b)(()=>this.paletteChanged$.next(!0))).subscribe(),this.sheetRef.afterDismissed().pipe((0,E.R)(this.destroy$),(0,e.b)(()=>{if(this.busy$.next(!1),!this.persisted){const Ie=this.data.entity.theme,oe=this.data.entity.color_palette;this.customPaletteSvc.cancelEdit(),this.palettesSvc.setActiveById(Ie,oe)}this.dismissed$.next(!0),this.dismissed$.complete()})).subscribe(),this.visibilityChanges$.pipe((0,E.R)(this.destroy$),(0,X.h)(()=>!this.scrollPending),(0,X.h)(Ie=>Ie.visible),(0,de.b)(2*this.scrollDuration),(0,e.b)(Ie=>this.setFocused(Ie.target,!1))).subscribe()}ngOnDestroy(){this.dismissed$.pipe((0,d.q)(1),(0,e.b)(()=>{this.destroy$.next(!0),this.destroy$.complete()})).subscribe()}dismiss(){this.sheetRef.dismiss()}apply(){this._applyDisabled||(this.busy$.next(!0),this.customPaletteSvc.update().pipe((0,e.b)(Ie=>{this.persisted=!0,this.dismiss()})).subscribe())}get isHead(){var Ie;return!(null===(Ie=this.focused)||void 0===Ie?void 0:Ie.previousElementSibling)}get isTail(){var Ie;return!(null===(Ie=this.focused)||void 0===Ie?void 0:Ie.nextElementSibling)}next(){this.isTail||this.setFocused(this.focused.nextElementSibling)}prev(){this.isHead||this.setFocused(this.focused.previousElementSibling)}onItemClick(Ie){this.setFocused(Ie,!1)}setFocused(Ie,oe=!0){this.scrollPending||(this.focused=Ie,oe&&this.scrollToCenter(Ie))}scrollToCenter(Ie){this.scrollPending=!0,setTimeout(()=>this.scrollPending=!1,this.scrollDuration),Ie.scrollIntoView({behavior:"smooth",inline:"center"})}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(nt.Sd),s.Y36(b.uV),s.Y36(b.YU),s.Y36(o.oL),s.Y36(o.OG))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["custom-palette-sheet"]],hostBindings:function(Ie,oe){1&Ie&&s.NdJ("keyup",function(te){return oe.onKeyup(te)},!1,s.evT)},decls:15,vars:9,consts:function(){let $t,Ie,oe,Qe;return $t=$localize`:@@colorse93acd761801b3f2077278b282163a9c03283b8c5267754967054916445:Colors`,Ie=$localize`:@@resetPaletted4f5c7860b9a2a0900740ca6cc185fdab3d5c8483718980831751209954:Reset palette`,oe=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,Qe=$localize`:@@applyc2d0ac9f528bbd5f53fd34269fde8b59e029621b4391289919356861627:Apply`,[["topbar-title",""],$t,["topbar-middle","","label",Ie,3,"showSelectedSwatches","selectionChange"],["topbar-right","","mat-stroked-button","","color","primary",3,"click"],oe,["topbar-right","","mat-flat-button","","color","primary",3,"disabled","click"],Qe,[1,"snap-carousel-container"],[4,"ngIf"],["mode","previous",3,"click"],["mode","next",3,"click"],[3,"visibility-intersect","itemClick","visibilityChange"],[3,"swatch"]]},template:function(Ie,oe){1&Ie&&(s.TgZ(0,"carousel-sheet-topbar")(1,"div",0),s.SDv(2,1),s.qZA(),s.TgZ(3,"palette-selector",2),s.NdJ("selectionChange",function(te){return oe.selectedPalette$.next(te.data)}),s.qZA(),s.TgZ(4,"button",3),s.NdJ("click",function(){return oe.dismiss()}),s.SDv(5,4),s.qZA(),s.TgZ(6,"button",5),s.NdJ("click",function(){return oe.apply()}),s.SDv(7,6),s.ALo(8,"async"),s.qZA()(),s.TgZ(9,"div",7)(10,"snap-carousel"),s.YNc(11,oi,13,18,"ng-container",8),s.ALo(12,"async"),s.qZA(),s.TgZ(13,"selection-carousel-nav-arrow",9),s.NdJ("click",function(){return oe.prev()}),s.qZA(),s.TgZ(14,"selection-carousel-nav-arrow",10),s.NdJ("click",function(){return oe.next()}),s.qZA()()),2&Ie&&(s.xp6(3),s.Q6J("showSelectedSwatches",!1),s.xp6(3),s.Q6J("disabled",s.lcZ(8,5,oe.applyDisabled$)),s.xp6(5),s.Q6J("ngIf",s.lcZ(12,7,oe.customPalette$)),s.xp6(2),s.uIk("disabled",oe.isHead),s.xp6(1),s.uIk("disabled",oe.isTail))},directives:[R,ln.v,ne.lW,ge,G.O5,se,Re.N,Ri,Rt],pipes:[G.Ov],styles:["[_nghost-%COMP%]   palette-selector[_ngcontent-%COMP%]{padding:0 16px}[_nghost-%COMP%]   .snap-carousel-container[_ngcontent-%COMP%]{position:relative}"]}),ut})(),Dn=(()=>{class ut{constructor(Ie){this.sheetSvc=Ie}open(Ie){return this.sheetSvc.open(gi,{panelClass:["carousel-select-sheet","carousel-select-sheet--custom-palette"],data:Ie})}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.LFG(Me.q))},ut.\u0275prov=s.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"any"}),ut})();var Ui=r(3576);let Li=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({imports:[[G.ez,Pi]]}),ut})(),si=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({imports:[[G.ez,V.u5,o._r,ne.ot,k.p9,pt.Cq,gt,Bt,Ke,Ui.dC,Li,an.Md]]}),ut})(),Ei=(()=>{class ut{constructor(Ie,oe,Qe,te,$e,At,Jt,on,Ln){this.logger=Ie,this.rollsSvc=oe,this.themesQuery=Qe,this.themesSvc=te,this.palettesQuery=$e,this.palettesSvc=At,this.customPaletteSvc=Jt,this.sheetRef=on,this.data=Ln,this.destroy$=new u.x,this.dismissed$=new u.x,this.themeChanged$=new a.X(!1),this.paletteChanged$=new a.X(!1),this.applying$=new a.X(!1),this.applyDisabled$=new a.X(!0),this.busy$=(0,Ut.k)(Ut.L.OR,this.applying$,this.themesQuery.selectLoading()),this.persisted=!1}onKeyup(Ie){"Enter"===Ie.key&&this.apply()}ngOnInit(){let Ie=-1;this.themesQuery.allThemes$.pipe((0,d.q)(1),(0,_.U)(oe=>oe.map(Qe=>({index:++Ie,alpha:Qe.name,url:Qe.thumb_url,data:Qe,selected:this.data.entity.theme===Qe.id,altLoadErrorMsg:Qe.name}))),(0,e.b)(oe=>{if(!(oe=oe||[]).find(te=>te.selected)){const te=oe.find($e=>$e.data.is_default);te?te.selected=!0:oe.length&&(oe[0].selected=!0)}this.carouselItems=oe,this.applying$.next(!1)})).subscribe(),this.sheetRef.afterDismissed().pipe((0,E.R)(this.destroy$),(0,e.b)(()=>{if(this.applying$.next(!1),!this.persisted){const oe=this.data.entity.theme,Qe=this.data.entity.color_palette;this.themesSvc.setActive(oe),this.palettesSvc.setActiveById(oe,Qe)}this.dismissed$.next(!0),this.dismissed$.complete()})).subscribe(),(0,Ut.k)(Ut.L.OR,this.applying$,(0,Ut.k)(Ut.L.AND,(0,tn.f)(this.themeChanged$),(0,tn.f)(this.paletteChanged$))).pipe((0,E.R)(this.destroy$),(0,e.b)(oe=>this.applyDisabled$.next(oe))).subscribe()}ngOnDestroy(){this.dismissed$.pipe((0,d.q)(1),(0,e.b)(()=>{this.destroy$.next(!0),this.destroy$.complete()})).subscribe()}dismiss(){this.sheetRef.dismiss()}apply(){this.applyDisabled$.getValue()||(this.applying$.next(!0),this.rollsSvc.update({token:this.data.entity.token,theme:this.selectedCarouselItem.data.id,color_palette:this.selectedPalette.id}).pipe((0,e.b)(Ie=>{this.logger.debug("Theme Select Sheet update result",Ie),this.persisted=!0,this.dismiss()}),(0,y.x)(()=>this.logger.debug("ThemeSheetData update finalize"))).subscribe())}onCarouselSelectionChange(Ie){const Qe=this.palettesQuery.getPaletteOrDefault(Ie.data.id,this.selectedPalette.id);this.logger.debug("ThemeSheetComponent.onCarouselSelectionChange",Ie.data.id,Qe.store_id),this.selectedCarouselItem=Ie,this.themesSvc.setActive(Ie.data.id),this.themeChanged$.next(Ie.data.id!==this.data.entity.theme),this.palettesSvc.setActive(Qe)}onPaletteSelectionChange(Ie){!Ie||(this.logger.debug("ThemeSheetComponent.onPaletteSelectionChange",Ie.data.store_id),this.selectedPalette=Ie.data,this.paletteChanged$.next(Ie.data.id!==this.data.entity.color_palette))}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.Y36(A.m),s.Y36(b.u5),s.Y36(b.ns),s.Y36(b.OR),s.Y36(b.nU),s.Y36(b.uV),s.Y36(nt.Sd),s.Y36(o.oL),s.Y36(o.OG))},ut.\u0275cmp=s.Xpm({type:ut,selectors:[["theme-sheet"]],hostBindings:function(Ie,oe){1&Ie&&s.NdJ("keyup",function(te){return oe.onKeyup(te)},!1,s.evT)},decls:14,vars:8,consts:function(){let $t,Ie,oe;return $t=$localize`:@@changeTheme6cff6b1e4c812a8c5cf8d7976117b8bf7ac140216851459189738911638:Change theme`,Ie=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,oe=$localize`:@@applyc2d0ac9f528bbd5f53fd34269fde8b59e029621b4391289919356861627:Apply`,[["topbar-title",""],$t,["topbar-middle","",3,"selectionChange"],["topbar-right","","mat-stroked-button","","color","primary",3,"click"],Ie,["topbar-right","","mat-flat-button","","color","primary",3,"disabled","click"],oe,[3,"busy","items","enterKey","selectionChange"],[1,"theme-sheet__footer"],[1,"selected-theme-description"]]},template:function(Ie,oe){1&Ie&&(s.TgZ(0,"carousel-sheet-topbar")(1,"div",0),s.SDv(2,1),s.qZA(),s.TgZ(3,"palette-selector",2),s.NdJ("selectionChange",function(te){return oe.onPaletteSelectionChange(te)}),s.qZA(),s.TgZ(4,"button",3),s.NdJ("click",function(){return oe.dismiss()}),s.SDv(5,4),s.qZA(),s.TgZ(6,"button",5),s.NdJ("click",function(){return oe.apply()}),s.SDv(7,6),s.ALo(8,"async"),s.qZA()(),s.TgZ(9,"selection-carousel",7),s.NdJ("enterKey",function(){return oe.apply()})("selectionChange",function(te){return oe.onCarouselSelectionChange(te)}),s.ALo(10,"async"),s.qZA(),s.TgZ(11,"div",8)(12,"div",9),s._uU(13),s.qZA()()),2&Ie&&(s.xp6(6),s.Q6J("disabled",s.lcZ(8,4,oe.applyDisabled$)),s.xp6(3),s.Q6J("busy",s.lcZ(10,6,oe.busy$))("items",oe.carouselItems),s.xp6(4),s.Oqu(null==oe.selectedCarouselItem?null:oe.selectedCarouselItem.data.description))},directives:[R,ln.v,ne.lW,ce],pipes:[G.Ov],styles:["[_nghost-%COMP%]   .theme-sheet__footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:center;background-color:#1b1b1b;color:#fff;font-size:12px;height:40px}[_nghost-%COMP%]   .theme-sheet__footer[_ngcontent-%COMP%]   .selected-theme-description[_ngcontent-%COMP%]{--line-clamp: 3;-webkit-line-clamp:var(--line-clamp)!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:100%!important;display:-webkit-box!important;-webkit-box-orient:vertical!important;word-break:break-word!important;text-align:center;max-width:80%;width:500px;line-height:1.375;z-index:1;margin-top:-10px}palette-selector[_ngcontent-%COMP%]{padding:0 16px}"]}),ut})(),ei=(()=>{class ut{constructor(Ie){this.sheetSvc=Ie}open(Ie){return this.sheetSvc.open(Ei,{panelClass:["carousel-select-sheet","carousel-select-sheet--theme-select"],data:Ie})}}return ut.\u0275fac=function(Ie){return new(Ie||ut)(s.LFG(Me.q))},ut.\u0275prov=s.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),ki=(()=>{class ut{}return ut.\u0275fac=function(Ie){return new(Ie||ut)},ut.\u0275mod=s.oAB({type:ut}),ut.\u0275inj=s.cJS({providers:[ei],imports:[[G.ez,V.u5,o._r,ne.ot,k.p9,pt.Cq,Nt,vt.C,Ke,Ui.dC]]}),ut})()},3922:(ot,pe,r)=>{"use strict";r.d(pe,{hR:()=>It,mD:()=>De});var o=r(8966),c=r(5e3),g=r(2348),a=r(7423);let u=(()=>{class Ae{constructor(Ze){this.data=Ze}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)(c.Y36(o.WI))},Ae.\u0275cmp=c.Xpm({type:Ae,selectors:[["ng-component"]],decls:11,vars:3,consts:function(){let lt,Ze,Rt,Gt;return lt=$localize`:@@deleteOtherRoll7cd0203b66c59f13552a368a10b02ae4742cc9bd3779897070357832914:Delete other roll?`,Ze=$localize`:@@deleteOtherRollPromptb3b24a538f7644ebbf62b3cae16963190f8cc4461436298258523694938:Are you sure you want to delete the other roll?`,Rt=$localize`:@@backcda31dbd724cf5f4fa7a4274d9120651490c8a8c8890553633144307762:Back`,Gt=$localize`:@@continueac10a3d9b59575640797c1a8e6aea642cf5d5e776962699013778688473:Continue`,[["mat-dialog-title",""],lt,[1,"mt12"],Ze,[1,"mt12",3,"entity"],["mat-stroked-button","","color","primary",3,"mat-dialog-close"],Rt,["mat-flat-button","","color","primary",3,"mat-dialog-close"],Gt]},template:function(Ze,Rt){1&Ze&&(c.TgZ(0,"header",0),c.SDv(1,1),c.qZA(),c.TgZ(2,"mat-dialog-content")(3,"div",2),c.SDv(4,3),c.qZA(),c._UZ(5,"roll-slat",4),c.qZA(),c.TgZ(6,"mat-dialog-actions")(7,"button",5),c.SDv(8,6),c.qZA(),c.TgZ(9,"button",7),c.SDv(10,8),c.qZA()()),2&Ze&&(c.xp6(5),c.Q6J("entity",Rt.data.roll),c.xp6(2),c.Q6J("mat-dialog-close",!1),c.xp6(2),c.Q6J("mat-dialog-close",!0))},directives:[o.uh,o.xY,g.o,o.H8,a.lW,o.ZT],encapsulation:2,changeDetection:0}),Ae})();var v=r(8505),p=r(9808);function d(Ae,lt){if(1&Ae&&(c.TgZ(0,"div",8),c._uU(1),c.qZA()),2&Ae){const Ze=c.oxw().index;c.xp6(1),c.Oqu(Ze+1)}}function h(Ae,lt){if(1&Ae&&(c.TgZ(0,"div",5),c.YNc(1,d,2,1,"div",6),c.TgZ(2,"div",7),c._uU(3),c.qZA()()),2&Ae){const Ze=lt.$implicit,Rt=c.oxw();c.xp6(1),c.Q6J("ngIf",Rt.data.warnings.length>1),c.xp6(2),c.Oqu(Ze)}}let _=(()=>{class Ae{constructor(Ze){this.data=Ze,this.defaultTitle=$localize`:@@warnings:Warnings`}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)(c.Y36(o.WI))},Ae.\u0275cmp=c.Xpm({type:Ae,selectors:[["app-takeover-warnings-dialog"]],decls:8,vars:2,consts:function(){let lt;return lt=$localize`:@backcda31dbd724cf5f4fa7a4274d9120651490c8a8c8890553633144307762:Back`,[["mat-dialog-title",""],[1,"warnings"],["class","warning",4,"ngFor","ngForOf"],["color","primary","mat-flat-button","","mat-dialog-close",""],lt,[1,"warning"],["class","warning__number",4,"ngIf"],[1,"warning__text"],[1,"warning__number"]]},template:function(Ze,Rt){1&Ze&&(c.TgZ(0,"header",0),c._uU(1),c.qZA(),c.TgZ(2,"mat-dialog-content")(3,"div",1),c.YNc(4,h,4,2,"div",2),c.qZA()(),c.TgZ(5,"mat-dialog-actions")(6,"button",3),c.SDv(7,4),c.qZA()()),2&Ze&&(c.xp6(1),c.Oqu(Rt.data.title||Rt.defaultTitle),c.xp6(3),c.Q6J("ngForOf",Rt.data.warnings))},directives:[o.uh,o.xY,p.sg,p.O5,o.H8,a.lW,o.ZT],styles:[".warnings[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;font-family:Roboto,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;font-size:14px;line-height:18px}.warnings[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;margin-top:12px}.warnings[_ngcontent-%COMP%]   .warning__number[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;font-size:13px;color:#fff;flex:0 0 auto;width:17px;height:17px;border-radius:100%;text-align:center;background-color:#726e74;margin-right:5px}"]}),Ae})();var e=r(7633),E=r(3075),f=r(4092),y=r(1774),s=r(9814);function C(Ae,lt){1&Ae&&(c.ynx(0),c.SDv(1,21),c.BQk())}function b(Ae,lt){1&Ae&&c.SDv(0,22)}function A(Ae,lt){if(1&Ae&&(c.ynx(0),c.TgZ(1,"span"),c.SDv(2,23),c.qZA(),c.TgZ(3,"strong"),c.SDv(4,24),c.qZA(),c.BQk()),2&Ae){const Ze=c.oxw();c.xp6(2),c.pQV(Ze.data.response.wrap_info.roll_aliases.length)(Ze.data.response.wrap_info.roll_aliases.length),c.QtT(2)}}function I(Ae,lt){1&Ae&&(c.TgZ(0,"span"),c.SDv(1,25),c.qZA())}function D(Ae,lt){if(1&Ae&&(c.TgZ(0,"div",26)(1,"div"),c.SDv(2,27),c.qZA(),c.TgZ(3,"div",28),c._uU(4),c.qZA()()),2&Ae){const Ze=c.oxw();c.xp6(4),c.Oqu(Ze.data.response.wrap_info.url)}}function O(Ae,lt){if(1&Ae&&(c.ynx(0),c.SDv(1,29),c.BQk()),2&Ae){const Ze=c.oxw();c.xp6(1),c.pQV(Ze.data.response.wrap_info.roll_aliases.length),c.QtT(1)}}function S(Ae,lt){1&Ae&&c.SDv(0,30)}function x(Ae,lt){if(1&Ae){const Ze=c.EpF();c.TgZ(0,"div",31)(1,"span",32),c.NdJ("click",function(){return c.CHM(Ze),c.oxw().showWarnings()}),c.SDv(2,33),c.qZA()()}if(2&Ae){const Ze=c.oxw();c.xp6(2),c.pQV(Ze.data.response.takeover_warnings.length),c.QtT(2)}}const L=function(Ae){return{response:Ae,confirmed:!1}};let R=(()=>{class Ae{constructor(Ze,Rt,Gt,Xt,kt){this.data=Ze,this.dialogRef=Rt,this.dialogSvc=Gt,this.formBuilder=Xt,this.rollsQuery=kt,this.form=this.formBuilder.group({deleteOriginal:!1})}ngOnInit(){this.dialogRef.disableClose||this.dialogRef.beforeClosed().subscribe(Ze=>{Ze||this.dialogRef.close(Object.assign(Object.assign({},this.data),{confirmed:!1}))})}showWarnings(){this.dialogSvc.open(_,{data:{warnings:this.data.response.takeover_warnings}})}onContinue(){const Ze=this.form.get("deleteOriginal").value,Rt={response:this.data.response,confirmed:!0,deleteOriginal:Ze};Ze?this.dialogSvc.open(u,{data:{roll:this.data.response.wrap_info}}).afterClosed().pipe((0,v.b)(Gt=>{Gt&&this.dialogRef.close(Rt)})).subscribe():this.dialogRef.close(Rt)}get fromTitle(){return this.data.privateEditing?$localize`:@@changed:Changed`:$localize`:@@from:From`}get fromRoll(){return this.data.privateEditing?this.rollsQuery.getActive():this.data.response.wrap_info}get toTitle(){return this.data.privateEditing?$localize`:@@original:Original`:$localize`:@@to:To`}get toRoll(){return this.data.privateEditing?this.data.response.wrap_info:this.rollsQuery.getActive()}get arrowLabel(){return this.data.privateEditing?$localize`:@@publishChangesTo:Publish changes to`:$localize`:@@transferUrls:Transfer URLs`}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)(c.Y36(o.WI),c.Y36(o.so),c.Y36(e.xA),c.Y36(E.qu),c.Y36(f.Qy))},Ae.\u0275cmp=c.Xpm({type:Ae,selectors:[["ng-component"]],decls:31,vars:19,consts:function(){let lt,Ze,Rt,Gt,Xt,kt,qe,me,ce,Y,we,be,Me,ze,mt,vt,Lt;return lt=$localize`:@@takeoverKeepItbe1326c1df561d36f8ce02bfdbb0befe10140eab8561067186511778464:${"\ufffd#19\ufffd"}:START_TAG_STRONG:Keep it.${"\ufffd/#19\ufffd"}:CLOSE_TAG_STRONG: Let Bublup give it a new URL.`,Ze=$localize`:@@takeoverDeleteIt537b51bd196cbed7b721960f8dcd518a1c45dd051327634668417324481:${"\ufffd#22\ufffd"}:START_TAG_STRONG:Delete it.${"\ufffd/#22\ufffd"}:CLOSE_TAG_STRONG: I don't need it anymore.`,Rt=$localize`:@@theseChangesTakeAMinute65fd6b64edbbf13265a85972f5f0ea31329247f54990906232646079903:Note: these changes may take a few minutes to take effect.`,Gt=$localize`:@@canceld7b35c384aecd25a516200d6921836374613dfe72159130950882492111:Cancel`,Xt=$localize`:@@continueac10a3d9b59575640797c1a8e6aea642cf5d5e776962699013778688473:Continue`,kt=$localize`:@@takeoverTitle1ccdb700778c8bd54c1e38a714692eb410cbe109153493943360053402:Take another roll's URLs`,qe=$localize`:@@privateEditingTakeoverTitle8e008e95b1ef160518be39b5802d68e361ab24105515209695367460027:Publish changes`,me=$localize`:d3120e99f7a0268282d7cf93931c0f631f3178868274267213688519144:{VAR_PLURAL, plural, =1 {One URL is} other {{INTERPOLATION} URLs are}}`,me=c.Zx4(me,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),ce=$localize`:@@takeoverInfod55f3c812cf1b767fb90e497536f3989343783011810798629579160330:${me}:ICU: being taken from the roll below and assigned to your current one. `,Y=$localize`:@takeoverPeopleWhoUse35f071676ec8fd30a5d1d94db43683351012637f5405929887338520801:People who use the URLs will see the current roll instead.`,we=$localize`:@@publishChangesFromTobb0404952c25b02fc23603037129c5776747d193985587274177539827:Publish changes from your current roll to the other one:`,be=$localize`:@@primaryWillBecomea9992641edc606d24934bd787c85ce7fd2adb2052096761697536916548:The primary URL for the current roll will become:`,Me=$localize`:0862a5d171d9928d7572de93e166f5452221b81a3924626427135743106:{VAR_PLURAL, plural, =1 {URL} other {URLs}}`,Me=c.Zx4(Me,{VAR_PLURAL:"\ufffd0\ufffd"}),ze=$localize`:@@takeoverHandlingPrompt1e26e5dad2215bd23168665262f9bcded2d2d07d5545603950669630884:What should we do with the roll that's losing its ${Me}:ICU:?`,mt=$localize`:@@privateEditingHandlingPromptebfa0066c842d125ea829ff442e1d9506f1fe1d12685224065600021323:What should we do with the other roll?`,vt=$localize`:6d0edfffc9133284fc24372757c1dfdc783df774122638601610860934:{VAR_PLURAL, plural, =1 {warning} =other {warnings}}`,vt=c.Zx4(vt,{VAR_PLURAL:"\ufffd0\ufffd"}),Lt=$localize`:@@viewOtherWarnings46d5600d6a651936b8fa8fd43ed181938f409eab6647240170297496382:View ${vt}:ICU:`,[["matDialogTitle",""],[4,"ngIf","ngIfElse"],["privateEditingTitle",""],["privateEditingPrompt",""],[1,"mt12",3,"fromRoll","fromTitle","toRoll","toTitle","arrowLabel"],["class","primary-warning mt20",4,"ngIf"],[1,"mt20"],[1,"handling-prompt"],["privateEditingHandlingPrompt",""],[1,"mt12",3,"formGroup"],["formControlName","deleteOriginal"],["color","primary","name","deleteOriginal",3,"value"],lt,Ze,[1,"mt12"],Rt,["class","mt12 warnings",4,"ngIf"],["mat-stroked-button","","color","primary",3,"mat-dialog-close"],Gt,["mat-flat-button","","color","primary",3,"click"],Xt,kt,qe,ce,Y,we,[1,"primary-warning","mt20"],be,[1,"mt12","ml12"],ze,mt,[1,"mt12","warnings"],[3,"click"],Lt]},template:function(Ze,Rt){if(1&Ze&&(c.TgZ(0,"header",0),c.YNc(1,C,2,0,"ng-container",1),c.YNc(2,b,1,0,"ng-template",null,2,c.W1O),c.qZA(),c.TgZ(4,"mat-dialog-content"),c.YNc(5,A,5,2,"ng-container",1),c.YNc(6,I,2,0,"ng-template",null,3,c.W1O),c._UZ(8,"roll-flow",4),c.YNc(9,D,5,1,"div",5),c.TgZ(10,"div",6)(11,"div",7),c.YNc(12,O,2,1,"ng-container",1),c.YNc(13,S,1,0,"ng-template",null,8,c.W1O),c.qZA(),c.TgZ(15,"form",9)(16,"mat-radio-group",10)(17,"mat-radio-button",11),c.tHW(18,12),c._UZ(19,"strong"),c.N_p(),c.qZA(),c.TgZ(20,"mat-radio-button",11),c.tHW(21,13),c._UZ(22,"strong"),c.N_p(),c.qZA()()()(),c.TgZ(23,"div",14),c.SDv(24,15),c.qZA(),c.YNc(25,x,3,1,"div",16),c.qZA(),c.TgZ(26,"mat-dialog-actions")(27,"button",17),c.SDv(28,18),c.qZA(),c.TgZ(29,"button",19),c.NdJ("click",function(){return Rt.onContinue()}),c.SDv(30,20),c.qZA()()),2&Ze){const Gt=c.MAs(3),Xt=c.MAs(7),kt=c.MAs(14);c.xp6(1),c.Q6J("ngIf",!Rt.data.privateEditing)("ngIfElse",Gt),c.xp6(4),c.Q6J("ngIf",!Rt.data.privateEditing)("ngIfElse",Xt),c.xp6(3),c.Q6J("fromRoll",Rt.fromRoll)("fromTitle",Rt.fromTitle)("toRoll",Rt.toRoll)("toTitle",Rt.toTitle)("arrowLabel",Rt.arrowLabel),c.xp6(1),c.Q6J("ngIf",Rt.data.response.will_take_primary_alias),c.xp6(3),c.Q6J("ngIf",!Rt.data.privateEditing)("ngIfElse",kt),c.xp6(3),c.Q6J("formGroup",Rt.form),c.xp6(2),c.Q6J("value",!1),c.xp6(3),c.Q6J("value",!0),c.xp6(5),c.Q6J("ngIf",(null==Rt.data.response.takeover_warnings?null:Rt.data.response.takeover_warnings.length)>0),c.xp6(2),c.Q6J("mat-dialog-close",c.VKq(17,L,Rt.data.response))}},directives:[o.uh,p.O5,o.xY,y.A,E._Y,E.JL,E.sg,s.VQ,E.JJ,E.u,s.U0,o.H8,a.lW,o.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{line-height:18px}.handling-prompt[_ngcontent-%COMP%]{font-family:Roboto Condensed,sans-serif;font-style:normal;font-weight:700;letter-spacing:normal;font-size:18px;color:#4b464e}mat-radio-group[_ngcontent-%COMP%]{flex-direction:column}.warnings[_ngcontent-%COMP%]{background-color:var(--bu-brand__color);font-family:Roboto,sans-serif;font-style:normal;font-weight:700;letter-spacing:normal;color:#fff;padding:10px;border-radius:3px;font-size:14px}.warnings[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}"]}),Ae})();var G=r(4782),k=(()=>{return(Ae=k||(k={}))[Ae.TAKEOVER_KEEP=0]="TAKEOVER_KEEP",Ae[Ae.TAKEOVER_DELETE=1]="TAKEOVER_DELETE",Ae[Ae.PUBLISH_KEEP=2]="PUBLISH_KEEP",Ae[Ae.PUBLISH_DELETE=3]="PUBLISH_DELETE",k;var Ae})(),V=r(2926);function ne(Ae,lt){1&Ae&&(c.ynx(0),c.SDv(1,9),c.BQk())}function $(Ae,lt){1&Ae&&c.SDv(0,10)}function q(Ae,lt){1&Ae&&(c.ynx(0),c.SDv(1,11),c.BQk())}function X(Ae,lt){1&Ae&&(c.ynx(0),c.SDv(1,12),c.BQk())}function de(Ae,lt){1&Ae&&(c.ynx(0),c.SDv(1,13),c.BQk())}function fe(Ae,lt){1&Ae&&(c.ynx(0),c.SDv(1,14),c.BQk())}function We(Ae,lt){if(1&Ae&&(c.TgZ(0,"div",15),c._UZ(1,"simple-link",16),c.ALo(2,"async"),c.qZA()),2&Ae){const Ze=c.oxw();let Rt;c.xp6(1),c.Q6J("href",null==(Rt=c.lcZ(2,1,Ze.updatedRoll$))?null:Rt.url)}}function Ne(Ae,lt){if(1&Ae){const Ze=c.EpF();c.TgZ(0,"div",17),c.NdJ("click",function(){return c.CHM(Ze),c.oxw().showWarnings()}),c.SDv(1,18),c.qZA()}if(2&Ae){const Ze=c.oxw();c.xp6(1),c.pQV(Ze.data.warnings.length),c.QtT(1)}}let dt=(()=>{class Ae{constructor(Ze,Rt,Gt){this.data=Ze,this.dialogSvc=Rt,this.rollsSvc=Gt,this.ParagraphCase=k,this.updatedRoll$=this.rollsSvc.get(this.data.roll.token,{updateStore:!1,suppressErrors:!0}).pipe((0,G.d)(1))}showWarnings(){this.dialogSvc.open(_,{data:{warnings:this.data.warnings,title:$localize`:@@notices:Notices`}})}get paragraphCase(){return this.data.privateEditing?this.data.deleteSource?k.PUBLISH_DELETE:k.PUBLISH_KEEP:this.data.deleteSource?k.TAKEOVER_DELETE:k.TAKEOVER_KEEP}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)(c.Y36(o.WI),c.Y36(e.xA),c.Y36(f.u5))},Ae.\u0275cmp=c.Xpm({type:Ae,selectors:[["app-takeover-results-dialog"]],decls:15,vars:9,consts:function(){let lt,Ze,Rt,Gt,Xt,kt,qe,me,ce;return lt=$localize`:@@ok7e6c975ebea8b5f8b120905ca7acf9f8edf59d8e8998179362936748717:OK`,Ze=$localize`:@@takeoverSuccessfulecae3b265dde8546f93a15dec6661dcf7392873a1844344942444792926:Takeover successful`,Rt=$localize`:@@changesPublishedde9e7b29c4910a8a0f6b09aaa66d2ec154eb25f73273862125417977000:Changes published`,Gt=$localize`:@@takeoverKeepParagrapha687001fd55b0f6a371b6fee27c6c6702ade2b1b2957489677428953054:All URLs have been transferred from the other roll to your current roll. Since you requested to keep the other roll, we have given it a new URL:`,Xt=$localize`:@@takeoverDeleteParagraph187e2416872b14234f71b026f98e6b8644019f8e5201321904034750391:All URLs have been transferred from the other roll to your current roll. As requested, the other roll has been deleted.`,kt=$localize`:@@publishKeepParagraph4f27ec7a1fbc0a324f8c002132e4ddf35c155ad93488592108607194877:Your changes have been published. Since you requested to keep the other roll, we have given it a new URL:`,qe=$localize`:@@publishDeleteParagraph583a5ca5a177c55b94dcbbfd66e9be4ed9bfd1ae6944021844017539520:Your changes have been published. As requested, the other roll has been deleted.`,me=$localize`:52391051f324d47bcecf5eee6846e9047960a98d3701726618837659851:{VAR_PLURAL, plural, =1 {notice} =other {notices}}`,me=c.Zx4(me,{VAR_PLURAL:"\ufffd0\ufffd"}),ce=$localize`:@@viewOtherNoticesa63b840c05508e75ed80072b4bb51df5e0e828643902497931683253803:View ${me}:ICU:`,[["mat-dialog-title",""],[4,"ngIf","ngIfElse"],["privateEditingTitle",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","mt20",4,"ngIf"],["class","mt20 warnings",3,"click",4,"ngIf"],["mat-flat-button","","color","primary","mat-dialog-close",""],lt,Ze,Rt,Gt,Xt,kt,qe,[1,"mt20"],[3,"href"],[1,"mt20","warnings",3,"click"],ce]},template:function(Ze,Rt){if(1&Ze&&(c.TgZ(0,"header",0),c.YNc(1,ne,2,0,"ng-container",1),c.YNc(2,$,1,0,"ng-template",null,2,c.W1O),c.qZA(),c.TgZ(4,"mat-dialog-content"),c.ynx(5,3),c.YNc(6,q,2,0,"ng-container",4),c.YNc(7,X,2,0,"ng-container",4),c.YNc(8,de,2,0,"ng-container",4),c.YNc(9,fe,2,0,"ng-container",4),c.BQk(),c.YNc(10,We,3,3,"div",5),c.YNc(11,Ne,2,1,"div",6),c.qZA(),c.TgZ(12,"mat-dialog-actions")(13,"button",7),c.SDv(14,8),c.qZA()()),2&Ze){const Gt=c.MAs(3);c.xp6(1),c.Q6J("ngIf",!Rt.data.privateEditing)("ngIfElse",Gt),c.xp6(4),c.Q6J("ngSwitch",Rt.paragraphCase),c.xp6(1),c.Q6J("ngSwitchCase",Rt.ParagraphCase.TAKEOVER_KEEP),c.xp6(1),c.Q6J("ngSwitchCase",Rt.ParagraphCase.TAKEOVER_DELETE),c.xp6(1),c.Q6J("ngSwitchCase",Rt.ParagraphCase.PUBLISH_KEEP),c.xp6(1),c.Q6J("ngSwitchCase",Rt.ParagraphCase.PUBLISH_DELETE),c.xp6(1),c.Q6J("ngIf",!Rt.data.deleteSource),c.xp6(1),c.Q6J("ngIf",(null==Rt.data.warnings?null:Rt.data.warnings.length)>0)}},directives:[o.uh,p.O5,o.xY,p.RF,p.n9,V.B,o.H8,a.lW,o.ZT],pipes:[p.Ov],styles:[".warnings[_ngcontent-%COMP%]{color:var(--bu-brand__color);font-family:Roboto,sans-serif;font-style:normal;font-weight:700;letter-spacing:normal;font-size:14px;text-decoration:underline;cursor:pointer}"]}),Ae})();r(2201);var Je=r(2843),se=r(9646),Re=r(4351),pt=r(9718),ht=r(8746);const It="User must elect to continue with takeover";let De=(()=>{class Ae{constructor(Ze,Rt,Gt){this.dialogSvc=Ze,this.rollsSvc=Rt,this.rollsQuery=Gt}takeoverRollByUrl(Ze,Rt,Gt={}){let Xt=null==Gt?void 0:Gt.checkResponse,kt=null==Gt?void 0:Gt.deleteSource;return this.check(Ze,Rt,Gt).pipe((0,v.b)(qe=>Xt=qe),(0,Re.b)(qe=>this.confirmTakeover(qe,Gt)),(0,v.b)(qe=>kt=qe.deleteOriginal),(0,Re.b)(qe=>this.performTakeover(Ze,Rt,{deleteSource:qe.deleteOriginal})),(0,Re.b)(qe=>{const me=Object.assign(Object.assign({},Gt),{deleteSource:kt});return this.showResults(Xt.wrap_info,qe.warning_info.errors,me)}),(0,pt.h)(!0),(0,ht.x)(()=>{const qe=Object.assign({},this.rollsQuery.getActive());delete qe.warning_info,this.rollsSvc.update(qe,{persistToServer:!1})}))}confirmTakeover(Ze,Rt){if(Ze.takeover_allowed)return this.dialogSvc.open(R,{data:{response:Ze,privateEditing:null==Rt?void 0:Rt.privateEditing}}).afterClosed().pipe((0,v.b)(Gt=>{if(!(null==Gt?void 0:Gt.confirmed))throw new Error(It)}));(0,Je._)(()=>`Takeover is not allowed: ${Ze.takeover_errors.join(" ")}`)}performTakeover(Ze,Rt,Gt={}){return this.rollsSvc.takeover(Ze,Rt,Gt)}check(Ze,Rt,Gt){return(null==Gt?void 0:Gt.checkResponse)?(0,se.of)(Gt.checkResponse):this.rollsSvc.takeoverCheck(Ze,Rt,null==Gt?void 0:Gt.privateEditing)}showResults(Ze,Rt,Gt){return this.dialogSvc.open(dt,{data:Object.assign({roll:Ze,warnings:Rt},Gt)}).afterClosed()}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)(c.LFG(e.xA),c.LFG(f.u5),c.LFG(f.Qy))},Ae.\u0275prov=c.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})()},4835:(ot,pe,r)=>{"use strict";r.d(pe,{c:()=>I});var o=r(7460),c=r(5390),g=r(8505),a=r(5e3),u=r(5783),v=r(3443),p=r(4004),d=r(5063);let h=(()=>{class D extends v.AE{constructor(S){super(S),this.store=S,this.clickedAuthorLogin$=this.select().pipe((0,p.U)(x=>x.clickedAuthorLogin))}}return D.\u0275fac=function(S){return new(S||D)(a.LFG(d.g))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var _=r(4163),e=r(8287),E=r(4092),f=r(9808),y=r(8271);const s=function(){return{event:"LogOutClick",category:"AdminEvent"}};function C(D,O){if(1&D){const S=a.EpF();a.TgZ(0,"a",1),a.NdJ("click",function(){return a.CHM(S),a.oxw().logout()}),a.SDv(1,2),a.qZA()}2&D&&a.Q6J("analyticsEvent",a.DdM(1,s))}const b=function(){return{event:"AuthorLoginClick",category:"ViewerEvent",internal:!0}};function A(D,O){if(1&D){const S=a.EpF();a.TgZ(0,"a",1),a.NdJ("click",function(){return a.CHM(S),a.oxw().login()}),a.SDv(1,3),a.qZA()}2&D&&a.Q6J("analyticsEvent",a.DdM(1,b))}let I=(()=>{class D{constructor(S,x,L,R,G){this.authSvc=S,this.authorLoginQuery=x,this.authorLoginSvc=L,this.rollOpenerSvc=R,this.userQuery=G,this.showLogin$=(0,o.f)(this.userQuery.user$),this.showLogout$=(0,c.k)(c.L.AND,(0,o.f)(this.showLogin$),this.authorLoginQuery.clickedAuthorLogin$)}login(){this.authorLoginSvc.clickedAuthorLogin(),this.authSvc.redirectToLogin()}logout(){this.authSvc.logout().pipe((0,g.b)(()=>this.rollOpenerSvc.reload())).subscribe()}}return D.\u0275fac=function(S){return new(S||D)(a.Y36(u.e),a.Y36(h),a.Y36(_.Z),a.Y36(e.K),a.Y36(E.fE))},D.\u0275cmp=a.Xpm({type:D,selectors:[["author-login"]],decls:4,vars:6,consts:function(){let O,S;return O=$localize`:@@logOut3fdc751b264ca9998e1542fcf5794e274cd563447507948636555938109:Log out`,S=$localize`:@@authorLogIn8a5d8b606ee88b3f5d654358f0d25a59680475072515029714675867666:Author log in`,[["class","login-link",3,"analyticsEvent","click",4,"ngIf"],[1,"login-link",3,"analyticsEvent","click"],O,S]},template:function(S,x){1&S&&(a.YNc(0,C,2,2,"a",0),a.ALo(1,"async"),a.YNc(2,A,2,2,"a",0),a.ALo(3,"async")),2&S&&(a.Q6J("ngIf",a.lcZ(1,2,x.showLogout$)),a.xp6(2),a.Q6J("ngIf",a.lcZ(3,4,x.showLogin$)))},directives:[f.O5,y.K],pipes:[f.Ov],styles:["[_nghost-%COMP%]:empty{display:none!important}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{text-transform:lowercase;cursor:pointer}"],changeDetection:0}),D})()},4163:(ot,pe,r)=>{"use strict";r.d(pe,{Z:()=>g});var o=r(5e3),c=r(5063);let g=(()=>{class a{constructor(v){this.store=v}clickedAuthorLogin(){this.store.update({clickedAuthorLogin:!0})}}return a.\u0275fac=function(v){return new(v||a)(o.LFG(c.g))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},5063:(ot,pe,r)=>{"use strict";r.d(pe,{g:()=>u});var o=r(655),c=r(3443),g=r(5e3);let u=class extends c.yh{constructor(){super({clickedAuthorLogin:!1})}};u.\u0275fac=function(p){return new(p||u)},u.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u=(0,o.gn)([(0,c.yC)({name:"author-login"})],u)},6133:(ot,pe,r)=>{"use strict";r.d(pe,{x:()=>g});var o=r(5e3),c=r(7395);let g=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["draft-badge"]],decls:7,vars:0,consts:function(){let u;return u=$localize`:@@draft86022280b7836d1aff7fdc0182415b041ae3625c4808589666930368915:Draft`,[[1,"draft-badge"],[1,"draft-badge__back-wrapper"],[1,"draft-badge__back"],[1,"draft-badge__front"],["iconName","edit"],u]},template:function(v,p){1&v&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"div",2),o.qZA(),o.TgZ(3,"div",3),o._UZ(4,"roll-icon",4),o.TgZ(5,"span"),o.SDv(6,5),o.qZA()()())},directives:[c.p],styles:[".draft-badge[_ngcontent-%COMP%]{position:absolute;right:0;top:3px;height:32px;text-transform:lowercase}.draft-badge__back-wrapper[_ngcontent-%COMP%]{position:absolute;right:-12px;top:-5px;width:10px;height:26px;overflow:hidden}.draft-badge__back[_ngcontent-%COMP%]{width:16px;height:16px;position:absolute;top:10px;right:0;background-color:#bf8b2e;transform:rotate(26deg)}.draft-badge__front[_ngcontent-%COMP%]{height:20px;padding:3px 6px 3px 24px;border-top-left-radius:11px;border-bottom-left-radius:11px;position:absolute;right:-12px;bottom:4px;box-sizing:border-box;color:#000;font-size:14px;line-height:14px;font-family:Roboto Condensed,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;box-shadow:2px 3px 3px #00000038;background:linear-gradient(to right,#fcb116 0%,#fcb116 96%,#bf8b2e 100%);white-space:nowrap}.draft-badge[_ngcontent-%COMP%]   roll-icon[_ngcontent-%COMP%]{position:absolute;left:6px;top:2px;font-size:16px;color:#000}"]}),a})()},6692:(ot,pe,r)=>{"use strict";r.d(pe,{K:()=>E});var o=r(1777),c=r(4004),g=r(5e3),a=r(5113),u=r(4092);function v(f,y){1&f&&(g.ynx(0),g.Hsn(1),g.BQk())}function p(f,y){1&f&&(g.TgZ(0,"edit-toolbar-menu"),g.Hsn(1,1),g.qZA())}function d(f,y){1&f&&g._UZ(0,"publish-button",6)}function h(f,y){if(1&f&&(g.ynx(0),g.TgZ(1,"div",1),g.YNc(2,v,2,0,"ng-container",2),g.ALo(3,"async"),g.YNc(4,p,2,0,"ng-template",null,3,g.W1O),g._UZ(6,"div",4)(7,"done-editing-button"),g.YNc(8,d,1,0,"publish-button",5),g.ALo(9,"async"),g.qZA(),g._UZ(10,"edit-toolbar-badge"),g.BQk()),2&f){const s=g.MAs(5),C=g.oxw();g.xp6(1),g.Q6J("@slideInTrigger",void 0),g.xp6(1),g.Q6J("ngIf",g.lcZ(3,6,C.expanded$))("ngIfElse",s),g.xp6(6),g.Q6J("ngIf",g.lcZ(9,8,C.draftEdit$)),g.xp6(2),g.Q6J("@fadeInTrigger",void 0)("@slideInTrigger",void 0)}}const _=[[["","expanded-content",""]],[["","collapsed-content",""]]],e=["[expanded-content]","[collapsed-content]"];let E=(()=>{class f{constructor(s,C){this.bpObserver=s,this.uiQuery=C,this.editMode$=this.uiQuery.editMode$,this.draftEdit$=this.uiQuery.draftEdit$}ngOnInit(){this.collapseAt&&(this.expanded$=this.bpObserver.observe(this.collapseAt).pipe((0,c.U)(s=>!(null==s?void 0:s.matches))))}}return f.\u0275fac=function(s){return new(s||f)(g.Y36(a.Yg),g.Y36(u.YU))},f.\u0275cmp=g.Xpm({type:f,selectors:[["edit-toolbar"]],inputs:{collapseAt:"collapseAt"},ngContentSelectors:e,decls:2,vars:3,consts:[[4,"ngIf"],[1,"edit-toolbar__inner-wrapper"],[4,"ngIf","ngIfElse"],["collapsedContent",""],[2,"flex","1"],["class","ml8",4,"ngIf"],[1,"ml8"]],template:function(s,C){1&s&&(g.F$t(_),g.YNc(0,h,11,10,"ng-container",0),g.ALo(1,"async")),2&s&&g.Q6J("ngIf",g.lcZ(1,1,C.editMode$))},styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;z-index:1}[_nghost-%COMP%]   .edit-toolbar__inner-wrapper[_ngcontent-%COMP%]{height:50px;background:black;color:#fff;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%}"],data:{animation:[(0,o.X$)("slideInTrigger",[(0,o.eR)(":enter",[(0,o.oB)({transform:"translateY(-100%)"}),(0,o.jt)("200ms ease",(0,o.oB)({transform:"translateY(0)"}))]),(0,o.eR)(":leave",[(0,o.jt)("200ms ease",(0,o.oB)({transform:"translateY(-100%)"}))])]),(0,o.X$)("fadeInTrigger",[(0,o.eR)(":enter",[(0,o.oB)({opacity:0}),(0,o.jt)("200ms ease",(0,o.oB)({opacity:1}))]),(0,o.eR)(":leave",[(0,o.jt)("200ms ease",(0,o.oB)({opacity:0}))])])]},changeDetection:0}),f})()},6026:(ot,pe,r)=>{"use strict";r.d(pe,{y:()=>g});var o=r(5e3),c=r(7395);let g=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(v){return new(v||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["share-menu-trigger"]],decls:1,vars:0,consts:[["iconName","share-solid"]],template:function(v,p){1&v&&o._UZ(0,"roll-icon",0)},directives:[c.p],styles:["share-menu-trigger{--share-menu-trigger__background: var(--default__menu-trigger__background, var(--bu-brand__color, black));--share-menu-trigger__background--hover: var(--default__menu-trigger__background--hover, var(--bu-brand__color--hover, black));--share-menu-trigger__color: var(--default__menu-trigger__color, var(--ui-text__color--light, white));--share-menu-trigger__color--hover: var(--default__menu-trigger__color--hover, var(--ui-text__color--light, white))}share-menu-trigger{--smt-bg: var(--share-menu-trigger__background);--smt-color: var(--share-menu-trigger__color);background:var(--smt-bg)!important;color:var(--smt-color)!important;transition:background .2s ease-out;border-radius:3px;display:inline-flex;align-items:center;justify-content:center;min-width:48px;min-height:36px;-webkit-user-select:none;user-select:none;cursor:pointer}@media (pointer: fine){share-menu-trigger:hover{--smt-bg: var(--share-menu-trigger__background--hover);--smt-color: var(--share-menu-trigger__color--hover)}}\n"],encapsulation:2,changeDetection:0}),a})()},317:(ot,pe,r)=>{"use strict";r.d(pe,{t:()=>a});var o=r(9808),c=r(3641),g=r(5e3);let a=(()=>{class u{}return u.\u0275fac=function(p){return new(p||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({imports:[[o.ez,c.X]]}),u})()},6955:(ot,pe,r)=>{"use strict";r.d(pe,{P:()=>a});var o=r(5e3),c=r(4716);const g=["input"];let a=(()=>{class u{constructor(p){this.logger=p,this.selection=new o.vpe}onChange(p){const d=this.inputRef.nativeElement.files;if(this.maxSize&&Array.from(d).some(h=>h.size>this.maxSize))return this.logger.debug("FilePickerComponent: max file size exceeded"),!1;this.selection.emit(d),this.inputRef.nativeElement.value=""}}return u.\u0275fac=function(p){return new(p||u)(o.Y36(c.m))},u.\u0275cmp=o.Xpm({type:u,selectors:[["file-picker"]],viewQuery:function(p,d){if(1&p&&o.Gf(g,5),2&p){let h;o.iGM(h=o.CRH())&&(d.inputRef=h.first)}},inputs:{accept:"accept",multiple:"multiple",maxSize:"maxSize"},outputs:{selection:"selection"},decls:2,vars:2,consts:[["data-test-id","image-picker-input","type","file","title","",3,"accept","multiple","change"],["input",""]],template:function(p,d){1&p&&(o.TgZ(0,"input",0,1),o.NdJ("change",function(_){return d.onChange(_)}),o.qZA()),2&p&&o.Q6J("accept",d.accept)("multiple",d.multiple)},styles:["[_nghost-%COMP%]{overflow:hidden;position:absolute;bottom:0;left:0;width:100%;height:100%}[_nghost-%COMP%]   input[type=file][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;position:absolute;top:0;left:0;height:100%;width:100%;opacity:0;outline:none;z-index:1;cursor:pointer}"],changeDetection:0}),u})()},283:(ot,pe,r)=>{"use strict";r.d(pe,{T:()=>o,d:()=>c});const o=99614720,c="image/png,image/jpeg,image/gif,.heic"},348:(ot,pe,r)=>{"use strict";r.d(pe,{C:()=>g});var o=r(9808),c=r(5e3);let g=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[[o.ez]]}),a})()},6865:(ot,pe,r)=>{"use strict";r.d(pe,{H:()=>g});var o=r(5e3),c=r(8478);let g=(()=>{class a{constructor(v,p){this.elemRef=v,this.platform=p,this.forceHighResolution=!1,this.focalPointEnabled=!0,this.backgroundSize="cover",this.backgroundPositionX="center",this.backgroundPositionY="center",this.maxUpscale=1.25}ngOnChanges(v){var p,d;v.image_info&&((v.image_info.firstChange||(null===(p=v.image_info.currentValue)||void 0===p?void 0:p.full_url)!==(null===(d=v.image_info.previousValue)||void 0===d?void 0:d.full_url))&&this.setBackgroundImage(this.image_info),this.applyFocalPoint(this.image_info))}setBackgroundImage(v){window.requestAnimationFrame(()=>{if(this.elemRef.nativeElement.style.backgroundImage="",this.platform.isWebkit&&this.image_info.gif_video_url)this.elemRef.nativeElement.style.backgroundImage=`url(${this.image_info.gif_video_url})`;else{const p=this.extractImgSet(v);this.elemRef.nativeElement.style.backgroundImage=p,this.elemRef.nativeElement.style.backgroundImage||(this.elemRef.nativeElement.style.backgroundImage=`-webkit-${p}`)}})}extractImgSet(v){const p=[];let d=0;if(!this.forceHighResolution){const h=this.elemRef.nativeElement.offsetHeight,_=this.elemRef.nativeElement.offsetWidth;let e,E,f;v.medium_url&&(e=v.medium_height||1,E=v.medium_width||1,f=Math.max(h/e,_/E),f<=this.maxUpscale&&p.push(`url(${v.medium_url}) ${++d}x`))}return v.full_url&&p.push(`url(${v.full_url}) ${++d}x`),p.length?`image-set( ${p.join(", ")} )`:""}applyFocalPoint(v){if(!this.focalPointEnabled)return;const p=this.calcOffset(v.focal_point_x),d=this.calcOffset(v.focal_point_y);this.backgroundPositionX=`${p}%`,this.backgroundPositionY=`${d}%`}calcOffset(v){if("number"!=typeof v)return 50;let d;return v>50?v<75?(d=(v-50)/25*10,v+=d):(d=(100-v)/25*10,v+=d):v<50&&(v<25?(d=v/25*10,v-=d):(d=(50-v)/25*10,v-=d)),v}}return a.\u0275fac=function(v){return new(v||a)(o.Y36(o.SBq),o.Y36(c.mi))},a.\u0275cmp=o.Xpm({type:a,selectors:[["roll-background-image"]],hostVars:6,hostBindings:function(v,p){2&v&&o.Udp("background-size",p.backgroundSize)("background-position-x",p.backgroundPositionX)("background-position-y",p.backgroundPositionY)},inputs:{image_info:"image_info",forceHighResolution:"forceHighResolution",focalPointEnabled:"focalPointEnabled",backgroundSize:"backgroundSize",backgroundPositionX:"backgroundPositionX",backgroundPositionY:"backgroundPositionY"},features:[o.TTD],decls:0,vars:0,template:function(v,p){},styles:["[_nghost-%COMP%]{display:block;background-repeat:no-repeat;height:100%;width:100%}"],changeDetection:0}),a})()},0:(ot,pe,r)=>{"use strict";r.d(pe,{a:()=>g});var o=r(9808),c=r(5e3);let g=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[[o.ez]]}),a})()},3835:(ot,pe,r)=>{"use strict";r.d(pe,{Y:()=>C});var o=r(5e3),c=r(1135),g=r(9646),a=r(4782),u=r(7460),v=r(4716),p=r(6970),d=r(9808);function h(b,A){if(1&b&&o._UZ(0,"source",9),2&b){const I=o.oxw(3).ngIf;o.hYB("srcset","",I.medium_url," ",I.medium_width,"w",o.LSH),o.MGl("sizes","",I.medium_width,"px")}}function _(b,A){if(1&b&&o._UZ(0,"source",10),2&b){const I=o.oxw(3).ngIf;o.s9C("srcset",I.full_url.replace("http://","https://"),o.LSH)}}function e(b,A){if(1&b){const I=o.EpF();o.TgZ(0,"picture",5),o.YNc(1,h,1,3,"source",6),o.YNc(2,_,1,1,"source",7),o.TgZ(3,"img",8),o.NdJ("load",function(O){return o.CHM(I),o.oxw(3).onLoad(O)})("error",function(O){return o.CHM(I),o.oxw(3).onError(O)}),o.qZA()()}if(2&b){const I=o.oxw(2).ngIf,D=o.oxw();o.xp6(1),o.Q6J("ngIf",!!I.medium_url&&!D.forceHighResolution),o.xp6(1),o.Q6J("ngIf",null==I.full_url?null:I.full_url.startsWith("http://")),o.xp6(1),o.Tol(D.imageClass),o.Udp("object-fit",D.objectFit),o.Q6J("src",I.full_url,o.LSH),o.uIk("height",D.height||"auto")("width",D.width||"auto")}}function E(b,A){if(1&b&&o._UZ(0,"img",11),2&b){const I=o.oxw(3);o.Tol(I.imageClass),o.uIk("height",I.height||"100%")("width",I.width||"100%")}}function f(b,A){if(1&b&&(o.ynx(0),o.YNc(1,e,4,9,"picture",3),o.ALo(2,"async"),o.YNc(3,E,1,4,"ng-template",null,4,o.W1O),o.BQk()),2&b){const I=o.MAs(4),D=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!o.lcZ(2,2,D.errorSeen))("ngIfElse",I)}}function y(b,A){if(1&b){const I=o.EpF();o.TgZ(0,"video",12,13),o.NdJ("durationchange",function(O){return o.CHM(I),o.oxw(2).onLoad(O)})("error",function(O){return o.CHM(I),o.oxw(2).onError(O)}),o.qZA()}if(2&b){const I=o.oxw().ngIf,D=o.oxw();o.Udp("object-fit",D.objectFit),o.Q6J("muted",!0)("src",I.gif_video_url,o.LSH),o.uIk("height",D.height||"auto")("width",D.width||"auto")}}function s(b,A){if(1&b&&(o.ynx(0),o.YNc(1,f,5,4,"ng-container",1),o.ALo(2,"async"),o.YNc(3,y,2,6,"ng-template",null,2,o.W1O),o.BQk()),2&b){const I=o.MAs(4),D=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,D.renderAsImg$))("ngIfElse",I)}}let C=(()=>{class b{constructor(I,D,O){this.logger=I,this.metaSvc=D,this.aspect=1,this.load=new o.vpe,this.errorSeen=new c.X(!1),this.forceHighResolution=!1,O.nativeElement.style.setProperty("display","contents","important")}set square(I){this.height=this.width=`${I}px`}ngOnChanges(I){var D;if(I.entity){this.entityToken=null===(D=this.entity)||void 0===D?void 0:D.token,this.renderAsImg$=this.entity?(0,u.f)((0,g.of)(this.metaSvc.hasConvertedGif(this.entity))).pipe((0,a.d)(1)):(0,g.of)(!0);try{this.aspect=this.entity.image_info.thumb_width/this.entity.image_info.thumb_height||1}catch(O){this.aspect=1}this.errorSeen.next(!1)}}onLoad(I){this.load.emit(I)}onError(I){this.logger.error("Roll image error",I),this.errorSeen.next(!0)}}return b.\u0275fac=function(I){return new(I||b)(o.Y36(v.m),o.Y36(p.Gl),o.Y36(o.SBq))},b.\u0275cmp=o.Xpm({type:b,selectors:[["roll-image"]],hostVars:3,hostBindings:function(I,D){2&I&&(o.uIk("data-parent-token",D.entityToken),o.Udp("--aspect",D.aspect))},inputs:{entity:"entity",height:"height",width:"width",square:"square",objectFit:"objectFit",imageClass:"imageClass",forceHighResolution:"forceHighResolution"},outputs:{load:"load"},features:[o.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["renderAsVideo",""],["style","display: contents !important;",4,"ngIf","ngIfElse"],["errorImage",""],[2,"display","contents !important"],["style","display: none !important;","media","(max-width: 1024px)",3,"srcset","sizes",4,"ngIf"],["style","display: none !important;",3,"srcset",4,"ngIf"],["draggable","false","loading","lazy",1,"roll-image__object",3,"src","load","error"],["media","(max-width: 1024px)",2,"display","none !important",3,"srcset","sizes"],[2,"display","none !important",3,"srcset"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQYV2NgYGAwBgAAOAA0Bb9bSgAAAABJRU5ErkJggg==","draggable","false","loading","lazy",1,"roll-image__object","error-image"],["type","video/mp4","loop","","autoplay","","playsinline","",1,"roll-image__object","roll-image__object--gifmp4",3,"muted","src","durationchange","error"],["player",""]],template:function(I,D){1&I&&o.YNc(0,s,5,4,"ng-container",0),2&I&&o.Q6J("ngIf",null==D.entity?null:D.entity.image_info)},directives:[d.O5],pipes:[d.Ov],styles:["roll-image{display:inline-flex;align-items:center;justify-content:center;text-align:center}roll-image .roll-image__object{display:block;max-height:100%;max-width:100%}roll-image .roll-image__object.error-image{object-fit:cover}[data-browser=safari] main-view-item:not([data-parent-layout^=float]) video.roll-image__object--gifmp4{position:absolute}\n"],encapsulation:2,changeDetection:0}),b})()},8653:(ot,pe,r)=>{"use strict";r.d(pe,{E:()=>g});var o=r(9808),c=r(5e3);let g=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[[o.ez]]}),a})()},2201:(ot,pe,r)=>{"use strict";r.d(pe,{gz:()=>h,M1:()=>Kt.M,tu:()=>f,DJ:()=>y,z6:()=>ht,MW:()=>gt,di:()=>pt,uQ:()=>qe,JO:()=>kt,dV:()=>Y,$2:()=>me,dC:()=>we.dC,ru:()=>s,a7:()=>Gt.a,qR:()=>mt,X4:()=>x.X,EK:()=>Xt.E,gy:()=>Lt,VO:()=>an,jg:()=>Rt,Yn:()=>Me.Y,zl:()=>p.z,mp:()=>Nt});var o=r(9808),c=r(7238),g=r(8923),a=r(5e3);let u=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,c.AV,g._N,g.Nm]]}),Ke})(),v=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez]]}),Ke})();var p=r(1499),d=r(5020);let h=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,v,d.j5,u,g._N,p.z]]}),Ke})();r(4835),r(4163),r(5063);var f=(()=>{return(Ke=f||(f={})).BLACK="logos/bublup-logo--black-4.svg",Ke.COLOR="logos/bublup-logo--color-4.svg",Ke.WHITE="logos/bublup-logo--white-4.svg",Ke.LINEAR_BLACK="logos/bublup-logo-horizontal--black-4.svg",Ke.LINEAR_COLOR="logos/bublup-logo-horizontal--color-4.svg",Ke.LINEAR_WHITE="logos/bublup-logo-horizontal--white-4.svg",f;var Ke})();let y=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez]]}),Ke})(),s=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez]]}),Ke})();var C=r(4703);let b=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez]]}),Ke})();var A=r(1314),I=r(6538),D=r(2732),O=r(8136),S=r(7423),x=r(3641);let L=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,S.ot,x.X]]}),Ke})();function R(Ke){return()=>Ke.scrollStrategies.block()}let G=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({providers:[{provide:I.CP,useFactory:R,deps:[A.aV]}],imports:[[o.ez,I.Tx,D.m,L,O.Vg]]}),Ke})();var k=r(6692),V=r(8893),ne=r(9670),$=r(7395);let q=(()=>{class Ke{constructor(){this.label=$localize`:@@tools:Tools`,this.icon="change-theme"}}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275cmp=a.Xpm({type:Ke,selectors:[["edit-toolbar-menu-trigger"]],inputs:{label:"label",icon:"icon"},decls:4,vars:1,consts:[["mat-button","","data-test-id","edit-toolbar-menu-trigger"],["iconName","wrench-screwdriver"]],template:function(et,nt){1&et&&(a.TgZ(0,"button",0),a._UZ(1,"roll-icon",1),a.TgZ(2,"label"),a._uU(3),a.qZA()()),2&et&&(a.xp6(3),a.Oqu(nt.label))},directives:[S.lW,$.p],styles:["[_nghost-%COMP%]{display:block}label[_ngcontent-%COMP%]{display:inline!important}"],changeDetection:0}),Ke})();const X=["*"];let de=(()=>{class Ke{constructor(et){this.actions$=et,this.menuOpened=new a.vpe}onMenuOpened(){this.closed$=new V.c,this.menuOpened.emit(this.closed$)}onMenuClosed(){this.closed$.next(!0),this.closed$.complete()}}return Ke.\u0275fac=function(et){return new(et||Ke)(a.Y36(ne.eX))},Ke.\u0275cmp=a.Xpm({type:Ke,selectors:[["edit-toolbar-menu"]],outputs:{menuOpened:"menuOpened"},ngContentSelectors:X,decls:4,vars:1,consts:[["data-test-id","edit-toolbar-menu-trigger",3,"matMenuTriggerFor","menuOpened","menuClosed"],["overlapTrigger","false",1,"rolls-menu","rolls-menu--edit-toolbar"],["editToolbarMenu","matMenu"]],template:function(et,nt){if(1&et&&(a.F$t(),a.TgZ(0,"edit-toolbar-menu-trigger",0),a.NdJ("menuOpened",function(){return nt.onMenuOpened()})("menuClosed",function(){return nt.onMenuClosed()}),a.qZA(),a.TgZ(1,"mat-menu",1,2),a.Hsn(3),a.qZA()),2&et){const Be=a.MAs(2);a.Q6J("matMenuTriggerFor",Be)}},directives:[q,I.p6,I.VK],encapsulation:2,changeDetection:0}),Ke})();var fe=r(4092);function We(Ke,Et){1&Ke&&(a.ynx(0),a.TgZ(1,"div",2)(2,"label"),a.SDv(3,3),a.qZA()(),a.BQk())}function Ne(Ke,Et){1&Ke&&(a.TgZ(0,"div",4),a._UZ(1,"roll-icon",5),a.TgZ(2,"label"),a.SDv(3,6),a.qZA()())}let dt=(()=>{class Ke{constructor(et,nt){this.uiQuery=et,this.uiSvc=nt}onClick(){this.uiSvc.updateEditMode(!1)}}return Ke.\u0275fac=function(et){return new(et||Ke)(a.Y36(fe.YU),a.Y36(fe.HL))},Ke.\u0275cmp=a.Xpm({type:Ke,selectors:[["done-editing-button"]],hostBindings:function(et,nt){1&et&&a.NdJ("click",function(){return nt.onClick()})},decls:4,vars:4,consts:function(){let Et,et;return Et=$localize`:@@doneEditing838b4be5c1ed2998ad32d2ab5adc8c082111effa6079930386351127608:Done editing`,et=$localize`:@@preview3e2a583f531f7dd9f089f68a6968e444c372c3e81295614462098694869:Preview`,[[4,"ngIf","ngIfElse"],["previewButton",""],[1,"done-editing-button","pill-button","hover-scale","ease-out"],Et,[1,"done-editing-button","pill-button","hover-scale","ease-out","preview"],["iconName","eye"],et]},template:function(et,nt){if(1&et&&(a.YNc(0,We,4,0,"ng-container",0),a.ALo(1,"async"),a.YNc(2,Ne,4,0,"ng-template",null,1,a.W1O)),2&et){const Be=a.MAs(3);a.Q6J("ngIf",!a.lcZ(1,2,nt.uiQuery.draftEdit$))("ngIfElse",Be)}},directives:[o.O5,$.p],pipes:[o.Ov],styles:[".pill-button[_ngcontent-%COMP%]{font-family:Roboto Condensed,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;font-size:16px;text-transform:capitalize}@media (max-width: 47.99em){.pill-button[_ngcontent-%COMP%]{padding:0}.pill-button[_ngcontent-%COMP%]   roll-icon[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),Ke})();var ge=r(6013);function Je(Ke,Et){1&Ke&&(a.ynx(0),a.TgZ(1,"span"),a.SDv(2,2),a.qZA(),a.BQk())}function se(Ke,Et){1&Ke&&(a.TgZ(0,"span"),a.SDv(1,3),a.qZA())}let Re=(()=>{class Ke{constructor(et){this.uiQuery=et,this.liveEdit$=this.uiQuery.liveEdit$}get hostClass(){return"edit-toolbar-badge--"+(this.uiQuery.getLiveEdit()?"live":"draft")}ngOnInit(){}}return Ke.\u0275fac=function(et){return new(et||Ke)(a.Y36(fe.YU))},Ke.\u0275cmp=a.Xpm({type:Ke,selectors:[["edit-toolbar-badge"]],hostVars:2,hostBindings:function(et,nt){2&et&&a.Tol(nt.hostClass)},decls:4,vars:4,consts:function(){let Et,et;return Et=$localize`:@@liveEditing23f27bbc1ccd9924a4c51db55579a703d7c6193f6411272245813424434:Live editing`,et=$localize`:@@draftEditing70e31995cc0ead05ebd731b9ab96e15ff827d7613298458441131623020:Draft editing`,[[4,"ngIf","ngIfElse"],["draftEdit",""],Et,et]},template:function(et,nt){if(1&et&&(a.YNc(0,Je,3,0,"ng-container",0),a.ALo(1,"async"),a.YNc(2,se,2,0,"ng-template",null,1,a.W1O)),2&et){const Be=a.MAs(3);a.Q6J("ngIf",a.lcZ(1,2,nt.liveEdit$))("ngIfElse",Be)}},directives:[o.O5],pipes:[o.Ov],styles:["[_nghost-%COMP%]{top:58px;position:fixed;z-index:1;line-height:28px;border-top-right-radius:999px;border-bottom-right-radius:999px;padding:0 10px;font-size:14px;box-shadow:2px 0 10px #00000073;text-transform:capitalize}.edit-toolbar-badge--live[_nghost-%COMP%]{background:red;color:#fff}.edit-toolbar-badge--draft[_nghost-%COMP%]{background:#fcb116;color:#000}"]}),Ke})(),pt=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,G,C.XM,b,C.GR,g.p$]]}),Ke})();a.B6R(k.K,[o.O5,de,dt,ge.U,Re],[o.Ov]);let ht=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,g.Dn]]}),Ke})();var It=r(9287),De=r(7261),Se=r(1687),Ae=r(317);let lt=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,It.Iq,I.Tx,x.X]]}),Ke})(),Ze=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,S.ot]]}),Ke})(),Rt=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,S.ot,It.Iq,I.Tx,De.ZX,Ae.t,lt,x.X,Se.V6,Ze]]}),Ke})();var Gt=r(0),Xt=r(8653);let kt=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,x.X]]}),Ke})(),qe=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,kt,D.m]]}),Ke})(),me=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez]]}),Ke})(),ce=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,d.j5]]}),Ke})(),Y=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,ce]]}),Ke})();var we=r(3576),Me=(r(5179),r(8581));let ze=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,D.m]]}),Ke})(),mt=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,d.j5,C.f2,Me.Y,ze,Y]]}),Ke})(),vt=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[x.X]]}),Ke})(),Lt=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,Gt.a,x.X,Xt.E,vt]]}),Ke})();r(890);let an=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez]]}),Ke})();var Kt=r(5524);let gt=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez]]}),Ke})();var xt=r(773);let Nt=(()=>{class Ke{}return Ke.\u0275fac=function(et){return new(et||Ke)},Ke.\u0275mod=a.oAB({type:Ke}),Ke.\u0275inj=a.cJS({imports:[[o.ez,c.AV,xt.Cq,x.X,D.m]]}),Ke})()},3576:(ot,pe,r)=>{"use strict";r.d(pe,{dC:()=>d}),r(1307);var c=r(9808),g=r(7423),a=r(6538),u=r(2732),v=r(3641),p=r(5e3);let d=(()=>{class h{}return h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=p.oAB({type:h}),h.\u0275inj=p.cJS({imports:[[c.ez,g.ot,a.Tx,u.m,v.X]]}),h})()},1307:(ot,pe,r)=>{"use strict";r.d(pe,{v:()=>O});var o=r(5e3),c=r(7579),g=r(9841),a=r(2722),u=r(4004),v=r(4782),p=r(8505),d=r(4092),h=r(7423),_=r(6538),e=r(9808);let E=(()=>{class S{constructor(){}swatchToBackgroundColor(L){return`rgb(${L[0]}, ${L[1]}, ${L[2]})`}}return S.\u0275fac=function(L){return new(L||S)},S.\u0275cmp=o.Xpm({type:S,selectors:[["palette-swatches"]],inputs:{palette:"palette"},decls:4,vars:8,consts:[[1,"palette-item-swatch"]],template:function(L,R){1&L&&o._UZ(0,"div",0)(1,"div",0)(2,"div",0)(3,"div",0),2&L&&(o.Udp("background-color",null==R.palette?null:R.palette.primary.base),o.xp6(1),o.Udp("background-color",null==R.palette?null:R.palette.secondary.base),o.xp6(1),o.Udp("background-color",null==R.palette?null:R.palette.tertiary.base),o.xp6(1),o.Udp("background-color",null==R.palette?null:R.palette.accent.base))},styles:["[_nghost-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .palette-item-swatch[_ngcontent-%COMP%]{height:16px;min-height:16px;width:16px;min-width:16px;border-radius:50%;border:1px solid #899faa}[_nghost-%COMP%]   .palette-item-swatch[_ngcontent-%COMP%]:not(:first-child){margin-left:3px}"],changeDetection:0}),S})();var f=r(7395);let y=(()=>{class S{constructor(){}get selAttr(){var L;return null===(L=this.item)||void 0===L?void 0:L.selected}}return S.\u0275fac=function(L){return new(L||S)},S.\u0275cmp=o.Xpm({type:S,selectors:[["palette-selector-item"]],hostVars:1,hostBindings:function(L,R){2&L&&o.uIk("selected",R.selAttr)},inputs:{item:"item"},decls:5,vars:2,consts:[["mat-menu-item",""],[1,"palette-item-container"],[3,"palette"],[1,"palette-item-label"]],template:function(L,R){1&L&&(o.TgZ(0,"button",0)(1,"div",1),o._UZ(2,"palette-swatches",2),o.TgZ(3,"div",3),o._uU(4),o.qZA()()()),2&L&&(o.xp6(2),o.Q6J("palette",null==R.item?null:R.item.data),o.xp6(2),o.Oqu(null==R.item?null:R.item.data.name))},directives:[_.OP,E],styles:["[_nghost-%COMP%]   .palette-item-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}[_nghost-%COMP%]   .palette-item-label[_ngcontent-%COMP%]{margin-left:10px}[selected=true][_nghost-%COMP%]   button.mat-menu-item[_ngcontent-%COMP%]{border:1px solid var(--bu-brand-blue)}"],changeDetection:0}),S})();var s=r(8271);function C(S,x){if(1&S&&(o.ynx(0),o._UZ(1,"palette-swatches",8),o.ALo(2,"async"),o.BQk()),2&S){const L=o.oxw();let R;o.xp6(1),o.Q6J("palette",null==(R=o.lcZ(2,1,L.selectedItem$))?null:R.data)}}function b(S,x){if(1&S&&(o.ynx(0),o.TgZ(1,"label",9),o._uU(2),o.qZA(),o.BQk()),2&S){const L=o.oxw();o.xp6(2),o.Oqu(L.label)}}function A(S,x){if(1&S&&(o.TgZ(0,"label",9),o.SDv(1,10),o.ALo(2,"async"),o.ALo(3,"async"),o.qZA()),2&S){const L=o.oxw();o.xp6(3),o.pQV(o.lcZ(2,2,L.items$).length)(o.lcZ(3,4,L.items$).length),o.QtT(1)}}const I=function(){return{event:"PaletteSelectorClick",category:"AdminEvent"}};function D(S,x){if(1&S){const L=o.EpF();o.TgZ(0,"palette-selector-item",11),o.NdJ("click",function(){const k=o.CHM(L).$implicit;return o.oxw().onItemClick(k)}),o.qZA()}if(2&S){const L=x.$implicit;o.Q6J("analyticsEvent",o.DdM(2,I))("item",L)}}let O=(()=>{class S{constructor(L,R,G){this.palettesQuery=L,this.palettesSvc=R,this.uiQuery=G,this.includeCustom=!0,this.showSelectedSwatches=!0,this.label="",this.selectionChange=new o.vpe,this.destroy$=new c.x}ngOnInit(){this.items$=(0,g.a)([this.uiQuery.selectActiveThemePalettes(this.includeCustom),this.palettesQuery.selectActive()]).pipe((0,a.R)(this.destroy$),(0,u.U)(([L,R])=>{const G=L.map(k=>{const V=k.id===(null==R?void 0:R.id),ne={selected:V,data:k};return V&&(this.selectedItem=ne),ne});return this.selectedItem||(this.selectedItem=G.find(k=>"default"===k.data.id),this.selectedItem.selected=!0),G}),(0,v.d)(1)),this.selectedItem$=this.items$.pipe((0,u.U)(L=>L.find(R=>R.selected)),(0,v.d)(1)),this.selectedItem$.pipe((0,a.R)(this.destroy$),(0,p.b)(this.selectionChange.emit.bind(this.selectionChange))).subscribe()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onItemClick(L){L!==this.selectedItem&&(this.selectedItem.selected=!1,L.selected=!0,this.selectedItem=L,this.palettesSvc.setActive(L.data))}}return S.\u0275fac=function(L){return new(L||S)(o.Y36(d.nU),o.Y36(d.uV),o.Y36(d.YU))},S.\u0275cmp=o.Xpm({type:S,selectors:[["palette-selector"]],inputs:{includeCustom:"includeCustom",showSelectedSwatches:"showSelectedSwatches",label:"label"},outputs:{selectionChange:"selectionChange"},decls:10,vars:9,consts:function(){let x;return x=$localize`:70a9e52eb61cb1d246edd8418a23d3c3fd7208656448728494846698126:{VAR_PLURAL, plural, =1 {1 palette} other {{INTERPOLATION} palettes}}`,x=o.Zx4(x,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),[["topbar-middle","","mat-button","","color","primary",1,"upload-button",3,"matMenuTriggerFor"],[4,"ngIf"],["iconName","carrot-down"],[4,"ngIf","ngIfElse"],["defaultLabel",""],["yPosition","above",1,"palette-selector-menu"],["paletteMenu",""],[3,"analyticsEvent","item","click",4,"ngFor","ngForOf"],[3,"palette"],[1,"action-button-label"],x,[3,"analyticsEvent","item","click"]]},template:function(L,R){if(1&L&&(o.TgZ(0,"button",0),o.YNc(1,C,3,3,"ng-container",1),o._UZ(2,"roll-icon",2),o.YNc(3,b,3,1,"ng-container",3),o.YNc(4,A,4,6,"ng-template",null,4,o.W1O),o.qZA(),o.TgZ(6,"mat-menu",5,6),o.YNc(8,D,1,3,"palette-selector-item",7),o.ALo(9,"async"),o.qZA()),2&L){const G=o.MAs(5),k=o.MAs(7);o.ekj("show-swatches",R.showSelectedSwatches),o.Q6J("matMenuTriggerFor",k),o.xp6(1),o.Q6J("ngIf",R.showSelectedSwatches),o.xp6(2),o.Q6J("ngIf",R.label)("ngIfElse",G),o.xp6(5),o.Q6J("ngForOf",o.lcZ(9,7,R.items$))}},directives:[h.lW,_.p6,e.O5,E,f.p,_.VK,e.sg,y,s.K],pipes:[e.Ov],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   roll-icon[_ngcontent-%COMP%]{font-size:8px;margin-left:3px}[_nghost-%COMP%]   .action-button-label[_ngcontent-%COMP%]{margin-left:6px}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{padding:0}@media (max-width: 23.4275em){[_nghost-%COMP%] > button.show-swatches[_ngcontent-%COMP%]   .action-button-label[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),S})()},5179:(ot,pe,r)=>{"use strict";r(1774)},1774:(ot,pe,r)=>{"use strict";r.d(pe,{A:()=>u});var o=r(5e3),c=r(890),g=r(7395),a=r(9808);let u=(()=>{class v{}return v.\u0275fac=function(d){return new(d||v)},v.\u0275cmp=o.Xpm({type:v,selectors:[["roll-flow"]],inputs:{fromRoll:"fromRoll",toRoll:"toRoll",fromTitle:"fromTitle",toTitle:"toTitle",arrowLabel:"arrowLabel"},decls:19,vars:13,consts:function(){let p,d;return p=$localize`:@@createdOnDate6af924ad78f59688b4fae4a04729bd4f08bda2a67769919877723742985:Created: ${"\ufffd0\ufffd"}:INTERPOLATION:`,d=$localize`:@@createdOnDate90c907e9d4e558a463640133624f37ac507a06a82191720819846247541:Created: ${"\ufffd0\ufffd"}:INTERPOLATION:`,[[1,"header"],[1,"header__label"],[1,"header__time"],p,d,[3,"roll"],[1,"arrow-container"],[1,"arrow-container__label"],["iconName","right-arrow"]]},template:function(d,h){1&d&&(o.TgZ(0,"div",0)(1,"span",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2),o.SDv(4,3),o.ALo(5,"date"),o.qZA()(),o._UZ(6,"span"),o.TgZ(7,"div",0)(8,"span",1),o._uU(9),o.qZA(),o.TgZ(10,"span",2),o.SDv(11,4),o.ALo(12,"date"),o.qZA()(),o._UZ(13,"roll-tile",5),o.TgZ(14,"div",6)(15,"div",7),o._uU(16),o.qZA(),o._UZ(17,"roll-icon",8),o.qZA(),o._UZ(18,"roll-tile",5)),2&d&&(o.xp6(2),o.Oqu(h.fromTitle),o.xp6(3),o.pQV(o.xi3(5,7,h.fromRoll.created_at,"shortDate")),o.QtT(4),o.xp6(4),o.Oqu(h.toTitle),o.xp6(3),o.pQV(o.xi3(12,10,h.toRoll.created_at,"shortDate")),o.QtT(11),o.xp6(1),o.Q6J("roll",h.fromRoll),o.xp6(3),o.Oqu(h.arrowLabel),o.xp6(2),o.Q6J("roll",h.toRoll))},directives:[c.d,g.p],pipes:[a.uU],styles:['[_nghost-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 48px 1fr;grid-template-rows:auto 180px;grid-template-areas:"from-header . to-header" "from-tile arrow to-tile"}@media (min-width: 35.625em){[_nghost-%COMP%]{grid-template-columns:170px 80px 170px;grid-template-rows:auto 230px}}roll-tile[_ngcontent-%COMP%]{width:100%;height:180px}@media (min-width: 35.625em){roll-tile[_ngcontent-%COMP%]{width:170px;height:230px}}.header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:baseline;margin-bottom:6px}@media (max-width: 35.615em){.header[_ngcontent-%COMP%]{flex-direction:column}}.header__label[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-style:normal;font-weight:700;letter-spacing:normal;font-size:14px;color:#0c0c0c}.header__time[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;font-size:10px;color:#726e74}.arrow-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:14px;color:#726e74;font-family:Roboto Condensed,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;font-size:12px;margin:5px}.arrow-container__label[_ngcontent-%COMP%]{text-align:center}@media (max-width: 35.615em){.arrow-container__label[_ngcontent-%COMP%]{display:none}}.arrow-container[_ngcontent-%COMP%]   roll-icon[_ngcontent-%COMP%]{color:#0c0c0c;font-size:2rem}']}),v})()},7395:(ot,pe,r)=>{"use strict";r.d(pe,{p:()=>g});var o=r(5e3);const c=["*"];let g=(()=>{class a{constructor(){}set iconName(v){this.iconClassName=`icon-${v}`}set iconSize(v){v>0&&(this.fontSize=`${v}px`)}set iconColor(v){this.fontColor=v}ngOnInit(){}}return a.\u0275fac=function(v){return new(v||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["roll-icon"]],hostVars:6,hostBindings:function(v,p){2&v&&(o.Tol(p.iconClassName),o.Udp("font-size",p.fontSize)("color",p.fontColor))},inputs:{iconName:"iconName",iconSize:"iconSize",iconColor:"iconColor"},ngContentSelectors:c,decls:1,vars:0,template:function(v,p){1&v&&(o.F$t(),o.Hsn(0))},styles:["[_nghost-%COMP%]{font-family:rolls-2!important;font-style:normal!important;font-weight:400!important;font-feature-settings:normal!important;font-variant:normal!important;text-transform:none!important;line-height:1!important;font-size:18px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}"],changeDetection:0}),a})()},3641:(ot,pe,r)=>{"use strict";r.d(pe,{X:()=>g});var o=r(9808),c=r(5e3);let g=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[[o.ez]]}),a})()},2348:(ot,pe,r)=>{"use strict";r.d(pe,{o:()=>p});var o=r(5e3),c=r(6865),g=r(7395),a=r(9808),u=r(6133);function v(d,h){1&d&&o._UZ(0,"draft-badge")}let p=(()=>{class d{constructor(){}ngOnInit(){}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275cmp=o.Xpm({type:d,selectors:[["roll-slat"]],inputs:{entity:"entity"},decls:9,vars:7,consts:function(){let h;return h=$localize`:6fda1507ecf2369dcd2875b7282b424108fc54922881519180495518482:Created on ${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"image_info"],["iconName","roll"],["Class","roll-slat__copy"],[1,"roll-slat__title"],[1,"roll-slat__created"],h,[4,"ngIf"]]},template:function(_,e){1&_&&(o._UZ(0,"roll-background-image",0)(1,"roll-icon",1),o.TgZ(2,"div",2)(3,"div",3),o._uU(4),o.qZA(),o.TgZ(5,"div",4),o.SDv(6,5),o.ALo(7,"date"),o.qZA()(),o.YNc(8,v,1,0,"draft-badge",6)),2&_&&(o.Q6J("image_info",null==e.entity?null:e.entity.image_info),o.xp6(4),o.Oqu(null==e.entity?null:e.entity.title),o.xp6(3),o.pQV(o.xi3(7,4,null==e.entity?null:e.entity.created_at,"shortDate")),o.QtT(6),o.xp6(1),o.Q6J("ngIf",null==e.entity||null==e.entity.clone_data?null:e.entity.clone_data.private_editing))},directives:[c.H,g.p,a.O5,u.x],pipes:[a.uU],styles:["[_nghost-%COMP%]{display:grid;place-items:center start;grid-template-columns:60px 40px auto;grid-template-rows:60px;grid-gap:0px 6px;gap:0px 6px;background:black;width:100%;border:2px solid black;transition:all .2s ease;box-sizing:border-box;position:relative}@media (pointer: fine){[_nghost-%COMP%]:hover{border:2px solid var(--bu-brand-blue);filter:brightness(1.5)}}[_nghost-%COMP%]   roll-icon[_ngcontent-%COMP%]{font-size:36px;color:var(--bu-brand-blue)}[_nghost-%COMP%]   roll-background-image[_ngcontent-%COMP%]{height:58px;width:58px;justify-self:center}[_nghost-%COMP%]   .roll-slat__title[_ngcontent-%COMP%]{--line-clamp: 2;-webkit-line-clamp:var(--line-clamp)!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:100%!important;display:-webkit-box!important;-webkit-box-orient:vertical!important;word-break:break-word!important;font-size:1rem;font-weight:500;color:#fff}[_nghost-%COMP%]   .roll-slat__created[_ngcontent-%COMP%]{font-size:12px;color:#c0bcc1}"],changeDetection:0}),d})()},890:(ot,pe,r)=>{"use strict";r.d(pe,{d:()=>d});var o=r(5e3),c=r(6970),g=r(9808),a=r(6865),u=r(6133);function v(h,_){if(1&h&&o._UZ(0,"roll-background-image",3),2&h){const e=o.oxw();o.Q6J("image_info",null==e.roll?null:e.roll.image_info)}}function p(h,_){1&h&&o._UZ(0,"draft-badge")}let d=(()=>{class h{constructor(e){this.metaSvc=e}}return h.\u0275fac=function(e){return new(e||h)(o.Y36(c.Gl))},h.\u0275cmp=o.Xpm({type:h,selectors:[["roll-tile"]],inputs:{roll:"roll"},decls:5,vars:3,consts:[[3,"image_info",4,"ngIf"],[1,"copy"],[4,"ngIf"],[3,"image_info"]],template:function(e,E){1&e&&(o.YNc(0,v,1,1,"roll-background-image",0),o.TgZ(1,"div",1)(2,"div"),o._uU(3),o.qZA()(),o.YNc(4,p,1,0,"draft-badge",2)),2&e&&(o.Q6J("ngIf",E.metaSvc.displaysImage(E.roll)),o.xp6(3),o.Oqu(null==E.roll?null:E.roll.title),o.xp6(1),o.Q6J("ngIf",null==E.roll||null==E.roll.clone_data?null:E.roll.clone_data.private_editing))},directives:[g.O5,a.H,u.x],styles:["[_nghost-%COMP%]{box-sizing:border-box;border:2px solid #000;border-radius:3px;background-color:#000;height:100%;width:100%;display:inline-flex;flex-direction:column;justify-content:center;position:relative;box-shadow:1px 3px 4px #00000073}.copy[_ngcontent-%COMP%]{flex:none;display:flex;justify-content:flex-start;align-items:center;font-size:14px;line-height:16px;height:60px;padding:6px}@media (min-width: 26.5625em){.copy[_ngcontent-%COMP%]{font-size:16px;line-height:18px;height:78px;padding:8px}}.copy[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-style:normal;font-weight:700;letter-spacing:normal;background-color:#0c0c0c;color:#fff;--line-clamp: 3;-webkit-line-clamp:var(--line-clamp)!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:100%!important;display:-webkit-box!important;-webkit-box-orient:vertical!important;word-break:break-word!important}"]}),h})()},1139:(ot,pe,r)=>{"use strict";r.d(pe,{z:()=>y});var o=r(7460),c=r(7579),g=r(4968),a=r(7331),u=r(7445),v=r(6451),p=r(9718),d=r(1884),h=r(2722),_=r(9300),e=r(5e3),E=r(8478);const f=["*"];let y=(()=>{class s{constructor(b,A){this.elementRef=b,this.platformSvc=A,this.destroy$=new c.x,this.scroll$=(0,g.R)(this.elementRef.nativeElement,"scroll").pipe((0,p.h)(!0)),this.scrollEnd$=this.scroll$.pipe((0,a.D)(()=>(0,u.F)(300))),this.scrolling$=(0,v.T)(this.scroll$,(0,o.f)(this.scrollEnd$)).pipe((0,d.x)()),this.shouldRecenter$=(0,o.f)(this.scrolling$),this.recenter=()=>{const I=this.centeredChild;I&&0!==I.getBoundingClientRect().left&&I.scrollIntoView({behavior:"smooth"})},A.isDesktop&&this.shouldRecenter$.pipe((0,h.R)(this.destroy$),(0,_.h)(I=>I)).subscribe(this.recenter)}get nativeElement(){return this.elementRef.nativeElement}get centeredChild(){let b=document.elementFromPoint(window.innerWidth/2,window.innerHeight/2);for(;b.parentElement&&b.parentElement!==this.elementRef.nativeElement;)b=b.parentElement;return b}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return s.\u0275fac=function(b){return new(b||s)(e.Y36(e.SBq),e.Y36(E.mi))},s.\u0275cmp=e.Xpm({type:s,selectors:[["scroll-snap-container"]],ngContentSelectors:f,decls:1,vars:0,template:function(b,A){1&b&&(e.F$t(),e.Hsn(0))},styles:["scroll-snap-container{height:100%;width:100%;box-sizing:border-box;position:relative;overflow-x:auto;scroll-snap-type:x mandatory;display:grid;align-items:flex-start;grid-auto-columns:100%;grid-auto-flow:column;grid-template-rows:100%;grid-gap:0px 0px;gap:0px 0px;scrollbar-width:none}scroll-snap-container::-webkit-scrollbar{width:0!important;display:none}scroll-snap-container .scroll-snap__element{position:relative;scroll-snap-align:start;scroll-snap-stop:always;display:flex;align-items:center;justify-content:center;height:100%;width:100%}\n"],encapsulation:2,changeDetection:0}),s})()},7033:(ot,pe,r)=>{"use strict";r.d(pe,{s:()=>g});var o=r(9808),c=r(5e3);let g=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[[o.ez]]}),a})()},2926:(ot,pe,r)=>{"use strict";r.d(pe,{B:()=>p});var o=r(1135),c=r(5e3),g=r(9808);const a=["content"];function u(d,h){if(1&d&&(c.ynx(0),c._uU(1),c.BQk()),2&d){const _=c.oxw();c.xp6(1),c.Oqu(_.href)}}const v=["*"];let p=(()=>{class d{constructor(){this.hasContent$=new o.X(!1)}ngAfterViewInit(){setTimeout(()=>this.hasContent$.next(this.content.nativeElement.childNodes.length>0))}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275cmp=c.Xpm({type:d,selectors:[["simple-link"]],viewQuery:function(_,e){if(1&_&&c.Gf(a,5),2&_){let E;c.iGM(E=c.CRH())&&(e.content=E.first)}},inputs:{href:"href"},ngContentSelectors:v,decls:6,vars:4,consts:[["rel","noopener","target","_blank",1,"link",3,"href"],["content",""],[4,"ngIf"]],template:function(_,e){1&_&&(c.F$t(),c.TgZ(0,"a",0)(1,"span",null,1),c.Hsn(3),c.qZA(),c.YNc(4,u,2,1,"ng-container",2),c.ALo(5,"async"),c.qZA()),2&_&&(c.Q6J("href",e.href,c.LSH),c.xp6(4),c.Q6J("ngIf",!c.lcZ(5,2,e.hasContent$)))},directives:[g.O5],pipes:[g.Ov],styles:["simple-link a{white-space:normal}\n"],encapsulation:2,changeDetection:0}),d})()},8581:(ot,pe,r)=>{"use strict";r.d(pe,{Y:()=>g});var o=r(9808),c=r(5e3);let g=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=c.oAB({type:a}),a.\u0275inj=c.cJS({imports:[[o.ez]]}),a})()},1499:(ot,pe,r)=>{"use strict";r.d(pe,{z:()=>u});var o=r(9808),c=r(5020),g=r(8923),a=r(5e3);let u=(()=>{class v{}return v.\u0275fac=function(d){return new(d||v)},v.\u0275mod=a.oAB({type:v}),v.\u0275inj=a.cJS({imports:[[o.ez,c.j5,g.nM]]}),v})()},304:(ot,pe,r)=>{"use strict";r.d(pe,{c:()=>p});var o=r(5e3),c=r(4092),g=r(8923),a=r(1053),u=r(9808);function v(d,h){if(1&d&&o._UZ(0,"a",2),2&d){const _=h.$implicit,e=o.oxw();o.Q6J("href",e.urlFor(_),o.LSH)("ngClass",_.key)}}let p=(()=>{class d{constructor(_,e){this.rollsQuery=_,this.dlgSvc=e}urlFor(_){return`https://www.${_.key}.com/${_.value}`}onEditClick(){const _=this.rollsQuery.getActive();this.dlgSvc.open({entity:_})}}return d.\u0275fac=function(_){return new(_||d)(o.Y36(c.Qy),o.Y36(g.KU))},d.\u0275cmp=o.Xpm({type:d,selectors:[["social-media-bar"]],inputs:{channels:"channels"},decls:3,vars:3,consts:[["edit-mode-border","",3,"click"],["target","_blank",3,"href","ngClass",4,"ngFor","ngForOf"],["target","_blank",3,"href","ngClass"]],template:function(_,e){1&_&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return e.onEditClick()}),o.qZA(),o.YNc(1,v,1,2,"a",1),o.ALo(2,"keyvalue")),2&_&&(o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.channels)))},directives:[a.C,u.sg,u.mk],pipes:[u.Nd],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:center;position:relative}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{height:24px;width:24px;background-size:cover;cursor:pointer}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:not(:last-child){margin-right:18px}[_nghost-%COMP%]   a.facebook[_ngcontent-%COMP%]{background-image:url(/assets/img/social/facebook-icon.png)}[_nghost-%COMP%]   a.instagram[_ngcontent-%COMP%]{background-image:url(/assets/img/social/instagram-icon.png)}[_nghost-%COMP%]   a.linkedin[_ngcontent-%COMP%]{background-image:url(/assets/img/social/linkedin-icon.png)}[_nghost-%COMP%]   a.twitter[_ngcontent-%COMP%]{background-image:url(/assets/img/social/twitter-icon.png)}[_nghost-%COMP%]   a.youtube[_ngcontent-%COMP%]{background-image:url(/assets/img/social/youtube-icon.png)}[_nghost-%COMP%]   [edit-mode-border][_ngcontent-%COMP%]{inset:-8px!important}"]}),d})()},6700:(ot,pe,r)=>{"use strict";r.d(pe,{n:()=>g});var o=r(5e3),c=r(773);let g=(()=>{class a{constructor(){this.diameter=60,this.position="absolute"}set fullScreen(v){this.position=v?"fixed":"absolute"}}return a.\u0275fac=function(v){return new(v||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["blocking-spinner"]],hostVars:2,hostBindings:function(v,p){2&v&&o.Udp("position",p.position)},inputs:{diameter:"diameter",fullScreen:"fullScreen"},decls:1,vars:1,consts:[[3,"diameter"]],template:function(v,p){1&v&&o._UZ(0,"mat-spinner",0),2&v&&o.Q6J("diameter",p.diameter)},directives:[c.Ou],styles:["[_nghost-%COMP%]{top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.12);z-index:9999}"]}),a})()},5524:(ot,pe,r)=>{"use strict";r.d(pe,{M:()=>a});var o=r(9808),c=r(773),g=r(5e3);let a=(()=>{class u{}return u.\u0275fac=function(p){return new(p||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({imports:[[o.ez,c.Cq]]}),u})()},1088:(ot,pe,r)=>{"use strict";r.d(pe,{o:()=>o});const o=c=>(null==c?void 0:c.replace(/<.*?>/g,""))||""},7461:(ot,pe,r)=>{"use strict";var o=r(2313),c=r(5e3),g=r(7897),a=r(3328),u=r(3443),v=r(6538),p=r(6360);const C=new c.OlP("NgEntityServiceGlobalConfig"),x=new c.OlP("DevtoolsOptions");let L=(()=>{class gt{constructor(Nt,Ke){this.ngZone=Nt,this.options=Ke,(0,u.Me)(this.ngZone,this.options)}}return gt.\u0275fac=function(Nt){return new(Nt||gt)(c.LFG(c.R0b),c.LFG(x))},gt.\u0275prov=(0,c.Yz7)({factory:function(){return new gt((0,c.LFG)(c.R0b),(0,c.LFG)(x))},token:gt,providedIn:"root"}),gt})();function R(){}function G(gt){return R}L.ctorParameters=()=>[{type:c.R0b},{type:void 0,decorators:[{type:c.tBr,args:[x]}]}];let k=(()=>{class gt{static forRoot(Nt){return{ngModule:gt,providers:[{provide:x,useValue:Nt},{provide:c.ip1,useFactory:G,deps:[L],multi:!0}]}}}return gt.\u0275fac=function(Nt){return new(Nt||gt)},gt.\u0275mod=c.oAB({type:gt}),gt.\u0275inj=c.cJS({}),gt})();var V=r(2036),ne=r(9670),$=r(7238),q=r(2201),X=r(9808),de=r(520),fe=r(5783),We=r(7633);let Ne=(()=>{class gt{}return gt.\u0275fac=function(Nt){return new(Nt||gt)},gt.\u0275mod=c.oAB({type:gt}),gt.\u0275inj=c.cJS({}),gt})();var dt=r(2077),ge=r(2985),Je=r(4004);let se=(()=>{class gt{constructor(Nt){this.authSvc=Nt}canActivate(Nt,Ke){return this.authSvc.authenticate().pipe((0,Je.U)(Et=>!!Et||(this.authSvc.redirectToLogin(),!1)))}}return gt.\u0275fac=function(Nt){return new(Nt||gt)(c.LFG(fe.e))},gt.\u0275prov=c.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),Re=(()=>{class gt{constructor(Nt){this.envSvc=Nt}canActivate(){return!this.envSvc.production}}return gt.\u0275fac=function(Nt){return new(Nt||gt)(c.LFG(g.D))},gt.\u0275prov=c.Yz7({token:gt,factory:gt.\u0275fac}),gt})();var pt=r(8478),ht=r(2859),It=r(7261);let De=(()=>{class gt{}return gt.\u0275fac=function(Nt){return new(Nt||gt)},gt.\u0275mod=c.oAB({type:gt}),gt.\u0275inj=c.cJS({imports:[[It.ZX]]}),gt})();var Se=r(4092),Ae=r(4933),lt=r(2852);let Ze=(()=>{class gt{constructor(Nt){if(Nt)throw new Error("Multiple Core Modules created")}}return gt.\u0275fac=function(Nt){return new(Nt||gt)(c.LFG(gt,12))},gt.\u0275mod=c.oAB({type:gt}),gt.\u0275inj=c.cJS({providers:[se,Re],imports:[[X.ez,de.JF,fe.n,We.Su,Ne,ge._i,Se.aT,dt.TW,lt.qt,pt.ud,ht.H,De,Ae.d]]}),gt})();var Xt,Rt=r(4035),Gt=r(2883);const kt=[],qe=new g.D;let me=":userDomain/:rollId";qe.runningExternally&&(me=window.is_root_url?"":":rollId"),kt.push({path:"404",data:{title:$localize`:@@404RouteTitleText:Oops!`,body:$localize`:@@404RouteBodyText:That page can't be found`},loadChildren:()=>r.e(104).then(r.bind(r,6104)).then(gt=>gt.NotFoundViewModule)},{path:"not-found",data:{title:$localize`:@@rollNotFoundRouteTitle:We're sorry`,body:$localize`:@@rollNotFoundRouteBody:We were unable to find this roll. It may have expired or been deleted.`},loadChildren:()=>r.e(104).then(r.bind(r,6104)).then(gt=>gt.NotFoundViewModule)}),"branding"===(null===(Xt=window.xapp_data)||void 0===Xt?void 0:Xt.id)&&kt.push({path:"",loadChildren:()=>r.e(57).then(r.bind(r,4057)).then(gt=>gt.BrandingAppModule)}),(!window.xapp_data||"single-column"===window.xapp_data.id)&&(qe.local&&kt.push({path:"rolls",canActivate:[se,Re],loadChildren:()=>r.e(388).then(r.bind(r,9388)).then(gt=>gt.RollsViewModule)}),kt.push({path:me?`${me}/settings`:"settings",canActivate:[Gt.V],loadChildren:()=>Promise.all([r.e(548),r.e(172),r.e(592),r.e(690)]).then(r.bind(r,6690)).then(gt=>gt.SettingsViewModule)},{path:me,loadChildren:()=>Promise.all([r.e(172),r.e(491)]).then(r.bind(r,9491)).then(gt=>gt.SingleColumnAppModule)})),kt.push({path:"**",redirectTo:"404"});let ce=(()=>{class gt{}return gt.\u0275fac=function(Nt){return new(Nt||gt)},gt.\u0275mod=c.oAB({type:gt}),gt.\u0275inj=c.cJS({imports:[[Rt.Bz.forRoot(kt,{onSameUrlNavigation:"ignore",paramsInheritanceStrategy:"always"})],Rt.Bz]}),gt})();var Y=r(7579),we=r(8505),be=r(6700);function Me(gt,xt){1&gt&&c._UZ(0,"blocking-spinner",1),2&gt&&c.Q6J("fullScreen",!0)}let ze=(()=>{class gt{constructor(Nt,Ke,Et){this.ngZone=Nt,this.envSvc=Ke,this.uiQuery=Et,this.editMode$=this.uiQuery.editMode$,this.destroy$=new Y.x,this.isAppBusy$=this.uiQuery.isAppBusy$,this.envSvc.production?(0,u.Ux)():(0,u.Me)(this.ngZone)}ngOnInit(){this.editMode$.pipe((0,we.b)(Nt=>this.isEditMode=Nt)).subscribe()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return gt.\u0275fac=function(Nt){return new(Nt||gt)(c.Y36(c.R0b),c.Y36(g.D),c.Y36(Se.YU))},gt.\u0275cmp=c.Xpm({type:gt,selectors:[["app-root"]],hostVars:2,hostBindings:function(Nt,Ke){2&Nt&&c.ekj("edit-mode-context",Ke.isEditMode)},decls:3,vars:3,consts:[[3,"fullScreen",4,"ngIf"],[3,"fullScreen"]],template:function(Nt,Ke){1&Nt&&(c.YNc(0,Me,1,1,"blocking-spinner",0),c.ALo(1,"async"),c._UZ(2,"router-outlet")),2&Nt&&c.Q6J("ngIf",c.lcZ(1,1,Ke.isAppBusy$))},directives:[X.O5,be.n,Rt.lC],pipes:[X.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;height:100%;width:100%}"]}),gt})();var mt=r(7322);let vt=(()=>{class gt{}return gt.\u0275fac=function(Nt){return new(Nt||gt)},gt.\u0275mod=c.oAB({type:gt,bootstrap:[ze]}),gt.\u0275inj=c.cJS({providers:[{provide:C,useValue:{baseUrl:"https://jsonplaceholder.typicode.com"}},{provide:mt.o2,useValue:{appearance:"outline"}}],imports:[[o.b2,p.PW,g.y?[]:k,V.v2,ne.cE.forRoot([Se.ZP,Se.v3,Se.x5,Se.b8,Se.hm,Se.xO]),$.AV,v.Tx,ce,Ze,q.M1]]}),gt})();const Lt=new g.D,Bt=new a.E(Lt);!Lt.local&&"true"!==Bt.getParam("dev")&&(0,c.G48)();const an=(0,u.xi)({storage:window.localStorage,key:"rolls-storage",include:["roll-auth","author-login"]});o.q6([{provide:"persistStorage",useValue:an}]).bootstrapModule(vt).catch(gt=>console.error(gt))},9914:ot=>{"use strict";ot.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9655:(ot,pe,r)=>{var o=r(9914),c=r(6931),g={};for(var a in o)o.hasOwnProperty(a)&&(g[o[a]]=a);var u=ot.exports={to:{},get:{}};function v(d,h,_){return Math.min(Math.max(h,d),_)}function p(d){var h=d.toString(16).toUpperCase();return h.length<2?"0"+h:h}u.get=function(d){var _,e;switch(d.substring(0,3).toLowerCase()){case"hsl":_=u.get.hsl(d),e="hsl";break;case"hwb":_=u.get.hwb(d),e="hwb";break;default:_=u.get.rgb(d),e="rgb"}return _?{model:e,value:_}:null},u.get.rgb=function(d){if(!d)return null;var s,C,b,y=[0,0,0,1];if(s=d.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(b=s[2],s=s[1],C=0;C<3;C++){var A=2*C;y[C]=parseInt(s.slice(A,A+2),16)}b&&(y[3]=parseInt(b,16)/255)}else if(s=d.match(/^#([a-f0-9]{3,4})$/i)){for(b=(s=s[1])[3],C=0;C<3;C++)y[C]=parseInt(s[C]+s[C],16);b&&(y[3]=parseInt(b+b,16)/255)}else if(s=d.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(C=0;C<3;C++)y[C]=parseInt(s[C+1],0);s[4]&&(y[3]=parseFloat(s[4]))}else{if(!(s=d.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(s=d.match(/(\D+)/))?"transparent"===s[1]?[0,0,0,0]:(y=o[s[1]])?(y[3]=1,y):null:null;for(C=0;C<3;C++)y[C]=Math.round(2.55*parseFloat(s[C+1]));s[4]&&(y[3]=parseFloat(s[4]))}for(C=0;C<3;C++)y[C]=v(y[C],0,255);return y[3]=v(y[3],0,1),y},u.get.hsl=function(d){if(!d)return null;var _=d.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/);if(_){var e=parseFloat(_[4]);return[(parseFloat(_[1])+360)%360,v(parseFloat(_[2]),0,100),v(parseFloat(_[3]),0,100),v(isNaN(e)?1:e,0,1)]}return null},u.get.hwb=function(d){if(!d)return null;var _=d.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(_){var e=parseFloat(_[4]);return[(parseFloat(_[1])%360+360)%360,v(parseFloat(_[2]),0,100),v(parseFloat(_[3]),0,100),v(isNaN(e)?1:e,0,1)]}return null},u.to.hex=function(){var d=c(arguments);return"#"+p(d[0])+p(d[1])+p(d[2])+(d[3]<1?p(Math.round(255*d[3])):"")},u.to.rgb=function(){var d=c(arguments);return d.length<4||1===d[3]?"rgb("+Math.round(d[0])+", "+Math.round(d[1])+", "+Math.round(d[2])+")":"rgba("+Math.round(d[0])+", "+Math.round(d[1])+", "+Math.round(d[2])+", "+d[3]+")"},u.to.rgb.percent=function(){var d=c(arguments),h=Math.round(d[0]/255*100),_=Math.round(d[1]/255*100),e=Math.round(d[2]/255*100);return d.length<4||1===d[3]?"rgb("+h+"%, "+_+"%, "+e+"%)":"rgba("+h+"%, "+_+"%, "+e+"%, "+d[3]+")"},u.to.hsl=function(){var d=c(arguments);return d.length<4||1===d[3]?"hsl("+d[0]+", "+d[1]+"%, "+d[2]+"%)":"hsla("+d[0]+", "+d[1]+"%, "+d[2]+"%, "+d[3]+")"},u.to.hwb=function(){var d=c(arguments),h="";return d.length>=4&&1!==d[3]&&(h=", "+d[3]),"hwb("+d[0]+", "+d[1]+"%, "+d[2]+"%"+h+")"},u.to.keyword=function(d){return g[d.slice(0,3)]}},3608:(ot,pe,r)=>{const o=r(9655),c=r(798),g=[].slice,a=["keyword","gray","hex"],u={};for(const y of Object.keys(c))u[g.call(c[y].labels).sort().join("")]=y;const v={};function p(y,s){if(!(this instanceof p))return new p(y,s);if(s&&s in a&&(s=null),s&&!(s in c))throw new Error("Unknown model: "+s);let C,b;if(null==y)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(y instanceof p)this.model=y.model,this.color=y.color.slice(),this.valpha=y.valpha;else if("string"==typeof y){const A=o.get(y);if(null===A)throw new Error("Unable to parse color from string: "+y);this.model=A.model,b=c[this.model].channels,this.color=A.value.slice(0,b),this.valpha="number"==typeof A.value[b]?A.value[b]:1}else if(y.length>0){this.model=s||"rgb",b=c[this.model].channels;const A=g.call(y,0,b);this.color=f(A,b),this.valpha="number"==typeof y[b]?y[b]:1}else if("number"==typeof y)this.model="rgb",this.color=[y>>16&255,y>>8&255,255&y],this.valpha=1;else{this.valpha=1;const A=Object.keys(y);"alpha"in y&&(A.splice(A.indexOf("alpha"),1),this.valpha="number"==typeof y.alpha?y.alpha:0);const I=A.sort().join("");if(!(I in u))throw new Error("Unable to parse color from object: "+JSON.stringify(y));this.model=u[I];const D=c[this.model].labels,O=[];for(C=0;C<D.length;C++)O.push(y[D[C]]);this.color=f(O)}if(v[this.model])for(b=c[this.model].channels,C=0;C<b;C++){const A=v[this.model][C];A&&(this.color[C]=A(this.color[C]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}p.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(y){let s=this.model in o.to?this:this.rgb();s=s.round("number"==typeof y?y:1);const C=1===s.valpha?s.color:s.color.concat(this.valpha);return o.to[s.model](C)},percentString(y){const s=this.rgb().round("number"==typeof y?y:1),C=1===s.valpha?s.color:s.color.concat(this.valpha);return o.to.rgb.percent(C)},array(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object(){const y={},s=c[this.model].channels,C=c[this.model].labels;for(let b=0;b<s;b++)y[C[b]]=this.color[b];return 1!==this.valpha&&(y.alpha=this.valpha),y},unitArray(){const y=this.rgb().color;return y[0]/=255,y[1]/=255,y[2]/=255,1!==this.valpha&&y.push(this.valpha),y},unitObject(){const y=this.rgb().object();return y.r/=255,y.g/=255,y.b/=255,1!==this.valpha&&(y.alpha=this.valpha),y},round(y){return y=Math.max(y||0,0),new p(this.color.map(function h(y){return function(s){return function d(y,s){return Number(y.toFixed(s))}(s,y)}}(y)).concat(this.valpha),this.model)},alpha(y){return arguments.length>0?new p(this.color.concat(Math.max(0,Math.min(1,y))),this.model):this.valpha},red:_("rgb",0,e(255)),green:_("rgb",1,e(255)),blue:_("rgb",2,e(255)),hue:_(["hsl","hsv","hsl","hwb","hcg"],0,y=>(y%360+360)%360),saturationl:_("hsl",1,e(100)),lightness:_("hsl",2,e(100)),saturationv:_("hsv",1,e(100)),value:_("hsv",2,e(100)),chroma:_("hcg",1,e(100)),gray:_("hcg",2,e(100)),white:_("hwb",1,e(100)),wblack:_("hwb",2,e(100)),cyan:_("cmyk",0,e(100)),magenta:_("cmyk",1,e(100)),yellow:_("cmyk",2,e(100)),black:_("cmyk",3,e(100)),x:_("xyz",0,e(100)),y:_("xyz",1,e(100)),z:_("xyz",2,e(100)),l:_("lab",0,e(100)),a:_("lab",1),b:_("lab",2),keyword(y){return arguments.length>0?new p(y):c[this.model].keyword(this.color)},hex(y){return arguments.length>0?new p(y):o.to.hex(this.rgb().round().color)},rgbNumber(){const y=this.rgb().color;return(255&y[0])<<16|(255&y[1])<<8|255&y[2]},luminosity(){const y=this.rgb().color,s=[];for(const[C,b]of y.entries()){const A=b/255;s[C]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}return.2126*s[0]+.7152*s[1]+.0722*s[2]},contrast(y){const s=this.luminosity(),C=y.luminosity();return s>C?(s+.05)/(C+.05):(C+.05)/(s+.05)},level(y){const s=this.contrast(y);return s>=7.1?"AAA":s>=4.5?"AA":""},isDark(){const y=this.rgb().color;return(299*y[0]+587*y[1]+114*y[2])/1e3<128},isLight(){return!this.isDark()},negate(){const y=this.rgb();for(let s=0;s<3;s++)y.color[s]=255-y.color[s];return y},lighten(y){const s=this.hsl();return s.color[2]+=s.color[2]*y,s},darken(y){const s=this.hsl();return s.color[2]-=s.color[2]*y,s},saturate(y){const s=this.hsl();return s.color[1]+=s.color[1]*y,s},desaturate(y){const s=this.hsl();return s.color[1]-=s.color[1]*y,s},whiten(y){const s=this.hwb();return s.color[1]+=s.color[1]*y,s},blacken(y){const s=this.hwb();return s.color[2]+=s.color[2]*y,s},grayscale(){const y=this.rgb().color,s=.3*y[0]+.59*y[1]+.11*y[2];return p.rgb(s,s,s)},fade(y){return this.alpha(this.valpha-this.valpha*y)},opaquer(y){return this.alpha(this.valpha+this.valpha*y)},rotate(y){const s=this.hsl();let C=s.color[0];return C=(C+y)%360,C=C<0?360+C:C,s.color[0]=C,s},mix(y,s){if(!y||!y.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof y);const C=y.rgb(),b=this.rgb(),A=void 0===s?.5:s,I=2*A-1,D=C.alpha()-b.alpha(),O=((I*D==-1?I:(I+D)/(1+I*D))+1)/2,S=1-O;return p.rgb(O*C.red()+S*b.red(),O*C.green()+S*b.green(),O*C.blue()+S*b.blue(),C.alpha()*A+b.alpha()*(1-A))}};for(const y of Object.keys(c)){if(a.includes(y))continue;const s=c[y].channels;p.prototype[y]=function(){if(this.model===y)return new p(this);if(arguments.length>0)return new p(arguments,y);const C="number"==typeof arguments[s]?s:this.valpha;return new p(E(c[this.model][y].raw(this.color)).concat(C),y)},p[y]=function(C){return"number"==typeof C&&(C=f(g.call(arguments),s)),new p(C,y)}}function _(y,s,C){y=Array.isArray(y)?y:[y];for(const b of y)(v[b]||(v[b]=[]))[s]=C;return y=y[0],function(b){let A;return arguments.length>0?(C&&(b=C(b)),A=this[y](),A.color[s]=b,A):(A=this[y]().color[s],C&&(A=C(A)),A)}}function e(y){return function(s){return Math.max(0,Math.min(y,s))}}function E(y){return Array.isArray(y)?y:[y]}function f(y,s){for(let C=0;C<s;C++)"number"!=typeof y[C]&&(y[C]=0);return y}ot.exports=p},2539:(ot,pe,r)=>{const o=r(1382),c={};for(const u of Object.keys(o))c[o[u]]=u;const g={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ot.exports=g;for(const u of Object.keys(g)){if(!("channels"in g[u]))throw new Error("missing channels property: "+u);if(!("labels"in g[u]))throw new Error("missing channel labels property: "+u);if(g[u].labels.length!==g[u].channels)throw new Error("channel and label counts mismatch: "+u);const{channels:v,labels:p}=g[u];delete g[u].channels,delete g[u].labels,Object.defineProperty(g[u],"channels",{value:v}),Object.defineProperty(g[u],"labels",{value:p})}function a(u,v){return(u[0]-v[0])**2+(u[1]-v[1])**2+(u[2]-v[2])**2}g.rgb.hsl=function(u){const v=u[0]/255,p=u[1]/255,d=u[2]/255,h=Math.min(v,p,d),_=Math.max(v,p,d),e=_-h;let E,f;_===h?E=0:v===_?E=(p-d)/e:p===_?E=2+(d-v)/e:d===_&&(E=4+(v-p)/e),E=Math.min(60*E,360),E<0&&(E+=360);const y=(h+_)/2;return f=_===h?0:y<=.5?e/(_+h):e/(2-_-h),[E,100*f,100*y]},g.rgb.hsv=function(u){let v,p,d,h,_;const e=u[0]/255,E=u[1]/255,f=u[2]/255,y=Math.max(e,E,f),s=y-Math.min(e,E,f),C=function(b){return(y-b)/6/s+.5};return 0===s?(h=0,_=0):(_=s/y,v=C(e),p=C(E),d=C(f),e===y?h=d-p:E===y?h=1/3+v-d:f===y&&(h=2/3+p-v),h<0?h+=1:h>1&&(h-=1)),[360*h,100*_,100*y]},g.rgb.hwb=function(u){const v=u[0],p=u[1];let d=u[2];const h=g.rgb.hsl(u)[0],_=1/255*Math.min(v,Math.min(p,d));return d=1-1/255*Math.max(v,Math.max(p,d)),[h,100*_,100*d]},g.rgb.cmyk=function(u){const v=u[0]/255,p=u[1]/255,d=u[2]/255,h=Math.min(1-v,1-p,1-d);return[100*((1-v-h)/(1-h)||0),100*((1-p-h)/(1-h)||0),100*((1-d-h)/(1-h)||0),100*h]},g.rgb.keyword=function(u){const v=c[u];if(v)return v;let d,p=1/0;for(const h of Object.keys(o)){const e=a(u,o[h]);e<p&&(p=e,d=h)}return d},g.keyword.rgb=function(u){return o[u]},g.rgb.xyz=function(u){let v=u[0]/255,p=u[1]/255,d=u[2]/255;return v=v>.04045?((v+.055)/1.055)**2.4:v/12.92,p=p>.04045?((p+.055)/1.055)**2.4:p/12.92,d=d>.04045?((d+.055)/1.055)**2.4:d/12.92,[100*(.4124*v+.3576*p+.1805*d),100*(.2126*v+.7152*p+.0722*d),100*(.0193*v+.1192*p+.9505*d)]},g.rgb.lab=function(u){const v=g.rgb.xyz(u);let p=v[0],d=v[1],h=v[2];return p/=95.047,d/=100,h/=108.883,p=p>.008856?p**(1/3):7.787*p+16/116,d=d>.008856?d**(1/3):7.787*d+16/116,h=h>.008856?h**(1/3):7.787*h+16/116,[116*d-16,500*(p-d),200*(d-h)]},g.hsl.rgb=function(u){const v=u[0]/360,p=u[1]/100,d=u[2]/100;let h,_,e;if(0===p)return e=255*d,[e,e,e];h=d<.5?d*(1+p):d+p-d*p;const E=2*d-h,f=[0,0,0];for(let y=0;y<3;y++)_=v+1/3*-(y-1),_<0&&_++,_>1&&_--,e=6*_<1?E+6*(h-E)*_:2*_<1?h:3*_<2?E+(h-E)*(2/3-_)*6:E,f[y]=255*e;return f},g.hsl.hsv=function(u){const v=u[0];let p=u[1]/100,d=u[2]/100,h=p;const _=Math.max(d,.01);return d*=2,p*=d<=1?d:2-d,h*=_<=1?_:2-_,[v,100*(0===d?2*h/(_+h):2*p/(d+p)),(d+p)/2*100]},g.hsv.rgb=function(u){const v=u[0]/60,p=u[1]/100;let d=u[2]/100;const h=Math.floor(v)%6,_=v-Math.floor(v),e=255*d*(1-p),E=255*d*(1-p*_),f=255*d*(1-p*(1-_));switch(d*=255,h){case 0:return[d,f,e];case 1:return[E,d,e];case 2:return[e,d,f];case 3:return[e,E,d];case 4:return[f,e,d];case 5:return[d,e,E]}},g.hsv.hsl=function(u){const v=u[0],p=u[1]/100,d=u[2]/100,h=Math.max(d,.01);let _,e;e=(2-p)*d;const E=(2-p)*h;return _=p*h,_/=E<=1?E:2-E,_=_||0,e/=2,[v,100*_,100*e]},g.hwb.rgb=function(u){const v=u[0]/360;let p=u[1]/100,d=u[2]/100;const h=p+d;let _;h>1&&(p/=h,d/=h);const e=Math.floor(6*v),E=1-d;_=6*v-e,0!=(1&e)&&(_=1-_);const f=p+_*(E-p);let y,s,C;switch(e){default:case 6:case 0:y=E,s=f,C=p;break;case 1:y=f,s=E,C=p;break;case 2:y=p,s=E,C=f;break;case 3:y=p,s=f,C=E;break;case 4:y=f,s=p,C=E;break;case 5:y=E,s=p,C=f}return[255*y,255*s,255*C]},g.cmyk.rgb=function(u){const p=u[1]/100,d=u[2]/100,h=u[3]/100;return[255*(1-Math.min(1,u[0]/100*(1-h)+h)),255*(1-Math.min(1,p*(1-h)+h)),255*(1-Math.min(1,d*(1-h)+h))]},g.xyz.rgb=function(u){const v=u[0]/100,p=u[1]/100,d=u[2]/100;let h,_,e;return h=3.2406*v+-1.5372*p+-.4986*d,_=-.9689*v+1.8758*p+.0415*d,e=.0557*v+-.204*p+1.057*d,h=h>.0031308?1.055*h**(1/2.4)-.055:12.92*h,_=_>.0031308?1.055*_**(1/2.4)-.055:12.92*_,e=e>.0031308?1.055*e**(1/2.4)-.055:12.92*e,h=Math.min(Math.max(0,h),1),_=Math.min(Math.max(0,_),1),e=Math.min(Math.max(0,e),1),[255*h,255*_,255*e]},g.xyz.lab=function(u){let v=u[0],p=u[1],d=u[2];return v/=95.047,p/=100,d/=108.883,v=v>.008856?v**(1/3):7.787*v+16/116,p=p>.008856?p**(1/3):7.787*p+16/116,d=d>.008856?d**(1/3):7.787*d+16/116,[116*p-16,500*(v-p),200*(p-d)]},g.lab.xyz=function(u){let h,_,e;_=(u[0]+16)/116,h=u[1]/500+_,e=_-u[2]/200;const E=_**3,f=h**3,y=e**3;return _=E>.008856?E:(_-16/116)/7.787,h=f>.008856?f:(h-16/116)/7.787,e=y>.008856?y:(e-16/116)/7.787,h*=95.047,_*=100,e*=108.883,[h,_,e]},g.lab.lch=function(u){const v=u[0],p=u[1],d=u[2];let h;return h=360*Math.atan2(d,p)/2/Math.PI,h<0&&(h+=360),[v,Math.sqrt(p*p+d*d),h]},g.lch.lab=function(u){const p=u[1],h=u[2]/360*2*Math.PI;return[u[0],p*Math.cos(h),p*Math.sin(h)]},g.rgb.ansi16=function(u,v=null){const[p,d,h]=u;let _=null===v?g.rgb.hsv(u)[2]:v;if(_=Math.round(_/50),0===_)return 30;let e=30+(Math.round(h/255)<<2|Math.round(d/255)<<1|Math.round(p/255));return 2===_&&(e+=60),e},g.hsv.ansi16=function(u){return g.rgb.ansi16(g.hsv.rgb(u),u[2])},g.rgb.ansi256=function(u){const v=u[0],p=u[1],d=u[2];return v===p&&p===d?v<8?16:v>248?231:Math.round((v-8)/247*24)+232:16+36*Math.round(v/255*5)+6*Math.round(p/255*5)+Math.round(d/255*5)},g.ansi16.rgb=function(u){let v=u%10;if(0===v||7===v)return u>50&&(v+=3.5),v=v/10.5*255,[v,v,v];const p=.5*(1+~~(u>50));return[(1&v)*p*255,(v>>1&1)*p*255,(v>>2&1)*p*255]},g.ansi256.rgb=function(u){if(u>=232){const _=10*(u-232)+8;return[_,_,_]}let v;return u-=16,[Math.floor(u/36)/5*255,Math.floor((v=u%36)/6)/5*255,v%6/5*255]},g.rgb.hex=function(u){const p=(((255&Math.round(u[0]))<<16)+((255&Math.round(u[1]))<<8)+(255&Math.round(u[2]))).toString(16).toUpperCase();return"000000".substring(p.length)+p},g.hex.rgb=function(u){const v=u.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!v)return[0,0,0];let p=v[0];3===v[0].length&&(p=p.split("").map(E=>E+E).join(""));const d=parseInt(p,16);return[d>>16&255,d>>8&255,255&d]},g.rgb.hcg=function(u){const v=u[0]/255,p=u[1]/255,d=u[2]/255,h=Math.max(Math.max(v,p),d),_=Math.min(Math.min(v,p),d),e=h-_;let E,f;return E=e<1?_/(1-e):0,f=e<=0?0:h===v?(p-d)/e%6:h===p?2+(d-v)/e:4+(v-p)/e,f/=6,f%=1,[360*f,100*e,100*E]},g.hsl.hcg=function(u){const v=u[1]/100,p=u[2]/100,d=p<.5?2*v*p:2*v*(1-p);let h=0;return d<1&&(h=(p-.5*d)/(1-d)),[u[0],100*d,100*h]},g.hsv.hcg=function(u){const p=u[2]/100,d=u[1]/100*p;let h=0;return d<1&&(h=(p-d)/(1-d)),[u[0],100*d,100*h]},g.hcg.rgb=function(u){const p=u[1]/100,d=u[2]/100;if(0===p)return[255*d,255*d,255*d];const h=[0,0,0],_=u[0]/360%1*6,e=_%1,E=1-e;let f=0;switch(Math.floor(_)){case 0:h[0]=1,h[1]=e,h[2]=0;break;case 1:h[0]=E,h[1]=1,h[2]=0;break;case 2:h[0]=0,h[1]=1,h[2]=e;break;case 3:h[0]=0,h[1]=E,h[2]=1;break;case 4:h[0]=e,h[1]=0,h[2]=1;break;default:h[0]=1,h[1]=0,h[2]=E}return f=(1-p)*d,[255*(p*h[0]+f),255*(p*h[1]+f),255*(p*h[2]+f)]},g.hcg.hsv=function(u){const v=u[1]/100,d=v+u[2]/100*(1-v);let h=0;return d>0&&(h=v/d),[u[0],100*h,100*d]},g.hcg.hsl=function(u){const v=u[1]/100,d=u[2]/100*(1-v)+.5*v;let h=0;return d>0&&d<.5?h=v/(2*d):d>=.5&&d<1&&(h=v/(2*(1-d))),[u[0],100*h,100*d]},g.hcg.hwb=function(u){const v=u[1]/100,d=v+u[2]/100*(1-v);return[u[0],100*(d-v),100*(1-d)]},g.hwb.hcg=function(u){const d=1-u[2]/100,h=d-u[1]/100;let _=0;return h<1&&(_=(d-h)/(1-h)),[u[0],100*h,100*_]},g.apple.rgb=function(u){return[u[0]/65535*255,u[1]/65535*255,u[2]/65535*255]},g.rgb.apple=function(u){return[u[0]/255*65535,u[1]/255*65535,u[2]/255*65535]},g.gray.rgb=function(u){return[u[0]/100*255,u[0]/100*255,u[0]/100*255]},g.gray.hsl=function(u){return[0,0,u[0]]},g.gray.hsv=g.gray.hsl,g.gray.hwb=function(u){return[0,100,u[0]]},g.gray.cmyk=function(u){return[0,0,0,u[0]]},g.gray.lab=function(u){return[u[0],0,0]},g.gray.hex=function(u){const v=255&Math.round(u[0]/100*255),d=((v<<16)+(v<<8)+v).toString(16).toUpperCase();return"000000".substring(d.length)+d},g.rgb.gray=function(u){return[(u[0]+u[1]+u[2])/3/255*100]}},798:(ot,pe,r)=>{const o=r(2539),c=r(2535),g={};Object.keys(o).forEach(p=>{g[p]={},Object.defineProperty(g[p],"channels",{value:o[p].channels}),Object.defineProperty(g[p],"labels",{value:o[p].labels});const d=c(p);Object.keys(d).forEach(_=>{const e=d[_];g[p][_]=function v(p){const d=function(...h){const _=h[0];if(null==_)return _;_.length>1&&(h=_);const e=p(h);if("object"==typeof e)for(let E=e.length,f=0;f<E;f++)e[f]=Math.round(e[f]);return e};return"conversion"in p&&(d.conversion=p.conversion),d}(e),g[p][_].raw=function u(p){const d=function(...h){const _=h[0];return null==_?_:(_.length>1&&(h=_),p(h))};return"conversion"in p&&(d.conversion=p.conversion),d}(e)})}),ot.exports=g},2535:(ot,pe,r)=>{const o=r(2539);function a(v,p){return function(d){return p(v(d))}}function u(v,p){const d=[p[v].parent,v];let h=o[p[v].parent][v],_=p[v].parent;for(;p[_].parent;)d.unshift(p[_].parent),h=a(o[p[_].parent][_],h),_=p[_].parent;return h.conversion=d,h}ot.exports=function(v){const p=function g(v){const p=function c(){const v={},p=Object.keys(o);for(let d=p.length,h=0;h<d;h++)v[p[h]]={distance:-1,parent:null};return v}(),d=[v];for(p[v].distance=0;d.length;){const h=d.pop(),_=Object.keys(o[h]);for(let e=_.length,E=0;E<e;E++){const f=_[E],y=p[f];-1===y.distance&&(y.distance=p[h].distance+1,y.parent=h,d.unshift(f))}}return p}(v),d={},h=Object.keys(p);for(let _=h.length,e=0;e<_;e++){const E=h[e];null!==p[E].parent&&(d[E]=u(E,p))}return d}},1382:ot=>{"use strict";ot.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8893:(ot,pe,r)=>{"use strict";r.d(pe,{c:()=>c});var o=r(7579);class c extends o.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(a){const{hasError:u,_hasValue:v,_value:p,thrownError:d,isStopped:h,_isComplete:_}=this;u?a.error(d):(h||_)&&(v&&a.next(p),a.complete())}next(a){this.isStopped||(this._value=a,this._hasValue=!0)}complete(){const{_hasValue:a,_value:u,_isComplete:v}=this;v||(this._isComplete=!0,a&&super.next(u),super.complete())}}},1135:(ot,pe,r)=>{"use strict";r.d(pe,{X:()=>c});var o=r(7579);class c extends o.x{constructor(a){super(),this._value=a}get value(){return this.getValue()}_subscribe(a){const u=super._subscribe(a);return!u.closed&&a.next(this._value),u}getValue(){const{hasError:a,thrownError:u,_value:v}=this;if(a)throw u;return this._throwIfClosed(),v}next(a){super.next(this._value=a)}}},9751:(ot,pe,r)=>{"use strict";r.d(pe,{y:()=>d});var o=r(930),c=r(727),g=r(8822),a=r(9635),u=r(2416),v=r(576),p=r(2806);let d=(()=>{class E{constructor(y){y&&(this._subscribe=y)}lift(y){const s=new E;return s.source=this,s.operator=y,s}subscribe(y,s,C){const b=function e(E){return E&&E instanceof o.Lv||function _(E){return E&&(0,v.m)(E.next)&&(0,v.m)(E.error)&&(0,v.m)(E.complete)}(E)&&(0,c.Nn)(E)}(y)?y:new o.Hp(y,s,C);return(0,p.x)(()=>{const{operator:A,source:I}=this;b.add(A?A.call(b,I):I?this._subscribe(b):this._trySubscribe(b))}),b}_trySubscribe(y){try{return this._subscribe(y)}catch(s){y.error(s)}}forEach(y,s){return new(s=h(s))((C,b)=>{let A;A=this.subscribe(I=>{try{y(I)}catch(D){b(D),null==A||A.unsubscribe()}},b,C)})}_subscribe(y){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(y)}[g.L](){return this}pipe(...y){return(0,a.U)(y)(this)}toPromise(y){return new(y=h(y))((s,C)=>{let b;this.subscribe(A=>b=A,A=>C(A),()=>s(b))})}}return E.create=f=>new E(f),E})();function h(E){var f;return null!==(f=null!=E?E:u.v.Promise)&&void 0!==f?f:Promise}},4707:(ot,pe,r)=>{"use strict";r.d(pe,{t:()=>g});var o=r(7579),c=r(6063);class g extends o.x{constructor(u=1/0,v=1/0,p=c.l){super(),this._bufferSize=u,this._windowTime=v,this._timestampProvider=p,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=v===1/0,this._bufferSize=Math.max(1,u),this._windowTime=Math.max(1,v)}next(u){const{isStopped:v,_buffer:p,_infiniteTimeWindow:d,_timestampProvider:h,_windowTime:_}=this;v||(p.push(u),!d&&p.push(h.now()+_)),this._trimBuffer(),super.next(u)}_subscribe(u){this._throwIfClosed(),this._trimBuffer();const v=this._innerSubscribe(u),{_infiniteTimeWindow:p,_buffer:d}=this,h=d.slice();for(let _=0;_<h.length&&!u.closed;_+=p?1:2)u.next(h[_]);return this._checkFinalizedStatuses(u),v}_trimBuffer(){const{_bufferSize:u,_timestampProvider:v,_buffer:p,_infiniteTimeWindow:d}=this,h=(d?1:2)*u;if(u<1/0&&h<p.length&&p.splice(0,p.length-h),!d){const _=v.now();let e=0;for(let E=1;E<p.length&&p[E]<=_;E+=2)e=E;e&&p.splice(0,e+1)}}}},7579:(ot,pe,r)=>{"use strict";r.d(pe,{x:()=>p});var o=r(9751),c=r(727);const a=(0,r(3888).d)(h=>function(){h(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var u=r(8737),v=r(2806);let p=(()=>{class h extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const E=new d(this,this);return E.operator=e,E}_throwIfClosed(){if(this.closed)throw new a}next(e){(0,v.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const E=this.observers.slice();for(const f of E)f.next(e)}})}error(e){(0,v.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:E}=this;for(;E.length;)E.shift().error(e)}})}complete(){(0,v.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:E,isStopped:f,observers:y}=this;return E||f?c.Lc:(y.push(e),new c.w0(()=>(0,u.P)(y,e)))}_checkFinalizedStatuses(e){const{hasError:E,thrownError:f,isStopped:y}=this;E?e.error(f):y&&e.complete()}asObservable(){const e=new o.y;return e.source=this,e}}return h.create=(_,e)=>new d(_,e),h})();class d extends p{constructor(_,e){super(),this.destination=_,this.source=e}next(_){var e,E;null===(E=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===E||E.call(e,_)}error(_){var e,E;null===(E=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===E||E.call(e,_)}complete(){var _,e;null===(e=null===(_=this.destination)||void 0===_?void 0:_.complete)||void 0===e||e.call(_)}_subscribe(_){var e,E;return null!==(E=null===(e=this.source)||void 0===e?void 0:e.subscribe(_))&&void 0!==E?E:c.Lc}}},930:(ot,pe,r)=>{"use strict";r.d(pe,{Hp:()=>f,Lv:()=>E});var o=r(576),c=r(727),g=r(2416),a=r(7849),u=r(5032);const v=h("C",void 0,void 0);function h(A,I,D){return{kind:A,value:I,error:D}}var _=r(3410),e=r(2806);class E extends c.w0{constructor(I){super(),this.isStopped=!1,I?(this.destination=I,(0,c.Nn)(I)&&I.add(this)):this.destination=b}static create(I,D,O){return new f(I,D,O)}next(I){this.isStopped?C(function d(A){return h("N",A,void 0)}(I),this):this._next(I)}error(I){this.isStopped?C(function p(A){return h("E",void 0,A)}(I),this):(this.isStopped=!0,this._error(I))}complete(){this.isStopped?C(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(I){this.destination.next(I)}_error(I){try{this.destination.error(I)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class f extends E{constructor(I,D,O){let S;if(super(),(0,o.m)(I))S=I;else if(I){let x;({next:S,error:D,complete:O}=I),this&&g.v.useDeprecatedNextContext?(x=Object.create(I),x.unsubscribe=()=>this.unsubscribe()):x=I,S=null==S?void 0:S.bind(x),D=null==D?void 0:D.bind(x),O=null==O?void 0:O.bind(x)}this.destination={next:S?y(S):u.Z,error:y(null!=D?D:s),complete:O?y(O):u.Z}}}function y(A,I){return(...D)=>{try{A(...D)}catch(O){g.v.useDeprecatedSynchronousErrorHandling?(0,e.O)(O):(0,a.h)(O)}}}function s(A){throw A}function C(A,I){const{onStoppedNotification:D}=g.v;D&&_.z.setTimeout(()=>D(A,I))}const b={closed:!0,next:u.Z,error:s,complete:u.Z}},727:(ot,pe,r)=>{"use strict";r.d(pe,{Lc:()=>v,w0:()=>u,Nn:()=>p});var o=r(576);const g=(0,r(3888).d)(h=>function(e){h(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((E,f)=>`${f+1}) ${E.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});var a=r(8737);class u{constructor(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let _;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const y of e)y.remove(this);else e.remove(this);const{initialTeardown:E}=this;if((0,o.m)(E))try{E()}catch(y){_=y instanceof g?y.errors:[y]}const{_teardowns:f}=this;if(f){this._teardowns=null;for(const y of f)try{d(y)}catch(s){_=null!=_?_:[],s instanceof g?_=[..._,...s.errors]:_.push(s)}}if(_)throw new g(_)}}add(_){var e;if(_&&_!==this)if(this.closed)d(_);else{if(_ instanceof u){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(_)}}_hasParent(_){const{_parentage:e}=this;return e===_||Array.isArray(e)&&e.includes(_)}_addParent(_){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(_),e):e?[e,_]:_}_removeParent(_){const{_parentage:e}=this;e===_?this._parentage=null:Array.isArray(e)&&(0,a.P)(e,_)}remove(_){const{_teardowns:e}=this;e&&(0,a.P)(e,_),_ instanceof u&&_._removeParent(this)}}u.EMPTY=(()=>{const h=new u;return h.closed=!0,h})();const v=u.EMPTY;function p(h){return h instanceof u||h&&"closed"in h&&(0,o.m)(h.remove)&&(0,o.m)(h.add)&&(0,o.m)(h.unsubscribe)}function d(h){(0,o.m)(h)?h():h.unsubscribe()}},2416:(ot,pe,r)=>{"use strict";r.d(pe,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(ot,pe,r)=>{"use strict";r.d(pe,{c:()=>v});var o=r(9751),c=r(727),g=r(8343),a=r(5403),u=r(4482);class v extends o.y{constructor(d,h){super(),this.source=d,this.subjectFactory=h,this._subject=null,this._refCount=0,this._connection=null,(0,u.A)(d)&&(this.lift=d.lift)}_subscribe(d){return this.getSubject().subscribe(d)}getSubject(){const d=this._subject;return(!d||d.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:d}=this;this._subject=this._connection=null,null==d||d.unsubscribe()}connect(){let d=this._connection;if(!d){d=this._connection=new c.w0;const h=this.getSubject();d.add(this.source.subscribe(new a.Q(h,void 0,()=>{this._teardown(),h.complete()},_=>{this._teardown(),h.error(_)},()=>this._teardown()))),d.closed&&(this._connection=null,d=c.w0.EMPTY)}return d}refCount(){return(0,g.x)()(this)}}},9841:(ot,pe,r)=>{"use strict";r.d(pe,{a:()=>_,l:()=>e});var o=r(9751),c=r(4742),g=r(457),a=r(4671),u=r(3268),v=r(3269),p=r(1810),d=r(5403),h=r(9672);function _(...f){const y=(0,v.yG)(f),s=(0,v.jO)(f),{args:C,keys:b}=(0,c.D)(f);if(0===C.length)return(0,g.D)([],y);const A=new o.y(e(C,y,b?I=>(0,p.n)(b,I):a.y));return s?A.pipe((0,u.Z)(s)):A}function e(f,y,s=a.y){return C=>{E(y,()=>{const{length:b}=f,A=new Array(b);let I=b,D=b;for(let O=0;O<b;O++)E(y,()=>{const S=(0,g.D)(f[O],y);let x=!1;S.subscribe(new d.Q(C,L=>{A[O]=L,x||(x=!0,D--),D||C.next(s(A.slice()))},()=>{--I||C.complete()}))},C)},C)}}function E(f,y,s){f?(0,h.f)(s,f,y):y()}},7272:(ot,pe,r)=>{"use strict";r.d(pe,{z:()=>u});var o=r(8189),g=r(3269),a=r(457);function u(...v){return function c(){return(0,o.J)(1)}()((0,a.D)(v,(0,g.yG)(v)))}},9770:(ot,pe,r)=>{"use strict";r.d(pe,{P:()=>g});var o=r(9751),c=r(8421);function g(a){return new o.y(u=>{(0,c.Xf)(a()).subscribe(u)})}},515:(ot,pe,r)=>{"use strict";r.d(pe,{E:()=>c});const c=new(r(9751).y)(u=>u.complete())},4128:(ot,pe,r)=>{"use strict";r.d(pe,{D:()=>d});var o=r(9751),c=r(4742),g=r(8421),a=r(3269),u=r(5403),v=r(3268),p=r(1810);function d(...h){const _=(0,a.jO)(h),{args:e,keys:E}=(0,c.D)(h),f=new o.y(y=>{const{length:s}=e;if(!s)return void y.complete();const C=new Array(s);let b=s,A=s;for(let I=0;I<s;I++){let D=!1;(0,g.Xf)(e[I]).subscribe(new u.Q(y,O=>{D||(D=!0,A--),C[I]=O},()=>b--,void 0,()=>{(!b||!D)&&(A||y.next(E?(0,p.n)(E,C):C),y.complete())}))}});return _?f.pipe((0,v.Z)(_)):f}},457:(ot,pe,r)=>{"use strict";r.d(pe,{D:()=>x});var o=r(8421),c=r(5363),g=r(4482);function a(L,R=0){return(0,g.e)((G,k)=>{k.add(L.schedule(()=>G.subscribe(k),R))})}var p=r(9751),h=r(2202),_=r(576),e=r(9672);function f(L,R){if(!L)throw new Error("Iterable cannot be null");return new p.y(G=>{(0,e.f)(G,R,()=>{const k=L[Symbol.asyncIterator]();(0,e.f)(G,R,()=>{k.next().then(V=>{V.done?G.complete():G.next(V.value)})},0,!0)})})}var y=r(3670),s=r(8239),C=r(1144),b=r(6495),A=r(2206),I=r(4532),D=r(3260);function x(L,R){return R?function S(L,R){if(null!=L){if((0,y.c)(L))return function u(L,R){return(0,o.Xf)(L).pipe(a(R),(0,c.Q)(R))}(L,R);if((0,C.z)(L))return function d(L,R){return new p.y(G=>{let k=0;return R.schedule(function(){k===L.length?G.complete():(G.next(L[k++]),G.closed||this.schedule())})})}(L,R);if((0,s.t)(L))return function v(L,R){return(0,o.Xf)(L).pipe(a(R),(0,c.Q)(R))}(L,R);if((0,A.D)(L))return f(L,R);if((0,b.T)(L))return function E(L,R){return new p.y(G=>{let k;return(0,e.f)(G,R,()=>{k=L[h.h](),(0,e.f)(G,R,()=>{let V,ne;try{({value:V,done:ne}=k.next())}catch($){return void G.error($)}ne?G.complete():G.next(V)},0,!0)}),()=>(0,_.m)(null==k?void 0:k.return)&&k.return()})}(L,R);if((0,D.L)(L))return function O(L,R){return f((0,D.Q)(L),R)}(L,R)}throw(0,I.z)(L)}(L,R):(0,o.Xf)(L)}},4968:(ot,pe,r)=>{"use strict";r.d(pe,{R:()=>_});var o=r(8421),c=r(9751),g=r(6099),a=r(1144),u=r(576),v=r(3268);const p=["addListener","removeListener"],d=["addEventListener","removeEventListener"],h=["on","off"];function _(s,C,b,A){if((0,u.m)(b)&&(A=b,b=void 0),A)return _(s,C,b).pipe((0,v.Z)(A));const[I,D]=function y(s){return(0,u.m)(s.addEventListener)&&(0,u.m)(s.removeEventListener)}(s)?d.map(O=>S=>s[O](C,S,b)):function E(s){return(0,u.m)(s.addListener)&&(0,u.m)(s.removeListener)}(s)?p.map(e(s,C)):function f(s){return(0,u.m)(s.on)&&(0,u.m)(s.off)}(s)?h.map(e(s,C)):[];if(!I&&(0,a.z)(s))return(0,g.z)(O=>_(O,C,b))((0,o.Xf)(s));if(!I)throw new TypeError("Invalid event target");return new c.y(O=>{const S=(...x)=>O.next(1<x.length?x:x[0]);return I(S),()=>D(S)})}function e(s,C){return b=>A=>s[b](C,A)}},8382:(ot,pe,r)=>{"use strict";r.d(pe,{s:()=>c});var o=r(9770);function c(g,a,u){return(0,o.P)(()=>g()?a:u)}},8421:(ot,pe,r)=>{"use strict";r.d(pe,{Xf:()=>f});var o=r(5987),c=r(1144),g=r(8239),a=r(9751),u=r(3670),v=r(2206),p=r(4532),d=r(6495),h=r(3260),_=r(576),e=r(7849),E=r(8822);function f(O){if(O instanceof a.y)return O;if(null!=O){if((0,u.c)(O))return function y(O){return new a.y(S=>{const x=O[E.L]();if((0,_.m)(x.subscribe))return x.subscribe(S);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(O);if((0,c.z)(O))return function s(O){return new a.y(S=>{for(let x=0;x<O.length&&!S.closed;x++)S.next(O[x]);S.complete()})}(O);if((0,g.t)(O))return function C(O){return new a.y(S=>{O.then(x=>{S.closed||(S.next(x),S.complete())},x=>S.error(x)).then(null,e.h)})}(O);if((0,v.D)(O))return A(O);if((0,d.T)(O))return function b(O){return new a.y(S=>{for(const x of O)if(S.next(x),S.closed)return;S.complete()})}(O);if((0,h.L)(O))return function I(O){return A((0,h.Q)(O))}(O)}throw(0,p.z)(O)}function A(O){return new a.y(S=>{(function D(O,S){var x,L,R,G;return(0,o.mG)(this,void 0,void 0,function*(){try{for(x=(0,o.KL)(O);!(L=yield x.next()).done;)if(S.next(L.value),S.closed)return}catch(k){R={error:k}}finally{try{L&&!L.done&&(G=x.return)&&(yield G.call(x))}finally{if(R)throw R.error}}S.complete()})})(O,S).catch(x=>S.error(x))})}},7445:(ot,pe,r)=>{"use strict";r.d(pe,{F:()=>g});var o=r(4986),c=r(5963);function g(a=0,u=o.z){return a<0&&(a=0),(0,c.H)(a,a,u)}},6451:(ot,pe,r)=>{"use strict";r.d(pe,{T:()=>v});var o=r(8189),c=r(8421),g=r(515),a=r(3269),u=r(457);function v(...p){const d=(0,a.yG)(p),h=(0,a._6)(p,1/0),_=p;return _.length?1===_.length?(0,c.Xf)(_[0]):(0,o.J)(h)((0,u.D)(_,d)):g.E}},9646:(ot,pe,r)=>{"use strict";r.d(pe,{of:()=>g});var o=r(3269),c=r(457);function g(...a){const u=(0,o.yG)(a);return(0,c.D)(a,u)}},2843:(ot,pe,r)=>{"use strict";r.d(pe,{_:()=>g});var o=r(9751),c=r(576);function g(a,u){const v=(0,c.m)(a)?a:()=>a,p=d=>d.error(v());return new o.y(u?d=>u.schedule(p,0,d):p)}},5963:(ot,pe,r)=>{"use strict";r.d(pe,{H:()=>u});var o=r(9751),c=r(4986),g=r(3532);function u(v=0,p,d=c.P){let h=-1;return null!=p&&((0,g.K)(p)?d=p:h=p),new o.y(_=>{let e=function a(v){return v instanceof Date&&!isNaN(v)}(v)?+v-d.now():v;e<0&&(e=0);let E=0;return d.schedule(function(){_.closed||(_.next(E++),0<=h?this.schedule(void 0,h):_.complete())},e)})}},5403:(ot,pe,r)=>{"use strict";r.d(pe,{Q:()=>c});var o=r(930);class c extends o.Lv{constructor(a,u,v,p,d){super(a),this.onFinalize=d,this._next=u?function(h){try{u(h)}catch(_){a.error(_)}}:super._next,this._error=p?function(h){try{p(h)}catch(_){a.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=v?function(){try{v()}catch(h){a.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var a;const{closed:u}=this;super.unsubscribe(),!u&&(null===(a=this.onFinalize)||void 0===a||a.call(this))}}},3601:(ot,pe,r)=>{"use strict";r.d(pe,{e:()=>p});var o=r(4986),c=r(4482),g=r(8421),a=r(5403),v=r(5963);function p(d,h=o.P){return function u(d){return(0,c.e)((h,_)=>{let e=!1,E=null,f=null,y=!1;const s=()=>{if(null==f||f.unsubscribe(),f=null,e){e=!1;const b=E;E=null,_.next(b)}y&&_.complete()},C=()=>{f=null,y&&_.complete()};h.subscribe(new a.Q(_,b=>{e=!0,E=b,f||(0,g.Xf)(d(b)).subscribe(f=new a.Q(_,s,C))},()=>{y=!0,(!e||!f||f.closed)&&_.complete()}))})}(()=>(0,v.H)(d,h))}},4818:(ot,pe,r)=>{"use strict";r.d(pe,{e:()=>d});var o=r(727),c=r(4482),g=r(5403),a=r(8737),u=r(4986),v=r(3269),p=r(9672);function d(h,..._){var e,E;const f=null!==(e=(0,v.yG)(_))&&void 0!==e?e:u.z,y=null!==(E=_[0])&&void 0!==E?E:null,s=_[1]||1/0;return(0,c.e)((C,b)=>{let A=[],I=!1;const D=x=>{const{buffer:L,subs:R}=x;R.unsubscribe(),(0,a.P)(A,x),b.next(L),I&&O()},O=()=>{if(A){const x=new o.w0;b.add(x);const R={buffer:[],subs:x};A.push(R),(0,p.f)(x,f,()=>D(R),h)}};null!==y&&y>=0?(0,p.f)(b,f,O,y,!0):I=!0,O();const S=new g.Q(b,x=>{const L=A.slice();for(const R of L){const{buffer:G}=R;G.push(x),s<=G.length&&D(R)}},()=>{for(;null==A?void 0:A.length;)b.next(A.shift().buffer);null==S||S.unsubscribe(),b.complete(),b.unsubscribe()},void 0,()=>A=null);C.subscribe(S)})}},262:(ot,pe,r)=>{"use strict";r.d(pe,{K:()=>a});var o=r(8421),c=r(5403),g=r(4482);function a(u){return(0,g.e)((v,p)=>{let _,d=null,h=!1;d=v.subscribe(new c.Q(p,void 0,void 0,e=>{_=(0,o.Xf)(u(e,a(u)(v))),d?(d.unsubscribe(),d=null,_.subscribe(p)):h=!0})),h&&(d.unsubscribe(),d=null,_.subscribe(p))})}},3431:(ot,pe,r)=>{"use strict";r.d(pe,{a:()=>p});var o=r(9841),c=r(4482),g=r(5797),a=r(3268),u=r(9635),v=r(3269);function p(...d){const h=(0,v.jO)(d);return h?(0,u.z)(p(...d),(0,a.Z)(h)):(0,c.e)((_,e)=>{(0,o.l)([_,...(0,g.k)(d)])(e)})}},9517:(ot,pe,r)=>{"use strict";r.d(pe,{V:()=>c});var o=r(3431);function c(...g){return(0,o.a)(...g)}},4351:(ot,pe,r)=>{"use strict";r.d(pe,{b:()=>g});var o=r(6099),c=r(576);function g(a,u){return(0,c.m)(u)?(0,o.z)(a,u,1):(0,o.z)(a,1)}},7331:(ot,pe,r)=>{"use strict";r.d(pe,{D:()=>u});var o=r(4482),c=r(5032),g=r(5403),a=r(8421);function u(v){return(0,o.e)((p,d)=>{let h=!1,_=null,e=null;const E=()=>{if(null==e||e.unsubscribe(),e=null,h){h=!1;const f=_;_=null,d.next(f)}};p.subscribe(new g.Q(d,f=>{null==e||e.unsubscribe(),h=!0,_=f,e=new g.Q(d,E,c.Z),(0,a.Xf)(v(f)).subscribe(e)},()=>{E(),d.complete()},void 0,()=>{_=e=null}))})}},8372:(ot,pe,r)=>{"use strict";r.d(pe,{b:()=>a});var o=r(4986),c=r(4482),g=r(5403);function a(u,v=o.z){return(0,c.e)((p,d)=>{let h=null,_=null,e=null;const E=()=>{if(h){h.unsubscribe(),h=null;const y=_;_=null,d.next(y)}};function f(){const y=e+u,s=v.now();if(s<y)return h=this.schedule(void 0,y-s),void d.add(h);E()}p.subscribe(new g.Q(d,y=>{_=y,e=v.now(),h||(h=v.schedule(f,u),d.add(h))},()=>{E(),d.complete()},void 0,()=>{_=h=null}))})}},4326:(ot,pe,r)=>{"use strict";r.d(pe,{g:()=>a});var o=r(4986),c=r(5376),g=r(5963);function a(u,v=o.z){const p=(0,g.H)(u,v);return(0,c.j)(()=>p)}},5376:(ot,pe,r)=>{"use strict";r.d(pe,{j:()=>h});var o=r(7272),c=r(5698),g=r(4482),a=r(5403),u=r(5032),p=r(9718),d=r(6099);function h(_,e){return e?E=>(0,o.z)(e.pipe((0,c.q)(1),function v(){return(0,g.e)((_,e)=>{_.subscribe(new a.Q(e,u.Z))})}()),E.pipe(h(_))):(0,d.z)((E,f)=>_(E,f).pipe((0,c.q)(1),(0,p.h)(E)))}},1884:(ot,pe,r)=>{"use strict";r.d(pe,{x:()=>a});var o=r(4671),c=r(4482),g=r(5403);function a(v,p=o.y){return v=null!=v?v:u,(0,c.e)((d,h)=>{let _,e=!0;d.subscribe(new g.Q(h,E=>{const f=p(E);(e||!v(_,f))&&(e=!1,_=f,h.next(E))}))})}function u(v,p){return v===p}},7688:(ot,pe,r)=>{"use strict";r.d(pe,{j:()=>g});var o=r(4482),c=r(2733);function g(a,u=1/0,v){return u=(u||0)<1?1/0:u,(0,o.e)((p,d)=>(0,c.p)(p,d,a,u,void 0,!0,v))}},9300:(ot,pe,r)=>{"use strict";r.d(pe,{h:()=>g});var o=r(4482),c=r(5403);function g(a,u){return(0,o.e)((v,p)=>{let d=0;v.subscribe(new c.Q(p,h=>a.call(u,h,d++)&&p.next(h)))})}},8746:(ot,pe,r)=>{"use strict";r.d(pe,{x:()=>c});var o=r(4482);function c(g){return(0,o.e)((a,u)=>{try{a.subscribe(u)}finally{u.add(g)}})}},4004:(ot,pe,r)=>{"use strict";r.d(pe,{U:()=>g});var o=r(4482),c=r(5403);function g(a,u){return(0,o.e)((v,p)=>{let d=0;v.subscribe(new c.Q(p,h=>{p.next(a.call(u,h,d++))}))})}},9718:(ot,pe,r)=>{"use strict";r.d(pe,{h:()=>c});var o=r(4004);function c(g){return(0,o.U)(()=>g)}},8189:(ot,pe,r)=>{"use strict";r.d(pe,{J:()=>g});var o=r(6099),c=r(4671);function g(a=1/0){return(0,o.z)(c.y,a)}},2733:(ot,pe,r)=>{"use strict";r.d(pe,{p:()=>a});var o=r(8421),c=r(9672),g=r(5403);function a(u,v,p,d,h,_,e,E){const f=[];let y=0,s=0,C=!1;const b=()=>{C&&!f.length&&!y&&v.complete()},A=D=>y<d?I(D):f.push(D),I=D=>{_&&v.next(D),y++;let O=!1;(0,o.Xf)(p(D,s++)).subscribe(new g.Q(v,S=>{null==h||h(S),_?A(S):v.next(S)},()=>{O=!0},void 0,()=>{if(O)try{for(y--;f.length&&y<d;){const S=f.shift();e?(0,c.f)(v,e,()=>I(S)):I(S)}b()}catch(S){v.error(S)}}))};return u.subscribe(new g.Q(v,A,()=>{C=!0,b()})),()=>{null==E||E()}}},6099:(ot,pe,r)=>{"use strict";r.d(pe,{z:()=>v});var o=r(4004),c=r(8421),g=r(4482),a=r(2733),u=r(576);function v(p,d,h=1/0){return(0,u.m)(d)?v((_,e)=>(0,o.U)((E,f)=>d(_,E,e,f))((0,c.Xf)(p(_,e))),h):("number"==typeof d&&(h=d),(0,g.e)((_,e)=>(0,a.p)(_,e,p,h)))}},2181:(ot,pe,r)=>{"use strict";r.d(pe,{b:()=>p});var o=r(4482),c=r(5797),g=r(8189),a=r(3269),u=r(457);function p(...d){return function v(...d){const h=(0,a.yG)(d),_=(0,a._6)(d,1/0);return d=(0,c.k)(d),(0,o.e)((e,E)=>{(0,g.J)(_)((0,u.D)([e,...d],h)).subscribe(E)})}(...d)}},5363:(ot,pe,r)=>{"use strict";r.d(pe,{Q:()=>a});var o=r(9672),c=r(4482),g=r(5403);function a(u,v=0){return(0,c.e)((p,d)=>{p.subscribe(new g.Q(d,h=>(0,o.f)(d,u,()=>d.next(h),v),()=>(0,o.f)(d,u,()=>d.complete(),v),h=>(0,o.f)(d,u,()=>d.error(h),v)))})}},8343:(ot,pe,r)=>{"use strict";r.d(pe,{x:()=>g});var o=r(4482),c=r(5403);function g(){return(0,o.e)((a,u)=>{let v=null;a._refCount++;const p=new c.Q(u,void 0,void 0,void 0,()=>{if(!a||a._refCount<=0||0<--a._refCount)return void(v=null);const d=a._connection,h=v;v=null,d&&(!h||d===h)&&d.unsubscribe(),u.unsubscribe()});a.subscribe(p),p.closed||(v=a.connect())})}},5026:(ot,pe,r)=>{"use strict";r.d(pe,{R:()=>a});var o=r(4482),c=r(5403);function g(u,v,p,d,h){return(_,e)=>{let E=p,f=v,y=0;_.subscribe(new c.Q(e,s=>{const C=y++;f=E?u(f,s,C):(E=!0,s),d&&e.next(f)},h&&(()=>{E&&e.next(f),e.complete()})))}}function a(u,v){return(0,o.e)(g(u,v,arguments.length>=2,!0))}},3099:(ot,pe,r)=>{"use strict";r.d(pe,{B:()=>v});var o=r(457),c=r(5698),g=r(7579),a=r(930),u=r(4482);function v(d={}){const{connector:h=(()=>new g.x),resetOnError:_=!0,resetOnComplete:e=!0,resetOnRefCountZero:E=!0}=d;return f=>{let y=null,s=null,C=null,b=0,A=!1,I=!1;const D=()=>{null==s||s.unsubscribe(),s=null},O=()=>{D(),y=C=null,A=I=!1},S=()=>{const x=y;O(),null==x||x.unsubscribe()};return(0,u.e)((x,L)=>{b++,!I&&!A&&D();const R=C=null!=C?C:h();L.add(()=>{b--,0===b&&!I&&!A&&(s=p(S,E))}),R.subscribe(L),y||(y=new a.Hp({next:G=>R.next(G),error:G=>{I=!0,D(),s=p(O,_,G),R.error(G)},complete:()=>{A=!0,D(),s=p(O,e),R.complete()}}),(0,o.D)(x).subscribe(y))})(f)}}function p(d,h,..._){return!0===h?(d(),null):!1===h?null:h(..._).pipe((0,c.q)(1)).subscribe(()=>d())}},4782:(ot,pe,r)=>{"use strict";r.d(pe,{d:()=>g});var o=r(4707),c=r(3099);function g(a,u,v){var p,d;let h,_=!1;return a&&"object"==typeof a?(h=null!==(p=a.bufferSize)&&void 0!==p?p:1/0,u=null!==(d=a.windowTime)&&void 0!==d?d:1/0,_=!!a.refCount,v=a.scheduler):h=null!=a?a:1/0,(0,c.B)({connector:()=>new o.t(h,u,v),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_})}},5684:(ot,pe,r)=>{"use strict";r.d(pe,{T:()=>c});var o=r(9300);function c(g){return(0,o.h)((a,u)=>g<=u)}},8675:(ot,pe,r)=>{"use strict";r.d(pe,{O:()=>a});var o=r(7272),c=r(3269),g=r(4482);function a(...u){const v=(0,c.yG)(u);return(0,g.e)((p,d)=>{(v?(0,o.z)(u,p,v):(0,o.z)(u,p)).subscribe(d)})}},3900:(ot,pe,r)=>{"use strict";r.d(pe,{w:()=>a});var o=r(8421),c=r(4482),g=r(5403);function a(u,v){return(0,c.e)((p,d)=>{let h=null,_=0,e=!1;const E=()=>e&&!h&&d.complete();p.subscribe(new g.Q(d,f=>{null==h||h.unsubscribe();let y=0;const s=_++;(0,o.Xf)(u(f,s)).subscribe(h=new g.Q(d,C=>d.next(v?v(f,C,s,y++):C),()=>{h=null,E()}))},()=>{e=!0,E()}))})}},6304:(ot,pe,r)=>{"use strict";r.d(pe,{c:()=>g});var o=r(3900),c=r(576);function g(a,u){return(0,c.m)(u)?(0,o.w)(()=>a,u):(0,o.w)(()=>a)}},5698:(ot,pe,r)=>{"use strict";r.d(pe,{q:()=>a});var o=r(515),c=r(4482),g=r(5403);function a(u){return u<=0?()=>o.E:(0,c.e)((v,p)=>{let d=0;v.subscribe(new g.Q(p,h=>{++d<=u&&(p.next(h),u<=d&&p.complete())}))})}},2722:(ot,pe,r)=>{"use strict";r.d(pe,{R:()=>u});var o=r(4482),c=r(5403),g=r(8421),a=r(5032);function u(v){return(0,o.e)((p,d)=>{(0,g.Xf)(v).subscribe(new c.Q(d,()=>d.complete(),a.Z)),!d.closed&&p.subscribe(d)})}},2529:(ot,pe,r)=>{"use strict";r.d(pe,{o:()=>g});var o=r(4482),c=r(5403);function g(a,u=!1){return(0,o.e)((v,p)=>{let d=0;v.subscribe(new c.Q(p,h=>{const _=a(h,d++);(_||u)&&p.next(h),!_&&p.complete()}))})}},8505:(ot,pe,r)=>{"use strict";r.d(pe,{b:()=>u});var o=r(576),c=r(4482),g=r(5403),a=r(4671);function u(v,p,d){const h=(0,o.m)(v)||p||d?{next:v,error:p,complete:d}:v;return h?(0,c.e)((_,e)=>{var E;null===(E=h.subscribe)||void 0===E||E.call(h);let f=!0;_.subscribe(new g.Q(e,y=>{var s;null===(s=h.next)||void 0===s||s.call(h,y),e.next(y)},()=>{var y;f=!1,null===(y=h.complete)||void 0===y||y.call(h),e.complete()},y=>{var s;f=!1,null===(s=h.error)||void 0===s||s.call(h,y),e.error(y)},()=>{var y,s;f&&(null===(y=h.unsubscribe)||void 0===y||y.call(h)),null===(s=h.finalize)||void 0===s||s.call(h)}))}):a.y}},9468:(ot,pe,r)=>{"use strict";r.d(pe,{p:()=>d});var o=r(4986),c=r(4482),g=r(5403),a=r(8421);const u={leading:!0,trailing:!1};var p=r(5963);function d(h,_=o.z,e=u){const E=(0,p.H)(h,_);return function v(h,{leading:_,trailing:e}=u){return(0,c.e)((E,f)=>{let y=!1,s=null,C=null,b=!1;const A=()=>{null==C||C.unsubscribe(),C=null,e&&(O(),b&&f.complete())},I=()=>{C=null,b&&f.complete()},D=S=>C=(0,a.Xf)(h(S)).subscribe(new g.Q(f,A,I)),O=()=>{if(y){y=!1;const S=s;s=null,f.next(S),!b&&D(S)}};E.subscribe(new g.Q(f,S=>{y=!0,s=S,(!C||C.closed)&&(_?O():D(S))},()=>{b=!0,(!(e&&y&&C)||C.closed)&&f.complete()}))})}(()=>E,e)}},4408:(ot,pe,r)=>{"use strict";r.d(pe,{o:()=>u});var o=r(727);class c extends o.w0{constructor(p,d){super()}schedule(p,d=0){return this}}const g={setInterval(...v){const{delegate:p}=g;return((null==p?void 0:p.setInterval)||setInterval)(...v)},clearInterval(v){const{delegate:p}=g;return((null==p?void 0:p.clearInterval)||clearInterval)(v)},delegate:void 0};var a=r(8737);class u extends c{constructor(p,d){super(p,d),this.scheduler=p,this.work=d,this.pending=!1}schedule(p,d=0){if(this.closed)return this;this.state=p;const h=this.id,_=this.scheduler;return null!=h&&(this.id=this.recycleAsyncId(_,h,d)),this.pending=!0,this.delay=d,this.id=this.id||this.requestAsyncId(_,this.id,d),this}requestAsyncId(p,d,h=0){return g.setInterval(p.flush.bind(p,this),h)}recycleAsyncId(p,d,h=0){if(null!=h&&this.delay===h&&!1===this.pending)return d;g.clearInterval(d)}execute(p,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const h=this._execute(p,d);if(h)return h;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(p,d){let _,h=!1;try{this.work(p)}catch(e){h=!0,_=e||new Error("Scheduled action threw falsy error")}if(h)return this.unsubscribe(),_}unsubscribe(){if(!this.closed){const{id:p,scheduler:d}=this,{actions:h}=d;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.P)(h,this),null!=p&&(this.id=this.recycleAsyncId(d,p,null)),this.delay=null,super.unsubscribe()}}}},7565:(ot,pe,r)=>{"use strict";r.d(pe,{v:()=>g});var o=r(6063);class c{constructor(u,v=c.now){this.schedulerActionCtor=u,this.now=v}schedule(u,v=0,p){return new this.schedulerActionCtor(this,u).schedule(p,v)}}c.now=o.l.now;class g extends c{constructor(u,v=c.now){super(u,v),this.actions=[],this._active=!1,this._scheduled=void 0}flush(u){const{actions:v}=this;if(this._active)return void v.push(u);let p;this._active=!0;do{if(p=u.execute(u.state,u.delay))break}while(u=v.shift());if(this._active=!1,p){for(;u=v.shift();)u.unsubscribe();throw p}}}},6406:(ot,pe,r)=>{"use strict";r.d(pe,{Z:()=>p});var o=r(4408),c=r(727);const g={schedule(h){let _=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:E}=g;E&&(_=E.requestAnimationFrame,e=E.cancelAnimationFrame);const f=_(y=>{e=void 0,h(y)});return new c.w0(()=>null==e?void 0:e(f))},requestAnimationFrame(...h){const{delegate:_}=g;return((null==_?void 0:_.requestAnimationFrame)||requestAnimationFrame)(...h)},cancelAnimationFrame(...h){const{delegate:_}=g;return((null==_?void 0:_.cancelAnimationFrame)||cancelAnimationFrame)(...h)},delegate:void 0};var u=r(7565);const p=new class v extends u.v{flush(_){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let E,f=-1;_=_||e.shift();const y=e.length;do{if(E=_.execute(_.state,_.delay))break}while(++f<y&&(_=e.shift()));if(this._active=!1,E){for(;++f<y&&(_=e.shift());)_.unsubscribe();throw E}}}(class a extends o.o{constructor(_,e){super(_,e),this.scheduler=_,this.work=e}requestAsyncId(_,e,E=0){return null!==E&&E>0?super.requestAsyncId(_,e,E):(_.actions.push(this),_._scheduled||(_._scheduled=g.requestAnimationFrame(()=>_.flush(void 0))))}recycleAsyncId(_,e,E=0){if(null!=E&&E>0||null==E&&this.delay>0)return super.recycleAsyncId(_,e,E);0===_.actions.length&&(g.cancelAnimationFrame(e),_._scheduled=void 0)}})},3101:(ot,pe,r)=>{"use strict";r.d(pe,{E:()=>y});var o=r(4408);let g,c=1;const a={};function u(C){return C in a&&(delete a[C],!0)}const v={setImmediate(C){const b=c++;return a[b]=!0,g||(g=Promise.resolve()),g.then(()=>u(b)&&C()),b},clearImmediate(C){u(C)}},{setImmediate:d,clearImmediate:h}=v,_={setImmediate(...C){const{delegate:b}=_;return((null==b?void 0:b.setImmediate)||d)(...C)},clearImmediate(C){const{delegate:b}=_;return((null==b?void 0:b.clearImmediate)||h)(C)},delegate:void 0};var E=r(7565);const y=new class f extends E.v{flush(b){this._active=!0,this._scheduled=void 0;const{actions:A}=this;let I,D=-1;b=b||A.shift();const O=A.length;do{if(I=b.execute(b.state,b.delay))break}while(++D<O&&(b=A.shift()));if(this._active=!1,I){for(;++D<O&&(b=A.shift());)b.unsubscribe();throw I}}}(class e extends o.o{constructor(b,A){super(b,A),this.scheduler=b,this.work=A}requestAsyncId(b,A,I=0){return null!==I&&I>0?super.requestAsyncId(b,A,I):(b.actions.push(this),b._scheduled||(b._scheduled=_.setImmediate(b.flush.bind(b,void 0))))}recycleAsyncId(b,A,I=0){if(null!=I&&I>0||null==I&&this.delay>0)return super.recycleAsyncId(b,A,I);0===b.actions.length&&(_.clearImmediate(A),b._scheduled=void 0)}})},4986:(ot,pe,r)=>{"use strict";r.d(pe,{P:()=>a,z:()=>g});var o=r(4408);const g=new(r(7565).v)(o.o),a=g},6063:(ot,pe,r)=>{"use strict";r.d(pe,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(ot,pe,r)=>{"use strict";r.d(pe,{z:()=>o});const o={setTimeout(...c){const{delegate:g}=o;return((null==g?void 0:g.setTimeout)||setTimeout)(...c)},clearTimeout(c){const{delegate:g}=o;return((null==g?void 0:g.clearTimeout)||clearTimeout)(c)},delegate:void 0}},2202:(ot,pe,r)=>{"use strict";r.d(pe,{h:()=>c});const c=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ot,pe,r)=>{"use strict";r.d(pe,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ot,pe,r)=>{"use strict";r.d(pe,{_6:()=>v,jO:()=>a,yG:()=>u});var o=r(576),c=r(3532);function g(p){return p[p.length-1]}function a(p){return(0,o.m)(g(p))?p.pop():void 0}function u(p){return(0,c.K)(g(p))?p.pop():void 0}function v(p,d){return"number"==typeof g(p)?p.pop():d}},4742:(ot,pe,r)=>{"use strict";r.d(pe,{D:()=>u});const{isArray:o}=Array,{getPrototypeOf:c,prototype:g,keys:a}=Object;function u(p){if(1===p.length){const d=p[0];if(o(d))return{args:d,keys:null};if(function v(p){return p&&"object"==typeof p&&c(p)===g}(d)){const h=a(d);return{args:h.map(_=>d[_]),keys:h}}}return{args:p,keys:null}}},5797:(ot,pe,r)=>{"use strict";r.d(pe,{k:()=>c});const{isArray:o}=Array;function c(g){return 1===g.length&&o(g[0])?g[0]:g}},8737:(ot,pe,r)=>{"use strict";function o(c,g){if(c){const a=c.indexOf(g);0<=a&&c.splice(a,1)}}r.d(pe,{P:()=>o})},3888:(ot,pe,r)=>{"use strict";function o(c){const a=c(u=>{Error.call(u),u.stack=(new Error).stack});return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}r.d(pe,{d:()=>o})},1810:(ot,pe,r)=>{"use strict";function o(c,g){return c.reduce((a,u,v)=>(a[u]=g[v],a),{})}r.d(pe,{n:()=>o})},2806:(ot,pe,r)=>{"use strict";r.d(pe,{O:()=>a,x:()=>g});var o=r(2416);let c=null;function g(u){if(o.v.useDeprecatedSynchronousErrorHandling){const v=!c;if(v&&(c={errorThrown:!1,error:null}),u(),v){const{errorThrown:p,error:d}=c;if(c=null,p)throw d}}else u()}function a(u){o.v.useDeprecatedSynchronousErrorHandling&&c&&(c.errorThrown=!0,c.error=u)}},9672:(ot,pe,r)=>{"use strict";function o(c,g,a,u=0,v=!1){const p=g.schedule(function(){a(),v?c.add(this.schedule(null,u)):this.unsubscribe()},u);if(c.add(p),!v)return p}r.d(pe,{f:()=>o})},4671:(ot,pe,r)=>{"use strict";function o(c){return c}r.d(pe,{y:()=>o})},1144:(ot,pe,r)=>{"use strict";r.d(pe,{z:()=>o});const o=c=>c&&"number"==typeof c.length&&"function"!=typeof c},2206:(ot,pe,r)=>{"use strict";r.d(pe,{D:()=>c});var o=r(576);function c(g){return Symbol.asyncIterator&&(0,o.m)(null==g?void 0:g[Symbol.asyncIterator])}},576:(ot,pe,r)=>{"use strict";function o(c){return"function"==typeof c}r.d(pe,{m:()=>o})},3670:(ot,pe,r)=>{"use strict";r.d(pe,{c:()=>g});var o=r(8822),c=r(576);function g(a){return(0,c.m)(a[o.L])}},6495:(ot,pe,r)=>{"use strict";r.d(pe,{T:()=>g});var o=r(2202),c=r(576);function g(a){return(0,c.m)(null==a?void 0:a[o.h])}},8239:(ot,pe,r)=>{"use strict";r.d(pe,{t:()=>c});var o=r(576);function c(g){return(0,o.m)(null==g?void 0:g.then)}},3260:(ot,pe,r)=>{"use strict";r.d(pe,{L:()=>a,Q:()=>g});var o=r(5987),c=r(576);function g(u){return(0,o.FC)(this,arguments,function*(){const p=u.getReader();try{for(;;){const{value:d,done:h}=yield(0,o.qq)(p.read());if(h)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(d)}}finally{p.releaseLock()}})}function a(u){return(0,c.m)(null==u?void 0:u.getReader)}},3532:(ot,pe,r)=>{"use strict";r.d(pe,{K:()=>c});var o=r(576);function c(g){return g&&(0,o.m)(g.schedule)}},4482:(ot,pe,r)=>{"use strict";r.d(pe,{A:()=>c,e:()=>g});var o=r(576);function c(a){return(0,o.m)(null==a?void 0:a.lift)}function g(a){return u=>{if(c(u))return u.lift(function(v){try{return a(v,this)}catch(p){this.error(p)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ot,pe,r)=>{"use strict";r.d(pe,{Z:()=>a});var o=r(4004);const{isArray:c}=Array;function a(u){return(0,o.U)(v=>function g(u,v){return c(v)?u(...v):u(v)}(u,v))}},5032:(ot,pe,r)=>{"use strict";function o(){}r.d(pe,{Z:()=>o})},9635:(ot,pe,r)=>{"use strict";r.d(pe,{U:()=>g,z:()=>c});var o=r(4671);function c(...a){return g(a)}function g(a){return 0===a.length?o.y:1===a.length?a[0]:function(v){return a.reduce((p,d)=>d(p),v)}}},7849:(ot,pe,r)=>{"use strict";r.d(pe,{h:()=>g});var o=r(2416),c=r(3410);function g(a){c.z.setTimeout(()=>{const{onUnhandledError:u}=o.v;if(!u)throw a;u(a)})}},4532:(ot,pe,r)=>{"use strict";function o(c){return new TypeError(`You provided ${null!==c&&"object"==typeof c?"an invalid object":`'${c}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}r.d(pe,{z:()=>o})},6931:(ot,pe,r)=>{"use strict";var o=r(1708),c=Array.prototype.concat,g=Array.prototype.slice,a=ot.exports=function(v){for(var p=[],d=0,h=v.length;d<h;d++){var _=v[d];o(_)?p=c.call(p,g.call(_)):p.push(_)}return p};a.wrap=function(u){return function(){return u(a(arguments))}}},1708:ot=>{ot.exports=function(r){return!(!r||"string"==typeof r)&&(r instanceof Array||Array.isArray(r)||r.length>=0&&(r.splice instanceof Function||Object.getOwnPropertyDescriptor(r,r.length-1)&&"String"!==r.constructor.name))}},2546:function(ot,pe,r){var o,c;(function(){}).call(this),function(){null==window.Set&&(window.Set=function(){function a(){this.clear()}return a.prototype.clear=function(){return this.values=[]},a.prototype.has=function(u){return-1!==this.values.indexOf(u)},a.prototype.add=function(u){return this.has(u)||this.values.push(u),this},a.prototype.delete=function(u){var v;return-1!==(v=this.values.indexOf(u))&&(this.values.splice(v,1),!0)},a.prototype.forEach=function(){var u;return(u=this.values).forEach.apply(u,arguments)},a}())}.call(this),function(g){function a(){}function v(C){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof C)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],E(C,this)}function p(C,b){for(;3===C._state;)C=C._value;return 0===C._state?void C._deferreds.push(b):(C._handled=!0,void y(function(){var A=1===C._state?b.onFulfilled:b.onRejected;if(null!==A){var I;try{I=A(C._value)}catch(D){return void h(b.promise,D)}d(b.promise,I)}else(1===C._state?d:h)(b.promise,C._value)}))}function d(C,b){try{if(b===C)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var A=b.then;if(b instanceof v)return C._state=3,C._value=b,void _(C);if("function"==typeof A)return void E(function u(C,b){return function(){C.apply(b,arguments)}}(A,b),C)}C._state=1,C._value=b,_(C)}catch(I){h(C,I)}}function h(C,b){C._state=2,C._value=b,_(C)}function _(C){2===C._state&&0===C._deferreds.length&&setTimeout(function(){C._handled||s(C._value)},1);for(var b=0,A=C._deferreds.length;A>b;b++)p(C,C._deferreds[b]);C._deferreds=null}function e(C,b,A){this.onFulfilled="function"==typeof C?C:null,this.onRejected="function"==typeof b?b:null,this.promise=A}function E(C,b){var A=!1;try{C(function(I){A||(A=!0,d(b,I))},function(I){A||(A=!0,h(b,I))})}catch(I){if(A)return;A=!0,h(b,I)}}var f=setTimeout,y="function"==typeof setImmediate&&setImmediate||function(C){f(C,1)},s=function(C){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",C)};v.prototype.catch=function(C){return this.then(null,C)},v.prototype.then=function(C,b){var A=new v(a);return p(this,new e(C,b,A)),A},v.all=function(C){var b=Array.prototype.slice.call(C);return new v(function(A,I){function D(x,L){try{if(L&&("object"==typeof L||"function"==typeof L)){var R=L.then;if("function"==typeof R)return void R.call(L,function(G){D(x,G)},I)}b[x]=L,0==--O&&A(b)}catch(G){I(G)}}if(0===b.length)return A([]);for(var O=b.length,S=0;S<b.length;S++)D(S,b[S])})},v.resolve=function(C){return C&&"object"==typeof C&&C.constructor===v?C:new v(function(b){b(C)})},v.reject=function(C){return new v(function(b,A){A(C)})},v.race=function(C){return new v(function(b,A){for(var I=0,D=C.length;D>I;I++)C[I].then(b,A)})},v._setImmediateFn=function(C){y=C},v._setUnhandledRejectionFn=function(C){s=C},ot.exports?ot.exports=v:g.Promise||(g.Promise=v)}(this),function(){var v,p,d,g="object"==typeof window.customElements,a="function"==typeof document.registerElement;g||a||("undefined"==typeof WeakMap&&(v=Object.defineProperty,p=Date.now()%1e9,(d=function(){this.name="__st"+(1e9*Math.random()>>>0)+p+++"__"}).prototype={set:function(h,_){var e=h[this.name];return e&&e[0]===h?e[1]=_:v(h,this.name,{value:[h,_],writable:!0}),this},get:function(h){var _;return(_=h[this.name])&&_[0]===h?_[1]:void 0},delete:function(h){var _=h[this.name];return!(!_||_[0]!==h||(_[0]=_[1]=void 0,0))},has:function(h){var _=h[this.name];return!!_&&_[0]===h}},window.WeakMap=d),function(v){function h(){R=!1;var $=G;G=[],$.sort(function(X,de){return X.uid_-de.uid_});var q=!1;$.forEach(function(X){var de=X.takeRecords();(function _($){$.nodes_.forEach(function(q){var X=S.get(q);X&&X.forEach(function(de){de.observer===$&&de.removeTransientObservers()})})})(X),de.length&&(X.callback_(de,X),q=!0)}),q&&h()}function e($,q){for(var X=$;X;X=X.parentNode){var de=S.get(X);if(de)for(var fe=0;fe<de.length;fe++){var We=de[fe],Ne=We.options;if(X===$||Ne.subtree){var dt=q(Ne);dt&&We.enqueue(dt)}}}}function E($){this.callback_=$,this.nodes_=[],this.records_=[],this.uid_=++k}function f($,q){this.type=$,this.target=q,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function s($,q){return V=new f($,q)}function C($){return ne||(ne=function y($){var q=new f($.type,$.target);return q.addedNodes=$.addedNodes.slice(),q.removedNodes=$.removedNodes.slice(),q.previousSibling=$.previousSibling,q.nextSibling=$.nextSibling,q.attributeName=$.attributeName,q.attributeNamespace=$.attributeNamespace,q.oldValue=$.oldValue,q}(V),ne.oldValue=$,ne)}function D($,q,X){this.observer=$,this.target=q,this.options=X,this.transientObservedNodes=[]}if(!v.JsMutationObserver){var O,S=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))O=setTimeout;else if(window.setImmediate)O=window.setImmediate;else{var x=[],L=String(Math.random());window.addEventListener("message",function($){if($.data===L){var q=x;x=[],q.forEach(function(X){X()})}}),O=function($){x.push($),window.postMessage(L,"*")}}var V,ne,R=!1,G=[],k=0;E.prototype={observe:function($,q){if($=function d($){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded($)||$}($),!q.childList&&!q.attributes&&!q.characterData||q.attributeOldValue&&!q.attributes||q.attributeFilter&&q.attributeFilter.length&&!q.attributes||q.characterDataOldValue&&!q.characterData)throw new SyntaxError;var X=S.get($);X||S.set($,X=[]);for(var de,fe=0;fe<X.length;fe++)if(X[fe].observer===this){(de=X[fe]).removeListeners(),de.options=q;break}de||(de=new D(this,$,q),X.push(de),this.nodes_.push($)),de.addListeners()},disconnect:function(){this.nodes_.forEach(function($){for(var q=S.get($),X=0;X<q.length;X++){var de=q[X];if(de.observer===this){de.removeListeners(),q.splice(X,1);break}}},this),this.records_=[]},takeRecords:function(){var $=this.records_;return this.records_=[],$}},D.prototype={enqueue:function($){var q=this.observer.records_,X=q.length;if(q.length>0){var fe=function I($,q){return $===q?$:ne&&function A($){return $===ne||$===V}($)?ne:null}(q[X-1],$);if(fe)return void(q[X-1]=fe)}else!function p($){G.push($),R||(R=!0,O(h))}(this.observer);q[X]=$},addListeners:function(){this.addListeners_(this.target)},addListeners_:function($){var q=this.options;q.attributes&&$.addEventListener("DOMAttrModified",this,!0),q.characterData&&$.addEventListener("DOMCharacterDataModified",this,!0),q.childList&&$.addEventListener("DOMNodeInserted",this,!0),(q.childList||q.subtree)&&$.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function($){var q=this.options;q.attributes&&$.removeEventListener("DOMAttrModified",this,!0),q.characterData&&$.removeEventListener("DOMCharacterDataModified",this,!0),q.childList&&$.removeEventListener("DOMNodeInserted",this,!0),(q.childList||q.subtree)&&$.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function($){if($!==this.target){this.addListeners_($),this.transientObservedNodes.push($);var q=S.get($);q||S.set($,q=[]),q.push(this)}},removeTransientObservers:function(){var $=this.transientObservedNodes;this.transientObservedNodes=[],$.forEach(function(q){this.removeListeners_(q);for(var X=S.get(q),de=0;de<X.length;de++)if(X[de]===this){X.splice(de,1);break}},this)},handleEvent:function($){switch($.stopImmediatePropagation(),$.type){case"DOMAttrModified":var q=$.attrName,X=$.relatedNode.namespaceURI;(se=new s("attributes",de=$.target)).attributeName=q,se.attributeNamespace=X;var fe=$.attrChange===MutationEvent.ADDITION?null:$.prevValue;e(de,function(Re){return!Re.attributes||Re.attributeFilter&&Re.attributeFilter.length&&-1===Re.attributeFilter.indexOf(q)&&-1===Re.attributeFilter.indexOf(X)?void 0:Re.attributeOldValue?C(fe):se});break;case"DOMCharacterDataModified":var de,se=s("characterData",de=$.target);fe=$.prevValue,e(de,function(Re){return Re.characterData?Re.characterDataOldValue?C(fe):se:void 0});break;case"DOMNodeRemoved":this.addTransientObserver($.target);case"DOMNodeInserted":var We,Ne,dt=$.target;"DOMNodeInserted"===$.type?(We=[dt],Ne=[]):(We=[],Ne=[dt]);var ge=dt.previousSibling,Je=dt.nextSibling;(se=s("childList",$.target.parentNode)).addedNodes=We,se.removedNodes=Ne,se.previousSibling=ge,se.nextSibling=Je,e($.relatedNode,function(Re){return Re.childList?se:void 0})}!function b(){V=ne=void 0}()}},v.JsMutationObserver=E,v.MutationObserver||(v.MutationObserver=E,E._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance||!window.performance.now){var v=Date.now();window.performance={now:function(){return Date.now()-v}}}var e;window.requestAnimationFrame||(window.requestAnimationFrame=(e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)?function(E){return e(function(){E(performance.now())})}:function(E){return window.setTimeout(E,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)});var p=function(){var e=document.createEvent("Event");return e.initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented}();if(!p){var d=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(d.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var h=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||h&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,E){E=E||{};var f=document.createEvent("CustomEvent");return f.initCustomEvent(e,Boolean(E.bubbles),Boolean(E.cancelable),E.detail),f},window.CustomEvent.prototype=window.Event.prototype),!window.Event||h&&"function"!=typeof window.Event){var _=window.Event;window.Event=function(e,E){E=E||{};var f=document.createEvent("Event");return f.initEvent(e,Boolean(E.bubbles),Boolean(E.cancelable)),f},window.Event.prototype=_.prototype}}(window),window.CustomElements=window.CustomElements||{flags:{}},function(v){var p=v.flags,d=[];v.addModule=function(e){d.push(e)},v.initializeModules=function(){d.forEach(function(e){e(v)})},v.hasNative=Boolean(document.registerElement),v.isIE=/Trident/.test(navigator.userAgent),v.useNative=!p.register&&v.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(v){function p(f,y){d(f,function(s){return!!y(s)||void h(s,y)}),h(f,y)}function d(f,y,s){var C=f.firstElementChild;if(!C)for(C=f.firstChild;C&&C.nodeType!==Node.ELEMENT_NODE;)C=C.nextSibling;for(;C;)!0!==y(C,s)&&d(C,y,s),C=C.nextElementSibling;return null}function h(f,y){for(var s=f.shadowRoot;s;)p(s,y),s=s.olderShadowRoot}function e(f,y,s){if(f=window.wrap(f),!(s.indexOf(f)>=0)){s.push(f);for(var C,b=f.querySelectorAll("link[rel="+E+"]"),A=0,I=b.length;I>A&&(C=b[A]);A++)C.import&&e(C.import,y,s);y(f)}}var E=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";v.forDocumentTree=function _(f,y){e(f,y,[])},v.forSubtree=p}),window.CustomElements.addModule(function(v){function p(X,de){return d(X,de)||h(X,de)}function d(X,de){return!!v.upgrade(X,de)||void(de&&E(X))}function h(X,de){R(X,function(fe){return!!d(fe,de)||void 0})}function _(X){ne.push(X),V||(V=!0,setTimeout(e))}function e(){V=!1;for(var X,de=ne,fe=0,We=de.length;We>fe&&(X=de[fe]);fe++)X();ne=[]}function E(X){k?_(function(){f(X)}):f(X)}function f(X){X.__upgraded__&&!X.__attached&&(X.__attached=!0,X.attachedCallback&&X.attachedCallback())}function s(X){k?_(function(){C(X)}):C(X)}function C(X){X.__upgraded__&&X.__attached&&(X.__attached=!1,X.detachedCallback&&X.detachedCallback())}function I(X,de){if(L.dom){var fe=de[0];if(fe&&"childList"===fe.type&&fe.addedNodes&&fe.addedNodes){for(var We=fe.addedNodes[0];We&&We!==document&&!We.host;)We=We.parentNode;var Ne=We&&(We.URL||We._URL||We.host&&We.host.localName)||"";Ne=Ne.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",de.length,Ne||"")}var dt=function b(X){for(var de=X,fe=window.wrap(document);de;){if(de==fe)return!0;de=de.parentNode||de.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&de.host}}(X);de.forEach(function(ge){"childList"===ge.type&&($(ge.addedNodes,function(Je){Je.localName&&p(Je,dt)}),$(ge.removedNodes,function(Je){Je.localName&&function y(X){s(X),R(X,function(de){s(de)})}(Je)}))}),L.dom&&console.groupEnd()}function O(X){if(!X.__observer){var de=new MutationObserver(I.bind(this,X));de.observe(X,{childList:!0,subtree:!0}),X.__observer=de}}function S(X){X=window.wrap(X),L.dom&&console.group("upgradeDocument: ",X.baseURI.split("/").pop()),p(X,X===window.wrap(document)),O(X),L.dom&&console.groupEnd()}var L=v.flags,R=v.forSubtree,G=v.forDocumentTree,k=window.MutationObserver._isPolyfilled&&L["throttle-attached"];v.hasPolyfillMutations=k,v.hasThrottledAttached=k;var V=!1,ne=[],$=Array.prototype.forEach.call.bind(Array.prototype.forEach),q=Element.prototype.createShadowRoot;q&&(Element.prototype.createShadowRoot=function(){var X=q.call(this);return window.CustomElements.watchShadow(this),X}),v.watchShadow=function A(X){if(X.shadowRoot&&!X.shadowRoot.__watched){L.dom&&console.log("watching shadow-root for: ",X.localName);for(var de=X.shadowRoot;de;)O(de),de=de.olderShadowRoot}},v.upgradeDocumentTree=function x(X){G(X,S)},v.upgradeDocument=S,v.upgradeSubtree=h,v.upgradeAll=p,v.attached=E,v.takeRecords=function D(X){for((X=window.wrap(X))||(X=window.wrap(document));X.parentNode;)X=X.parentNode;var de=X.__observer;de&&(I(X,de.takeRecords()),e())}}),window.CustomElements.addModule(function(v){function d(f,y,s){return E.upgrade&&console.group("upgrade:",f.localName),y.is&&f.setAttribute("is",y.is),h(f,y),f.__upgraded__=!0,function e(f){f.createdCallback&&f.createdCallback()}(f),s&&v.attached(f),v.upgradeSubtree(f,s),E.upgrade&&console.groupEnd(),f}function h(f,y){Object.__proto__||function _(f,y,s){for(var C={},b=y;b!==s&&b!==HTMLElement.prototype;){for(var A,I=Object.getOwnPropertyNames(b),D=0;A=I[D];D++)C[A]||(Object.defineProperty(f,A,Object.getOwnPropertyDescriptor(b,A)),C[A]=1);b=Object.getPrototypeOf(b)}}(f,y.prototype,y.native),f.__proto__=y.prototype}var E=v.flags;v.upgrade=function p(f,y){if("template"===f.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(f),!f.__upgraded__&&f.nodeType===Node.ELEMENT_NODE){var s=f.getAttribute("is"),C=v.getRegisteredDefinition(f.localName)||v.getRegisteredDefinition(s);if(C&&(s&&C.tag==f.localName||!s&&!C.extends))return d(f,C,y)}},v.upgradeWithDefinition=d,v.implementPrototype=h}),window.CustomElements.addModule(function(v){function h(X,de,fe){X=X.toLowerCase();var We=this.getAttribute(X);fe.apply(this,arguments);var Ne=this.getAttribute(X);this.attributeChangedCallback&&Ne!==We&&this.attributeChangedCallback(X,We,Ne)}function e(X){var de=s(X);return de?e(de.extends).concat([de]):[]}function s(X){return X?V[X.toLowerCase()]:void 0}function I(X,de){X&&(X=X.toLowerCase()),de&&(de=de.toLowerCase());var We,fe=s(de||X);if(fe){if(X==fe.tag&&de==fe.is)return new fe.ctor;if(!de&&!fe.is)return new fe.ctor}return de?((We=I(X)).setAttribute("is",de),We):(We=$(X),X.indexOf("-")>=0&&R(We,HTMLElement),We)}function D(X,de){var fe=X[de];X[de]=function(){var We=fe.apply(this,arguments);return x(We),We}}var O,S=v.upgradeDocumentTree,x=v.upgradeAll,L=v.upgradeWithDefinition,R=v.implementPrototype,G=v.useNative,k=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],V={},$=document.createElement.bind(document),q=document.createElementNS.bind(document);O=Object.__proto__||G?function(X,de){return X instanceof de}:function(X,de){if(X instanceof de)return!0;for(var fe=X;fe;){if(fe===de.prototype)return!0;fe=fe.__proto__}return!1},D(Node.prototype,"cloneNode"),D(document,"importNode"),document.registerElement=function p(X,de){var fe=de||{};if(!X)throw new Error("document.registerElement: first argument `name` must not be empty");if(X.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(X)+"'.");if(function _(X){for(var de=0;de<k.length;de++)if(X===k[de])return!0}(X))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(X)+"'. The type name is invalid.");if(s(X))throw new Error("DuplicateDefinitionError: a type with name '"+String(X)+"' is already registered");return fe.prototype||(fe.prototype=Object.create(HTMLElement.prototype)),fe.__name=X.toLowerCase(),fe.extends&&(fe.extends=fe.extends.toLowerCase()),fe.lifecycle=fe.lifecycle||{},fe.ancestry=e(fe.extends),function E(X){for(var de,fe=X.extends,We=0;de=X.ancestry[We];We++)fe=de.is&&de.tag;X.tag=fe||X.__name,fe&&(X.is=X.__name)}(fe),function f(X){if(!Object.__proto__){var de=HTMLElement.prototype;if(X.is){var fe=document.createElement(X.tag);de=Object.getPrototypeOf(fe)}for(var We,Ne=X.prototype,dt=!1;Ne;)Ne==de&&(dt=!0),(We=Object.getPrototypeOf(Ne))&&(Ne.__proto__=We),Ne=We;dt||console.warn(X.tag+" prototype not found in prototype chain for "+X.is),X.native=de}}(fe),function d(X){if(!X.setAttribute._polyfilled){var de=X.setAttribute;X.setAttribute=function(We,Ne){h.call(this,We,Ne,de)};var fe=X.removeAttribute;X.removeAttribute=function(We){h.call(this,We,null,fe)},X.setAttribute._polyfilled=!0}}(fe.prototype),function C(X,de){V[X]=de}(fe.__name,fe),fe.ctor=function b(X){return function(){return function y(X){return L($(X.tag),X)}(X)}}(fe),fe.ctor.prototype=fe.prototype,fe.prototype.constructor=fe.ctor,v.ready&&S(document),fe.ctor},document.createElement=I,document.createElementNS=function A(X,de,fe){return"http://www.w3.org/1999/xhtml"===X?I(de,fe):q(X,de)},v.registry=V,v.instanceof=O,v.reservedTagList=k,v.getRegisteredDefinition=s,document.register=document.registerElement}),function(v){function p(){e(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(s){setTimeout(s,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var h=v.initializeModules;if(v.useNative){var _=function(){};v.watchShadow=_,v.upgrade=_,v.upgradeAll=_,v.upgradeDocumentTree=_,v.upgradeSubtree=_,v.takeRecords=_,v.instanceof=function(y,s){return y instanceof s}}else h();var e=v.upgradeDocumentTree,E=v.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(y){return y}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(y){y.import&&E(wrap(y.import))}),"complete"===document.readyState||v.flags.eager)p();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var f=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(f,p)}else p()}(window.CustomElements))}.call(this),function(){}.call(this),function(){(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"\xa0",OBJECT_REPLACEMENT_CHARACTER:"\ufffc",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var u,v,d;if("undefined"==typeof InputEvent)return!1;for(u=0,v=(d=["data","getTargetRanges","inputType"]).length;v>u;u++)if(!(d[u]in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(this);var a=this.Trix;(function(){(function(){a.BasicObject=function(){function u(){}var v,p,d;return u.proxyMethod=function(h){var _,e,E,f,y;return E=p(h),f=E.toMethod,y=E.toProperty,e=E.optional,this.prototype[_=E.name]=function(){var s,C;return s=null!=f?e?"function"==typeof this[f]?this[f]():void 0:this[f]():null!=y?this[y]:void 0,e?null!=(C=null!=s?s[_]:void 0)?v.call(C,s,arguments):void 0:v.call(C=s[_],s,arguments)}},p=function(h){var _,e;if(!(e=h.match(d)))throw new Error("can't parse @proxyMethod expression: "+h);return _={name:e[4]},null!=e[2]?_.toMethod=e[1]:_.toProperty=e[1],null!=e[3]&&(_.optional=!0),_},v=Function.prototype.apply,d=/^(.+?)(\(\))?(\?)?\.(.+?)$/,u}()}).call(this),function(){var v={}.hasOwnProperty;a.Object=function(p){function d(){this.id=++h}var h;return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),h=0,d.fromJSONString=function(_){return this.fromJSON(JSON.parse(_))},d.prototype.hasSameConstructorAs=function(_){return this.constructor===(null!=_?_.constructor:void 0)},d.prototype.isEqualTo=function(_){return this===_},d.prototype.inspect=function(){var _,e;return _=function(){var f,y,s;for(e in s=[],y=null!=(f=this.contentsForInspection())?f:{})s.push(e+"="+y[e]);return s}.call(this),"#<"+this.constructor.name+":"+this.id+(_.length?" "+_.join(", "):"")+">"},d.prototype.contentsForInspection=function(){},d.prototype.toJSONString=function(){return JSON.stringify(this)},d.prototype.toUTF16String=function(){return a.UTF16String.box(this)},d.prototype.getCacheKey=function(){return this.id.toString()},d}(a.BasicObject)}.call(this),function(){a.extend=function(u){var v;for(v in u)this[v]=u[v];return this}}.call(this),function(){a.extend({defer:function(u){return setTimeout(u,1)}})}.call(this),function(){var u,v;a.extend({normalizeSpaces:function(p){return p.replace(RegExp(""+a.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+a.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(p){return p.replace(/\r\n/g,"\n")},breakableWhitespacePattern:RegExp("[^\\S"+a.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(p){return p.replace(RegExp(""+a.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(p,d){var h,_,e,E;return p=a.UTF16String.box(p),(d=a.UTF16String.box(d)).length<p.length?(E=(_=v(p,d))[0],h=_[1]):(h=(e=v(d,p))[0],E=e[1]),{added:h,removed:E}}}),v=function(p,d){var h,_,e,E,f;return p.isEqualTo(d)?["",""]:(e=(E=(_=u(p,d)).utf16String.length)?(h=p.codepoints.slice(0,f=_.offset).concat(p.codepoints.slice(f+E)),u(d,a.UTF16String.fromCodepoints(h))):u(d,p),[_.utf16String.toString(),e.utf16String.toString()])},u=function(p,d){var h,_,e;for(h=0,_=p.length,e=d.length;_>h&&p.charAt(h).isEqualTo(d.charAt(h));)h++;for(;_>h+1&&p.charAt(_-1).isEqualTo(d.charAt(e-1));)_--,e--;return{utf16String:p.slice(h,_),offset:h}}}.call(this),function(){a.extend({copyObject:function(u){var v,p;for(v in null==u&&(u={}),p={},u)p[v]=u[v];return p},objectsAreEqual:function(u,v){var p;if(null==u&&(u={}),null==v&&(v={}),Object.keys(u).length!==Object.keys(v).length)return!1;for(p in u)if(u[p]!==v[p])return!1;return!0}})}.call(this),function(){var u=[].slice;a.extend({arraysAreEqual:function(v,p){var d,h,_;if(null==v&&(v=[]),null==p&&(p=[]),v.length!==p.length)return!1;for(h=d=0,_=v.length;_>d;h=++d)if(v[h]!==p[h])return!1;return!0},arrayStartsWith:function(v,p){return null==v&&(v=[]),null==p&&(p=[]),a.arraysAreEqual(v.slice(0,p.length),p)},spliceArray:function(){var v,p,d;return p=arguments[0],v=2<=arguments.length?u.call(arguments,1):[],(d=p.slice(0)).splice.apply(d,v),d},summarizeArrayChange:function(v,p){var d,h,_,e,E,f,y,s,C,b,A;for(null==v&&(v=[]),null==p&&(p=[]),d=[],b=[],_=new Set,e=0,y=v.length;y>e;e++)_.add(A=v[e]);for(h=new Set,E=0,s=p.length;s>E;E++)h.add(A=p[E]),_.has(A)||d.push(A);for(f=0,C=v.length;C>f;f++)h.has(A=v[f])||b.push(A);return{added:d,removed:b}}})}.call(this),function(){var u,v,p,d;u=null,v=null,d=null,p=null,a.extend({getAllAttributeNames:function(){return null!=u?u:u=a.getTextAttributeNames().concat(a.getBlockAttributeNames())},getBlockConfig:function(h){return a.config.blockAttributes[h]},getBlockAttributeNames:function(){return null!=v?v:v=Object.keys(a.config.blockAttributes)},getTextConfig:function(h){return a.config.textAttributes[h]},getTextAttributeNames:function(){return null!=d?d:d=Object.keys(a.config.textAttributes)},getListAttributeNames:function(){var h,_;return null!=p?p:p=function(){var e,E;for(h in E=[],e=a.config.blockAttributes)null!=(_=e[h].listAttribute)&&E.push(_);return E}()}})}.call(this),function(){var u,v,p,d,h,_=[].indexOf||function(e){for(var E=0,f=this.length;f>E;E++)if(E in this&&this[E]===e)return E;return-1};u=document.documentElement,v=null!=(p=null!=(d=null!=(h=u.matchesSelector)?h:u.webkitMatchesSelector)?d:u.msMatchesSelector)?p:u.mozMatchesSelector,a.extend({handleEvent:function(e,E){var y,s,A,I,D,O,S,x,L;return I=(D=null!=E?E:{}).preventDefault,S=D.times,y=null!=(A=D.onElement)?A:u,O=D.matchingSelector,L=D.withCallback,x="capturing"===D.inPhase,(s=function(R){var G;return null!=S&&0==--S&&s.destroy(),null!=(G=a.findClosestElementFromNode(R.target,{matchingSelector:O}))&&(null!=L&&L.call(G,R,G),I)?R.preventDefault():void 0}).destroy=function(){return y.removeEventListener(e,s,x)},y.addEventListener(e,s,x),s},handleEventOnce:function(e,E){return null==E&&(E={}),E.times=1,a.handleEvent(e,E)},triggerEvent:function(e,E){var f,y,s,C,b,A,I;return f=(I=null!=E?E:{}).attributes,C=null!=(A=I.onElement)?A:u,y=!1!==(y=I.bubbles),s=!1!==(s=I.cancelable),(b=document.createEvent("Events")).initEvent(e,y,s),null!=f&&a.extend.call(b,f),C.dispatchEvent(b)},elementMatchesSelector:function(e,E){return 1===(null!=e?e.nodeType:void 0)?v.call(e,E):void 0},findClosestElementFromNode:function(e,E){var f,y,s;for(f=(y=null!=E?E:{}).matchingSelector,s=y.untilNode;null!=e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;if(null!=e){if(null==f)return e;if(e.closest&&null==s)return e.closest(f);for(;e&&e!==s;){if(a.elementMatchesSelector(e,f))return e;e=e.parentNode}}},findInnerElement:function(e){for(;null!=e?e.firstElementChild:void 0;)e=e.firstElementChild;return e},innerElementIsActive:function(e){return document.activeElement!==e&&a.elementContainsNode(e,document.activeElement)},elementContainsNode:function(e,E){if(e&&E)for(;E;){if(E===e)return!0;E=E.parentNode}},findNodeFromContainerAndOffset:function(e,E){var f;if(e)return e.nodeType===Node.TEXT_NODE?e:0===E?null!=(f=e.firstChild)?f:e:e.childNodes.item(E-1)},findElementFromContainerAndOffset:function(e,E){var f;return f=a.findNodeFromContainerAndOffset(e,E),a.findClosestElementFromNode(f)},findChildIndexOfNode:function(e){var E;if(null!=e?e.parentNode:void 0){for(E=0;e=e.previousSibling;)E++;return E}},removeNode:function(e){var E;return null!=e&&null!=(E=e.parentNode)?E.removeChild(e):void 0},walkTree:function(e,E){var f,y,s,C,b;return y=(s=null!=E?E:{}).onlyNodesOfType,C=s.usingFilter,f=s.expandEntityReferences,b=function(){switch(y){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(e,b,null!=C?C:null,!0===f)},tagName:function(e){var E;return null!=e&&null!=(E=e.tagName)?E.toLowerCase():void 0},makeElement:function(e,E){var s,C,b,A,I,D,O,S,x,L,R;if(null==E&&(E={}),"object"==typeof e?e=(E=e).tagName:E={attributes:E},s=document.createElement(e),null!=E.editable&&(null==E.attributes&&(E.attributes={}),E.attributes.contenteditable=E.editable),E.attributes)for(A in O=E.attributes)s.setAttribute(A,O[A]);if(E.style)for(A in S=E.style)s.style[A]=S[A];if(E.data)for(A in x=E.data)s.dataset[A]=x[A];if(E.className)for(C=0,I=(L=E.className.split(" ")).length;I>C;C++)s.classList.add(L[C]);if(E.textContent&&(s.textContent=E.textContent),E.childNodes)for(b=0,D=(R=[].concat(E.childNodes)).length;D>b;b++)s.appendChild(R[b]);return s},getBlockTagNames:function(){var e,E;return null!=a.blockTagNames?a.blockTagNames:a.blockTagNames=function(){var f,y;for(e in y=[],f=a.config.blockAttributes)(E=f[e].tagName)&&y.push(E);return y}()},nodeIsBlockContainer:function(e){return a.nodeIsBlockStartComment(null!=e?e.firstChild:void 0)},nodeProbablyIsBlockContainer:function(e){var E,f;return E=a.tagName(e),_.call(a.getBlockTagNames(),E)>=0&&(f=a.tagName(e.firstChild),_.call(a.getBlockTagNames(),f)<0)},nodeIsBlockStart:function(e,E){return(null!=E?E:{strict:!0}).strict?a.nodeIsBlockStartComment(e):a.nodeIsBlockStartComment(e)||!a.nodeIsBlockStartComment(e.firstChild)&&a.nodeProbablyIsBlockContainer(e)},nodeIsBlockStartComment:function(e){return a.nodeIsCommentNode(e)&&"block"===(null!=e?e.data:void 0)},nodeIsCommentNode:function(e){return(null!=e?e.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(e,E){var f;return f=(null!=E?E:{}).name,e?a.nodeIsTextNode(e)?e.data===a.ZERO_WIDTH_SPACE?!f||e.parentNode.dataset.trixCursorTarget===f:void 0:a.nodeIsCursorTarget(e.firstChild):void 0},nodeIsAttachmentElement:function(e){return a.elementMatchesSelector(e,a.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(e){return a.nodeIsTextNode(e)&&""===(null!=e?e.data:void 0)},nodeIsTextNode:function(e){return(null!=e?e.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var u,v,p,d,h;u=a.copyObject,d=a.objectsAreEqual,a.extend({normalizeRange:p=function(_){var e;if(null!=_)return Array.isArray(_)||(_=[_,_]),[v(_[0]),v(null!=(e=_[1])?e:_[0])]},rangeIsCollapsed:function(_){var E;if(null!=_)return E=p(_),h(E[0],E[1])},rangesAreEqual:function(_,e){var E,f,y,s,C;if(null!=_&&null!=e)return f=(y=p(_))[0],E=y[1],C=(s=p(e))[1],h(f,s[0])&&h(E,C)}}),v=function(_){return"number"==typeof _?_:u(_)},h=function(_,e){return"number"==typeof _?_===e:d(_,e)}}.call(this),function(){var u,v,p,d,h,_,e,E;a.registerElement=function(E,f){var y,s;return null==f&&(f={}),E=E.toLowerCase(),f=e(f),(y=(s=_(f)).defaultCSS)&&(delete s.defaultCSS,d(y,E)),h(E,s)},d=function(E,f){return p(f).textContent=E.replace(/%t/g,f)},p=function(E){var f,y;return(f=document.createElement("style")).setAttribute("type","text/css"),f.setAttribute("data-tag-name",E.toLowerCase()),(y=u())&&f.setAttribute("nonce",y),document.head.insertBefore(f,document.head.firstChild),f},u=function(){var E;return(E=v("trix-csp-nonce")||v("csp-nonce"))?E.getAttribute("content"):void 0},v=function(E){return document.head.querySelector("meta[name="+E+"]")},_=function(E){var f,y,s;for(f in y={},E)y[f]="function"==typeof(s=E[f])?{value:s}:s;return y},E=function(f){var y,s,C,b,A;for(y={},s=0,b=(A=["initialize","connect","disconnect"]).length;b>s;s++)y[C=A[s]]=f[C],delete f[C];return y},e=window.customElements?function(f){var y,s,C,b,A;return y=(A=E(f)).connect,s=A.disconnect,(C=A.initialize)&&(b=y,y=function(){return this.initialized||(this.initialized=!0,C.call(this)),null!=b?b.call(this):void 0}),y&&(f.connectedCallback=y),s&&(f.disconnectedCallback=s),f}:function(f){var y,s,C,b;return y=(b=E(f)).connect,s=b.disconnect,(C=b.initialize)&&(f.createdCallback=C),y&&(f.attachedCallback=y),s&&(f.detachedCallback=s),f},h=window.customElements?function(E,f){var y;return y=function(){return"object"==typeof Reflect?Reflect.construct(HTMLElement,[],y):HTMLElement.apply(this)},Object.setPrototypeOf(y.prototype,HTMLElement.prototype),Object.setPrototypeOf(y,HTMLElement),Object.defineProperties(y.prototype,f),window.customElements.define(E,y),y}:function(E,f){var y,s;return s=Object.create(HTMLElement.prototype,f),y=document.registerElement(E,{prototype:s}),Object.defineProperty(s,"constructor",{value:y}),y}}.call(this),function(){var u,v;a.extend({getDOMSelection:function(){var p;return(p=window.getSelection()).rangeCount>0?p:void 0},getDOMRange:function(){var p,d;return(p=null!=(d=a.getDOMSelection())?d.getRangeAt(0):void 0)&&!u(p)?p:void 0},setDOMRange:function(p){var d;return(d=window.getSelection()).removeAllRanges(),d.addRange(p),a.selectionChangeObserver.update()}}),u=function(p){return v(p.startContainer)||v(p.endContainer)},v=function(p){return!Object.getPrototypeOf(p)}}.call(this),function(){var u;u={"application/x-trix-feature-detection":"test"},a.extend({dataTransferIsPlainText:function(v){var p,d,h;return h=v.getData("text/plain"),d=v.getData("text/html"),h&&d?(p=(new DOMParser).parseFromString(d,"text/html").body).textContent===h?!p.querySelector("*"):void 0:null!=h?h.length:void 0},dataTransferIsWritable:function(v){var p,d;if(null!=(null!=v?v.setData:void 0)){for(p in u)if(d=u[p],!function(){try{return v.setData(p,d),v.getData(p)===d}catch(h){}}())return;return!0}},keyEventIsKeyboardCommand:/Mac|^iP/.test(navigator.platform)?function(v){return v.metaKey}:function(v){return v.ctrlKey}})}.call(this),function(){var u,v,p,d;a.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:(v=a.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),(u=a.makeElement("form")).appendChild(v),p=function(){try{return new FormData(u).has(v.dirName)}catch(h){}}(),d=function(){try{return v.matches(":dir(ltr),:dir(rtl)")}catch(h){}}(),p?function(h){return v.value=h,new FormData(u).get(v.dirName)}:d?function(h){return v.value=h,v.matches(":dir(rtl)")?"rtl":"ltr"}:function(h){var _;return _=h.trim().charAt(0),a.RTL_PATTERN.test(_)?"rtl":"ltr"})})}.call(this),function(){}.call(this),function(){var u,p={}.hasOwnProperty;u=a.arraysAreEqual,a.Hash=function(d){function h(s){null==s&&(s={}),this.values=e(s),h.__super__.constructor.apply(this,arguments)}var _,e,E,f,y;return function(d,h){function _(){this.constructor=d}for(var e in h)p.call(h,e)&&(d[e]=h[e]);_.prototype=h.prototype,d.prototype=new _,d.__super__=h.prototype}(h,d),h.fromCommonAttributesOfObjects=function(s){var C,b,A,I,O;if(null==s&&(s=[]),!s.length)return new this;for(A=(C=_(s[0])).getKeys(),b=0,I=(O=s.slice(1)).length;I>b;b++)A=C.getKeysCommonToHash(_(O[b])),C=C.slice(A);return C},h.box=function(s){return _(s)},h.prototype.add=function(s,C){return this.merge(f(s,C))},h.prototype.remove=function(s){return new a.Hash(e(this.values,s))},h.prototype.get=function(s){return this.values[s]},h.prototype.has=function(s){return s in this.values},h.prototype.merge=function(s){return new a.Hash(E(this.values,y(s)))},h.prototype.slice=function(s){var C,b,A,I;for(I={},C=0,A=s.length;A>C;C++)this.has(b=s[C])&&(I[b]=this.values[b]);return new a.Hash(I)},h.prototype.getKeys=function(){return Object.keys(this.values)},h.prototype.getKeysCommonToHash=function(s){var C,b,A,I,D;for(s=_(s),D=[],C=0,A=(I=this.getKeys()).length;A>C;C++)this.values[b=I[C]]===s.values[b]&&D.push(b);return D},h.prototype.isEqualTo=function(s){return u(this.toArray(),_(s).toArray())},h.prototype.isEmpty=function(){return 0===this.getKeys().length},h.prototype.toArray=function(){var s,C;return(null!=this.array?this.array:this.array=function(){var A;for(s in C=[],A=this.values)C.push(s,A[s]);return C}.call(this)).slice(0)},h.prototype.toObject=function(){return e(this.values)},h.prototype.toJSON=function(){return this.toObject()},h.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},f=function(s,C){var b;return(b={})[s]=C,b},E=function(s,C){var b,A;for(b in A=e(s),C)A[b]=C[b];return A},e=function(s,C){var b,A,I,D,O;for(D={},b=0,I=(O=Object.keys(s).sort()).length;I>b;b++)(A=O[b])!==C&&(D[A]=s[A]);return D},_=function(s){return s instanceof a.Hash?s:new a.Hash(s)},y=function(s){return s instanceof a.Hash?s.values:s},h}(a.Object)}.call(this),function(){a.ObjectGroup=function(){function u(v,p){var d;this.objects=null!=v?v:[],(d=p.asTree)&&(this.depth=p.depth,this.objects=this.constructor.groupObjects(this.objects,{asTree:d,depth:this.depth+1}))}return u.groupObjects=function(v,p){var d,h,_,e,E,f,y,s,C;for(null==v&&(v=[]),_=(C=null!=p?p:{}).depth,(d=C.asTree)&&null==_&&(_=0),s=[],E=0,f=v.length;f>E;E++){if(y=v[E],e){if(("function"==typeof y.canBeGrouped?y.canBeGrouped(_):void 0)&&("function"==typeof(h=e[e.length-1]).canBeGroupedWith?h.canBeGroupedWith(y,_):void 0)){e.push(y);continue}s.push(new this(e,{depth:_,asTree:d})),e=null}("function"==typeof y.canBeGrouped?y.canBeGrouped(_):void 0)?e=[y]:s.push(y)}return e&&s.push(new this(e,{depth:_,asTree:d})),s},u.prototype.getObjects=function(){return this.objects},u.prototype.getDepth=function(){return this.depth},u.prototype.getCacheKey=function(){var v,p,d,_;for(p=["objectGroup"],v=0,d=(_=this.getObjects()).length;d>v;v++)p.push(_[v].getCacheKey());return p.join("/")},u}()}.call(this),function(){var v={}.hasOwnProperty;a.ObjectMap=function(p){function d(h){var _,e,E,f,y;for(null==h&&(h=[]),this.objects={},E=0,f=h.length;f>E;E++)y=h[E],e=JSON.stringify(y),null==(_=this.objects)[e]&&(_[e]=y)}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.prototype.find=function(h){var _;return _=JSON.stringify(h),this.objects[_]},d}(a.BasicObject)}.call(this),function(){a.ElementStore=function(){function u(p){this.reset(p)}var v;return u.prototype.add=function(p){var d;return d=v(p),this.elements[d]=p},u.prototype.remove=function(p){var d,h;return d=v(p),(h=this.elements[d])?(delete this.elements[d],h):void 0},u.prototype.reset=function(p){var h,_;for(null==p&&(p=[]),this.elements={},h=0,_=p.length;_>h;h++)this.add(p[h]);return p},v=function(p){return p.dataset.trixStoreKey},u}()}.call(this),function(){}.call(this),function(){var v={}.hasOwnProperty;a.Operation=function(p){function d(){return d.__super__.constructor.apply(this,arguments)}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.prototype.isPerforming=function(){return!0===this.performing},d.prototype.hasPerformed=function(){return!0===this.performed},d.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},d.prototype.hasFailed=function(){return this.performed&&!this.succeeded},d.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise((h=this,function(_,e){return h.performing=!0,h.perform(function(E,f){return h.succeeded=E,h.performing=!1,h.performed=!0,h.succeeded?_(f):e(f)})}));var h},d.prototype.perform=function(h){return h(!1)},d.prototype.release=function(){var h;return null!=(h=this.promise)&&"function"==typeof h.cancel&&h.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},d.proxyMethod("getPromise().then"),d.proxyMethod("getPromise().catch"),d}(a.BasicObject)}.call(this),function(){var u,v,p,d,h,e={}.hasOwnProperty;a.UTF16String=function(E){function f(y,s){this.ucs2String=y,this.codepoints=s,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return function(E,f){function y(){this.constructor=E}for(var s in f)e.call(f,s)&&(E[s]=f[s]);y.prototype=f.prototype,E.prototype=new y,E.__super__=f.prototype}(f,E),f.box=function(y){return null==y&&(y=""),y instanceof this?y:this.fromUCS2String(null!=y?y.toString():void 0)},f.fromUCS2String=function(y){return new this(y,d(y))},f.fromCodepoints=function(y){return new this(h(y),y)},f.prototype.offsetToUCS2Offset=function(y){return h(this.codepoints.slice(0,Math.max(0,y))).length},f.prototype.offsetFromUCS2Offset=function(y){return d(this.ucs2String.slice(0,Math.max(0,y))).length},f.prototype.slice=function(){var y;return this.constructor.fromCodepoints((y=this.codepoints).slice.apply(y,arguments))},f.prototype.charAt=function(y){return this.slice(y,y+1)},f.prototype.isEqualTo=function(y){return this.constructor.box(y).ucs2String===this.ucs2String},f.prototype.toJSON=function(){return this.ucs2String},f.prototype.getCacheKey=function(){return this.ucs2String},f.prototype.toString=function(){return this.ucs2String},f}(a.BasicObject),u=1===("function"==typeof Array.from?Array.from("\u{1f47c}").length:void 0),v=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),p=" \u{1f47c}"===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),d=u&&v?function(E){return Array.from(E).map(function(f){return f.codePointAt(0)})}:function(E){var f,y,s,C,b;for(C=[],f=0,s=E.length;s>f;)(b=E.charCodeAt(f++))>=55296&&56319>=b&&s>f&&(56320==(64512&(y=E.charCodeAt(f++)))?b=((1023&b)<<10)+(1023&y)+65536:f--),C.push(b);return C},h=p?function(E){return String.fromCodePoint.apply(String,E)}:function(E){var y,s;return function(){var C,b,A;for(A=[],C=0,b=E.length;b>C;C++)y="",(s=E[C])>65535&&(s-=65536,y+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),A.push(y+String.fromCharCode(s));return A}().join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){a.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){a.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var u;a.config.blockAttributes=u={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(v){return a.tagName(v.parentNode)===u[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(v){return a.tagName(v.parentNode)===u[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var u,v;v=[(u=a.config.lang).bytes,u.KB,u.MB,u.GB,u.TB,u.PB],a.config.fileSize={prefix:"IEC",precision:2,formatter:function(p){var d,h;switch(p){case 0:return"0 "+u.bytes;case 1:return"1 "+u.byte;default:return d=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),h=Math.floor(Math.log(p)/Math.log(d)),(p/Math.pow(d,h)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+v[h]}}}}.call(this),function(){a.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(u){var v;return"bold"===(v=window.getComputedStyle(u)).fontWeight||v.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(u){return"italic"===window.getComputedStyle(u).fontStyle}},href:{groupTagName:"a",parser:function(u){var p;return(p=a.findClosestElementFromNode(u,{matchingSelector:"a:not("+a.AttachmentView.attachmentSelector+")"}))?p.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var u,v,d;d=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],v="data-trix-serialized-attributes",u=new RegExp("\x3c!--block--\x3e","g"),a.extend({serializers:{"application/json":function(_){var e;if(_ instanceof a.Document)e=_;else{if(!(_ instanceof HTMLElement))throw new Error("unserializable object");e=a.Document.fromHTML(_.innerHTML)}return e.toSerializableDocument().toJSONString()},"text/html":function(_){var e,E,f,y,s,C,b,A,I,D,O,S,x,L,R,G;if(_ instanceof a.Document)y=a.DocumentView.render(_);else{if(!(_ instanceof HTMLElement))throw new Error("unserializable object");y=_.cloneNode(!0)}for(s=0,I=(L=y.querySelectorAll("[data-trix-serialize=false]")).length;I>s;s++)a.removeNode(f=L[s]);for(C=0,D=d.length;D>C;C++)for(b=0,O=(R=y.querySelectorAll("["+(e=d[C])+"]")).length;O>b;b++)(f=R[b]).removeAttribute(e);for(A=0,S=(G=y.querySelectorAll("[data-trix-serialized-attributes]")).length;S>A;A++){f=G[A];try{for(x in E=JSON.parse(f.getAttribute(v)),f.removeAttribute(v),E)f.setAttribute(x,E[x])}catch(V){}}return y.innerHTML.replace(u,"")}},deserializers:{"application/json":function(_){return a.Document.fromJSONString(_)},"text/html":function(_){return a.Document.fromHTML(_)}},serializeToContentType:function(_,e){var E;if(E=a.serializers[e])return E(_);throw new Error("unknown content type: "+e)},deserializeFromContentType:function(_,e){var E;if(E=a.deserializers[e])return E(_);throw new Error("unknown content type: "+e)}})}.call(this),function(){var u;u=a.config.lang,a.config.toolbar={getDefaultHTML:function(){return'<div class="trix-button-row">\n  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="'+u.bold+'" tabindex="-1">'+u.bold+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="'+u.italic+'" tabindex="-1">'+u.italic+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="'+u.strike+'" tabindex="-1">'+u.strike+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+u.link+'" tabindex="-1">'+u.link+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="'+u.heading1+'" tabindex="-1">'+u.heading1+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="'+u.quote+'" tabindex="-1">'+u.quote+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="'+u.code+'" tabindex="-1">'+u.code+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="'+u.bullets+'" tabindex="-1">'+u.bullets+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="'+u.numbers+'" tabindex="-1">'+u.numbers+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="'+u.outdent+'" tabindex="-1">'+u.outdent+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="'+u.indent+'" tabindex="-1">'+u.indent+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="'+u.attachFiles+'" tabindex="-1">'+u.attachFiles+'</button>\n  </span>\n\n  <span class="trix-button-group-spacer"></span>\n\n  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="'+u.undo+'" tabindex="-1">'+u.undo+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="'+u.redo+'" tabindex="-1">'+u.redo+'</button>\n  </span>\n</div>\n\n<div class="trix-dialogs" data-trix-dialogs>\n  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">\n    <div class="trix-dialog__link-fields">\n      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="'+u.urlPlaceholder+'" aria-label="'+u.url+'" required data-trix-input>\n      <div class="trix-button-group">\n        <input type="button" class="trix-button trix-button--dialog" value="'+u.link+'" data-trix-method="setAttribute">\n        <input type="button" class="trix-button trix-button--dialog" value="'+u.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>'}}}.call(this),function(){a.config.undoInterval=5e3}.call(this),function(){a.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){a.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){a.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&a.browser.supportsInputEvents?2:0},pickFiles:function(u){var v;return(v=a.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId})).addEventListener("change",function(){return u(v.files),a.removeNode(v)}),a.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(v),v.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){a.registerElement("trix-toolbar",{defaultCSS:"%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}",initialize:function(){return""===this.innerHTML?this.innerHTML=a.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var v={}.hasOwnProperty,p=[].indexOf||function(d){for(var h=0,_=this.length;_>h;h++)if(h in this&&this[h]===d)return h;return-1};a.ObjectView=function(d){function h(_,e){this.object=_,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return function(d,h){function _(){this.constructor=d}for(var e in h)v.call(h,e)&&(d[e]=h[e]);_.prototype=h.prototype,d.prototype=new _,d.__super__=h.prototype}(h,d),h.prototype.getNodes=function(){var _,e,f,y;for(null==this.nodes&&(this.nodes=this.createNodes()),y=[],_=0,e=(f=this.nodes).length;e>_;_++)y.push(f[_].cloneNode(!0));return y},h.prototype.invalidate=function(){var _;return this.nodes=null,this.childViews=[],null!=(_=this.parentView)?_.invalidate():void 0},h.prototype.invalidateViewForObject=function(_){var e;return null!=(e=this.findViewForObject(_))?e.invalidate():void 0},h.prototype.findOrCreateCachedChildView=function(_,e){var E;return(E=this.getCachedViewForObject(e))?this.recordChildView(E):(E=this.createChildView.apply(this,arguments),this.cacheViewForObject(E,e)),E},h.prototype.createChildView=function(_,e,E){var f;return null==E&&(E={}),e instanceof a.ObjectGroup&&(E.viewClass=_,_=a.ObjectGroupView),f=new _(e,E),this.recordChildView(f)},h.prototype.recordChildView=function(_){return _.parentView=this,_.rootView=this.rootView,this.childViews.push(_),_},h.prototype.getAllChildViews=function(){var _,e,E,f,y;for(y=[],e=0,E=(f=this.childViews).length;E>e;e++)y.push(_=f[e]),y=y.concat(_.getAllChildViews());return y},h.prototype.findElement=function(){return this.findElementForObject(this.object)},h.prototype.findElementForObject=function(_){var e;return(e=null!=_?_.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},h.prototype.findViewForObject=function(_){var e,E,f,y;for(e=0,E=(f=this.getAllChildViews()).length;E>e;e++)if((y=f[e]).object===_)return y},h.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},h.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},h.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},h.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},h.prototype.getCachedViewForObject=function(_){var e;return null!=(e=this.getViewCache())?e[_.getCacheKey()]:void 0},h.prototype.cacheViewForObject=function(_,e){var E;return null!=(E=this.getViewCache())?E[e.getCacheKey()]=_:void 0},h.prototype.garbageCollectCachedViews=function(){var _,e,E,f,s;if(_=this.getViewCache()){for(e in s=this.getAllChildViews().concat(this),E=function(){var C,b,A;for(A=[],C=0,b=s.length;b>C;C++)A.push(s[C].object.getCacheKey());return A}(),f=[],_)p.call(E,e)<0&&f.push(delete _[e]);return f}},h}(a.BasicObject)}.call(this),function(){var v={}.hasOwnProperty;a.ObjectGroupView=function(p){function d(){d.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.prototype.getChildViews=function(){var h,_,E;if(!this.childViews.length)for(h=0,_=(E=this.objectGroup.getObjects()).length;_>h;h++)this.findOrCreateCachedChildView(this.viewClass,E[h],this.options);return this.childViews},d.prototype.createNodes=function(){var h,_,e,E,f,s,C;for(h=this.createContainerElement(),_=0,E=(s=this.getChildViews()).length;E>_;_++)for(e=0,f=(C=s[_].getNodes()).length;f>e;e++)h.appendChild(C[e]);return[h]},d.prototype.createContainerElement=function(h){return null==h&&(h=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(h)},d}(a.ObjectView)}.call(this),function(){var v={}.hasOwnProperty;a.Controller=function(p){function d(){return d.__super__.constructor.apply(this,arguments)}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d}(a.BasicObject)}.call(this),function(){var u,v,p,d,h,_,f={}.hasOwnProperty,y=[].indexOf||function(s){for(var C=0,b=this.length;b>C;C++)if(C in this&&this[C]===s)return C;return-1};u=a.findClosestElementFromNode,p=a.nodeIsEmptyTextNode,v=a.nodeIsBlockStartComment,d=a.normalizeSpaces,h=a.summarizeStringChange,_=a.tagName,a.MutationObserver=function(s){function C(O){this.element=O,this.didMutate=function(s,C){return function(){return s.apply(C,arguments)}}(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var b,D;return function(s,C){function b(){this.constructor=s}for(var A in C)f.call(C,A)&&(s[A]=C[A]);b.prototype=C.prototype,s.prototype=new b,s.__super__=C.prototype}(C,s),"data-trix-mutable",D={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},C.prototype.start=function(){return this.reset(),this.observer.observe(this.element,D)},C.prototype.stop=function(){return this.observer.disconnect()},C.prototype.didMutate=function(O){var S,x;return(S=this.mutations).push.apply(S,this.findSignificantMutations(O)),this.mutations.length?(null!=(x=this.delegate)&&"function"==typeof x.elementDidMutate&&x.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},C.prototype.reset=function(){return this.mutations=[]},C.prototype.findSignificantMutations=function(O){var S,x,L,R;for(R=[],S=0,x=O.length;x>S;S++)this.mutationIsSignificant(L=O[S])&&R.push(L);return R},C.prototype.mutationIsSignificant=function(O){var S,x,R;if(this.nodeIsMutable(O.target))return!1;for(S=0,x=(R=this.nodesModifiedByMutation(O)).length;x>S;S++)if(this.nodeIsSignificant(R[S]))return!0;return!1},C.prototype.nodeIsSignificant=function(O){return O!==this.element&&!this.nodeIsMutable(O)&&!p(O)},C.prototype.nodeIsMutable=function(O){return u(O,{matchingSelector:"[data-trix-mutable]"})},C.prototype.nodesModifiedByMutation=function(O){var S;switch(S=[],O.type){case"attributes":"data-trix-mutable"!==O.attributeName&&S.push(O.target);break;case"characterData":S.push(O.target.parentNode),S.push(O.target);break;case"childList":S.push.apply(S,O.addedNodes),S.push.apply(S,O.removedNodes)}return S},C.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},C.prototype.getTextMutationSummary=function(){var O,S,x,L,R,G,k,V,ne,$,q;for(x=(V=this.getTextChangesFromCharacterData()).additions,R=V.deletions,G=0,k=(ne=(q=this.getTextChangesFromChildList()).additions).length;k>G;G++)y.call(x,S=ne[G])<0&&x.push(S);return R.push.apply(R,q.deletions),$={},(O=x.join(""))&&($.textAdded=O),(L=R.join(""))&&($.textDeleted=L),$},C.prototype.getMutationsByType=function(O){var S,x,L,R,G;for(G=[],S=0,x=(R=this.mutations).length;x>S;S++)(L=R[S]).type===O&&G.push(L);return G},C.prototype.getTextChangesFromChildList=function(){var O,S,x,L,R,G,k,ne,$,q;for(O=[],k=[],S=0,L=(G=this.getMutationsByType("childList")).length;L>S;S++)O.push.apply(O,(R=G[S]).addedNodes),k.push.apply(k,R.removedNodes);return 0===O.length&&1===k.length&&v(k[0])?($=[],q=["\n"]):($=b(O),q=b(k)),{additions:function(){var X,de,fe;for(fe=[],x=X=0,de=$.length;de>X;x=++X)(ne=$[x])!==q[x]&&fe.push(d(ne));return fe}(),deletions:function(){var X,de,fe;for(fe=[],x=X=0,de=q.length;de>X;x=++X)(ne=q[x])!==$[x]&&fe.push(d(ne));return fe}()}},C.prototype.getTextChangesFromCharacterData=function(){var O,S,x,L,R,G,k;return(S=this.getMutationsByType("characterData")).length&&(x=S[S.length-1],R=d(S[0].oldValue),L=d(x.target.data),O=(G=h(R,L)).added,k=G.removed),{additions:O?[O]:[],deletions:k?[k]:[]}},b=function(O){var S,x,L,R;for(null==O&&(O=[]),R=[],S=0,x=O.length;x>S;S++)switch(L=O[S],L.nodeType){case Node.TEXT_NODE:R.push(L.data);break;case Node.ELEMENT_NODE:"br"===_(L)?R.push("\n"):R.push.apply(R,b(L.childNodes))}return R},C}(a.BasicObject)}.call(this),function(){var v={}.hasOwnProperty;a.FileVerificationOperation=function(p){function d(h){this.file=h}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.prototype.perform=function(h){var _,e;return(_=new FileReader).onerror=function(){return h(!1)},_.onload=(e=this,function(){_.onerror=null;try{_.abort()}catch(E){}return h(!0,e.file)}),_.readAsArrayBuffer(this.file)},d}(a.Operation)}.call(this),function(){var u,v,d={}.hasOwnProperty;u=a.handleEvent,v=a.innerElementIsActive,a.InputController=function(h){function _(e){var E;for(E in this.element=e,this.mutationObserver=new a.MutationObserver(this.element),this.mutationObserver.delegate=this,this.events)u(E,{onElement:this.element,withCallback:this.handlerFor(E)})}return function(h,_){function e(){this.constructor=h}for(var E in _)d.call(_,E)&&(h[E]=_[E]);e.prototype=_.prototype,h.prototype=new e,h.__super__=_.prototype}(_,h),_.prototype.events={},_.prototype.elementDidMutate=function(){},_.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},_.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},_.prototype.requestRender=function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidRequestRender?e.inputControllerDidRequestRender():void 0},_.prototype.requestReparse=function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidRequestReparse&&e.inputControllerDidRequestReparse(),this.requestRender()},_.prototype.attachFiles=function(e){var f,y;return f=function(){var y,s,C;for(C=[],y=0,s=e.length;s>y;y++)C.push(new a.FileVerificationOperation(e[y]));return C}(),Promise.all(f).then((y=this,function(s){return y.handleInput(function(){var C,b;return null!=(C=this.delegate)&&C.inputControllerWillAttachFiles(),null!=(b=this.responder)&&b.insertFiles(s),this.requestRender()})}))},_.prototype.handlerFor=function(e){return E=this,function(f){return f.defaultPrevented?void 0:E.handleInput(function(){return v(this.element)?void 0:(this.eventName=e,this.events[e].call(this,f))})};var E},_.prototype.handleInput=function(e){var E,f;try{return null!=(E=this.delegate)&&E.inputControllerWillHandleInput(),e.call(this)}finally{null!=(f=this.delegate)&&f.inputControllerDidHandleInput()}},_.prototype.createLinkHTML=function(e,E){var f;return(f=document.createElement("a")).href=e,f.textContent=null!=E?E:e,f.outerHTML},_}(a.BasicObject)}.call(this),function(){var u,v,p,d,h,_,e,E,f,y,s,C,A=function(O,S){function x(){this.constructor=O}for(var L in S)I.call(S,L)&&(O[L]=S[L]);return x.prototype=S.prototype,O.prototype=new x,O.__super__=S.prototype,O},I={}.hasOwnProperty,D=[].indexOf||function(O){for(var S=0,x=this.length;x>S;S++)if(S in this&&this[S]===O)return S;return-1};f=a.makeElement,y=a.objectsAreEqual,v=a.browser,e=a.keyEventIsKeyboardCommand,d=a.dataTransferIsWritable,p=a.dataTransferIsPlainText,E=a.config.keyNames,a.Level0InputController=function(O){function S(){S.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var x;return A(S,O),x=0,S.prototype.setInputSummary=function(L){var R;for(R in null==L&&(L={}),this.inputSummary.eventName=this.eventName,L)this.inputSummary[R]=L[R];return this.inputSummary},S.prototype.resetInputSummary=function(){return this.inputSummary={}},S.prototype.reset=function(){return this.resetInputSummary(),a.selectionChangeObserver.reset()},S.prototype.elementDidMutate=function(L){var R;return this.isComposing()?null!=(R=this.delegate)&&"function"==typeof R.inputControllerDidAllowUnhandledInput?R.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(L)&&(this.mutationIsExpected(L)?this.requestRender():this.requestReparse()),this.reset()})},S.prototype.mutationIsExpected=function(L){var R,G,k,V,ne,q,X,de,fe;return q=L.textAdded,X=L.textDeleted,!!this.inputSummary.preferDocument||(R=null!=q?q===this.inputSummary.textAdded:!this.inputSummary.textAdded,G=null!=X?this.inputSummary.didDelete:!this.inputSummary.didDelete,fe="\n"===X&&!G,!!(((de=("\n"===q||" \n"===q)&&!R)&&!fe||fe&&!de)&&(V=this.getSelectedRange())&&(k=de?q.replace(/\n$/,"").length||-1:(null!=q?q.length:void 0)||1,null!=(ne=this.responder)?ne.positionIsBlockBreak(V[1]+k):void 0))||R&&G)},S.prototype.mutationIsSignificant=function(L){var R,G,k;return k=Object.keys(L).length>0,R=""===(null!=(G=this.compositionInput)?G.getEndData():void 0),k||!R},S.prototype.events={keydown:function(L){var R,G,k,V,ne,$,q,X,de;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,V=E[L.keyCode]){for(G=this.keys,k=0,$=(X=["ctrl","alt","shift","meta"]).length;$>k;k++)L[(q=X[k])+"Key"]&&("ctrl"===q&&(q="control"),G=null!=G?G[q]:void 0);null!=(null!=G?G[V]:void 0)&&(this.setInputSummary({keyName:V}),a.selectionChangeObserver.reset(),G[V].call(this,L))}return e(L)&&(R=String.fromCharCode(L.keyCode).toLowerCase())&&((ne=function(){var fe,We,Ne,dt;for(dt=[],fe=0,We=(Ne=["alt","shift"]).length;We>fe;fe++)L[(q=Ne[fe])+"Key"]&&dt.push(q);return dt}()).push(R),null!=(de=this.delegate)?de.inputControllerDidReceiveKeyboardCommand(ne):void 0)?L.preventDefault():void 0},keypress:function(L){var R,G,k;if(null==this.inputSummary.eventName&&!L.metaKey&&(!L.ctrlKey||L.altKey))return(k=C(L))?(null!=(R=this.delegate)&&R.inputControllerWillPerformTyping(),null!=(G=this.responder)&&G.insertString(k),this.setInputSummary({textAdded:k,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(L){var R,G,k,V;return R=L.data,(V=this.inputSummary.textAdded)&&V!==R&&V.toUpperCase()===R?(G=this.getSelectedRange(),this.setSelectedRange([G[0],G[1]+V.length]),null!=(k=this.responder)&&k.insertString(R),this.setInputSummary({textAdded:R}),this.setSelectedRange(G)):void 0},dragenter:function(L){return L.preventDefault()},dragstart:function(L){var R;return this.serializeSelectionToDataTransfer(L.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(R=this.delegate)&&"function"==typeof R.inputControllerDidStartDrag?R.inputControllerDidStartDrag():void 0},dragover:function(L){var R,G;return!this.draggedRange&&!this.canAcceptDataTransfer(L.dataTransfer)||(L.preventDefault(),y(R={x:L.clientX,y:L.clientY},this.draggingPoint))?void 0:(this.draggingPoint=R,null!=(G=this.delegate)&&"function"==typeof G.inputControllerDidReceiveDragOverPoint?G.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var L;return null!=(L=this.delegate)&&"function"==typeof L.inputControllerDidCancelDrag&&L.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(L){var R,G,k,ne,$,q,X,de;return L.preventDefault(),k=null!=(ne=L.dataTransfer)?ne.files:void 0,null!=($=this.responder)&&$.setLocationRangeFromPointRange({x:L.clientX,y:L.clientY}),(null!=k?k.length:void 0)?this.attachFiles(k):this.draggedRange?(null!=(q=this.delegate)&&q.inputControllerWillMoveText(),null!=(X=this.responder)&&X.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(G=L.dataTransfer.getData("application/x-trix-document"))&&(R=a.Document.fromJSONString(G),null!=(de=this.responder)&&de.insertDocument(R),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(L){var R,G;return(null!=(R=this.responder)?R.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(L.clipboardData)&&L.preventDefault(),null!=(G=this.delegate)&&G.inputControllerWillCutText(),this.deleteInDirection("backward"),L.defaultPrevented)?this.requestRender():void 0},copy:function(L){var R;return(null!=(R=this.responder)?R.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(L.clipboardData)?L.preventDefault():void 0},paste:function(L){var R,G,k,V,ne,$,q,X,de,fe,We,Ne,dt,ge,Je,se,Re,pt,ht,It,De,Se,Ae,lt;return R=null!=(X=L.clipboardData)?X:L.testClipboardData,q={clipboard:R},null==R||s(L)?void this.getPastedHTMLUsingHiddenElement((lt=this,function(Ze){var Rt,Gt,Xt;return q.type="text/html",q.html=Ze,null!=(Rt=lt.delegate)&&Rt.inputControllerWillPaste(q),null!=(Gt=lt.responder)&&Gt.insertHTML(q.html),lt.requestRender(),null!=(Xt=lt.delegate)?Xt.inputControllerDidPaste(q):void 0})):((V=R.getData("URL"))?(q.type="text/html",Ae=($=R.getData("public.url-name"))?a.squishBreakableWhitespace($).trim():V,q.html=this.createLinkHTML(V,Ae),null!=(de=this.delegate)&&de.inputControllerWillPaste(q),this.setInputSummary({textAdded:Ae,didDelete:this.selectionIsExpanded()}),null!=(Je=this.responder)&&Je.insertHTML(q.html),this.requestRender(),null!=(se=this.delegate)&&se.inputControllerDidPaste(q)):p(R)?(q.type="text/plain",q.string=R.getData("text/plain"),null!=(Re=this.delegate)&&Re.inputControllerWillPaste(q),this.setInputSummary({textAdded:q.string,didDelete:this.selectionIsExpanded()}),null!=(pt=this.responder)&&pt.insertString(q.string),this.requestRender(),null!=(ht=this.delegate)&&ht.inputControllerDidPaste(q)):(ne=R.getData("text/html"))?(q.type="text/html",q.html=ne,null!=(It=this.delegate)&&It.inputControllerWillPaste(q),null!=(De=this.responder)&&De.insertHTML(q.html),this.requestRender(),null!=(Se=this.delegate)&&Se.inputControllerDidPaste(q)):D.call(R.types,"Files")>=0&&(k=null!=(fe=R.items)&&null!=(We=fe[0])&&"function"==typeof We.getAsFile?We.getAsFile():void 0)&&(!k.name&&(G=h(k))&&(k.name="pasted-file-"+ ++x+"."+G),q.type="File",q.file=k,null!=(Ne=this.delegate)&&Ne.inputControllerWillAttachFiles(),null!=(dt=this.responder)&&dt.insertFile(q.file),this.requestRender(),null!=(ge=this.delegate)&&ge.inputControllerDidPaste(q)),L.preventDefault())},compositionstart:function(L){return this.getCompositionInput().start(L.data)},compositionupdate:function(L){return this.getCompositionInput().update(L.data)},compositionend:function(L){return this.getCompositionInput().end(L.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(L){return this.inputSummary.didInput=!0,L.stopPropagation()}},S.prototype.keys={backspace:function(L){var R;return null!=(R=this.delegate)&&R.inputControllerWillPerformTyping(),this.deleteInDirection("backward",L)},delete:function(L){var R;return null!=(R=this.delegate)&&R.inputControllerWillPerformTyping(),this.deleteInDirection("forward",L)},return:function(){var L,R;return this.setInputSummary({preferDocument:!0}),null!=(L=this.delegate)&&L.inputControllerWillPerformTyping(),null!=(R=this.responder)?R.insertLineBreak():void 0},tab:function(L){var R,G;return(null!=(R=this.responder)?R.canIncreaseNestingLevel():void 0)?(null!=(G=this.responder)&&G.increaseNestingLevel(),this.requestRender(),L.preventDefault()):void 0},left:function(L){var R;return this.selectionIsInCursorTarget()?(L.preventDefault(),null!=(R=this.responder)?R.moveCursorInDirection("backward"):void 0):void 0},right:function(L){var R;return this.selectionIsInCursorTarget()?(L.preventDefault(),null!=(R=this.responder)?R.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(L){var R;return null!=(R=this.delegate)&&R.inputControllerWillPerformTyping(),this.deleteInDirection("forward",L)},h:function(L){var R;return null!=(R=this.delegate)&&R.inputControllerWillPerformTyping(),this.deleteInDirection("backward",L)},o:function(L){var R,G;return L.preventDefault(),null!=(R=this.delegate)&&R.inputControllerWillPerformTyping(),null!=(G=this.responder)&&G.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{return:function(L){var R,G;return null!=(R=this.delegate)&&R.inputControllerWillPerformTyping(),null!=(G=this.responder)&&G.insertString("\n"),this.requestRender(),L.preventDefault()},tab:function(L){var R,G;return(null!=(R=this.responder)?R.canDecreaseNestingLevel():void 0)?(null!=(G=this.responder)&&G.decreaseNestingLevel(),this.requestRender(),L.preventDefault()):void 0},left:function(L){return this.selectionIsInCursorTarget()?(L.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(L){return this.selectionIsInCursorTarget()?(L.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var L;return this.setInputSummary({preferDocument:!1}),null!=(L=this.delegate)?L.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var L;return this.setInputSummary({preferDocument:!1}),null!=(L=this.delegate)?L.inputControllerWillPerformTyping():void 0}}},S.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new u(this)},S.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},S.prototype.deleteInDirection=function(L,R){var G;return!1!==(null!=(G=this.responder)?G.deleteInDirection(L):void 0)?this.setInputSummary({didDelete:!0}):R?(R.preventDefault(),this.requestRender()):void 0},S.prototype.serializeSelectionToDataTransfer=function(L){var R,G;if(d(L))return R=null!=(G=this.responder)?G.getSelectedDocument().toSerializableDocument():void 0,L.setData("application/x-trix-document",JSON.stringify(R)),L.setData("text/html",a.DocumentView.render(R).innerHTML),L.setData("text/plain",R.toString().replace(/\n$/,"")),!0},S.prototype.canAcceptDataTransfer=function(L){var R,G,k,V,$;for($={},R=0,G=(V=null!=(k=null!=L?L.types:void 0)?k:[]).length;G>R;R++)$[V[R]]=!0;return $.Files||$["application/x-trix-document"]||$["text/html"]||$["text/plain"]},S.prototype.getPastedHTMLUsingHiddenElement=function(L){var R,G,k,V;return G=this.getSelectedRange(),k={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},R=f({style:k,tagName:"div",editable:!0}),document.body.appendChild(R),R.focus(),requestAnimationFrame((V=this,function(){var ne;return ne=R.innerHTML,a.removeNode(R),V.setSelectedRange(G),L(ne)}))},S.proxyMethod("responder?.getSelectedRange"),S.proxyMethod("responder?.setSelectedRange"),S.proxyMethod("responder?.expandSelectionInDirection"),S.proxyMethod("responder?.selectionIsInCursorTarget"),S.proxyMethod("responder?.selectionIsExpanded"),S}(a.InputController),h=function(O){var S,x;return null!=(S=O.type)&&null!=(x=S.match(/\/(\w+)$/))?x[1]:void 0},_=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),C=function(O){var S;return O.key&&_&&O.key.codePointAt(0)===O.keyCode?O.key:(null===O.which?S=O.keyCode:0!==O.which&&0!==O.charCode&&(S=O.charCode),null!=S&&"escape"!==E[S]?a.UTF16String.fromCodepoints([S]).toString():void 0)},s=function(O){var S,x,L,R,G,k,ne,$,q;if(ne=O.clipboardData){if(D.call(ne.types,"text/html")>=0){for(L=0,k=($=ne.types).length;k>L;L++)if(S=/^CorePasteboardFlavorType/.test(q=$[L]),x=/^dyn\./.test(q)&&ne.getData(q),S||x)return!0;return!1}return R=D.call(ne.types,"com.apple.webarchive")>=0,G=D.call(ne.types,"com.apple.flat-rtfd")>=0,R||G}},u=function(O){function S(x){var L;this.inputController=x,this.responder=(L=this.inputController).responder,this.delegate=L.delegate,this.inputSummary=L.inputSummary,this.data={}}return A(S,O),S.prototype.start=function(x){var L,R;return this.data.start=x,this.isSignificant()?("keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(L=this.responder)&&L.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(R=this.responder)?R.getSelectedRange():void 0):void 0},S.prototype.update=function(x){var L;return this.data.update=x,this.isSignificant()&&(L=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=L):void 0},S.prototype.end=function(x){var L,R,G,k;return this.data.end=x,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null!=(L=this.delegate)&&L.inputControllerWillPerformTyping(),null!=(R=this.responder)&&R.setSelectedRange(this.range),null!=(G=this.responder)&&G.insertString(this.data.end),null!=(k=this.responder)?k.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},S.prototype.getEndData=function(){return this.data.end},S.prototype.isEnded=function(){return null!=this.getEndData()},S.prototype.isSignificant=function(){return!v.composesExistingText||this.inputSummary.didInput},S.prototype.canApplyToDocument=function(){var x,L;return 0===(null!=(x=this.data.start)?x.length:void 0)&&(null!=(L=this.data.end)?L.length:void 0)>0&&null!=this.range},S.proxyMethod("inputController.setInputSummary"),S.proxyMethod("inputController.requestRender"),S.proxyMethod("inputController.requestReparse"),S.proxyMethod("responder?.selectionIsExpanded"),S.proxyMethod("responder?.insertPlaceholder"),S.proxyMethod("responder?.selectPlaceholder"),S.proxyMethod("responder?.forgetPlaceholder"),S}(a.BasicObject)}.call(this),function(){var u,v,p,d=function(E,f){return function(){return E.apply(f,arguments)}},_={}.hasOwnProperty,e=[].indexOf||function(E){for(var f=0,y=this.length;y>f;f++)if(f in this&&this[f]===E)return f;return-1};u=a.dataTransferIsPlainText,v=a.keyEventIsKeyboardCommand,p=a.objectsAreEqual,a.Level2InputController=function(E){function f(){return this.render=d(this.render,this),f.__super__.constructor.apply(this,arguments)}var y,s,C,b,A,I;return function(E,f){function y(){this.constructor=E}for(var s in f)_.call(f,s)&&(E[s]=f[s]);y.prototype=f.prototype,E.prototype=new y,E.__super__=f.prototype}(f,E),f.prototype.elementDidMutate=function(){var D;return this.scheduledRender?this.composing&&null!=(D=this.delegate)&&"function"==typeof D.inputControllerDidAllowUnhandledInput?D.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},f.prototype.scheduleRender=function(){return null!=this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},f.prototype.render=function(){var D;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||null!=(D=this.delegate)&&D.render(),"function"==typeof this.afterRender&&this.afterRender(),this.afterRender=null},f.prototype.reparse=function(){var D;return null!=(D=this.delegate)?D.reparse():void 0},f.prototype.events={keydown:function(D){var O,S,x,L;if(v(D)){if(O=s(D),null!=(L=this.delegate)?L.inputControllerDidReceiveKeyboardCommand(O):void 0)return D.preventDefault()}else if(x=D.key,D.altKey&&(x+="+Alt"),D.shiftKey&&(x+="+Shift"),S=this.keys[x])return this.withEvent(D,S)},paste:function(D){var O,S,x,L,R,G,k,V,ne;return C(D)?(D.preventDefault(),this.attachFiles(D.clipboardData.files)):b(D)?(D.preventDefault(),S={type:"text/plain",string:D.clipboardData.getData("text/plain")},null!=(x=this.delegate)&&x.inputControllerWillPaste(S),null!=(L=this.responder)&&L.insertString(S.string),this.render(),null!=(R=this.delegate)?R.inputControllerDidPaste(S):void 0):(O=null!=(G=D.clipboardData)?G.getData("URL"):void 0)?(D.preventDefault(),S={type:"text/html",html:this.createLinkHTML(O)},null!=(k=this.delegate)&&k.inputControllerWillPaste(S),null!=(V=this.responder)&&V.insertHTML(S.html),this.render(),null!=(ne=this.delegate)?ne.inputControllerDidPaste(S):void 0):void 0},beforeinput:function(D){var O;return(O=this.inputTypes[D.inputType])?(this.withEvent(D,O),this.scheduleRender()):void 0},input:function(){return a.selectionChangeObserver.reset()},dragstart:function(D){var O,S;return(null!=(O=this.responder)?O.selectionContainsAttachments():void 0)?(D.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:null!=(S=this.responder)?S.getSelectedRange():void 0,point:A(D)}):void 0},dragenter:function(D){return y(D)?D.preventDefault():void 0},dragover:function(D){var O,S;if(this.dragging){if(D.preventDefault(),O=A(D),!p(O,this.dragging.point))return this.dragging.point=O,null!=(S=this.responder)?S.setLocationRangeFromPointRange(O):void 0}else if(y(D))return D.preventDefault()},drop:function(D){var O,S,x,L;return this.dragging?(D.preventDefault(),null!=(S=this.delegate)&&S.inputControllerWillMoveText(),null!=(x=this.responder)&&x.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):y(D)?(D.preventDefault(),O=A(D),null!=(L=this.responder)&&L.setLocationRangeFromPointRange(O),this.attachFiles(D.dataTransfer.files)):void 0},dragend:function(){var D;return this.dragging?(null!=(D=this.responder)&&D.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},f.prototype.keys={ArrowLeft:function(){var D,O;return(null!=(D=this.responder)?D.shouldManageMovingCursorInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(O=this.responder)?O.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var D,O;return(null!=(D=this.responder)?D.shouldManageMovingCursorInDirection("forward"):void 0)?(this.event.preventDefault(),null!=(O=this.responder)?O.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var D,O,S;return(null!=(D=this.responder)?D.shouldManageDeletingInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(O=this.delegate)&&O.inputControllerWillPerformTyping(),null!=(S=this.responder)&&S.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var D,O;return(null!=(D=this.responder)?D.canIncreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(O=this.responder)&&O.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var D,O;return(null!=(D=this.responder)?D.canDecreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(O=this.responder)&&O.decreaseNestingLevel(),this.render()):void 0}},f.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var D;return this.deleteByDragRange=null!=(D=this.responder)?D.getSelectedRange():void 0})},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var D;return(null!=(D=this.responder)?D.canIncreaseNestingLevel():void 0)?this.withTargetDOMRange(function(){var O;return null!=(O=this.responder)?O.increaseNestingLevel():void 0}):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var D;return(null!=(D=this.responder)?D.canDecreaseNestingLevel():void 0)?this.withTargetDOMRange(function(){var O;return null!=(O=this.responder)?O.decreaseNestingLevel():void 0}):void 0},formatRemove:function(){return this.withTargetDOMRange(function(){var D,O,S,x;for(D in x=[],null!=(O=this.responder)?O.getCurrentAttributes():void 0)x.push(null!=(S=this.responder)?S.removeCurrentAttribute(D):void 0);return x})},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var D;return null!=(D=this.delegate)?D.inputControllerWillPerformRedo():void 0},historyUndo:function(){var D;return null!=(D=this.delegate)?D.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var D,O;return(D=this.deleteByDragRange)?(this.deleteByDragRange=null,null!=(O=this.delegate)&&O.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var S;return null!=(S=this.responder)?S.moveTextFromRange(D):void 0})):void 0},insertFromPaste:function(){var D,O,S,x,L,R,G,k,V,ne,$,q;return L={dataTransfer:D=this.event.dataTransfer},(O=D.getData("URL"))?(this.event.preventDefault(),L.type="text/html",$=(x=D.getData("public.url-name"))?a.squishBreakableWhitespace(x).trim():O,L.html=this.createLinkHTML(O,$),null!=(R=this.delegate)&&R.inputControllerWillPaste(L),this.withTargetDOMRange(function(){var q;return null!=(q=this.responder)?q.insertHTML(L.html):void 0}),this.afterRender=(q=this,function(){var X;return null!=(X=q.delegate)?X.inputControllerDidPaste(L):void 0})):u(D)?(L.type="text/plain",L.string=D.getData("text/plain"),null!=(G=this.delegate)&&G.inputControllerWillPaste(L),this.withTargetDOMRange(function(){var q;return null!=(q=this.responder)?q.insertString(L.string):void 0}),this.afterRender=function(q){return function(){var X;return null!=(X=q.delegate)?X.inputControllerDidPaste(L):void 0}}(this)):(S=D.getData("text/html"))?(this.event.preventDefault(),L.type="text/html",L.html=S,null!=(k=this.delegate)&&k.inputControllerWillPaste(L),this.withTargetDOMRange(function(){var q;return null!=(q=this.responder)?q.insertHTML(L.html):void 0}),this.afterRender=function(q){return function(){var X;return null!=(X=q.delegate)?X.inputControllerDidPaste(L):void 0}}(this)):(null!=(V=D.files)?V.length:void 0)?(L.type="File",L.file=D.files[0],null!=(ne=this.delegate)&&ne.inputControllerWillPaste(L),this.withTargetDOMRange(function(){var q;return null!=(q=this.responder)?q.insertFile(L.file):void 0}),this.afterRender=function(q){return function(){var X;return null!=(X=q.delegate)?X.inputControllerDidPaste(L):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString("\n")},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var D;return null!=(D=this.delegate)&&D.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var O;return null!=(O=this.responder)?O.insertLineBreak():void 0})},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var D,O;return this.insertString(null!=(D=this.event.data)?D:null!=(O=this.event.dataTransfer)?O.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},f.prototype.insertString=function(D,O){var S;return null==D&&(D=""),null!=(S=this.delegate)&&S.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var x;return null!=(x=this.responder)?x.insertString(D,O):void 0})},f.prototype.toggleAttributeIfSupported=function(D){var O;return e.call(a.getAllAttributeNames(),D)>=0?(null!=(O=this.delegate)&&O.inputControllerWillPerformFormatting(D),this.withTargetDOMRange(function(){var S;return null!=(S=this.responder)?S.toggleCurrentAttribute(D):void 0})):void 0},f.prototype.activateAttributeIfSupported=function(D,O){var S;return e.call(a.getAllAttributeNames(),D)>=0?(null!=(S=this.delegate)&&S.inputControllerWillPerformFormatting(D),this.withTargetDOMRange(function(){var x;return null!=(x=this.responder)?x.setCurrentAttribute(D,O):void 0})):void 0},f.prototype.deleteInDirection=function(D,O){var S,x,R,G;return(null!=O?O:{recordUndoEntry:!0}).recordUndoEntry&&null!=(R=this.delegate)&&R.inputControllerWillPerformTyping(),G=this,x=function(){var k;return null!=(k=G.responder)?k.deleteInDirection(D):void 0},(S=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(S,x):x()},f.prototype.withTargetDOMRange=function(D,O){var S;return"function"==typeof D&&(O=D,D=this.getTargetDOMRange()),D?null!=(S=this.responder)?S.withTargetDOMRange(D,O.bind(this)):void 0:(a.selectionChangeObserver.reset(),O.call(this))},f.prototype.getTargetDOMRange=function(D){var O,S,x,L;return x=(null!=D?D:{minLength:0}).minLength,(L="function"==typeof(O=this.event).getTargetRanges?O.getTargetRanges():void 0)&&L.length&&(S=I(L[0]),0===x||S.toString().length>=x)?S:void 0},I=function(D){var O;return(O=document.createRange()).setStart(D.startContainer,D.startOffset),O.setEnd(D.endContainer,D.endOffset),O},f.prototype.withEvent=function(D,O){var S;this.event=D;try{S=O.call(this)}finally{this.event=null}return S},y=function(D){var O,S;return e.call(null!=(O=null!=(S=D.dataTransfer)?S.types:void 0)?O:[],"Files")>=0},C=function(D){var O;return(O=D.clipboardData)?e.call(O.types,"Files")>=0&&1===O.types.length&&O.files.length>=1:void 0},b=function(D){var O;return(O=D.clipboardData)?e.call(O.types,"text/plain")>=0&&1===O.types.length:void 0},s=function(D){var O;return O=[],D.altKey&&O.push("alt"),D.shiftKey&&O.push("shift"),O.push(D.key),O},A=function(D){return{x:D.clientX,y:D.clientY}},f}(a.InputController)}.call(this),function(){var u,v,p,d,h,_,e,E,f=function(C,b){return function(){return C.apply(b,arguments)}},s={}.hasOwnProperty;v=a.defer,p=a.handleEvent,_=a.makeElement,E=a.tagName,h=(e=a.config).lang,u=e.css,d=e.keyNames,a.AttachmentEditorController=function(C){function b(I,D,O,S){this.attachmentPiece=I,this.element=D,this.container=O,this.options=null!=S?S:{},this.didBlurCaption=f(this.didBlurCaption,this),this.didChangeCaption=f(this.didChangeCaption,this),this.didInputCaption=f(this.didInputCaption,this),this.didKeyDownCaption=f(this.didKeyDownCaption,this),this.didClickActionButton=f(this.didClickActionButton,this),this.didClickToolbar=f(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,"a"===E(this.element)&&(this.element=this.element.firstChild),this.install()}var A;return function(C,b){function A(){this.constructor=C}for(var I in b)s.call(b,I)&&(C[I]=b[I]);A.prototype=b.prototype,C.prototype=new A,C.__super__=b.prototype}(b,C),A=function(I){return function(){var D;return(D=I.apply(this,arguments)).do(),null==this.undos&&(this.undos=[]),this.undos.push(D.undo)}},b.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},b.prototype.uninstall=function(){var I,D;for(this.savePendingCaption();D=this.undos.pop();)D();return null!=(I=this.delegate)?I.didUninstallAttachmentEditor(this):void 0},b.prototype.savePendingCaption=function(){var I,D,O;return null!=this.pendingCaption?(I=this.pendingCaption,this.pendingCaption=null,I?null!=(D=this.delegate)&&"function"==typeof D.attachmentEditorDidRequestUpdatingAttributesForAttachment?D.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:I},this.attachment):void 0:null!=(O=this.delegate)&&"function"==typeof O.attachmentEditorDidRequestRemovingAttributeForAttachment?O.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},b.prototype.makeElementMutable=A(function(){return{do:(I=this,function(){return I.element.dataset.trixMutable=!0}),undo:function(I){return function(){return delete I.element.dataset.trixMutable}}(this)};var I}),b.prototype.addToolbar=A(function(){var I,D;return I=_({tagName:"div",className:u.attachmentToolbar,data:{trixMutable:!0},childNodes:_({tagName:"div",className:"trix-button-row",childNodes:_({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:_({tagName:"button",className:"trix-button trix-button--remove",textContent:h.remove,attributes:{title:h.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&I.appendChild(_({tagName:"div",className:u.attachmentMetadataContainer,childNodes:_({tagName:"span",className:u.attachmentMetadata,childNodes:[_({tagName:"span",className:u.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),_({tagName:"span",className:u.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),p("click",{onElement:I,withCallback:this.didClickToolbar}),p("click",{onElement:I,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:(D=this,function(){return D.element.appendChild(I)}),undo:function(){return a.removeNode(I)}}}),b.prototype.installCaptionEditor=A(function(){var I,D,O,S,x,L;return(S=_({tagName:"textarea",className:u.attachmentCaptionEditor,attributes:{placeholder:h.captionPlaceholder},data:{trixMutable:!0}})).value=this.attachmentPiece.getCaption(),(x=S.cloneNode()).classList.add("trix-autoresize-clone"),x.tabIndex=-1,I=function(){return x.value=S.value,S.style.height=x.scrollHeight+"px"},p("input",{onElement:S,withCallback:I}),p("input",{onElement:S,withCallback:this.didInputCaption}),p("keydown",{onElement:S,withCallback:this.didKeyDownCaption}),p("change",{onElement:S,withCallback:this.didChangeCaption}),p("blur",{onElement:S,withCallback:this.didBlurCaption}),O=this.element.querySelector("figcaption"),D=O.cloneNode(),{do:(L=this,function(){return O.style.display="none",D.appendChild(S),D.appendChild(x),D.classList.add(u.attachmentCaption+"--editing"),O.parentElement.insertBefore(D,O),I(),L.options.editCaption?v(function(){return S.focus()}):void 0}),undo:function(){return a.removeNode(D),O.style.display=null}}}),b.prototype.didClickToolbar=function(I){return I.preventDefault(),I.stopPropagation()},b.prototype.didClickActionButton=function(I){var O;if("remove"===I.target.getAttribute("data-trix-action"))return null!=(O=this.delegate)?O.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},b.prototype.didKeyDownCaption=function(I){var D;return"return"===d[I.keyCode]?(I.preventDefault(),this.savePendingCaption(),null!=(D=this.delegate)&&"function"==typeof D.attachmentEditorDidRequestDeselectingAttachment?D.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},b.prototype.didInputCaption=function(I){return this.pendingCaption=I.target.value.replace(/\s/g," ").trim()},b.prototype.didChangeCaption=function(){return this.savePendingCaption()},b.prototype.didBlurCaption=function(){return this.savePendingCaption()},b}(a.BasicObject)}.call(this),function(){var u,v,p,h={}.hasOwnProperty;p=a.makeElement,u=a.config.css,a.AttachmentView=function(_){function e(){e.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var E;return function(_,e){function E(){this.constructor=_}for(var f in e)h.call(e,f)&&(_[f]=e[f]);E.prototype=e.prototype,_.prototype=new E,_.__super__=e.prototype}(e,_),e.attachmentSelector="[data-trix-attachment]",e.prototype.createContentNodes=function(){return[]},e.prototype.createNodes=function(){var f,y,s,C,b,I;if(f=C=p({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(y=this.getHref())&&(C=p({tagName:"a",editable:!1,attributes:{href:y,tabindex:-1}}),f.appendChild(C)),this.attachment.hasContent())C.innerHTML=this.attachment.getContent();else for(s=0,b=(I=this.createContentNodes()).length;b>s;s++)C.appendChild(I[s]);return C.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=p({tagName:"progress",attributes:{class:u.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),f.appendChild(this.progressElement)),[E("left"),f,E("right")]},e.prototype.createCaptionElement=function(){var f,y,s,C,b,A,I;return s=p({tagName:"figcaption",className:u.attachmentCaption}),(f=this.attachmentPiece.getCaption())?(s.classList.add(u.attachmentCaption+"--edited"),s.textContent=f):((y=this.getCaptionConfig()).name&&(C=this.attachment.getFilename()),y.size&&(A=this.attachment.getFormattedFilesize()),C&&(b=p({tagName:"span",className:u.attachmentName,textContent:C}),s.appendChild(b)),A&&(C&&s.appendChild(document.createTextNode(" ")),I=p({tagName:"span",className:u.attachmentSize,textContent:A}),s.appendChild(I))),s},e.prototype.getClassName=function(){var f,y;return y=[u.attachment,u.attachment+"--"+this.attachment.getType()],(f=this.attachment.getExtension())&&y.push(u.attachment+"--"+f),y.join(" ")},e.prototype.getData=function(){var f,y;return y={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(f=this.attachmentPiece.attributes).isEmpty()||(y.trixAttributes=JSON.stringify(f)),this.attachment.isPending()&&(y.trixSerialize=!1),y},e.prototype.getHref=function(){return v(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},e.prototype.getCaptionConfig=function(){var f,y,s;return s=this.attachment.getType(),f=a.copyObject(null!=(y=a.config.attachments[s])?y.caption:void 0),"file"===s&&(f.name=!0),f},e.prototype.findProgressElement=function(){var f;return null!=(f=this.findElement())?f.querySelector("progress"):void 0},E=function(f){return p({tagName:"span",textContent:a.ZERO_WIDTH_SPACE,data:{trixCursorTarget:f,trixSerialize:!1}})},e.prototype.attachmentDidChangeUploadProgress=function(){var f,y;return y=this.attachment.getUploadProgress(),null!=(f=this.findProgressElement())?f.value=y:void 0},e}(a.ObjectView),v=function(_,e){var E;return(E=p("div")).innerHTML=null!=_?_:"",E.querySelector(e)}}.call(this),function(){var u,p={}.hasOwnProperty;u=a.makeElement,a.PreviewableAttachmentView=function(d){function h(){h.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return function(d,h){function _(){this.constructor=d}for(var e in h)p.call(h,e)&&(d[e]=h[e]);_.prototype=h.prototype,d.prototype=new _,d.__super__=h.prototype}(h,d),h.prototype.createContentNodes=function(){return this.image=u({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},h.prototype.createCaptionElement=function(){var _;return(_=h.__super__.createCaptionElement.apply(this,arguments)).textContent||_.setAttribute("data-trix-placeholder",a.config.lang.captionPlaceholder),_},h.prototype.refresh=function(_){var e;return null==_&&(_=null!=(e=this.findElement())?e.querySelector("img"):void 0),_?this.updateAttributesForImage(_):void 0},h.prototype.updateAttributesForImage=function(_){var e,E,f,y,s,C;return s=this.attachment.getURL(),E=this.attachment.getPreviewURL(),_.src=E||s,E===s?_.removeAttribute("data-trix-serialized-attributes"):(f=JSON.stringify({src:s}),_.setAttribute("data-trix-serialized-attributes",f)),C=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=C&&(_.width=C),null!=e&&(_.height=e),y=["imageElement",this.attachment.id,_.src,_.width,_.height].join("/"),_.dataset.trixStoreKey=y},h.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},h}(a.AttachmentView)}.call(this),function(){var u,v,p,h={}.hasOwnProperty;p=a.makeElement,u=a.findInnerElement,v=a.getTextConfig,a.PieceView=function(_){function e(){var f;e.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=(f=this.options).textConfig,this.context=f.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var E;return function(_,e){function E(){this.constructor=_}for(var f in e)h.call(e,f)&&(_[f]=e[f]);E.prototype=e.prototype,_.prototype=new E,_.__super__=e.prototype}(e,_),e.prototype.createNodes=function(){var f,y,s,C,A;if(A=this.attachment?this.createAttachmentNodes():this.createStringNodes(),f=this.createElement()){for(s=u(f),y=0,C=A.length;C>y;y++)s.appendChild(A[y]);A=[f]}return A},e.prototype.createAttachmentNodes=function(){var f;return f=this.attachment.isPreviewable()?a.PreviewableAttachmentView:a.AttachmentView,this.createChildView(f,this.piece.attachment,{piece:this.piece}).getNodes()},e.prototype.createStringNodes=function(){var f,y,s,C,A,I,D,O,S;if(null!=(D=this.textConfig)?D.plaintext:void 0)return[document.createTextNode(this.string)];for(I=[],s=y=0,C=(O=this.string.split("\n")).length;C>y;s=++y)S=O[s],s>0&&(f=p("br"),I.push(f)),S.length&&(A=document.createTextNode(this.preserveSpaces(S)),I.push(A));return I},e.prototype.createElement=function(){var f,y,s,C,b,A,I,D,O;for(C in D={},A=this.attributes)if(O=A[C],(f=v(C))&&(f.tagName&&(b=p(f.tagName),s?(s.appendChild(b),s=b):y=s=b),f.styleProperty&&(D[f.styleProperty]=O),f.style))for(C in I=f.style)D[C]=O=I[C];if(Object.keys(D).length)for(C in null==y&&(y=p("span")),D)y.style[C]=O=D[C];return y},e.prototype.createContainerElement=function(){var f,y,s,C,b;for(s in C=this.attributes)if(b=C[s],(y=v(s))&&y.groupTagName)return(f={})[s]=b,p(y.groupTagName,f)},E=a.NON_BREAKING_SPACE,e.prototype.preserveSpaces=function(f){return this.context.isLast&&(f=f.replace(/\ $/,E)),f=f.replace(/(\S)\ {3}(\S)/g,"$1 "+E+" $2").replace(/\ {2}/g,E+" ").replace(/\ {2}/g," "+E),(this.context.isFirst||this.context.followsWhitespace)&&(f=f.replace(/^\ /,E)),f},e}(a.ObjectView)}.call(this),function(){var v={}.hasOwnProperty;a.TextView=function(p){function d(){d.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var h;return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.prototype.createNodes=function(){var _,e,E,f,y,s,C,b,A,I;for(s=[],f=(b=a.ObjectGroup.groupObjects(this.getPieces())).length-1,E=e=0,y=b.length;y>e;E=++e)C=b[E],_={},0===E&&(_.isFirst=!0),E===f&&(_.isLast=!0),h(A)&&(_.followsWhitespace=!0),I=this.findOrCreateCachedChildView(a.PieceView,C,{textConfig:this.textConfig,context:_}),s.push.apply(s,I.getNodes()),A=C;return s},d.prototype.getPieces=function(){var _,e,E,f,y;for(y=[],_=0,e=(f=this.text.getPieces()).length;e>_;_++)(E=f[_]).hasAttribute("blockBreak")||y.push(E);return y},h=function(_){return/\s$/.test(null!=_?_.toString():void 0)},d}(a.ObjectView)}.call(this),function(){var u,v,p,h={}.hasOwnProperty;p=a.makeElement,v=a.getBlockConfig,u=a.config.css,a.BlockView=function(_){function e(){e.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return function(_,e){function E(){this.constructor=_}for(var f in e)h.call(e,f)&&(_[f]=e[f]);E.prototype=e.prototype,_.prototype=new E,_.__super__=e.prototype}(e,_),e.prototype.createNodes=function(){var E,y,s,C,A,I,D,O,S;if(A=[document.createComment("block")],this.block.isEmpty()?A.push(p("br")):(O=null!=(I=v(this.block.getLastAttribute()))?I.text:void 0,S=this.findOrCreateCachedChildView(a.TextView,this.block.text,{textConfig:O}),A.push.apply(A,S.getNodes()),this.shouldAddExtraNewlineElement()&&A.push(p("br"))),this.attributes.length)return A;for(D=a.config.blockAttributes.default.tagName,this.block.isRTL()&&(E={dir:"rtl"}),y=p({tagName:D,attributes:E}),s=0,C=A.length;C>s;s++)y.appendChild(A[s]);return[y]},e.prototype.createContainerElement=function(E){var f,y,s,C,b;return b=v(f=this.attributes[E]).tagName,0===E&&this.block.isRTL()&&(y={dir:"rtl"}),"attachmentGallery"===f&&(C=this.block.getBlockBreakPosition(),s=u.attachmentGallery+" "+u.attachmentGallery+"--"+C),p({tagName:b,className:s,attributes:y})},e.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},e}(a.ObjectView)}.call(this),function(){var u,v,d={}.hasOwnProperty;u=a.defer,v=a.makeElement,a.DocumentView=function(h){function _(){_.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new a.ElementStore,this.setDocument(this.object)}var e,E,f;return function(h,_){function e(){this.constructor=h}for(var E in _)d.call(_,E)&&(h[E]=_[E]);e.prototype=_.prototype,h.prototype=new e,h.__super__=_.prototype}(_,h),_.render=function(y){var s,C;return(C=new this(y,{element:s=v("div")})).render(),C.sync(),s},_.prototype.setDocument=function(y){return y.isEqualTo(this.document)?void 0:this.document=this.object=y},_.prototype.render=function(){var y,s,A,I,D;if(this.childViews=[],this.shadowElement=v("div"),!this.document.isEmpty()){for(I=[],y=0,s=(A=a.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;s>y;y++)D=this.findOrCreateCachedChildView(a.BlockView,A[y]),I.push(function(){var O,S,x,L;for(L=[],O=0,S=(x=D.getNodes()).length;S>O;O++)L.push(this.shadowElement.appendChild(x[O]));return L}.call(this));return I}},_.prototype.isSynced=function(){return e(this.shadowElement,this.element)},_.prototype.sync=function(){var y;for(y=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(y),this.didSync()},_.prototype.didSync=function(){return this.elementStore.reset(E(this.element)),u((y=this,function(){return y.garbageCollectCachedViews()}));var y},_.prototype.createDocumentFragmentForSync=function(){var y,s,C,b,A,I,O,S,x;for(s=document.createDocumentFragment(),C=0,A=(O=this.shadowElement.childNodes).length;A>C;C++)s.appendChild(O[C].cloneNode(!0));for(b=0,I=(S=E(s)).length;I>b;b++)(x=this.elementStore.remove(y=S[b]))&&y.parentNode.replaceChild(x,y);return s},E=function(y){return y.querySelectorAll("[data-trix-store-key]")},e=function(y,s){return f(y.innerHTML)===f(s.innerHTML)},f=function(y){return y.replace(/&nbsp;/g," ")},_}(a.ObjectView)}.call(this),function(){var u,v,p,d,h,_=function(f,y){return function(){return f.apply(y,arguments)}},E={}.hasOwnProperty;p=a.findClosestElementFromNode,d=a.handleEvent,h=a.innerElementIsActive,v=a.defer,u=a.AttachmentView.attachmentSelector,a.CompositionController=function(f){function y(s,C){this.element=s,this.composition=C,this.didClickAttachment=_(this.didClickAttachment,this),this.didBlur=_(this.didBlur,this),this.didFocus=_(this.didFocus,this),this.documentView=new a.DocumentView(this.composition.document,{element:this.element}),d("focus",{onElement:this.element,withCallback:this.didFocus}),d("blur",{onElement:this.element,withCallback:this.didBlur}),d("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),d("mousedown",{onElement:this.element,matchingSelector:u,withCallback:this.didClickAttachment}),d("click",{onElement:this.element,matchingSelector:"a"+u,preventDefault:!0})}return function(f,y){function s(){this.constructor=f}for(var C in y)E.call(y,C)&&(f[C]=y[C]);s.prototype=y.prototype,f.prototype=new s,f.__super__=y.prototype}(y,f),y.prototype.didFocus=function(){var s,C,b,A;return A=this,s=function(){var I;return A.focused?void 0:(A.focused=!0,null!=(I=A.delegate)&&"function"==typeof I.compositionControllerDidFocus?I.compositionControllerDidFocus():void 0)},null!=(C=null!=(b=this.blurPromise)?b.then(s):void 0)?C:s()},y.prototype.didBlur=function(){return this.blurPromise=new Promise((s=this,function(C){return v(function(){var b;return h(s.element)||(s.focused=null,null!=(b=s.delegate)&&"function"==typeof b.compositionControllerDidBlur&&b.compositionControllerDidBlur()),s.blurPromise=null,C()})}));var s},y.prototype.didClickAttachment=function(s,C){var b,A,I;return b=this.findAttachmentForElement(C),A=null!=p(s.target,{matchingSelector:"figcaption"}),null!=(I=this.delegate)&&"function"==typeof I.compositionControllerDidSelectAttachment?I.compositionControllerDidSelectAttachment(b,{editCaption:A}):void 0},y.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},y.prototype.render=function(){var s,C,b;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null!=(s=this.delegate)&&"function"==typeof s.compositionControllerWillSyncDocumentView&&s.compositionControllerWillSyncDocumentView(),this.documentView.sync(),null!=(C=this.delegate)&&"function"==typeof C.compositionControllerDidSyncDocumentView&&C.compositionControllerDidSyncDocumentView()),null!=(b=this.delegate)&&"function"==typeof b.compositionControllerDidRender?b.compositionControllerDidRender():void 0},y.prototype.rerenderViewForObject=function(s){return this.invalidateViewForObject(s),this.render()},y.prototype.invalidateViewForObject=function(s){return this.documentView.invalidateViewForObject(s)},y.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},y.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},y.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},y.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},y.prototype.isEditingAttachment=function(){return null!=this.attachmentEditor},y.prototype.installAttachmentEditorForAttachment=function(s,C){var b,A,I;if((null!=(I=this.attachmentEditor)?I.attachment:void 0)!==s&&(A=this.documentView.findElementForObject(s)))return this.uninstallAttachmentEditor(),b=this.composition.document.getAttachmentPieceForAttachment(s),this.attachmentEditor=new a.AttachmentEditorController(b,A,this.element,C),this.attachmentEditor.delegate=this},y.prototype.uninstallAttachmentEditor=function(){var s;return null!=(s=this.attachmentEditor)?s.uninstall():void 0},y.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},y.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(s,C){var b;return null!=(b=this.delegate)&&"function"==typeof b.compositionControllerWillUpdateAttachment&&b.compositionControllerWillUpdateAttachment(C),this.composition.updateAttributesForAttachment(s,C)},y.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(s,C){var b;return null!=(b=this.delegate)&&"function"==typeof b.compositionControllerWillUpdateAttachment&&b.compositionControllerWillUpdateAttachment(C),this.composition.removeAttributeForAttachment(s,C)},y.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(s){var C;return null!=(C=this.delegate)&&"function"==typeof C.compositionControllerDidRequestRemovalOfAttachment?C.compositionControllerDidRequestRemovalOfAttachment(s):void 0},y.prototype.attachmentEditorDidRequestDeselectingAttachment=function(s){var C;return null!=(C=this.delegate)&&"function"==typeof C.compositionControllerDidRequestDeselectingAttachment?C.compositionControllerDidRequestDeselectingAttachment(s):void 0},y.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},y.prototype.findAttachmentForElement=function(s){return this.composition.document.getAttachmentById(parseInt(s.dataset.trixId,10))},y}(a.BasicObject)}.call(this),function(){var u,v,p,d=function(e,E){return function(){return e.apply(E,arguments)}},_={}.hasOwnProperty;v=a.handleEvent,p=a.triggerEvent,u=a.findClosestElementFromNode,a.ToolbarController=function(e){function E(L){this.element=L,this.didKeyDownDialogInput=d(this.didKeyDownDialogInput,this),this.didClickDialogButton=d(this.didClickDialogButton,this),this.didClickAttributeButton=d(this.didClickAttributeButton,this),this.didClickActionButton=d(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),v("mousedown",{onElement:this.element,matchingSelector:f,withCallback:this.didClickActionButton}),v("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickAttributeButton}),v("click",{onElement:this.element,matchingSelector:x,preventDefault:!0}),v("click",{onElement:this.element,matchingSelector:C,withCallback:this.didClickDialogButton}),v("keydown",{onElement:this.element,matchingSelector:b,withCallback:this.didKeyDownDialogInput})}var f,s,C,b,A,I,D,O,S,x;return function(e,E){function f(){this.constructor=e}for(var y in E)_.call(E,y)&&(e[y]=E[y]);f.prototype=E.prototype,e.prototype=new f,e.__super__=E.prototype}(E,e),x=(s="[data-trix-attribute]")+", "+(f="[data-trix-action]"),C=(A="[data-trix-dialog]")+" [data-trix-method]",b=A+" [data-trix-input]",E.prototype.didClickActionButton=function(L,R){var G,k,V;return null!=(k=this.delegate)&&k.toolbarDidClickButton(),L.preventDefault(),G=I(R),this.getDialog(G)?this.toggleDialog(G):null!=(V=this.delegate)?V.toolbarDidInvokeAction(G):void 0},E.prototype.didClickAttributeButton=function(L,R){var G,k,V;return null!=(k=this.delegate)&&k.toolbarDidClickButton(),L.preventDefault(),G=D(R),this.getDialog(G)?this.toggleDialog(G):null!=(V=this.delegate)&&V.toolbarDidToggleAttribute(G),this.refreshAttributeButtons()},E.prototype.didClickDialogButton=function(L,R){var G;return G=u(R,{matchingSelector:A}),this[R.getAttribute("data-trix-method")].call(this,G)},E.prototype.didKeyDownDialogInput=function(L,R){var G,k;return 13===L.keyCode&&(L.preventDefault(),G=R.getAttribute("name"),k=this.getDialog(G),this.setAttribute(k)),27===L.keyCode?(L.preventDefault(),this.hideDialog()):void 0},E.prototype.updateActions=function(L){return this.actions=L,this.refreshActionButtons()},E.prototype.refreshActionButtons=function(){return this.eachActionButton((L=this,function(R,G){return R.disabled=!1===L.actions[G]}));var L},E.prototype.eachActionButton=function(L){var R,G,k,V,ne;for(ne=[],G=0,k=(V=this.element.querySelectorAll(f)).length;k>G;G++)ne.push(L(R=V[G],I(R)));return ne},E.prototype.updateAttributes=function(L){return this.attributes=L,this.refreshAttributeButtons()},E.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton((L=this,function(R,G){return R.disabled=!1===L.attributes[G],L.attributes[G]||L.dialogIsVisible(G)?(R.setAttribute("data-trix-active",""),R.classList.add("trix-active")):(R.removeAttribute("data-trix-active"),R.classList.remove("trix-active"))}));var L},E.prototype.eachAttributeButton=function(L){var R,G,k,V,ne;for(ne=[],G=0,k=(V=this.element.querySelectorAll(s)).length;k>G;G++)ne.push(L(R=V[G],D(R)));return ne},E.prototype.applyKeyboardCommand=function(L){var R,k,V,ne,$,q;for(ne=JSON.stringify(L.sort()),V=0,$=(q=this.element.querySelectorAll("[data-trix-key]")).length;$>V;V++)if(k=(R=q[V]).getAttribute("data-trix-key").split("+"),JSON.stringify(k.sort())===ne)return p("mousedown",{onElement:R}),!0;return!1},E.prototype.dialogIsVisible=function(L){var R;return(R=this.getDialog(L))?R.hasAttribute("data-trix-active"):void 0},E.prototype.toggleDialog=function(L){return this.dialogIsVisible(L)?this.hideDialog():this.showDialog(L)},E.prototype.showDialog=function(L){var R,k,V,ne,$,q,X,de,fe;for(this.hideDialog(),null!=(q=this.delegate)&&q.toolbarWillShowDialog(),(k=this.getDialog(L)).setAttribute("data-trix-active",""),k.classList.add("trix-active"),V=0,$=(X=k.querySelectorAll("input[disabled]")).length;$>V;V++)X[V].removeAttribute("disabled");return(R=D(k))&&(ne=S(k,L))&&(ne.value=null!=(de=this.attributes[R])?de:"",ne.select()),null!=(fe=this.delegate)?fe.toolbarDidShowDialog(L):void 0},E.prototype.setAttribute=function(L){var R,G,k;return R=D(L),(G=S(L,R)).willValidate&&!G.checkValidity()?(G.setAttribute("data-trix-validate",""),G.classList.add("trix-validate"),G.focus()):(null!=(k=this.delegate)&&k.toolbarDidUpdateAttribute(R,G.value),this.hideDialog())},E.prototype.removeAttribute=function(L){var R,G;return R=D(L),null!=(G=this.delegate)&&G.toolbarDidRemoveAttribute(R),this.hideDialog()},E.prototype.hideDialog=function(){var L,R;return(L=this.element.querySelector("[data-trix-dialog][data-trix-active]"))?(L.removeAttribute("data-trix-active"),L.classList.remove("trix-active"),this.resetDialogInputs(),null!=(R=this.delegate)?R.toolbarDidHideDialog(O(L)):void 0):void 0},E.prototype.resetDialogInputs=function(){var L,R,G,k,V;for(V=[],L=0,G=(k=this.element.querySelectorAll(b)).length;G>L;L++)(R=k[L]).setAttribute("disabled","disabled"),R.removeAttribute("data-trix-validate"),V.push(R.classList.remove("trix-validate"));return V},E.prototype.getDialog=function(L){return this.element.querySelector("[data-trix-dialog="+L+"]")},S=function(L,R){return null==R&&(R=D(L)),L.querySelector("[data-trix-input][name='"+R+"']")},I=function(L){return L.getAttribute("data-trix-action")},D=function(L){var R;return null!=(R=L.getAttribute("data-trix-attribute"))?R:L.getAttribute("data-trix-dialog-attribute")},O=function(L){return L.getAttribute("data-trix-dialog")},E}(a.BasicObject)}.call(this),function(){var v={}.hasOwnProperty;a.ImagePreloadOperation=function(p){function d(h){this.url=h}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.prototype.perform=function(h){var _,e;return(_=new Image).onload=(e=this,function(){return _.width=e.width=_.naturalWidth,_.height=e.height=_.naturalHeight,h(!0,_)}),_.onerror=function(){return h(!1)},_.src=this.url},d}(a.Operation)}.call(this),function(){var u=function(d,h){return function(){return d.apply(h,arguments)}},p={}.hasOwnProperty;a.Attachment=function(d){function h(_){null==_&&(_={}),this.releaseFile=u(this.releaseFile,this),h.__super__.constructor.apply(this,arguments),this.attributes=a.Hash.box(_),this.didChangeAttributes()}return function(d,h){function _(){this.constructor=d}for(var e in h)p.call(h,e)&&(d[e]=h[e]);_.prototype=h.prototype,d.prototype=new _,d.__super__=h.prototype}(h,d),h.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,h.attachmentForFile=function(_){var e;return(e=new this(this.attributesForFile(_))).setFile(_),e},h.attributesForFile=function(_){return new a.Hash({filename:_.name,filesize:_.size,contentType:_.type})},h.fromJSON=function(_){return new this(_)},h.prototype.getAttribute=function(_){return this.attributes.get(_)},h.prototype.hasAttribute=function(_){return this.attributes.has(_)},h.prototype.getAttributes=function(){return this.attributes.toObject()},h.prototype.setAttributes=function(_){var e,E,f;return null==_&&(_={}),e=this.attributes.merge(_),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(E=this.previewDelegate)&&"function"==typeof E.attachmentDidChangeAttributes&&E.attachmentDidChangeAttributes(this),null!=(f=this.delegate)&&"function"==typeof f.attachmentDidChangeAttributes?f.attachmentDidChangeAttributes(this):void 0)},h.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},h.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},h.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},h.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},h.prototype.getURL=function(){return this.attributes.get("url")},h.prototype.getHref=function(){return this.attributes.get("href")},h.prototype.getFilename=function(){var _;return null!=(_=this.attributes.get("filename"))?_:""},h.prototype.getFilesize=function(){return this.attributes.get("filesize")},h.prototype.getFormattedFilesize=function(){var _;return"number"==typeof(_=this.attributes.get("filesize"))?a.config.fileSize.formatter(_):""},h.prototype.getExtension=function(){var _;return null!=(_=this.getFilename().match(/\.(\w+)$/))?_[1].toLowerCase():void 0},h.prototype.getContentType=function(){return this.attributes.get("contentType")},h.prototype.hasContent=function(){return this.attributes.has("content")},h.prototype.getContent=function(){return this.attributes.get("content")},h.prototype.getWidth=function(){return this.attributes.get("width")},h.prototype.getHeight=function(){return this.attributes.get("height")},h.prototype.getFile=function(){return this.file},h.prototype.setFile=function(_){return this.file=_,this.isPreviewable()?this.preloadFile():void 0},h.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},h.prototype.getUploadProgress=function(){var _;return null!=(_=this.uploadProgress)?_:0},h.prototype.setUploadProgress=function(_){var e;return this.uploadProgress!==_?(this.uploadProgress=_,null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},h.prototype.toJSON=function(){return this.getAttributes()},h.prototype.getCacheKey=function(){return[h.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},h.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},h.prototype.setPreviewURL=function(_){var e,E;return _!==this.getPreviewURL()?(this.previewURL=_,null!=(e=this.previewDelegate)&&"function"==typeof e.attachmentDidChangeAttributes&&e.attachmentDidChangeAttributes(this),null!=(E=this.delegate)&&"function"==typeof E.attachmentDidChangePreviewURL?E.attachmentDidChangePreviewURL(this):void 0):void 0},h.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},h.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},h.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},h.prototype.preload=function(_,e){var f;return _&&_!==this.getPreviewURL()?(this.preloadingURL=_,new a.ImagePreloadOperation(_).then((f=this,function(y){var s,C;return C=y.width,s=y.height,f.getWidth()&&f.getHeight()||f.setAttributes({width:C,height:s}),f.preloadingURL=null,f.setPreviewURL(_),"function"==typeof e?e():void 0})).catch(function(f){return function(){return f.preloadingURL=null,"function"==typeof e?e():void 0}}(this))):void 0},h}(a.Object)}.call(this),function(){var v={}.hasOwnProperty;a.Piece=function(p){function d(h,_){null==_&&(_={}),d.__super__.constructor.apply(this,arguments),this.attributes=a.Hash.box(_)}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.types={},d.registerType=function(h,_){return _.type=h,this.types[h]=_},d.fromJSON=function(h){var _;return(_=this.types[h.type])?_.fromJSON(h):void 0},d.prototype.copyWithAttributes=function(h){return new this.constructor(this.getValue(),h)},d.prototype.copyWithAdditionalAttributes=function(h){return this.copyWithAttributes(this.attributes.merge(h))},d.prototype.copyWithoutAttribute=function(h){return this.copyWithAttributes(this.attributes.remove(h))},d.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},d.prototype.getAttribute=function(h){return this.attributes.get(h)},d.prototype.getAttributesHash=function(){return this.attributes},d.prototype.getAttributes=function(){return this.attributes.toObject()},d.prototype.getCommonAttributes=function(){var h,_,e;return(e=pieceList.getPieceAtIndex(0))?(_=(h=e.attributes).getKeys(),pieceList.eachPiece(function(E){return _=h.getKeysCommonToHash(E.attributes),h=h.slice(_)}),h.toObject()):{}},d.prototype.hasAttribute=function(h){return this.attributes.has(h)},d.prototype.hasSameStringValueAsPiece=function(h){return null!=h&&this.toString()===h.toString()},d.prototype.hasSameAttributesAsPiece=function(h){return null!=h&&(this.attributes===h.attributes||this.attributes.isEqualTo(h.attributes))},d.prototype.isBlockBreak=function(){return!1},d.prototype.isEqualTo=function(h){return d.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(h)&&this.hasSameStringValueAsPiece(h)&&this.hasSameAttributesAsPiece(h)},d.prototype.isEmpty=function(){return 0===this.length},d.prototype.isSerializable=function(){return!0},d.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},d.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},d.prototype.canBeGrouped=function(){return this.hasAttribute("href")},d.prototype.canBeGroupedWith=function(h){return this.getAttribute("href")===h.getAttribute("href")},d.prototype.getLength=function(){return this.length},d.prototype.canBeConsolidatedWith=function(){return!1},d}(a.Object)}.call(this),function(){var v={}.hasOwnProperty;a.Piece.registerType("attachment",a.AttachmentPiece=function(p){function d(h){this.attachment=h,d.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.fromJSON=function(h){return new this(a.Attachment.fromJSON(h.attachment),h.attributes)},d.permittedAttributes=["caption","presentation"],d.prototype.ensureAttachmentExclusivelyHasAttribute=function(h){return this.hasAttribute(h)?(this.attachment.hasAttribute(h)||this.attachment.setAttributes(this.attributes.slice(h)),this.attributes=this.attributes.remove(h)):void 0},d.prototype.removeProhibitedAttributes=function(){var h;return(h=this.attributes.slice(this.constructor.permittedAttributes)).isEqualTo(this.attributes)?void 0:this.attributes=h},d.prototype.getValue=function(){return this.attachment},d.prototype.isSerializable=function(){return!this.attachment.isPending()},d.prototype.getCaption=function(){var h;return null!=(h=this.attributes.get("caption"))?h:""},d.prototype.isEqualTo=function(h){var _;return d.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=h&&null!=(_=h.attachment)?_.id:void 0)},d.prototype.toString=function(){return a.OBJECT_REPLACEMENT_CHARACTER},d.prototype.toJSON=function(){var h;return(h=d.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,h},d.prototype.getCacheKey=function(){return[d.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},d.prototype.toConsole=function(){return JSON.stringify(this.toString())},d}(a.Piece))}.call(this),function(){var u,p={}.hasOwnProperty;u=a.normalizeNewlines,a.Piece.registerType("string",a.StringPiece=function(d){function h(_){h.__super__.constructor.apply(this,arguments),this.string=u(_),this.length=this.string.length}return function(d,h){function _(){this.constructor=d}for(var e in h)p.call(h,e)&&(d[e]=h[e]);_.prototype=h.prototype,d.prototype=new _,d.__super__=h.prototype}(h,d),h.fromJSON=function(_){return new this(_.string,_.attributes)},h.prototype.getValue=function(){return this.string},h.prototype.toString=function(){return this.string.toString()},h.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},h.prototype.toJSON=function(){var _;return(_=h.__super__.toJSON.apply(this,arguments)).string=this.string,_},h.prototype.canBeConsolidatedWith=function(_){return null!=_&&this.hasSameConstructorAs(_)&&this.hasSameAttributesAsPiece(_)},h.prototype.consolidateWith=function(_){return new this.constructor(this.toString()+_.toString(),this.attributes)},h.prototype.splitAtOffset=function(_){var e,E;return 0===_?(e=null,E=this):_===this.length?(e=this,E=null):(e=new this.constructor(this.string.slice(0,_),this.attributes),E=new this.constructor(this.string.slice(_),this.attributes)),[e,E]},h.prototype.toConsole=function(){var _;return(_=this.string).length>15&&(_=_.slice(0,14)+"\u2026"),JSON.stringify(_.toString())},h}(a.Piece))}.call(this),function(){var u,p={}.hasOwnProperty,d=[].slice;u=a.spliceArray,a.SplittableList=function(h){function _(y){null==y&&(y=[]),_.__super__.constructor.apply(this,arguments),this.objects=y.slice(0),this.length=this.objects.length}var e,E,f;return function(h,_){function e(){this.constructor=h}for(var E in _)p.call(_,E)&&(h[E]=_[E]);e.prototype=_.prototype,h.prototype=new e,h.__super__=_.prototype}(_,h),_.box=function(y){return y instanceof this?y:new this(y)},_.prototype.indexOf=function(y){return this.objects.indexOf(y)},_.prototype.splice=function(){var y;return y=1<=arguments.length?d.call(arguments,0):[],new this.constructor(u.apply(null,[this.objects].concat(d.call(y))))},_.prototype.eachObject=function(y){var s,C,b,I,D;for(D=[],C=s=0,b=(I=this.objects).length;b>s;C=++s)D.push(y(I[C],C));return D},_.prototype.insertObjectAtIndex=function(y,s){return this.splice(s,0,y)},_.prototype.insertSplittableListAtIndex=function(y,s){return this.splice.apply(this,[s,0].concat(d.call(y.objects)))},_.prototype.insertSplittableListAtPosition=function(y,s){var C,A;return C=(A=this.splitObjectAtPosition(s))[1],new this.constructor(A[0]).insertSplittableListAtIndex(y,C)},_.prototype.editObjectAtIndex=function(y,s){return this.replaceObjectAtIndex(s(this.objects[y]),y)},_.prototype.replaceObjectAtIndex=function(y,s){return this.splice(s,1,y)},_.prototype.removeObjectAtIndex=function(y){return this.splice(y,1)},_.prototype.getObjectAtIndex=function(y){return this.objects[y]},_.prototype.getSplittableListInRange=function(y){var b;return b=this.splitObjectsAtRange(y),new this.constructor(b[0].slice(b[1],b[2]+1))},_.prototype.selectSplittableList=function(y){var s,C;return C=function(){var b,A,I,D;for(D=[],b=0,A=(I=this.objects).length;A>b;b++)y(s=I[b])&&D.push(s);return D}.call(this),new this.constructor(C)},_.prototype.removeObjectsInRange=function(y){var s,b,A;return s=(b=this.splitObjectsAtRange(y))[1],A=b[2],new this.constructor(b[0]).splice(s,A-s+1)},_.prototype.transformObjectsInRange=function(y,s){var C,b,A,I,D,O,S;return D=this.splitObjectsAtRange(y),I=D[0],b=D[1],O=D[2],S=function(){var x,L,R;for(R=[],C=x=0,L=I.length;L>x;C=++x)A=I[C],R.push(C>=b&&O>=C?s(A):A);return R}(),new this.constructor(S)},_.prototype.splitObjectsAtRange=function(y){var s,b,A,I;return s=(A=this.splitObjectAtPosition(f(y)))[1],b=A[2],[(I=new this.constructor(A[0]).splitObjectAtPosition(e(y)+b))[0],s,I[1]-1]},_.prototype.getObjectAtPosition=function(y){var b;return b=this.findIndexAndOffsetAtPosition(y),this.objects[b.index]},_.prototype.splitObjectAtPosition=function(y){var s,C,A,I,D,O,x,L;return s=(D=this.findIndexAndOffsetAtPosition(y)).index,I=D.offset,A=this.objects.slice(0),null!=s?0===I?(x=s,L=0):(O=this.getObjectAtIndex(s).splitAtOffset(I),A.splice(s,1,C=O[0],O[1]),x=s+1,L=C.getLength()-I):(x=A.length,L=0),[A,x,L]},_.prototype.consolidate=function(){var y,s,C,b,A,I;for(b=[],A=this.objects[0],y=0,s=(I=this.objects.slice(1)).length;s>y;y++)C=I[y],("function"==typeof A.canBeConsolidatedWith?A.canBeConsolidatedWith(C):void 0)?A=A.consolidateWith(C):(b.push(A),A=C);return null!=A&&b.push(A),new this.constructor(b)},_.prototype.consolidateFromIndexToIndex=function(y,s){var C,A;return A=this.objects.slice(0).slice(y,s+1),C=new this.constructor(A).consolidate().toArray(),this.splice.apply(this,[y,A.length].concat(d.call(C)))},_.prototype.findIndexAndOffsetAtPosition=function(y){var s,C,b,A,I,O;for(s=0,b=C=0,A=(O=this.objects).length;A>C;b=++C){if(I=s+O[b].getLength(),y>=s&&I>y)return{index:b,offset:y-s};s=I}return{index:null,offset:null}},_.prototype.findPositionAtIndexAndOffset=function(y,s){var C,b,A,D,O;for(D=0,C=b=0,A=(O=this.objects).length;A>b;C=++b)if(y>C)D+=O[C].getLength();else if(C===y){D+=s;break}return D},_.prototype.getEndPosition=function(){var s;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var C,b,A;for(s=0,C=0,b=(A=this.objects).length;b>C;C++)s+=A[C].getLength();return s}.call(this)},_.prototype.toString=function(){return this.objects.join("")},_.prototype.toArray=function(){return this.objects.slice(0)},_.prototype.toJSON=function(){return this.toArray()},_.prototype.isEqualTo=function(y){return _.__super__.isEqualTo.apply(this,arguments)||E(this.objects,null!=y?y.objects:void 0)},E=function(y,s){var C,b,A,D;if(null==s&&(s=[]),y.length!==s.length)return!1;for(D=!0,b=C=0,A=y.length;A>C;b=++C)D&&!y[b].isEqualTo(s[b])&&(D=!1);return D},_.prototype.contentsForInspection=function(){return{objects:"["+function(){var s,C,b,A;for(A=[],s=0,C=(b=this.objects).length;C>s;s++)A.push(b[s].inspect());return A}.call(this).join(", ")+"]"}},f=function(y){return y[0]},e=function(y){return y[1]},_}(a.Object)}.call(this),function(){var v={}.hasOwnProperty;a.Text=function(p){function d(h){var _;null==h&&(h=[]),d.__super__.constructor.apply(this,arguments),this.pieceList=new a.SplittableList(function(){var e,E,f;for(f=[],e=0,E=h.length;E>e;e++)(_=h[e]).isEmpty()||f.push(_);return f}())}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.textForAttachmentWithAttributes=function(h,_){return new this([new a.AttachmentPiece(h,_)])},d.textForStringWithAttributes=function(h,_){return new this([new a.StringPiece(h,_)])},d.fromJSON=function(h){return new this(function(){var E,f,y;for(y=[],E=0,f=h.length;f>E;E++)y.push(a.Piece.fromJSON(h[E]));return y}())},d.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},d.prototype.copyWithPieceList=function(h){return new this.constructor(h.consolidate().toArray())},d.prototype.copyUsingObjectMap=function(h){var _,e;return e=function(){var E,f,y,s,C;for(C=[],E=0,f=(y=this.getPieces()).length;f>E;E++)C.push(null!=(s=h.find(_=y[E]))?s:_);return C}.call(this),new this.constructor(e)},d.prototype.appendText=function(h){return this.insertTextAtPosition(h,this.getLength())},d.prototype.insertTextAtPosition=function(h,_){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(h.pieceList,_))},d.prototype.removeTextAtRange=function(h){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(h))},d.prototype.replaceTextAtRange=function(h,_){return this.removeTextAtRange(_).insertTextAtPosition(h,_[0])},d.prototype.moveTextFromRangeToPosition=function(h,_){var e,E;if(!(h[0]<=_&&_<=h[1]))return e=(E=this.getTextAtRange(h)).getLength(),h[0]<_&&(_-=e),this.removeTextAtRange(h).insertTextAtPosition(E,_)},d.prototype.addAttributeAtRange=function(h,_,e){var E;return(E={})[h]=_,this.addAttributesAtRange(E,e)},d.prototype.addAttributesAtRange=function(h,_){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(_,function(e){return e.copyWithAdditionalAttributes(h)}))},d.prototype.removeAttributeAtRange=function(h,_){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(_,function(e){return e.copyWithoutAttribute(h)}))},d.prototype.setAttributesAtRange=function(h,_){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(_,function(e){return e.copyWithAttributes(h)}))},d.prototype.getAttributesAtPosition=function(h){var _,e;return null!=(_=null!=(e=this.pieceList.getObjectAtPosition(h))?e.getAttributes():void 0)?_:{}},d.prototype.getCommonAttributes=function(){var h;return h=function(){var e,E,f,y;for(y=[],e=0,E=(f=this.pieceList.toArray()).length;E>e;e++)y.push(f[e].getAttributes());return y}.call(this),a.Hash.fromCommonAttributesOfObjects(h).toObject()},d.prototype.getCommonAttributesAtRange=function(h){var _;return null!=(_=this.getTextAtRange(h).getCommonAttributes())?_:{}},d.prototype.getExpandedRangeForAttributeAtOffset=function(h,_){var e,E,f;for(e=f=_,E=this.getLength();e>0&&this.getCommonAttributesAtRange([e-1,f])[h];)e--;for(;E>f&&this.getCommonAttributesAtRange([_,f+1])[h];)f++;return[e,f]},d.prototype.getTextAtRange=function(h){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(h))},d.prototype.getStringAtRange=function(h){return this.pieceList.getSplittableListInRange(h).toString()},d.prototype.getStringAtPosition=function(h){return this.getStringAtRange([h,h+1])},d.prototype.startsWithString=function(h){return this.getStringAtRange([0,h.length])===h},d.prototype.endsWithString=function(h){var _;return _=this.getLength(),this.getStringAtRange([_-h.length,_])===h},d.prototype.getAttachmentPieces=function(){var h,_,e,E,f;for(f=[],h=0,_=(E=this.pieceList.toArray()).length;_>h;h++)null!=(e=E[h]).attachment&&f.push(e);return f},d.prototype.getAttachments=function(){var h,_,E,f;for(f=[],h=0,_=(E=this.getAttachmentPieces()).length;_>h;h++)f.push(E[h].attachment);return f},d.prototype.getAttachmentAndPositionById=function(h){var _,e,E,f,y,s;for(f=0,_=0,e=(y=this.pieceList.toArray()).length;e>_;_++){if((null!=(s=(E=y[_]).attachment)?s.id:void 0)===h)return{attachment:E.attachment,position:f};f+=E.length}return{attachment:null,position:null}},d.prototype.getAttachmentById=function(h){return this.getAttachmentAndPositionById(h).attachment},d.prototype.getRangeOfAttachment=function(h){var _,e;return _=(e=this.getAttachmentAndPositionById(h.id)).position,null!=(h=e.attachment)?[_,_+1]:void 0},d.prototype.updateAttributesForAttachment=function(h,_){var e;return(e=this.getRangeOfAttachment(_))?this.addAttributesAtRange(h,e):this},d.prototype.getLength=function(){return this.pieceList.getEndPosition()},d.prototype.isEmpty=function(){return 0===this.getLength()},d.prototype.isEqualTo=function(h){var _;return d.__super__.isEqualTo.apply(this,arguments)||(null!=h&&null!=(_=h.pieceList)?_.isEqualTo(this.pieceList):void 0)},d.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},d.prototype.eachPiece=function(h){return this.pieceList.eachObject(h)},d.prototype.getPieces=function(){return this.pieceList.toArray()},d.prototype.getPieceAtPosition=function(h){return this.pieceList.getObjectAtPosition(h)},d.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},d.prototype.toSerializableText=function(){var h;return h=this.pieceList.selectSplittableList(function(_){return _.isSerializable()}),this.copyWithPieceList(h)},d.prototype.toString=function(){return this.pieceList.toString()},d.prototype.toJSON=function(){return this.pieceList.toJSON()},d.prototype.toConsole=function(){return JSON.stringify(function(){var _,e,E,f;for(f=[],_=0,e=(E=this.pieceList.toArray()).length;e>_;_++)f.push(JSON.parse(E[_].toConsole()));return f}.call(this))},d.prototype.getDirection=function(){return a.getDirection(this.toString())},d.prototype.isRTL=function(){return"rtl"===this.getDirection()},d}(a.Object)}.call(this),function(){var u,p,d,h,e={}.hasOwnProperty,E=[].indexOf||function(y){for(var s=0,C=this.length;C>s;s++)if(s in this&&this[s]===y)return s;return-1},f=[].slice;u=a.arraysAreEqual,h=a.spliceArray,p=a.getBlockConfig,d=a.getListAttributeNames,a.Block=function(y){function s(R,G){null==R&&(R=new a.Text),null==G&&(G=[]),s.__super__.constructor.apply(this,arguments),this.text=b(R),this.attributes=G}var C,b,A,I,D,O,S,x,L;return function(y,s){function C(){this.constructor=y}for(var b in s)e.call(s,b)&&(y[b]=s[b]);C.prototype=s.prototype,y.prototype=new C,y.__super__=s.prototype}(s,y),s.fromJSON=function(R){return new this(a.Text.fromJSON(R.text),R.attributes)},s.prototype.isEmpty=function(){return this.text.isBlockBreak()},s.prototype.isEqualTo=function(R){return s.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=R?R.text:void 0)&&u(this.attributes,null!=R?R.attributes:void 0)},s.prototype.copyWithText=function(R){return new this.constructor(R,this.attributes)},s.prototype.copyWithoutText=function(){return this.copyWithText(null)},s.prototype.copyWithAttributes=function(R){return new this.constructor(this.text,R)},s.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},s.prototype.copyUsingObjectMap=function(R){var G;return this.copyWithText((G=R.find(this.text))?G:this.text.copyUsingObjectMap(R))},s.prototype.addAttribute=function(R){var G;return G=this.attributes.concat(I(R)),this.copyWithAttributes(G)},s.prototype.removeAttribute=function(R){var G,k;return k=p(R).listAttribute,G=O(O(this.attributes,R),k),this.copyWithAttributes(G)},s.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},s.prototype.getLastAttribute=function(){return D(this.attributes)},s.prototype.getAttributes=function(){return this.attributes.slice(0)},s.prototype.getAttributeLevel=function(){return this.attributes.length},s.prototype.getAttributeAtLevel=function(R){return this.attributes[R-1]},s.prototype.hasAttribute=function(R){return E.call(this.attributes,R)>=0},s.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},s.prototype.getLastNestableAttribute=function(){return D(this.getNestableAttributes())},s.prototype.getNestableAttributes=function(){var R,G,k,V,ne;for(ne=[],G=0,k=(V=this.attributes).length;k>G;G++)p(R=V[G]).nestable&&ne.push(R);return ne},s.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},s.prototype.decreaseNestingLevel=function(){var R;return(R=this.getLastNestableAttribute())?this.removeAttribute(R):this},s.prototype.increaseNestingLevel=function(){var R,G,k;return(R=this.getLastNestableAttribute())?(k=this.attributes.lastIndexOf(R),G=h.apply(null,[this.attributes,k+1,0].concat(f.call(I(R)))),this.copyWithAttributes(G)):this},s.prototype.getListItemAttributes=function(){var R,G,k,V,ne;for(ne=[],G=0,k=(V=this.attributes).length;k>G;G++)p(R=V[G]).listAttribute&&ne.push(R);return ne},s.prototype.isListItem=function(){var R;return null!=(R=p(this.getLastAttribute()))?R.listAttribute:void 0},s.prototype.isTerminalBlock=function(){var R;return null!=(R=p(this.getLastAttribute()))?R.terminal:void 0},s.prototype.breaksOnReturn=function(){var R;return null!=(R=p(this.getLastAttribute()))?R.breakOnReturn:void 0},s.prototype.findLineBreakInDirectionFromPosition=function(R,G){var k,V;return V=this.toString(),-1!==(k=function(){switch(R){case"forward":return V.indexOf("\n",G);case"backward":return V.slice(0,G).lastIndexOf("\n")}}())?k:void 0},s.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},s.prototype.toString=function(){return this.text.toString()},s.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},s.prototype.getDirection=function(){return this.text.getDirection()},s.prototype.isRTL=function(){return this.text.isRTL()},s.prototype.getLength=function(){return this.text.getLength()},s.prototype.canBeConsolidatedWith=function(R){return!this.hasAttributes()&&!R.hasAttributes()&&this.getDirection()===R.getDirection()},s.prototype.consolidateWith=function(R){var G,k;return G=a.Text.textForStringWithAttributes("\n"),k=this.getTextWithoutBlockBreak().appendText(G),this.copyWithText(k.appendText(R.text))},s.prototype.splitAtOffset=function(R){var G,k;return 0===R?(G=null,k=this):R===this.getLength()?(G=this,k=null):(G=this.copyWithText(this.text.getTextAtRange([0,R])),k=this.copyWithText(this.text.getTextAtRange([R,this.getLength()]))),[G,k]},s.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},s.prototype.getTextWithoutBlockBreak=function(){return S(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},s.prototype.canBeGrouped=function(R){return this.attributes[R]},s.prototype.canBeGroupedWith=function(R,G){var k,ne,$;return ne=R.getAttributes(),!((k=this.attributes[G])!==ne[G]||!1===p(k).group&&($=ne[G+1],E.call(d(),$)<0)||this.getDirection()!==R.getDirection()&&!R.isEmpty())},b=function(R){return R=L(R),C(R)},L=function(R){var G,k,V,ne,$,q;return ne=!1,q=R.getPieces(),k=2<=q.length?f.call(q,0,G=q.length-1):(G=0,[]),null==(V=q[G++])?R:(k=function(){var X,de,fe;for(fe=[],X=0,de=k.length;de>X;X++)($=k[X]).isBlockBreak()?(ne=!0,fe.push(x($))):fe.push($);return fe}(),ne?new a.Text(f.call(k).concat([V])):R)},A=a.Text.textForStringWithAttributes("\n",{blockBreak:!0}),C=function(R){return S(R)?R:R.appendText(A)},S=function(R){var k;return 0!==(k=R.getLength())&&R.getTextAtRange([k-1,k]).isBlockBreak()},x=function(R){return R.copyWithoutAttribute("blockBreak")},I=function(R){var G;return null!=(G=p(R).listAttribute)?[G,R]:[R]},D=function(R){return R.slice(-1)[0]},O=function(R,G){var k;return-1===(k=R.lastIndexOf(G))?R:h(R,k,1)},s}(a.Object)}.call(this),function(){var u,v,p,h={}.hasOwnProperty,_=[].indexOf||function(E){for(var f=0,y=this.length;y>f;f++)if(f in this&&this[f]===E)return f;return-1},e=[].slice;v=a.tagName,p=a.walkTree,u=a.nodeIsAttachmentElement,a.HTMLSanitizer=function(E){function f(A,I){var D;this.allowedAttributes=(D=null!=I?I:{}).allowedAttributes,this.forbiddenProtocols=D.forbiddenProtocols,this.forbiddenElements=D.forbiddenElements,null==this.allowedAttributes&&(this.allowedAttributes=y),null==this.forbiddenProtocols&&(this.forbiddenProtocols=C),null==this.forbiddenElements&&(this.forbiddenElements=s),this.body=b(A)}var y,s,C,b;return function(E,f){function y(){this.constructor=E}for(var s in f)h.call(f,s)&&(E[s]=f[s]);y.prototype=f.prototype,E.prototype=new y,E.__super__=f.prototype}(f,E),y="style href src width height class".split(" "),C="javascript:".split(" "),s="script iframe".split(" "),f.sanitize=function(A,I){var D;return(D=new this(A,I)).sanitize(),D},f.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},f.prototype.getHTML=function(){return this.body.innerHTML},f.prototype.getBody=function(){return this.body},f.prototype.sanitizeElements=function(){var A,I,D,O,S;for(S=p(this.body),O=[];S.nextNode();)switch(D=S.currentNode,D.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(D)?O.push(D):this.sanitizeElement(D);break;case Node.COMMENT_NODE:O.push(D)}for(A=0,I=O.length;I>A;A++)a.removeNode(D=O[A]);return this.body},f.prototype.sanitizeElement=function(A){var I,D,O,x;for(A.hasAttribute("href")&&_.call(this.forbiddenProtocols,A.protocol)>=0&&A.removeAttribute("href"),I=0,D=(x=e.call(A.attributes)).length;D>I;I++)_.call(this.allowedAttributes,O=x[I].name)>=0||0===O.indexOf("data-trix")||A.removeAttribute(O);return A},f.prototype.normalizeListElementNesting=function(){var A,I,D,O,S;for(A=0,I=(S=e.call(this.body.querySelectorAll("ul,ol"))).length;I>A;A++)(O=(D=S[A]).previousElementSibling)&&"li"===v(O)&&O.appendChild(D);return this.body},f.prototype.elementIsRemovable=function(A){return(null!=A?A.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(A)||this.elementIsntSerializable(A):void 0},f.prototype.elementIsForbidden=function(A){var I;return I=v(A),_.call(this.forbiddenElements,I)>=0},f.prototype.elementIsntSerializable=function(A){return"false"===A.getAttribute("data-trix-serialize")&&!u(A)},b=function(A){var I,O,S,x;for(null==A&&(A=""),A=A.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(I=document.implementation.createHTMLDocument("")).documentElement.innerHTML=A,O=0,S=(x=I.head.querySelectorAll("style")).length;S>O;O++)I.body.appendChild(x[O]);return I.body},f}(a.BasicObject)}.call(this),function(){var u,v,p,d,h,_,e,E,f,y,s,b={}.hasOwnProperty,A=[].indexOf||function(I){for(var D=0,O=this.length;O>D;D++)if(D in this&&this[D]===I)return D;return-1};u=a.arraysAreEqual,_=a.makeElement,y=a.tagName,h=a.getBlockTagNames,s=a.walkTree,d=a.findClosestElementFromNode,p=a.elementContainsNode,e=a.nodeIsAttachmentElement,E=a.normalizeSpaces,v=a.breakableWhitespacePattern,f=a.squishBreakableWhitespace,a.HTMLParser=function(I){function D(de,fe){this.html=de,this.referenceElement=(null!=fe?fe:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var O,S,x,L,R,G,k,V,ne,$,q,X;return function(I,D){function O(){this.constructor=I}for(var S in D)b.call(D,S)&&(I[S]=D[S]);O.prototype=D.prototype,I.prototype=new O,I.__super__=D.prototype}(D,I),D.parse=function(de,fe){var We;return(We=new this(de,fe)).parse(),We},D.prototype.getDocument=function(){return a.Document.fromJSON(this.blocks)},D.prototype.parse=function(){var de,fe;try{for(this.createHiddenContainer(),de=a.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=de,fe=s(this.containerElement,{usingFilter:k});fe.nextNode();)this.processNode(fe.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},D.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=_({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},D.prototype.removeHiddenContainer=function(){return a.removeNode(this.containerElement)},k=function(de){return"style"===y(de)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},D.prototype.processNode=function(de){switch(de.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(de))return this.appendBlockForTextNode(de),this.processTextNode(de);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(de),this.processElement(de)}},D.prototype.appendBlockForTextNode=function(de){var fe,We,Ne;return(We=de.parentNode)===this.currentBlockElement&&this.isBlockElement(de.previousSibling)?this.appendStringWithAttributes("\n"):We!==this.containerElement&&!this.isBlockElement(We)||(fe=this.getBlockAttributes(We),u(fe,null!=(Ne=this.currentBlock)?Ne.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(fe,We),this.currentBlockElement=We)},D.prototype.appendBlockForElement=function(de){var fe,We,Ne,dt;if(Ne=this.isBlockElement(de),We=p(this.currentBlockElement,de),Ne&&!this.isBlockElement(de.firstChild)){if((!this.isInsignificantTextNode(de.firstChild)||!this.isBlockElement(de.firstElementChild))&&(fe=this.getBlockAttributes(de),de.firstChild))return We&&u(fe,this.currentBlock.attributes)?this.appendStringWithAttributes("\n"):(this.currentBlock=this.appendBlockForAttributesWithElement(fe,de),this.currentBlockElement=de)}else if(this.currentBlockElement&&!We&&!Ne)return(dt=this.findParentBlockElement(de))?this.appendBlockForElement(dt):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},D.prototype.findParentBlockElement=function(de){var fe;for(fe=de.parentElement;fe&&fe!==this.containerElement;){if(this.isBlockElement(fe)&&A.call(this.blockElements,fe)>=0)return fe;fe=fe.parentElement}return null},D.prototype.processTextNode=function(de){var fe,We;return We=de.data,S(de.parentNode)||(We=f(We),q(null!=(fe=de.previousSibling)?fe.textContent:void 0)&&(We=R(We))),this.appendStringWithAttributes(We,this.getTextAttributes(de.parentNode))},D.prototype.processElement=function(de){var fe,We,Ne,dt;if(e(de))return fe=V(de,"attachment"),Object.keys(fe).length&&(dt=this.getTextAttributes(de),this.appendAttachmentWithAttributes(fe,dt),de.innerHTML=""),this.processedElements.push(de);switch(y(de)){case"br":return this.isExtraBR(de)||this.isBlockElement(de.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(de)),this.processedElements.push(de);case"img":for(We in fe={url:de.getAttribute("src"),contentType:"image"},Ne=L(de))fe[We]=Ne[We];return this.appendAttachmentWithAttributes(fe,this.getTextAttributes(de)),this.processedElements.push(de);case"tr":if(de.parentNode.firstChild!==de)return this.appendStringWithAttributes("\n");break;case"td":if(de.parentNode.firstChild!==de)return this.appendStringWithAttributes(" | ")}},D.prototype.appendBlockForAttributesWithElement=function(de,fe){var We;return this.blockElements.push(fe),We=O(de),this.blocks.push(We),We},D.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},D.prototype.appendStringWithAttributes=function(de,fe){return this.appendPiece($(de,fe))},D.prototype.appendAttachmentWithAttributes=function(de,fe){return this.appendPiece(ne(de,fe))},D.prototype.appendPiece=function(de){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(de)},D.prototype.appendStringToTextAtIndex=function(de,fe){var We,Ne;return"string"===(null!=(We=(Ne=this.blocks[fe].text)[Ne.length-1])?We.type:void 0)?We.string+=de:Ne.push($(de))},D.prototype.prependStringToTextAtIndex=function(de,fe){var We,Ne;return"string"===(null!=(We=(Ne=this.blocks[fe].text)[0])?We.type:void 0)?We.string=de+We.string:Ne.unshift($(de))},$=function(de,fe){return null==fe&&(fe={}),{string:de=E(de),attributes:fe,type:"string"}},ne=function(de,fe){return null==fe&&(fe={}),{attachment:de,attributes:fe,type:"attachment"}},O=function(de){return null==de&&(de={}),{text:[],attributes:de}},D.prototype.getTextAttributes=function(de){var fe,We,Ne,ge,Je,se,Re,pt,ht,It,De;for(fe in Ne={},pt=a.config.textAttributes)if((ge=pt[fe]).tagName&&d(de,{matchingSelector:ge.tagName,untilNode:this.containerElement}))Ne[fe]=!0;else if(ge.parser){if(De=ge.parser(de)){for(We=!1,Je=0,Re=(ht=this.findBlockElementAncestors(de)).length;Re>Je;Je++)if(ge.parser(ht[Je])===De){We=!0;break}We||(Ne[fe]=De)}}else ge.styleProperty&&(De=de.style[ge.styleProperty])&&(Ne[fe]=De);if(e(de))for(se in It=V(de,"attributes"))Ne[se]=De=It[se];return Ne},D.prototype.getBlockAttributes=function(de){var fe,We,Ne,dt;for(We=[];de&&de!==this.containerElement;){for(fe in dt=a.config.blockAttributes)!1!==(Ne=dt[fe]).parse&&y(de)===Ne.tagName&&(("function"==typeof Ne.test?Ne.test(de):void 0)||!Ne.test)&&(We.push(fe),Ne.listAttribute&&We.push(Ne.listAttribute));de=de.parentNode}return We.reverse()},D.prototype.findBlockElementAncestors=function(de){var fe,We;for(fe=[];de&&de!==this.containerElement;)We=y(de),A.call(h(),We)>=0&&fe.push(de),de=de.parentNode;return fe},V=function(de,fe){try{return JSON.parse(de.getAttribute("data-trix-"+fe))}catch(We){return{}}},L=function(de){var fe,We,Ne;return Ne=de.getAttribute("width"),We=de.getAttribute("height"),fe={},Ne&&(fe.width=parseInt(Ne,10)),We&&(fe.height=parseInt(We,10)),fe},D.prototype.isBlockElement=function(de){var fe;if((null!=de?de.nodeType:void 0)===Node.ELEMENT_NODE&&!e(de)&&!d(de,{matchingSelector:"td",untilNode:this.containerElement}))return fe=y(de),A.call(h(),fe)>=0||"block"===window.getComputedStyle(de).display},D.prototype.isInsignificantTextNode=function(de){var fe,We,Ne;if((null!=de?de.nodeType:void 0)===Node.TEXT_NODE&&X(de.data)&&(Ne=de.previousSibling,fe=de.nextSibling,(!G((We=de.parentNode).previousSibling)||this.isBlockElement(We.previousSibling))&&!S(We)))return!Ne||this.isBlockElement(Ne)||!fe||this.isBlockElement(fe)},D.prototype.isExtraBR=function(de){return"br"===y(de)&&this.isBlockElement(de.parentNode)&&de.parentNode.lastChild===de},S=function(de){var fe;return"pre"===(fe=window.getComputedStyle(de).whiteSpace)||"pre-wrap"===fe||"pre-line"===fe},G=function(de){return de&&!q(de.textContent)},D.prototype.translateBlockElementMarginsToNewlines=function(){var fe,We,Ne,dt,ge,se;for(fe=this.getMarginOfDefaultBlockElement(),se=[],Ne=We=0,dt=this.blocks.length;dt>We;Ne=++We)(ge=this.getMarginOfBlockElementAtIndex(Ne))&&(ge.top>2*fe.top&&this.prependStringToTextAtIndex("\n",Ne),se.push(ge.bottom>2*fe.bottom?this.appendStringToTextAtIndex("\n",Ne):void 0));return se},D.prototype.getMarginOfBlockElementAtIndex=function(de){var fe,We;return!(fe=this.blockElements[de])||!fe.textContent||(We=y(fe),A.call(h(),We)>=0||A.call(this.processedElements,fe)>=0)?void 0:x(fe)},D.prototype.getMarginOfDefaultBlockElement=function(){var de;return de=_(a.config.blockAttributes.default.tagName),this.containerElement.appendChild(de),x(de)},x=function(de){var fe;return"block"===(fe=window.getComputedStyle(de)).display?{top:parseInt(fe.marginTop),bottom:parseInt(fe.marginBottom)}:void 0},R=function(de){return de.replace(RegExp("^"+v.source+"+"),"")},X=function(de){return RegExp("^"+v.source+"*$").test(de)},q=function(de){return/\s$/.test(de)},D}(a.BasicObject)}.call(this),function(){var u,v,p,d,_={}.hasOwnProperty,e=[].slice,E=[].indexOf||function(f){for(var y=0,s=this.length;s>y;y++)if(y in this&&this[y]===f)return y;return-1};u=a.arraysAreEqual,p=a.normalizeRange,d=a.rangeIsCollapsed,v=a.getBlockConfig,a.Document=function(f){function y(C){null==C&&(C=[]),y.__super__.constructor.apply(this,arguments),0===C.length&&(C=[new a.Block]),this.blockList=a.SplittableList.box(C)}var s;return function(f,y){function s(){this.constructor=f}for(var C in y)_.call(y,C)&&(f[C]=y[C]);s.prototype=y.prototype,f.prototype=new s,f.__super__=y.prototype}(y,f),y.fromJSON=function(C){return new this(function(){var I,D,O;for(O=[],I=0,D=C.length;D>I;I++)O.push(a.Block.fromJSON(C[I]));return O}())},y.fromHTML=function(C,b){return a.HTMLParser.parse(C,b).getDocument()},y.fromString=function(C,b){var A;return A=a.Text.textForStringWithAttributes(C,b),new this([new a.Block(A)])},y.prototype.isEmpty=function(){var C;return 1===this.blockList.length&&(C=this.getBlockAtIndex(0)).isEmpty()&&!C.hasAttributes()},y.prototype.copy=function(C){var b;return null==C&&(C={}),b=C.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(b)},y.prototype.copyUsingObjectsFromDocument=function(C){var b;return b=new a.ObjectMap(C.getObjects()),this.copyUsingObjectMap(b)},y.prototype.copyUsingObjectMap=function(C){var b,A,I;return A=function(){var D,O,S,x;for(x=[],D=0,O=(S=this.getBlocks()).length;O>D;D++)x.push((I=C.find(b=S[D]))?I:b.copyUsingObjectMap(C));return x}.call(this),new this.constructor(A)},y.prototype.copyWithBaseBlockAttributes=function(C){var b,A,I;return null==C&&(C=[]),I=function(){var D,O,S,x;for(x=[],D=0,O=(S=this.getBlocks()).length;O>D;D++)b=C.concat((A=S[D]).getAttributes()),x.push(A.copyWithAttributes(b));return x}.call(this),new this.constructor(I)},y.prototype.replaceBlock=function(C,b){var A;return-1===(A=this.blockList.indexOf(C))?this:new this.constructor(this.blockList.replaceObjectAtIndex(b,A))},y.prototype.insertDocumentAtRange=function(C,b){var A,I,D,O,S,x,L;return I=C.blockList,S=(b=p(b))[0],D=(x=this.locationFromPosition(S)).index,O=x.offset,L=this,A=this.getBlockAtPosition(S),d(b)&&A.isEmpty()&&!A.hasAttributes()?L=new this.constructor(L.blockList.removeObjectAtIndex(D)):A.getBlockBreakPosition()===O&&S++,L=L.removeTextAtRange(b),new this.constructor(L.blockList.insertSplittableListAtPosition(I,S))},y.prototype.mergeDocumentAtRange=function(C,b){var A,I,D,O,S,x,L,R,G,k,V,ne;return V=(b=p(b))[0],k=this.locationFromPosition(V),I=this.getBlockAtIndex(k.index).getAttributes(),A=C.getBaseBlockAttributes(),ne=I.slice(-A.length),u(A,ne)?(L=I.slice(0,-A.length),x=C.copyWithBaseBlockAttributes(L)):x=C.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(I),D=x.getBlockCount(),O=x.getBlockAtIndex(0),u(I,O.getAttributes())?(S=O.getTextWithoutBlockBreak(),G=this.insertTextAtRange(S,b),D>1&&(x=new this.constructor(x.getBlocks().slice(1)),R=V+S.getLength(),G=G.insertDocumentAtRange(x,R))):G=this.insertDocumentAtRange(x,b),G},y.prototype.insertTextAtRange=function(C,b){var A,I,D,O,S;return S=(b=p(b))[0],I=(O=this.locationFromPosition(S)).index,D=O.offset,A=this.removeTextAtRange(b),new this.constructor(A.blockList.editObjectAtIndex(I,function(x){return x.copyWithText(x.text.insertTextAtPosition(C,D))}))},y.prototype.removeTextAtRange=function(C){var A,I,D,O,S,x,L,R,G,k,$,q,X,de,fe,We,Ne;return L=(G=C=p(C))[0],fe=G[1],d(C)?this:(X=(k=this.locationRangeFromRange(C))[1],x=(S=k[0]).offset,D=this.getBlockAtIndex(O=S.index),de=X.offset,$=this.getBlockAtIndex(q=X.index),fe-L==1&&D.getBlockBreakPosition()===x&&$.getBlockBreakPosition()!==de&&"\n"===$.text.getStringAtPosition(de)?I=this.blockList.editObjectAtIndex(q,function(ge){return ge.copyWithText(ge.text.removeTextAtRange([de,de+1]))}):(R=D.text.getTextAtRange([0,x]),We=$.text.getTextAtRange([de,$.getLength()]),Ne=R.appendText(We),A=O!==q&&0===x&&D.getAttributeLevel()>=$.getAttributeLevel()?$.copyWithText(Ne):D.copyWithText(Ne),I=this.blockList.splice(O,q+1-O,A)),new this.constructor(I))},y.prototype.moveTextFromRangeToPosition=function(C,b){var A,I,O,S,x,L,R,G,k;return b>=(G=(x=C=p(C))[0])&&x[1]>=b?this:(I=this.getDocumentAtRange(C),R=this.removeTextAtRange(C),(S=b>G)&&(b-=I.getLength()),O=(L=I.getBlocks())[0],0===(A=2<=L.length?e.call(L,1):[]).length?(k=O.getTextWithoutBlockBreak(),S&&(b+=1)):k=O.text,R=R.insertTextAtRange(k,b),0===A.length?R:(I=new this.constructor(A),b+=k.getLength(),R.insertDocumentAtRange(I,b)))},y.prototype.addAttributeAtRange=function(C,b,A){var I;return I=this.blockList,this.eachBlockAtRange(A,function(D,O,S){return I=I.editObjectAtIndex(S,function(){return v(C)?D.addAttribute(C,b):O[0]===O[1]?D:D.copyWithText(D.text.addAttributeAtRange(C,b,O))})}),new this.constructor(I)},y.prototype.addAttribute=function(C,b){var A;return A=this.blockList,this.eachBlock(function(I,D){return A=A.editObjectAtIndex(D,function(){return I.addAttribute(C,b)})}),new this.constructor(A)},y.prototype.removeAttributeAtRange=function(C,b){var A;return A=this.blockList,this.eachBlockAtRange(b,function(I,D,O){return v(C)?A=A.editObjectAtIndex(O,function(){return I.removeAttribute(C)}):D[0]!==D[1]?A=A.editObjectAtIndex(O,function(){return I.copyWithText(I.text.removeAttributeAtRange(C,D))}):void 0}),new this.constructor(A)},y.prototype.updateAttributesForAttachment=function(C,b){var A,D,O;return D=this.getRangeOfAttachment(b)[0],A=this.locationFromPosition(D).index,O=this.getTextAtIndex(A),new this.constructor(this.blockList.editObjectAtIndex(A,function(S){return S.copyWithText(O.updateAttributesForAttachment(C,b))}))},y.prototype.removeAttributeForAttachment=function(C,b){var A;return A=this.getRangeOfAttachment(b),this.removeAttributeAtRange(C,A)},y.prototype.insertBlockBreakAtRange=function(C){var b,A,I,D;return D=(C=p(C))[0],I=this.locationFromPosition(D).offset,A=this.removeTextAtRange(C),0===I&&(b=[new a.Block]),new this.constructor(A.blockList.insertSplittableListAtPosition(new a.SplittableList(b),D))},y.prototype.applyBlockAttributeAtRange=function(C,b,A){var I,D,O,S;return D=(O=this.expandRangeToLineBreaksAndSplitBlocks(A)).document,A=O.range,(I=v(C)).listAttribute?(S=(D=D.removeLastListAttributeAtRange(A,{exceptAttributeName:C})).convertLineBreaksToBlockBreaksInRange(A),D=S.document,A=S.range):D=I.exclusive?D.removeBlockAttributesAtRange(A):I.terminal?D.removeLastTerminalAttributeAtRange(A):D.consolidateBlocksAtRange(A),D.addAttributeAtRange(C,b,A)},y.prototype.removeLastListAttributeAtRange=function(C,b){var A;return null==b&&(b={}),A=this.blockList,this.eachBlockAtRange(C,function(I,D,O){var S;if((S=I.getLastAttribute())&&v(S).listAttribute&&S!==b.exceptAttributeName)return A=A.editObjectAtIndex(O,function(){return I.removeAttribute(S)})}),new this.constructor(A)},y.prototype.removeLastTerminalAttributeAtRange=function(C){var b;return b=this.blockList,this.eachBlockAtRange(C,function(A,I,D){var O;if((O=A.getLastAttribute())&&v(O).terminal)return b=b.editObjectAtIndex(D,function(){return A.removeAttribute(O)})}),new this.constructor(b)},y.prototype.removeBlockAttributesAtRange=function(C){var b;return b=this.blockList,this.eachBlockAtRange(C,function(A,I,D){return A.hasAttributes()?b=b.editObjectAtIndex(D,function(){return A.copyWithoutAttributes()}):void 0}),new this.constructor(b)},y.prototype.expandRangeToLineBreaksAndSplitBlocks=function(C){var b,A,I,D,O,S,x,L,R;return D=(S=C=p(C))[1],L=this.locationFromPosition(S[0]),I=this.locationFromPosition(D),x=(b=this).getBlockAtIndex(L.index),null!=(L.offset=x.findLineBreakInDirectionFromPosition("backward",L.offset))&&(O=b.positionFromLocation(L),b=b.insertBlockBreakAtRange([O,O+1]),I.index+=1,I.offset-=b.getBlockAtIndex(L.index).getLength(),L.index+=1),L.offset=0,0===I.offset&&I.index>L.index?(I.index-=1,I.offset=b.getBlockAtIndex(I.index).getBlockBreakPosition()):("\n"===(A=b.getBlockAtIndex(I.index)).text.getStringAtRange([I.offset-1,I.offset])?I.offset-=1:I.offset=A.findLineBreakInDirectionFromPosition("forward",I.offset),I.offset!==A.getBlockBreakPosition()&&(O=b.positionFromLocation(I),b=b.insertBlockBreakAtRange([O,O+1]))),R=b.positionFromLocation(L),D=b.positionFromLocation(I),{document:b,range:C=p([R,D])}},y.prototype.convertLineBreaksToBlockBreaksInRange=function(C){var b,A,I;return A=(C=p(C))[0],I=this.getStringAtRange(C).slice(0,-1),b=this,I.replace(/.*?\n/g,function(D){return b=b.insertBlockBreakAtRange([(A+=D.length)-1,A])}),{document:b,range:C}},y.prototype.consolidateBlocksAtRange=function(C){var b,A,I,D;return A=(I=C=p(C))[1],D=this.locationFromPosition(I[0]).index,b=this.locationFromPosition(A).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(D,b))},y.prototype.getDocumentAtRange=function(C){var b;return C=p(C),b=this.blockList.getSplittableListInRange(C).toArray(),new this.constructor(b)},y.prototype.getStringAtRange=function(C){var b,I;return(I=C=p(C))[I.length-1]!==this.getLength()&&(b=-1),this.getDocumentAtRange(C).toString().slice(0,b)},y.prototype.getBlockAtIndex=function(C){return this.blockList.getObjectAtIndex(C)},y.prototype.getBlockAtPosition=function(C){var b;return b=this.locationFromPosition(C).index,this.getBlockAtIndex(b)},y.prototype.getTextAtIndex=function(C){var b;return null!=(b=this.getBlockAtIndex(C))?b.text:void 0},y.prototype.getTextAtPosition=function(C){var b;return b=this.locationFromPosition(C).index,this.getTextAtIndex(b)},y.prototype.getPieceAtPosition=function(C){var A,I;return A=(I=this.locationFromPosition(C)).offset,this.getTextAtIndex(I.index).getPieceAtPosition(A)},y.prototype.getCharacterAtPosition=function(C){var A,I;return A=(I=this.locationFromPosition(C)).offset,this.getTextAtIndex(I.index).getStringAtRange([A,A+1])},y.prototype.getLength=function(){return this.blockList.getEndPosition()},y.prototype.getBlocks=function(){return this.blockList.toArray()},y.prototype.getBlockCount=function(){return this.blockList.length},y.prototype.getEditCount=function(){return this.editCount},y.prototype.eachBlock=function(C){return this.blockList.eachObject(C)},y.prototype.eachBlockAtRange=function(C,b){var A,I,D,O,S,x,L,R,G,k,ne;if(D=(x=C=p(C))[1],k=this.locationFromPosition(x[0]),I=this.locationFromPosition(D),k.index===I.index)return b(A=this.getBlockAtIndex(k.index),ne=[k.offset,I.offset],k.index);for(G=[],S=O=L=k.index,R=I.index;R>=L?R>=O:O>=R;S=R>=L?++O:--O)(A=this.getBlockAtIndex(S))?(ne=function(){switch(S){case k.index:return[k.offset,A.text.getLength()];case I.index:return[0,I.offset];default:return[0,A.text.getLength()]}}(),G.push(b(A,ne,S))):G.push(void 0);return G},y.prototype.getCommonAttributesAtRange=function(C){var b,A,I;return A=(C=p(C))[0],d(C)?this.getCommonAttributesAtPosition(A):(I=[],b=[],this.eachBlockAtRange(C,function(D,O){return O[0]!==O[1]?(I.push(D.text.getCommonAttributesAtRange(O)),b.push(s(D))):void 0}),a.Hash.fromCommonAttributesOfObjects(I).merge(a.Hash.fromCommonAttributesOfObjects(b)).toObject())},y.prototype.getCommonAttributesAtPosition=function(C){var b,A,I,D,S,x,L,R,G;if(L=(R=this.locationFromPosition(C)).offset,!(I=this.getBlockAtIndex(R.index)))return{};for(x in D=s(I),b=I.text.getAttributesAtPosition(L),A=I.text.getAttributesAtPosition(L-1),S=function(){var k,V;for(x in V=[],k=a.config.textAttributes)(G=k[x]).inheritable&&V.push(x);return V}(),A)((G=A[x])===b[x]||E.call(S,x)>=0)&&(D[x]=G);return D},y.prototype.getRangeOfCommonAttributeAtPosition=function(C,b){var A,I,D,O,S,x,L;return O=(S=this.locationFromPosition(b)).offset,I=(x=this.getTextAtIndex(D=S.index).getExpandedRangeForAttributeAtOffset(C,O))[1],L=this.positionFromLocation({index:D,offset:x[0]}),A=this.positionFromLocation({index:D,offset:I}),p([L,A])},y.prototype.getBaseBlockAttributes=function(){var C,b,A,I,D,O,S;for(C=this.getBlockAtIndex(0).getAttributes(),A=I=1,S=this.getBlockCount();S>=1?S>I:I>S;A=S>=1?++I:--I)b=this.getBlockAtIndex(A).getAttributes(),O=Math.min(C.length,b.length),C=function(){var x,L,R;for(R=[],D=x=0,L=O;(L>=0?L>x:x>L)&&b[D]===C[D];D=L>=0?++x:--x)R.push(b[D]);return R}();return C},s=function(C){var b,A;return A={},(b=C.getLastAttribute())&&(A[b]=!0),A},y.prototype.getAttachmentById=function(C){var b,A,I,D;for(A=0,I=(D=this.getAttachments()).length;I>A;A++)if((b=D[A]).id===C)return b},y.prototype.getAttachmentPieces=function(){var C;return C=[],this.blockList.eachObject(function(b){return C=C.concat(b.text.getAttachmentPieces())}),C},y.prototype.getAttachments=function(){var C,b,I,D;for(D=[],C=0,b=(I=this.getAttachmentPieces()).length;b>C;C++)D.push(I[C].attachment);return D},y.prototype.getRangeOfAttachment=function(C){var b,A,I,D,O,S,x;for(D=0,A=b=0,I=(O=this.blockList.toArray()).length;I>b;A=++b){if(x=(S=O[A].text).getRangeOfAttachment(C))return p([D+x[0],D+x[1]]);D+=S.getLength()}},y.prototype.getLocationRangeOfAttachment=function(C){var b;return b=this.getRangeOfAttachment(C),this.locationRangeFromRange(b)},y.prototype.getAttachmentPieceForAttachment=function(C){var b,A,I,D;for(b=0,A=(D=this.getAttachmentPieces()).length;A>b;b++)if((I=D[b]).attachment===C)return I},y.prototype.findRangesForBlockAttribute=function(C){var b,A,I,D,O,S,x;for(O=0,S=[],A=0,I=(x=this.getBlocks()).length;I>A;A++)D=(b=x[A]).getLength(),b.hasAttribute(C)&&S.push([O,O+D]),O+=D;return S},y.prototype.findRangesForTextAttribute=function(C,b){var A,I,D,O,S,x,L,R,G,k;for(k=(null!=b?b:{}).withValue,x=0,L=[],R=[],O=function(V){return null!=k?V.getAttribute(C)===k:V.hasAttribute(C)},A=0,I=(G=this.getPieces()).length;I>A;A++)D=(S=G[A]).getLength(),O(S)&&(L[1]===x?L[1]=x+D:R.push(L=[x,x+D])),x+=D;return R},y.prototype.locationFromPosition=function(C){var b,A;return null!=(A=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,C))).index?A:{index:(b=this.getBlocks()).length-1,offset:b[b.length-1].getLength()}},y.prototype.positionFromLocation=function(C){return this.blockList.findPositionAtIndexAndOffset(C.index,C.offset)},y.prototype.locationRangeFromPosition=function(C){return p(this.locationFromPosition(C))},y.prototype.locationRangeFromRange=function(C){var b,A,I;if(C=p(C))return A=C[1],I=this.locationFromPosition(C[0]),b=this.locationFromPosition(A),p([I,b])},y.prototype.rangeFromLocationRange=function(C){var b,A;return C=p(C),b=this.positionFromLocation(C[0]),d(C)||(A=this.positionFromLocation(C[1])),p([b,A])},y.prototype.isEqualTo=function(C){return this.blockList.isEqualTo(null!=C?C.blockList:void 0)},y.prototype.getTexts=function(){var b,A,I,D;for(D=[],b=0,A=(I=this.getBlocks()).length;A>b;b++)D.push(I[b].text);return D},y.prototype.getPieces=function(){var C,b,A,I;for(A=[],C=0,b=(I=this.getTexts()).length;b>C;C++)A.push.apply(A,I[C].getPieces());return A},y.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},y.prototype.toSerializableDocument=function(){var C;return C=[],this.blockList.eachObject(function(b){return C.push(b.copyWithText(b.text.toSerializableText()))}),new this.constructor(C)},y.prototype.toString=function(){return this.blockList.toString()},y.prototype.toJSON=function(){return this.blockList.toJSON()},y.prototype.toConsole=function(){return JSON.stringify(function(){var b,A,I,D;for(D=[],b=0,A=(I=this.blockList.toArray()).length;A>b;b++)D.push(JSON.parse(I[b].text.toConsole()));return D}.call(this))},y}(a.Object)}.call(this),function(){a.LineBreakInsertion=function(){function u(v){var p;this.composition=v,this.document=this.composition.document,p=this.composition.getSelectedRange(),this.startPosition=p[0],this.endPosition=p[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return u.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},u.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},u.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},u.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},u.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},u}()}.call(this),function(){var u,v,p,d,h,_,e,E,f,y,C={}.hasOwnProperty;_=a.normalizeRange,f=a.rangesAreEqual,E=a.rangeIsCollapsed,e=a.objectsAreEqual,u=a.arrayStartsWith,y=a.summarizeArrayChange,p=a.getAllAttributeNames,d=a.getBlockConfig,h=a.getTextConfig,v=a.extend,a.Composition=function(b){function A(){this.document=new a.Document,this.attachments=[],this.currentAttributes={},this.revision=0}return function(b,A){function I(){this.constructor=b}for(var D in A)C.call(A,D)&&(b[D]=A[D]);I.prototype=A.prototype,b.prototype=new I,b.__super__=A.prototype}(A,b),A.prototype.setDocument=function(D){var O;return D.isEqualTo(this.document)?void 0:(this.document=D,this.refreshAttachments(),this.revision++,null!=(O=this.delegate)&&"function"==typeof O.compositionDidChangeDocument?O.compositionDidChangeDocument(D):void 0)},A.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},A.prototype.loadSnapshot=function(D){var O,S,x,L;return O=D.document,L=D.selectedRange,null!=(S=this.delegate)&&"function"==typeof S.compositionWillLoadSnapshot&&S.compositionWillLoadSnapshot(),this.setDocument(null!=O?O:new a.Document),this.setSelection(null!=L?L:[0,0]),null!=(x=this.delegate)&&"function"==typeof x.compositionDidLoadSnapshot?x.compositionDidLoadSnapshot():void 0},A.prototype.insertText=function(D,O){var S,x,L,R;return R=(null!=O?O:{updatePosition:!0}).updatePosition,x=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(D,x)),S=(L=x[0])+D.getLength(),R&&this.setSelection(S),this.notifyDelegateOfInsertionAtRange([L,S])},A.prototype.insertBlock=function(D){var O;return null==D&&(D=new a.Block),O=new a.Document([D]),this.insertDocument(O)},A.prototype.insertDocument=function(D){var O,S,x;return null==D&&(D=new a.Document),S=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(D,S)),O=(x=S[0])+D.getLength(),this.setSelection(O),this.notifyDelegateOfInsertionAtRange([x,O])},A.prototype.insertString=function(D,O){var S,x;return S=this.getCurrentTextAttributes(),x=a.Text.textForStringWithAttributes(D,S),this.insertText(x,O)},A.prototype.insertBlockBreak=function(){var D,O,S;return O=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(O)),this.setSelection(D=(S=O[0])+1),this.notifyDelegateOfInsertionAtRange([S,D])},A.prototype.insertLineBreak=function(){var D,O;return(O=new a.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(O.startPosition)):O.shouldPrependListItem()?(D=new a.Document([O.block.copyWithoutText()]),this.insertDocument(D)):O.shouldInsertBlockBreak()?this.insertBlockBreak():O.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():O.shouldBreakFormattedBlock()?this.breakFormattedBlock(O):this.insertString("\n")},A.prototype.insertHTML=function(D){var O,S,x,L;return O=a.Document.fromHTML(D),x=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(O,x)),S=(L=x[0])+O.getLength()-1,this.setSelection(S),this.notifyDelegateOfInsertionAtRange([L,S])},A.prototype.replaceHTML=function(D){var O,S,x;return O=a.Document.fromHTML(D).copyUsingObjectsFromDocument(this.document),S=this.getLocationRange({strict:!1}),x=this.document.rangeFromLocationRange(S),this.setDocument(O),this.setSelection(x)},A.prototype.insertFile=function(D){return this.insertFiles([D])},A.prototype.insertFiles=function(D){var O,S,x,L,R,G;for(S=[],L=0,R=D.length;R>L;L++)x=D[L],(null!=(G=this.delegate)?G.compositionShouldAcceptFile(x):void 0)&&(O=a.Attachment.attachmentForFile(x),S.push(O));return this.insertAttachments(S)},A.prototype.insertAttachment=function(D){return this.insertAttachments([D])},A.prototype.insertAttachments=function(D){var O,S,x,L,R,G,k,V,ne;for(V=new a.Text,L=0,R=D.length;R>L;L++)ne=(O=D[L]).getType(),G=null!=(k=a.config.attachments[ne])?k.presentation:void 0,x=this.getCurrentTextAttributes(),G&&(x.presentation=G),S=a.Text.textForAttachmentWithAttributes(O,x),V=V.appendText(S);return this.insertText(V)},A.prototype.shouldManageDeletingInDirection=function(D){var O;if(O=this.getLocationRange(),E(O)){if("backward"===D&&0===O[0].offset||this.shouldManageMovingCursorInDirection(D))return!0}else if(O[0].index!==O[1].index)return!0;return!1},A.prototype.deleteInDirection=function(D,O){var S,x,L,R,G,k,V,ne;return R=(null!=O?O:{}).length,G=this.getLocationRange(),k=this.getSelectedRange(),(V=E(k))?L="backward"===D&&0===G[0].offset:ne=G[0].index!==G[1].index,!(L&&this.canDecreaseBlockAttributeLevel()&&(x=this.getBlock(),x.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(k[0]),x.isEmpty()))&&(V&&(k=this.getExpandedRangeInDirection(D,{length:R}),"backward"===D&&(S=this.getAttachmentAtRange(k))),S?(this.editAttachment(S),!1):(this.setDocument(this.document.removeTextAtRange(k)),this.setSelection(k[0]),!L&&!ne&&void 0))},A.prototype.moveTextFromRange=function(D){var O;return O=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(D,O)),this.setSelection(O)},A.prototype.removeAttachment=function(D){var O;return(O=this.document.getRangeOfAttachment(D))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(O)),this.setSelection(O[0])):void 0},A.prototype.removeLastBlockAttribute=function(){var D,S,x;return x=(S=this.getSelectedRange())[0],D=this.document.getBlockAtPosition(S[1]),this.removeCurrentAttribute(D.getLastAttribute()),this.setSelection(x)},A.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")},A.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+" ".length]),this.getSelectedRange()):void 0},A.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},A.prototype.hasCurrentAttribute=function(D){var O;return null!=(O=this.currentAttributes[D])&&!1!==O},A.prototype.toggleCurrentAttribute=function(D){var O;return(O=!this.currentAttributes[D])?this.setCurrentAttribute(D,O):this.removeCurrentAttribute(D)},A.prototype.canSetCurrentAttribute=function(D){return d(D)?this.canSetCurrentBlockAttribute(D):this.canSetCurrentTextAttribute(D)},A.prototype.canSetCurrentTextAttribute=function(){var O,S,x,L;if(O=this.getSelectedDocument()){for(S=0,x=(L=O.getAttachments()).length;x>S;S++)if(!L[S].hasContent())return!1;return!0}},A.prototype.canSetCurrentBlockAttribute=function(){var D;if(D=this.getBlock())return!D.isTerminalBlock()},A.prototype.setCurrentAttribute=function(D,O){return d(D)?this.setBlockAttribute(D,O):(this.setTextAttribute(D,O),this.currentAttributes[D]=O,this.notifyDelegateOfCurrentAttributesChange())},A.prototype.setTextAttribute=function(D,O){var x,R;if(x=this.getSelectedRange())return x[0]!==x[1]?this.setDocument(this.document.addAttributeAtRange(D,O,x)):"href"===D?(R=a.Text.textForStringWithAttributes(O,{href:O}),this.insertText(R)):void 0},A.prototype.setBlockAttribute=function(D,O){var x;if(x=this.getSelectedRange())return this.canSetCurrentAttribute(D)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(D,O,x)),this.setSelection(x)):void 0},A.prototype.removeCurrentAttribute=function(D){return d(D)?(this.removeBlockAttribute(D),this.updateCurrentAttributes()):(this.removeTextAttribute(D),delete this.currentAttributes[D],this.notifyDelegateOfCurrentAttributesChange())},A.prototype.removeTextAttribute=function(D){var O;if(O=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(D,O))},A.prototype.removeBlockAttribute=function(D){var O;if(O=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(D,O))},A.prototype.canDecreaseNestingLevel=function(){var D;return(null!=(D=this.getBlock())?D.getNestingLevel():void 0)>0},A.prototype.canIncreaseNestingLevel=function(){var D,O,S;if(D=this.getBlock())return null!=(S=d(D.getLastNestableAttribute()))&&S.listAttribute?(O=this.getPreviousBlock())?u(O.getListItemAttributes(),D.getListItemAttributes()):void 0:D.getNestingLevel()>0},A.prototype.decreaseNestingLevel=function(){var D;if(D=this.getBlock())return this.setDocument(this.document.replaceBlock(D,D.decreaseNestingLevel()))},A.prototype.increaseNestingLevel=function(){var D;if(D=this.getBlock())return this.setDocument(this.document.replaceBlock(D,D.increaseNestingLevel()))},A.prototype.canDecreaseBlockAttributeLevel=function(){var D;return(null!=(D=this.getBlock())?D.getAttributeLevel():void 0)>0},A.prototype.decreaseBlockAttributeLevel=function(){var D,O;return(D=null!=(O=this.getBlock())?O.getLastAttribute():void 0)?this.removeCurrentAttribute(D):void 0},A.prototype.decreaseListLevel=function(){var D,O,S,x,L,R;for(R=this.getSelectedRange()[0],S=L=this.document.locationFromPosition(R).index,D=this.getBlock().getAttributeLevel();(O=this.document.getBlockAtIndex(S+1))&&O.isListItem()&&O.getAttributeLevel()>D;)S++;return R=this.document.positionFromLocation({index:L,offset:0}),x=this.document.positionFromLocation({index:S,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([R,x]))},A.prototype.updateCurrentAttributes=function(){var D,O,S,x,L,R;if(R=this.getSelectedRange({ignoreLock:!0})){for(O=this.document.getCommonAttributesAtRange(R),S=0,x=(L=p()).length;x>S;S++)O[D=L[S]]||this.canSetCurrentAttribute(D)||(O[D]=!1);if(!e(O,this.currentAttributes))return this.currentAttributes=O,this.notifyDelegateOfCurrentAttributesChange()}},A.prototype.getCurrentAttributes=function(){return v.call({},this.currentAttributes)},A.prototype.getCurrentTextAttributes=function(){var D,O,S,x;for(O in D={},S=this.currentAttributes)!1!==(x=S[O])&&h(O)&&(D[O]=x);return D},A.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},A.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},A.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},A.proxyMethod("getSelectionManager().getPointRange"),A.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),A.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),A.proxyMethod("getSelectionManager().locationIsCursorTarget"),A.proxyMethod("getSelectionManager().selectionIsExpanded"),A.proxyMethod("delegate?.getSelectionManager"),A.prototype.setSelection=function(D){var O,S;return O=this.document.locationRangeFromRange(D),null!=(S=this.delegate)?S.compositionDidRequestChangingSelectionToLocationRange(O):void 0},A.prototype.getSelectedRange=function(){var D;return(D=this.getLocationRange())?this.document.rangeFromLocationRange(D):void 0},A.prototype.setSelectedRange=function(D){var O;return O=this.document.locationRangeFromRange(D),this.getSelectionManager().setLocationRange(O)},A.prototype.getPosition=function(){var D;return(D=this.getLocationRange())?this.document.positionFromLocation(D[0]):void 0},A.prototype.getLocationRange=function(D){var O,S;return null!=(O=null!=(S=this.targetLocationRange)?S:this.getSelectionManager().getLocationRange(D))?O:_({index:0,offset:0})},A.prototype.withTargetLocationRange=function(D,O){var S;this.targetLocationRange=D;try{S=O()}finally{this.targetLocationRange=null}return S},A.prototype.withTargetRange=function(D,O){var S;return S=this.document.locationRangeFromRange(D),this.withTargetLocationRange(S,O)},A.prototype.withTargetDOMRange=function(D,O){var S;return S=this.createLocationRangeFromDOMRange(D,{strict:!1}),this.withTargetLocationRange(S,O)},A.prototype.getExpandedRangeInDirection=function(D,O){var S,x,L,R;return x=(null!=O?O:{}).length,R=(L=this.getSelectedRange())[0],S=L[1],"backward"===D?x?R-=x:R=this.translateUTF16PositionFromOffset(R,-1):x?S+=x:S=this.translateUTF16PositionFromOffset(S,1),_([R,S])},A.prototype.shouldManageMovingCursorInDirection=function(D){var O;return!!this.editingAttachment||(O=this.getExpandedRangeInDirection(D),null!=this.getAttachmentAtRange(O))},A.prototype.moveCursorInDirection=function(D){var O,S,x,L;return this.editingAttachment?x=this.document.getRangeOfAttachment(this.editingAttachment):(L=this.getSelectedRange(),x=this.getExpandedRangeInDirection(D),S=!f(L,x)),this.setSelectedRange("backward"===D?x[0]:x[1]),S&&(O=this.getAttachmentAtRange(x))?this.editAttachment(O):void 0},A.prototype.expandSelectionInDirection=function(D,O){var x;return x=this.getExpandedRangeInDirection(D,{length:(null!=O?O:{}).length}),this.setSelectedRange(x)},A.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},A.prototype.expandSelectionAroundCommonAttribute=function(D){var O,S;return O=this.getPosition(),S=this.document.getRangeOfCommonAttributeAtPosition(D,O),this.setSelectedRange(S)},A.prototype.selectionContainsAttachments=function(){var D;return(null!=(D=this.getSelectedAttachments())?D.length:void 0)>0},A.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},A.prototype.positionIsCursorTarget=function(D){var O;return(O=this.document.locationFromPosition(D))?this.locationIsCursorTarget(O):void 0},A.prototype.positionIsBlockBreak=function(D){var O;return null!=(O=this.document.getPieceAtPosition(D))?O.isBlockBreak():void 0},A.prototype.getSelectedDocument=function(){var D;return(D=this.getSelectedRange())?this.document.getDocumentAtRange(D):void 0},A.prototype.getSelectedAttachments=function(){var D;return null!=(D=this.getSelectedDocument())?D.getAttachments():void 0},A.prototype.getAttachments=function(){return this.attachments.slice(0)},A.prototype.refreshAttachments=function(){var D,O,S,x,L,R,G,k,V,ne,$,q;for(S=this.document.getAttachments(),D=(k=y(this.attachments,S)).added,$=k.removed,this.attachments=S,x=0,R=$.length;R>x;x++)(O=$[x]).delegate=null,null!=(V=this.delegate)&&"function"==typeof V.compositionDidRemoveAttachment&&V.compositionDidRemoveAttachment(O);for(q=[],L=0,G=D.length;G>L;L++)(O=D[L]).delegate=this,q.push(null!=(ne=this.delegate)&&"function"==typeof ne.compositionDidAddAttachment?ne.compositionDidAddAttachment(O):void 0);return q},A.prototype.attachmentDidChangeAttributes=function(D){var O;return this.revision++,null!=(O=this.delegate)&&"function"==typeof O.compositionDidEditAttachment?O.compositionDidEditAttachment(D):void 0},A.prototype.attachmentDidChangePreviewURL=function(D){var O;return this.revision++,null!=(O=this.delegate)&&"function"==typeof O.compositionDidChangeAttachmentPreviewURL?O.compositionDidChangeAttachmentPreviewURL(D):void 0},A.prototype.editAttachment=function(D,O){var S;if(D!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=D,null!=(S=this.delegate)&&"function"==typeof S.compositionDidStartEditingAttachment?S.compositionDidStartEditingAttachment(this.editingAttachment,O):void 0},A.prototype.stopEditingAttachment=function(){var D;if(this.editingAttachment)return null!=(D=this.delegate)&&"function"==typeof D.compositionDidStopEditingAttachment&&D.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},A.prototype.updateAttributesForAttachment=function(D,O){return this.setDocument(this.document.updateAttributesForAttachment(D,O))},A.prototype.removeAttributeForAttachment=function(D,O){return this.setDocument(this.document.removeAttributeForAttachment(D,O))},A.prototype.breakFormattedBlock=function(D){var O,S,x,L,R;return S=D.document,R=[(L=D.startPosition)-1,L],(O=D.block).getBlockBreakPosition()===D.startLocation.offset?(O.breaksOnReturn()&&"\n"===D.nextCharacter?L+=1:S=S.removeTextAtRange(R),R=[L,L]):"\n"===D.nextCharacter?"\n"===D.previousCharacter?R=[L-1,L+1]:(R=[L,L+1],L+=1):D.startLocation.offset-1!=0&&(L+=1),x=new a.Document([O.removeLastAttribute().copyWithoutText()]),this.setDocument(S.insertDocumentAtRange(x,R)),this.setSelection(L)},A.prototype.getPreviousBlock=function(){var D,O;return(O=this.getLocationRange())&&(D=O[0].index)>0?this.document.getBlockAtIndex(D-1):void 0},A.prototype.getBlock=function(){var D;return(D=this.getLocationRange())?this.document.getBlockAtIndex(D[0].index):void 0},A.prototype.getAttachmentAtRange=function(D){var O;return(O=this.document.getDocumentAtRange(D)).toString()===a.OBJECT_REPLACEMENT_CHARACTER+"\n"?O.getAttachments()[0]:void 0},A.prototype.notifyDelegateOfCurrentAttributesChange=function(){var D;return null!=(D=this.delegate)&&"function"==typeof D.compositionDidChangeCurrentAttributes?D.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},A.prototype.notifyDelegateOfInsertionAtRange=function(D){var O;return null!=(O=this.delegate)&&"function"==typeof O.compositionDidPerformInsertionAtRange?O.compositionDidPerformInsertionAtRange(D):void 0},A.prototype.translateUTF16PositionFromOffset=function(D,O){var S,x;return S=(x=this.document.toUTF16String()).offsetFromUCS2Offset(D),x.offsetToUCS2Offset(S+O)},A}(a.BasicObject)}.call(this),function(){var v={}.hasOwnProperty;a.UndoManager=function(p){function d(_){this.composition=_,this.undoEntries=[],this.redoEntries=[]}var h;return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.prototype.recordUndoEntry=function(_,e){var E,f,y,s,C;return f=(s=null!=e?e:{}).context,E=s.consolidatable,y=this.undoEntries.slice(-1)[0],E&&h(y,_,f)?void 0:(C=this.createEntry({description:_,context:f}),this.undoEntries.push(C),this.redoEntries=[])},d.prototype.undo=function(){var _,e;return(e=this.undoEntries.pop())?(_=this.createEntry(e),this.redoEntries.push(_),this.composition.loadSnapshot(e.snapshot)):void 0},d.prototype.redo=function(){var _,e;return(_=this.redoEntries.pop())?(e=this.createEntry(_),this.undoEntries.push(e),this.composition.loadSnapshot(_.snapshot)):void 0},d.prototype.canUndo=function(){return this.undoEntries.length>0},d.prototype.canRedo=function(){return this.redoEntries.length>0},d.prototype.createEntry=function(_){var e,E,f;return e=(f=null!=_?_:{}).context,{description:null!=(E=f.description)?E.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},h=function(_,e,E){return(null!=_?_.description:void 0)===(null!=e?e.toString():void 0)&&(null!=_?_.context:void 0)===JSON.stringify(E)},d}(a.BasicObject)}.call(this),function(){var u;a.attachmentGalleryFilter=function(v){var p;return(p=new u(v)).perform(),p.getSnapshot()},u=function(){function v(_){this.document=_.document,this.selectedRange=_.selectedRange}var p;return p="attachmentGallery",v.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},v.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},v.prototype.removeBlockAttribute=function(){var _,e,f,y;for(y=[],_=0,e=(f=this.findRangesOfBlocks()).length;e>_;_++)y.push(this.document=this.document.removeAttributeAtRange(p,f[_]));return y},v.prototype.applyBlockAttribute=function(){var _,e,E,f,y,s;for(E=0,s=[],_=0,e=(y=this.findRangesOfPieces()).length;e>_;_++)(f=y[_])[1]-f[0]>1&&(f[0]+=E,f[1]+=E,"\n"!==this.document.getCharacterAtPosition(f[1])&&(this.document=this.document.insertBlockBreakAtRange(f[1]),f[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),f[1]++,E++),0!==f[0]&&"\n"!==this.document.getCharacterAtPosition(f[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(f[0]),f[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),f[0]++,E++),s.push(this.document=this.document.applyBlockAttributeAtRange(p,!0,f)));return s},v.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(p)},v.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})},v.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},v}()}.call(this),function(){a.Editor=function(){function v(d,h,_){this.composition=d,this.selectionManager=h,this.element=_,this.insertFiles=function(v,p){return function(){return v.apply(p,arguments)}}(this.insertFiles,this),this.undoManager=new a.UndoManager(this.composition),this.filters=p.slice(0)}var p;return p=[a.attachmentGalleryFilter],v.prototype.loadDocument=function(d){return this.loadSnapshot({document:d,selectedRange:[0,0]})},v.prototype.loadHTML=function(d){return null==d&&(d=""),this.loadDocument(a.Document.fromHTML(d,{referenceElement:this.element}))},v.prototype.loadJSON=function(d){var h,_;return _=d.selectedRange,h=a.Document.fromJSON(h=d.document),this.loadSnapshot({document:h,selectedRange:_})},v.prototype.loadSnapshot=function(d){return this.undoManager=new a.UndoManager(this.composition),this.composition.loadSnapshot(d)},v.prototype.getDocument=function(){return this.composition.document},v.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},v.prototype.getSnapshot=function(){return this.composition.getSnapshot()},v.prototype.toJSON=function(){return this.getSnapshot()},v.prototype.deleteInDirection=function(d){return this.composition.deleteInDirection(d)},v.prototype.insertAttachment=function(d){return this.composition.insertAttachment(d)},v.prototype.insertAttachments=function(d){return this.composition.insertAttachments(d)},v.prototype.insertDocument=function(d){return this.composition.insertDocument(d)},v.prototype.insertFile=function(d){return this.composition.insertFile(d)},v.prototype.insertFiles=function(d){return this.composition.insertFiles(d)},v.prototype.insertHTML=function(d){return this.composition.insertHTML(d)},v.prototype.insertString=function(d){return this.composition.insertString(d)},v.prototype.insertText=function(d){return this.composition.insertText(d)},v.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},v.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},v.prototype.getPosition=function(){return this.composition.getPosition()},v.prototype.getClientRectAtPosition=function(d){var h;return h=this.getDocument().locationRangeFromRange([d,d+1]),this.selectionManager.getClientRectAtLocationRange(h)},v.prototype.expandSelectionInDirection=function(d){return this.composition.expandSelectionInDirection(d)},v.prototype.moveCursorInDirection=function(d){return this.composition.moveCursorInDirection(d)},v.prototype.setSelectedRange=function(d){return this.composition.setSelectedRange(d)},v.prototype.activateAttribute=function(d,h){return null==h&&(h=!0),this.composition.setCurrentAttribute(d,h)},v.prototype.attributeIsActive=function(d){return this.composition.hasCurrentAttribute(d)},v.prototype.canActivateAttribute=function(d){return this.composition.canSetCurrentAttribute(d)},v.prototype.deactivateAttribute=function(d){return this.composition.removeCurrentAttribute(d)},v.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},v.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},v.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},v.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},v.prototype.canRedo=function(){return this.undoManager.canRedo()},v.prototype.canUndo=function(){return this.undoManager.canUndo()},v.prototype.recordUndoEntry=function(d,h){var E;return this.undoManager.recordUndoEntry(d,{context:(E=null!=h?h:{}).context,consolidatable:E.consolidatable})},v.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},v.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},v}()}.call(this),function(){var v={}.hasOwnProperty;a.ManagedAttachment=function(p){function d(h,_){var e;this.attachmentManager=h,this.attachment=_,this.id=(e=this.attachment).id,this.file=e.file}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},d.proxyMethod("attachment.getAttribute"),d.proxyMethod("attachment.hasAttribute"),d.proxyMethod("attachment.setAttribute"),d.proxyMethod("attachment.getAttributes"),d.proxyMethod("attachment.setAttributes"),d.proxyMethod("attachment.isPending"),d.proxyMethod("attachment.isPreviewable"),d.proxyMethod("attachment.getURL"),d.proxyMethod("attachment.getHref"),d.proxyMethod("attachment.getFilename"),d.proxyMethod("attachment.getFilesize"),d.proxyMethod("attachment.getFormattedFilesize"),d.proxyMethod("attachment.getExtension"),d.proxyMethod("attachment.getContentType"),d.proxyMethod("attachment.getFile"),d.proxyMethod("attachment.setFile"),d.proxyMethod("attachment.releaseFile"),d.proxyMethod("attachment.getUploadProgress"),d.proxyMethod("attachment.setUploadProgress"),d}(a.BasicObject)}.call(this),function(){var v={}.hasOwnProperty;a.AttachmentManager=function(p){function d(h){var e,E;for(null==h&&(h=[]),this.managedAttachments={},e=0,E=h.length;E>e;e++)this.manageAttachment(h[e])}return function(p,d){function h(){this.constructor=p}for(var _ in d)v.call(d,_)&&(p[_]=d[_]);h.prototype=d.prototype,p.prototype=new h,p.__super__=d.prototype}(d,p),d.prototype.getAttachments=function(){var _,e,E;for(_ in E=[],e=this.managedAttachments)E.push(e[_]);return E},d.prototype.manageAttachment=function(h){var _,e;return null!=(_=this.managedAttachments)[e=h.id]?_[e]:_[e]=new a.ManagedAttachment(this,h)},d.prototype.attachmentIsManaged=function(h){return h.id in this.managedAttachments},d.prototype.requestRemovalOfAttachment=function(h){var _;return this.attachmentIsManaged(h)&&null!=(_=this.delegate)&&"function"==typeof _.attachmentManagerDidRequestRemovalOfAttachment?_.attachmentManagerDidRequestRemovalOfAttachment(h):void 0},d.prototype.unmanageAttachment=function(h){var _;return _=this.managedAttachments[h.id],delete this.managedAttachments[h.id],_},d}(a.BasicObject)}.call(this),function(){var u,v,p,d,h,_,e,E,f,y,s;u=a.elementContainsNode,v=a.findChildIndexOfNode,h=a.nodeIsBlockStart,_=a.nodeIsBlockStartComment,d=a.nodeIsBlockContainer,e=a.nodeIsCursorTarget,E=a.nodeIsEmptyTextNode,f=a.nodeIsTextNode,p=a.nodeIsAttachmentElement,y=a.tagName,s=a.walkTree,a.LocationMapper=function(){function C(O){this.element=O}var b,A,I,D;return C.prototype.findLocationFromContainerAndOffset=function(O,S,x){var L,R,G,k,V,ne,$;for(ne=(null!=x?x:{strict:!0}).strict,R=0,G=!1,k={index:0,offset:0},(L=this.findAttachmentElementParentForNode(O))&&(O=L.parentNode,S=v(L)),$=s(this.element,{usingFilter:I});$.nextNode();){if((V=$.currentNode)===O&&f(O)){e(V)||(k.offset+=S);break}if(V.parentNode===O){if(R++===S)break}else if(!u(O,V)&&R>0)break;h(V,{strict:ne})?(G&&k.index++,k.offset=0,G=!0):k.offset+=A(V)}return k},C.prototype.findContainerAndOffsetFromLocation=function(O){var S,x,L,R,G;if(0===O.index&&0===O.offset){for(S=this.element,R=0;S.firstChild;)if(d(S=S.firstChild)){R=1;break}return[S,R]}if(L=(G=this.findNodeAndOffsetFromLocation(O))[1],x=G[0]){if(f(x))0===A(x)?(S=x.parentNode.parentNode,R=v(x.parentNode),e(x,{name:"right"})&&R++):(S=x,R=O.offset-L);else{if(S=x.parentNode,!h(x.previousSibling)&&!d(S))for(;x===S.lastChild&&(x=S,!d(S=S.parentNode)););R=v(x),0!==O.offset&&R++}return[S,R]}},C.prototype.findNodeAndOffsetFromLocation=function(O){var S,x,L,R,G,k,V,ne;for(V=0,x=0,L=(ne=this.getSignificantNodesForIndex(O.index)).length;L>x;x++){if(R=A(S=ne[x]),O.offset<=V+R)if(f(S)){if(G=S,O.offset===(k=V)&&e(G))break}else G||(G=S,k=V);if((V+=R)>O.offset)break}return[G,k]},C.prototype.findAttachmentElementParentForNode=function(O){for(;O&&O!==this.element;){if(p(O))return O;O=O.parentNode}},C.prototype.getSignificantNodesForIndex=function(O){var S,x,L,R,G;for(L=[],G=s(this.element,{usingFilter:b}),R=!1;G.nextNode();)if(_(x=G.currentNode)){if(null!=S?S++:S=0,S===O)R=!0;else if(R)break}else R&&L.push(x);return L},A=function(O){return O.nodeType===Node.TEXT_NODE?e(O)?0:O.textContent.length:"br"===y(O)||p(O)?1:0},b=function(O){return D(O)===NodeFilter.FILTER_ACCEPT?I(O):NodeFilter.FILTER_REJECT},D=function(O){return E(O)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},I=function(O){return p(O.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},C}()}.call(this),function(){var u,v,p=[].slice;u=a.getDOMRange,v=a.setDOMRange,a.PointMapper=function(){function d(){}return d.prototype.createDOMRangeFromPoint=function(h){var _,e,E,f,y,s,C,b;if(C=h.x,b=h.y,document.caretPositionFromPoint)return E=(y=document.caretPositionFromPoint(C,b)).offsetNode,e=y.offset,(_=document.createRange()).setStart(E,e),_;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(C,b);if(document.body.createTextRange){f=u();try{(s=document.body.createTextRange()).moveToPoint(C,b),s.select()}catch(A){}return _=u(),v(f),_}},d.prototype.getClientRectsForDOMRange=function(h){var e;return[(e=p.call(h.getClientRects()))[0],e[e.length-1]]},d}()}.call(this),function(){var u,v=function(_,e){return function(){return _.apply(e,arguments)}},d={}.hasOwnProperty,h=[].indexOf||function(_){for(var e=0,E=this.length;E>e;e++)if(e in this&&this[e]===_)return e;return-1};u=a.getDOMRange,a.SelectionChangeObserver=function(_){function e(){this.run=v(this.run,this),this.update=v(this.update,this),this.selectionManagers=[]}var E;return function(_,e){function E(){this.constructor=_}for(var f in e)d.call(e,f)&&(_[f]=e[f]);E.prototype=e.prototype,_.prototype=new E,_.__super__=e.prototype}(e,_),e.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},e.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},e.prototype.registerSelectionManager=function(f){return h.call(this.selectionManagers,f)<0?(this.selectionManagers.push(f),this.start()):void 0},e.prototype.unregisterSelectionManager=function(f){var y;return this.selectionManagers=function(){var s,C,b,A;for(A=[],s=0,C=(b=this.selectionManagers).length;C>s;s++)(y=b[s])!==f&&A.push(y);return A}.call(this),0===this.selectionManagers.length?this.stop():void 0},e.prototype.notifySelectionManagersOfSelectionChange=function(){var f,y,s,C;for(C=[],f=0,y=(s=this.selectionManagers).length;y>f;f++)C.push(s[f].selectionDidChange());return C},e.prototype.update=function(){var f;return f=u(),E(f,this.domRange)?void 0:(this.domRange=f,this.notifySelectionManagersOfSelectionChange())},e.prototype.reset=function(){return this.domRange=null,this.update()},e.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},E=function(f,y){return(null!=f?f.startContainer:void 0)===(null!=y?y.startContainer:void 0)&&(null!=f?f.startOffset:void 0)===(null!=y?y.startOffset:void 0)&&(null!=f?f.endContainer:void 0)===(null!=y?y.endContainer:void 0)&&(null!=f?f.endOffset:void 0)===(null!=y?y.endOffset:void 0)},e}(a.BasicObject),null==a.selectionChangeObserver&&(a.selectionChangeObserver=new a.SelectionChangeObserver)}.call(this),function(){var u,v,p,d,h,_,e,E,f,y,s=function(A,I){return function(){return A.apply(I,arguments)}},b={}.hasOwnProperty;p=a.getDOMSelection,v=a.getDOMRange,y=a.setDOMRange,u=a.elementContainsNode,_=a.nodeIsCursorTarget,h=a.innerElementIsActive,d=a.handleEvent,e=a.normalizeRange,E=a.rangeIsCollapsed,f=a.rangesAreEqual,a.SelectionManager=function(A){function I(D){this.element=D,this.selectionDidChange=s(this.selectionDidChange,this),this.didMouseDown=s(this.didMouseDown,this),this.locationMapper=new a.LocationMapper(this.element),this.pointMapper=new a.PointMapper,this.lockCount=0,d("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return function(A,I){function D(){this.constructor=A}for(var O in I)b.call(I,O)&&(A[O]=I[O]);D.prototype=I.prototype,A.prototype=new D,A.__super__=I.prototype}(I,A),I.prototype.getLocationRange=function(D){var S;return null==D&&(D={}),!1===D.strict?this.createLocationRangeFromDOMRange(v(),{strict:!1}):D.ignoreLock?this.currentLocationRange:null!=(S=this.lockedLocationRange)?S:this.currentLocationRange},I.prototype.setLocationRange=function(D){var O;if(!this.lockedLocationRange)return D=e(D),(O=this.createDOMRangeFromLocationRange(D))?(y(O),this.updateCurrentLocationRange(D)):void 0},I.prototype.setLocationRangeFromPointRange=function(D){var O,S;return D=e(D),S=this.getLocationAtPoint(D[0]),O=this.getLocationAtPoint(D[1]),this.setLocationRange([S,O])},I.prototype.getClientRectAtLocationRange=function(D){var O;return(O=this.createDOMRangeFromLocationRange(D))?this.getClientRectsForDOMRange(O)[1]:void 0},I.prototype.locationIsCursorTarget=function(D){var x;return x=this.findNodeAndOffsetFromLocation(D),_(x[0])},I.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},I.prototype.unlock=function(){var D;return 0==--this.lockCount&&(D=this.lockedLocationRange,this.lockedLocationRange=null,null!=D)?this.setLocationRange(D):void 0},I.prototype.clearSelection=function(){var D;return null!=(D=p())?D.removeAllRanges():void 0},I.prototype.selectionIsCollapsed=function(){var D;return!0===(null!=(D=v())?D.collapsed:void 0)},I.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},I.prototype.createLocationRangeFromDOMRange=function(D,O){var S,x;if(null!=D&&this.domRangeWithinElement(D)&&(x=this.findLocationFromContainerAndOffset(D.startContainer,D.startOffset,O)))return D.collapsed||(S=this.findLocationFromContainerAndOffset(D.endContainer,D.endOffset,O)),e([x,S])},I.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),I.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),I.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),I.proxyMethod("pointMapper.createDOMRangeFromPoint"),I.proxyMethod("pointMapper.getClientRectsForDOMRange"),I.prototype.didMouseDown=function(){return this.pauseTemporarily()},I.prototype.pauseTemporarily=function(){var O,S,x,L;return this.paused=!0,L=this,O=function(){var G,k;for(L.paused=!1,clearTimeout(x),G=0,k=S.length;k>G;G++)S[G].destroy();return u(document,L.element)?L.selectionDidChange():void 0},x=setTimeout(O,200),S=function(){var L,R,G,k;for(k=[],L=0,R=(G=["mousemove","keydown"]).length;R>L;L++)k.push(d(G[L],{onElement:document,withCallback:O}));return k}()},I.prototype.selectionDidChange=function(){return this.paused||h(this.element)?void 0:this.updateCurrentLocationRange()},I.prototype.updateCurrentLocationRange=function(D){var O;return(null!=D?D:D=this.createLocationRangeFromDOMRange(v()))&&!f(D,this.currentLocationRange)?(this.currentLocationRange=D,null!=(O=this.delegate)&&"function"==typeof O.locationRangeDidChange?O.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},I.prototype.createDOMRangeFromLocationRange=function(D){var O,S,x,L;return x=this.findContainerAndOffsetFromLocation(D[0]),S=E(D)?x:null!=(L=this.findContainerAndOffsetFromLocation(D[1]))?L:x,null!=x&&null!=S?((O=document.createRange()).setStart.apply(O,x),O.setEnd.apply(O,S),O):void 0},I.prototype.getLocationAtPoint=function(D){var O,S;return(O=this.createDOMRangeFromPoint(D))&&null!=(S=this.createLocationRangeFromDOMRange(O))?S[0]:void 0},I.prototype.domRangeWithinElement=function(D){return D.collapsed?u(this.element,D.startContainer):u(this.element,D.startContainer)&&u(this.element,D.endContainer)},I}(a.BasicObject)}.call(this),function(){var u,v,p,d,_={}.hasOwnProperty,e=[].slice;p=a.rangeIsCollapsed,d=a.rangesAreEqual,v=a.objectsAreEqual,u=a.getBlockConfig,a.EditorController=function(E){function f(s){var C,b;this.editorElement=s.editorElement,C=s.document,b=s.html,this.selectionManager=new a.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new a.Composition,this.composition.delegate=this,this.attachmentManager=new a.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new(a["Level"+a.config.input.getLevel()+"InputController"])(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new a.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new a.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new a.Editor(this.composition,this.selectionManager,this.editorElement),null!=C?this.editor.loadDocument(C):this.editor.loadHTML(b)}var y;return function(E,f){function y(){this.constructor=E}for(var s in f)_.call(f,s)&&(E[s]=f[s]);y.prototype=f.prototype,E.prototype=new y,E.__super__=f.prototype}(f,E),f.prototype.registerSelectionManager=function(){return a.selectionChangeObserver.registerSelectionManager(this.selectionManager)},f.prototype.unregisterSelectionManager=function(){return a.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},f.prototype.render=function(){return this.compositionController.render()},f.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},f.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},f.prototype.compositionDidChangeCurrentAttributes=function(s){return this.currentAttributes=s,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},f.prototype.compositionDidPerformInsertionAtRange=function(s){return this.pasting?this.pastedRange=s:void 0},f.prototype.compositionShouldAcceptFile=function(s){return this.notifyEditorElement("file-accept",{file:s})},f.prototype.compositionDidAddAttachment=function(s){var C;return C=this.attachmentManager.manageAttachment(s),this.notifyEditorElement("attachment-add",{attachment:C})},f.prototype.compositionDidEditAttachment=function(s){var C;return this.compositionController.rerenderViewForObject(s),C=this.attachmentManager.manageAttachment(s),this.notifyEditorElement("attachment-edit",{attachment:C}),this.notifyEditorElement("change")},f.prototype.compositionDidChangeAttachmentPreviewURL=function(s){return this.compositionController.invalidateViewForObject(s),this.notifyEditorElement("change")},f.prototype.compositionDidRemoveAttachment=function(s){var C;return C=this.attachmentManager.unmanageAttachment(s),this.notifyEditorElement("attachment-remove",{attachment:C})},f.prototype.compositionDidStartEditingAttachment=function(s,C){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(s),this.compositionController.installAttachmentEditorForAttachment(s,C),this.selectionManager.setLocationRange(this.attachmentLocationRange)},f.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},f.prototype.compositionDidRequestChangingSelectionToLocationRange=function(s){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=s,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},f.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},f.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},f.prototype.getSelectionManager=function(){return this.selectionManager},f.proxyMethod("getSelectionManager().setLocationRange"),f.proxyMethod("getSelectionManager().getLocationRange"),f.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(s){return this.removeAttachment(s)},f.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},f.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},f.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},f.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},f.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},f.prototype.compositionControllerDidSelectAttachment=function(s,C){return this.toolbarController.hideDialog(),this.composition.editAttachment(s,C)},f.prototype.compositionControllerDidRequestDeselectingAttachment=function(s){var C,b;return C=null!=(b=this.attachmentLocationRange)?b:this.composition.document.getLocationRangeOfAttachment(s),this.selectionManager.setLocationRange(C[1])},f.prototype.compositionControllerWillUpdateAttachment=function(s){return this.editor.recordUndoEntry("Edit Attachment",{context:s.id,consolidatable:!0})},f.prototype.compositionControllerDidRequestRemovalOfAttachment=function(s){return this.removeAttachment(s)},f.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},f.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},f.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},f.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},f.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},f.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},f.prototype.inputControllerWillPerformFormatting=function(s){return this.recordFormattingUndoEntry(s)},f.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},f.prototype.inputControllerWillPaste=function(s){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:s})},f.prototype.inputControllerDidPaste=function(s){return s.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:s})},f.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},f.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},f.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},f.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},f.prototype.inputControllerDidReceiveKeyboardCommand=function(s){return this.toolbarController.applyKeyboardCommand(s)},f.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},f.prototype.inputControllerDidReceiveDragOverPoint=function(s){return this.selectionManager.setLocationRangeFromPointRange(s)},f.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},f.prototype.locationRangeDidChange=function(s){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!d(this.attachmentLocationRange,s)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},f.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},f.prototype.toolbarDidInvokeAction=function(s){return this.invokeAction(s)},f.prototype.toolbarDidToggleAttribute=function(s){return this.recordFormattingUndoEntry(s),this.composition.toggleCurrentAttribute(s),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},f.prototype.toolbarDidUpdateAttribute=function(s,C){return this.recordFormattingUndoEntry(s),this.composition.setCurrentAttribute(s,C),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},f.prototype.toolbarDidRemoveAttribute=function(s){return this.recordFormattingUndoEntry(s),this.composition.removeCurrentAttribute(s),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},f.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},f.prototype.toolbarDidShowDialog=function(s){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:s})},f.prototype.toolbarDidHideDialog=function(s){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:s})},f.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},f.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},f.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return a.config.input.pickFiles(this.editor.insertFiles)}}},f.prototype.canInvokeAction=function(s){var C,b;return!!this.actionIsExternal(s)||!!(null!=(C=this.actions[s])&&null!=(b=C.test)?b.call(this):void 0)},f.prototype.invokeAction=function(s){var C,b;return this.actionIsExternal(s)?this.notifyEditorElement("action-invoke",{actionName:s}):null!=(C=this.actions[s])&&null!=(b=C.perform)?b.call(this):void 0},f.prototype.actionIsExternal=function(s){return/^x-./.test(s)},f.prototype.getCurrentActions=function(){var s,C;for(s in C={},this.actions)C[s]=this.canInvokeAction(s);return C},f.prototype.updateCurrentActions=function(){var s;return s=this.getCurrentActions(),v(s,this.currentActions)?void 0:(this.currentActions=s,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},f.prototype.runEditorFilters=function(){var s,b,A,I,D,O,S;for(S=this.composition.getSnapshot(),b=0,A=(I=this.editor.filters).length;A>b;b++)s=S.document,O=S.selectedRange,null==(S=null!=(D=I[b].call(this.editor,S))?D:{}).document&&(S.document=s),null==S.selectedRange&&(S.selectedRange=O);return y(S,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(S)},y=function(s,C){return d(s.selectedRange,C.selectedRange)&&s.document.isEqualTo(C.document)},f.prototype.updateInputElement=function(){var s,C;return s=this.compositionController.getSerializableElement(),C=a.serializeToContentType(s,"text/html"),this.editorElement.setInputElementValue(C)},f.prototype.notifyEditorElement=function(s,C){switch(s){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(s,C)},f.prototype.removeAttachment=function(s){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(s),this.render()},f.prototype.recordFormattingUndoEntry=function(s){var C,b;return C=u(s),b=this.selectionManager.getLocationRange(),C||!p(b)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},f.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},f.prototype.getUndoContext=function(){var s;return s=1<=arguments.length?e.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(e.call(s))},f.prototype.getLocationContext=function(){var s;return s=this.selectionManager.getLocationRange(),p(s)?s[0].index:s},f.prototype.getTimeContext=function(){return a.config.undoInterval>0?Math.floor((new Date).getTime()/a.config.undoInterval):0},f.prototype.isFocused=function(){var s;return this.editorElement===(null!=(s=this.editorElement.ownerDocument)?s.activeElement:void 0)},f.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},f}(a.Controller)}.call(this),function(){var u,p,d,h,_,e,f,y,s,C,b,A,I,D,O,E=[].indexOf||function(f){for(var y=0,s=this.length;s>y;y++)if(y in this&&this[y]===f)return y;return-1};_=a.makeElement,e=a.triggerEvent,d=a.handleEvent,h=a.handleEventOnce,p=a.findClosestElementFromNode,a.registerElement("trix-editor",(I=0,y=function(S){return!document.querySelector(":focus")&&S.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===S?S.focus():void 0},D=function(S){return S.hasAttribute("contenteditable")?void 0:(S.setAttribute("contenteditable",""),h("focus",{onElement:S,withCallback:function(){return s(S)}}))},s=function(S){return b(S),O(S)},b=function(S){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),d("mscontrolselect",{onElement:S,preventDefault:!0})):void 0},O=function(){var S;return!("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)||"div"!==(S=a.config.blockAttributes.default.tagName)&&"p"!==S?void 0:document.execCommand("DefaultParagraphSeparator",!1,S)},f=function(S){return S.hasAttribute("role")?void 0:S.setAttribute("role","textbox")},A=function(S){var x;if(!S.hasAttribute("aria-label")&&!S.hasAttribute("aria-labelledby"))return(x=function(){var L,R;return(R=function(){var k,V,ne,$;for($=[],k=0,V=(ne=S.labels).length;V>k;k++)(L=ne[k]).contains(S)||$.push(L.textContent);return $}().join(" "))?S.setAttribute("aria-label",R):S.removeAttribute("aria-label")})(),d("focus",{onElement:S,withCallback:x})},{defaultCSS:"%t {\n  display: block;\n}\n\n%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n  cursor: text;\n  pointer-events: none;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+(u=a.AttachmentView.attachmentSelector)+" figcaption textarea {\n  resize: none;\n}\n\n%t "+u+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+u+" figcaption[data-trix-placeholder]:empty::before {\n  content: attr(data-trix-placeholder);\n  color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n  display: "+(C=a.browser.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}).display+" !important;\n  width: "+C.width+" !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n  vertical-align: top !important;\n  margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n  vertical-align: bottom !important;\n  margin-right: -1px !important;\n}",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++I),this.trixId)}},labels:{get:function(){var S,x,L;return x=[],this.id&&this.ownerDocument&&x.push.apply(x,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(S=p(this,{matchingSelector:"label"}))&&((L=S.control)===this||null===L)&&x.push(S),x}},toolbarElement:{get:function(){var S,x,L;return this.hasAttribute("toolbar")?null!=(x=this.ownerDocument)?x.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(this.setAttribute("toolbar",L="trix-toolbar-"+this.trixId),S=_("trix-toolbar",{id:L}),this.parentNode.insertBefore(S,this),S):void 0}},inputElement:{get:function(){var S,x,L;return this.hasAttribute("input")?null!=(L=this.ownerDocument)?L.getElementById(this.getAttribute("input")):void 0:this.parentNode?(this.setAttribute("input",x="trix-input-"+this.trixId),S=_("input",{type:"hidden",id:x}),this.parentNode.insertBefore(S,this.nextElementSibling),S):void 0}},editor:{get:function(){var S;return null!=(S=this.editorController)?S.editor:void 0}},name:{get:function(){var S;return null!=(S=this.inputElement)?S.name:void 0}},value:{get:function(){var S;return null!=(S=this.inputElement)?S.value:void 0},set:function(S){var x;return this.defaultValue=S,null!=(x=this.editor)?x.loadHTML(this.defaultValue):void 0}},notify:function(S,x){return this.editorController?e("trix-"+S,{onElement:this,attributes:x}):void 0},setInputElementValue:function(S){var x;return null!=(x=this.inputElement)?x.value=S:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(D(this),f(this),A(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(e("trix-before-initialize",{onElement:this}),this.editorController=new a.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame((S=this,function(){return e("trix-initialize",{onElement:S})}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),y(this));var S},disconnect:function(){var S;return null!=(S=this.editorController)&&S.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(S){var x;if(!S.defaultPrevented&&S.target===(null!=(x=this.inputElement)?x.form:void 0))return this.reset()},clickBubbled:function(S){var x;if(!(S.defaultPrevented||this.contains(S.target)||!(x=p(S.target,{matchingSelector:"label"}))||E.call(this.labels,x)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),ot.exports?ot.exports=a:void 0!==(c="function"==typeof(o=a)?o.call(pe,r,pe,ot):o)&&(ot.exports=c)}.call(this)},9040:(ot,pe,r)=>{"use strict";r.d(pe,{l:()=>c});var o=r(9300);function c(...g){return(0,o.h)(({type:a})=>g.some(u=>u.type===a))}},5631:(ot,pe,r)=>{"use strict";function o(h,_){if("function"==typeof _)return d(h,(...E)=>Object.assign(Object.assign({},_(...E)),{type:h}));switch(_?_._as:"empty"){case"empty":return d(h,()=>({type:h}));case"fsa":return d(h,(E,f)=>E instanceof Error?{error:!0,meta:f,payload:E,type:h}:{error:!1,meta:f,payload:E,type:h});case"payload":return d(h,E=>({payload:E,type:h}));case"props":return d(h,E=>Object.assign(Object.assign({},E),{type:h}));default:throw new Error("Unexpected config.")}}function a(){return{_as:"payload",_p:void 0}}function d(h,_){return Object.defineProperty(_,"type",{value:h,writable:!1})}r.d(pe,{aD:()=>o,xm:()=>a})},5987:(ot,pe,r)=>{"use strict";function d(k,V,ne,$){return new(ne||(ne=Promise))(function(X,de){function fe(dt){try{Ne($.next(dt))}catch(ge){de(ge)}}function We(dt){try{Ne($.throw(dt))}catch(ge){de(ge)}}function Ne(dt){dt.done?X(dt.value):function q(X){return X instanceof ne?X:new ne(function(de){de(X)})}(dt.value).then(fe,We)}Ne(($=$.apply(k,V||[])).next())})}function b(k){return this instanceof b?(this.v=k,this):new b(k)}function A(k,V,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,$=ne.apply(k,V||[]),X=[];return q={},de("next"),de("throw"),de("return"),q[Symbol.asyncIterator]=function(){return this},q;function de(Je){$[Je]&&(q[Je]=function(se){return new Promise(function(Re,pt){X.push([Je,se,Re,pt])>1||fe(Je,se)})})}function fe(Je,se){try{!function We(Je){Je.value instanceof b?Promise.resolve(Je.value.v).then(Ne,dt):ge(X[0][2],Je)}($[Je](se))}catch(Re){ge(X[0][3],Re)}}function Ne(Je){fe("next",Je)}function dt(Je){fe("throw",Je)}function ge(Je,se){Je(se),X.shift(),X.length&&fe(X[0][0],X[0][1])}}function D(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,V=k[Symbol.asyncIterator];return V?V.call(k):(k=function E(k){var V="function"==typeof Symbol&&Symbol.iterator,ne=V&&k[V],$=0;if(ne)return ne.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&$>=k.length&&(k=void 0),{value:k&&k[$++],done:!k}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}(k),ne={},$("next"),$("throw"),$("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function $(X){ne[X]=k[X]&&function(de){return new Promise(function(fe,We){!function q(X,de,fe,We){Promise.resolve(We).then(function(Ne){X({value:Ne,done:fe})},de)}(fe,We,(de=k[X](de)).done,de.value)})}}}r.d(pe,{FC:()=>A,KL:()=>D,mG:()=>d,qq:()=>b})},655:(ot,pe,r)=>{"use strict";function a(k,V){var ne={};for(var $ in k)Object.prototype.hasOwnProperty.call(k,$)&&V.indexOf($)<0&&(ne[$]=k[$]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var q=0;for($=Object.getOwnPropertySymbols(k);q<$.length;q++)V.indexOf($[q])<0&&Object.prototype.propertyIsEnumerable.call(k,$[q])&&(ne[$[q]]=k[$[q]])}return ne}function u(k,V,ne,$){var de,q=arguments.length,X=q<3?V:null===$?$=Object.getOwnPropertyDescriptor(V,ne):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(k,V,ne,$);else for(var fe=k.length-1;fe>=0;fe--)(de=k[fe])&&(X=(q<3?de(X):q>3?de(V,ne,X):de(V,ne))||X);return q>3&&X&&Object.defineProperty(V,ne,X),X}function p(k,V){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,V)}r.d(pe,{_T:()=>a,gn:()=>u,w6:()=>p})},1777:(ot,pe,r)=>{"use strict";r.d(pe,{F4:()=>_,IO:()=>s,LC:()=>c,SB:()=>h,X$:()=>a,ZE:()=>I,ZN:()=>A,_j:()=>o,eR:()=>e,jt:()=>u,k1:()=>D,l3:()=>g,oB:()=>d,pV:()=>f,ru:()=>v,vP:()=>p});class o{}class c{}const g="*";function a(O,S){return{type:7,name:O,definitions:S,options:{}}}function u(O,S=null){return{type:4,styles:S,timings:O}}function v(O,S=null){return{type:3,steps:O,options:S}}function p(O,S=null){return{type:2,steps:O,options:S}}function d(O){return{type:6,styles:O,offset:null}}function h(O,S,x){return{type:0,name:O,styles:S,options:x}}function _(O){return{type:5,steps:O}}function e(O,S,x=null){return{type:1,expr:O,animation:S,options:x}}function f(O=null){return{type:9,options:O}}function s(O,S,x=null){return{type:11,selector:O,animation:S,options:x}}function b(O){Promise.resolve(null).then(O)}class A{constructor(S=0,x=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=S+x}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}onStart(S){this._onStartFns.push(S)}onDone(S){this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){b(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(S=>S()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(S){this._position=this.totalTime?S*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(S){const x="start"==S?this._onStartFns:this._onDoneFns;x.forEach(L=>L()),x.length=0}}class I{constructor(S){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=S;let x=0,L=0,R=0;const G=this.players.length;0==G?b(()=>this._onFinish()):this.players.forEach(k=>{k.onDone(()=>{++x==G&&this._onFinish()}),k.onDestroy(()=>{++L==G&&this._onDestroy()}),k.onStart(()=>{++R==G&&this._onStart()})}),this.totalTime=this.players.reduce((k,V)=>Math.max(k,V.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(S=>S()),this._onDoneFns=[])}init(){this.players.forEach(S=>S.init())}onStart(S){this._onStartFns.push(S)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(S=>S()),this._onStartFns=[])}onDone(S){this._onDoneFns.push(S)}onDestroy(S){this._onDestroyFns.push(S)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(S=>S.play())}pause(){this.players.forEach(S=>S.pause())}restart(){this.players.forEach(S=>S.restart())}finish(){this._onFinish(),this.players.forEach(S=>S.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(S=>S.destroy()),this._onDestroyFns.forEach(S=>S()),this._onDestroyFns=[])}reset(){this.players.forEach(S=>S.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(S){const x=S*this.totalTime;this.players.forEach(L=>{const R=L.totalTime?Math.min(1,x/L.totalTime):1;L.setPosition(R)})}getPosition(){const S=this.players.reduce((x,L)=>null===x||L.totalTime>x.totalTime?L:x,null);return null!=S?S.getPosition():0}beforeDestroy(){this.players.forEach(S=>{S.beforeDestroy&&S.beforeDestroy()})}triggerCallback(S){const x="start"==S?this._onStartFns:this._onDoneFns;x.forEach(L=>L()),x.length=0}}const D="!"},5664:(ot,pe,r)=>{"use strict";r.d(pe,{$s:()=>k,Em:()=>X,Kd:()=>Bt,X6:()=>me,ic:()=>fe,kH:()=>Nt,qV:()=>lt,qm:()=>nt,rt:()=>Be,s1:()=>q,tE:()=>xt,yG:()=>ce});var o=r(9808),c=r(5e3),g=r(925),a=r(7579),u=r(727),v=r(1135),p=r(9646),d=r(1159),h=r(8505),_=r(8372),e=r(9300),E=r(4004),f=r(5698),y=r(5684),s=r(1884),C=r(2722),b=r(3191),A=r(7144);function S(Ce,ke){return(Ce.getAttribute(ke)||"").match(/\S+/g)||[]}const L="cdk-describedby-message",R="cdk-describedby-host";let G=0,k=(()=>{class Ce{constructor(ve,ae){this._platform=ae,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+G++,this._document=ve}describe(ve,ae,K){if(!this._canBeDescribed(ve,ae))return;const Ee=V(ae,K);"string"!=typeof ae?(ne(ae),this._messageRegistry.set(Ee,{messageElement:ae,referenceCount:0})):this._messageRegistry.has(Ee)||this._createMessageElement(ae,K),this._isElementDescribedByMessage(ve,Ee)||this._addMessageReference(ve,Ee)}removeDescription(ve,ae,K){var Ee;if(!ae||!this._isElementNode(ve))return;const he=V(ae,K);if(this._isElementDescribedByMessage(ve,he)&&this._removeMessageReference(ve,he),"string"==typeof ae){const Fe=this._messageRegistry.get(he);Fe&&0===Fe.referenceCount&&this._deleteMessageElement(he)}0===(null===(Ee=this._messagesContainer)||void 0===Ee?void 0:Ee.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var ve;const ae=this._document.querySelectorAll(`[${R}="${this._id}"]`);for(let K=0;K<ae.length;K++)this._removeCdkDescribedByReferenceIds(ae[K]),ae[K].removeAttribute(R);null===(ve=this._messagesContainer)||void 0===ve||ve.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(ve,ae){const K=this._document.createElement("div");ne(K),K.textContent=ve,ae&&K.setAttribute("role",ae),this._createMessagesContainer(),this._messagesContainer.appendChild(K),this._messageRegistry.set(V(ve,ae),{messageElement:K,referenceCount:0})}_deleteMessageElement(ve){var ae,K;null===(K=null===(ae=this._messageRegistry.get(ve))||void 0===ae?void 0:ae.messageElement)||void 0===K||K.remove(),this._messageRegistry.delete(ve)}_createMessagesContainer(){if(this._messagesContainer)return;const ve="cdk-describedby-message-container",ae=this._document.querySelectorAll(`.${ve}[platform="server"]`);for(let Ee=0;Ee<ae.length;Ee++)ae[Ee].remove();const K=this._document.createElement("div");K.style.visibility="hidden",K.classList.add(ve),K.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&K.setAttribute("platform","server"),this._document.body.appendChild(K),this._messagesContainer=K}_removeCdkDescribedByReferenceIds(ve){const ae=S(ve,"aria-describedby").filter(K=>0!=K.indexOf(L));ve.setAttribute("aria-describedby",ae.join(" "))}_addMessageReference(ve,ae){const K=this._messageRegistry.get(ae);(function D(Ce,ke,ve){const ae=S(Ce,ke);ae.some(K=>K.trim()==ve.trim())||(ae.push(ve.trim()),Ce.setAttribute(ke,ae.join(" ")))})(ve,"aria-describedby",K.messageElement.id),ve.setAttribute(R,this._id),K.referenceCount++}_removeMessageReference(ve,ae){const K=this._messageRegistry.get(ae);K.referenceCount--,function O(Ce,ke,ve){const K=S(Ce,ke).filter(Ee=>Ee!=ve.trim());K.length?Ce.setAttribute(ke,K.join(" ")):Ce.removeAttribute(ke)}(ve,"aria-describedby",K.messageElement.id),ve.removeAttribute(R)}_isElementDescribedByMessage(ve,ae){const K=S(ve,"aria-describedby"),Ee=this._messageRegistry.get(ae),he=Ee&&Ee.messageElement.id;return!!he&&-1!=K.indexOf(he)}_canBeDescribed(ve,ae){if(!this._isElementNode(ve))return!1;if(ae&&"object"==typeof ae)return!0;const K=null==ae?"":`${ae}`.trim(),Ee=ve.getAttribute("aria-label");return!(!K||Ee&&Ee.trim()===K)}_isElementNode(ve){return ve.nodeType===this._document.ELEMENT_NODE}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(c.LFG(o.K0),c.LFG(g.t4))},Ce.\u0275prov=c.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function V(Ce,ke){return"string"==typeof Ce?`${ke||""}/${Ce}`:Ce}function ne(Ce){Ce.id||(Ce.id=`${L}-${G++}`)}class ${constructor(ke){this._items=ke,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new a.x,this._typeaheadSubscription=u.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=ve=>ve.disabled,this._pressedLetters=[],this.tabOut=new a.x,this.change=new a.x,ke instanceof c.n_E&&ke.changes.subscribe(ve=>{if(this._activeItem){const K=ve.toArray().indexOf(this._activeItem);K>-1&&K!==this._activeItemIndex&&(this._activeItemIndex=K)}})}skipPredicate(ke){return this._skipPredicateFn=ke,this}withWrap(ke=!0){return this._wrap=ke,this}withVerticalOrientation(ke=!0){return this._vertical=ke,this}withHorizontalOrientation(ke){return this._horizontal=ke,this}withAllowedModifierKeys(ke){return this._allowedModifierKeys=ke,this}withTypeAhead(ke=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,h.b)(ve=>this._pressedLetters.push(ve)),(0,_.b)(ke),(0,e.h)(()=>this._pressedLetters.length>0),(0,E.U)(()=>this._pressedLetters.join(""))).subscribe(ve=>{const ae=this._getItemsArray();for(let K=1;K<ae.length+1;K++){const Ee=(this._activeItemIndex+K)%ae.length,he=ae[Ee];if(!this._skipPredicateFn(he)&&0===he.getLabel().toUpperCase().trim().indexOf(ve)){this.setActiveItem(Ee);break}}this._pressedLetters=[]}),this}withHomeAndEnd(ke=!0){return this._homeAndEnd=ke,this}setActiveItem(ke){const ve=this._activeItem;this.updateActiveItem(ke),this._activeItem!==ve&&this.change.next(this._activeItemIndex)}onKeydown(ke){const ve=ke.keyCode,K=["altKey","ctrlKey","metaKey","shiftKey"].every(Ee=>!ke[Ee]||this._allowedModifierKeys.indexOf(Ee)>-1);switch(ve){case d.Mf:return void this.tabOut.next();case d.JH:if(this._vertical&&K){this.setNextItemActive();break}return;case d.LH:if(this._vertical&&K){this.setPreviousItemActive();break}return;case d.SV:if(this._horizontal&&K){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case d.oh:if(this._horizontal&&K){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case d.Sd:if(this._homeAndEnd&&K){this.setFirstItemActive();break}return;case d.uR:if(this._homeAndEnd&&K){this.setLastItemActive();break}return;default:return void((K||(0,d.Vb)(ke,"shiftKey"))&&(ke.key&&1===ke.key.length?this._letterKeyStream.next(ke.key.toLocaleUpperCase()):(ve>=d.A&&ve<=d.Z||ve>=d.xE&&ve<=d.aO)&&this._letterKeyStream.next(String.fromCharCode(ve))))}this._pressedLetters=[],ke.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ke){const ve=this._getItemsArray(),ae="number"==typeof ke?ke:ve.indexOf(ke),K=ve[ae];this._activeItem=null==K?null:K,this._activeItemIndex=ae}_setActiveItemByDelta(ke){this._wrap?this._setActiveInWrapMode(ke):this._setActiveInDefaultMode(ke)}_setActiveInWrapMode(ke){const ve=this._getItemsArray();for(let ae=1;ae<=ve.length;ae++){const K=(this._activeItemIndex+ke*ae+ve.length)%ve.length;if(!this._skipPredicateFn(ve[K]))return void this.setActiveItem(K)}}_setActiveInDefaultMode(ke){this._setActiveItemByIndex(this._activeItemIndex+ke,ke)}_setActiveItemByIndex(ke,ve){const ae=this._getItemsArray();if(ae[ke]){for(;this._skipPredicateFn(ae[ke]);)if(!ae[ke+=ve])return;this.setActiveItem(ke)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class q extends ${setActiveItem(ke){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ke),this.activeItem&&this.activeItem.setActiveStyles()}}class X extends ${constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ke){return this._origin=ke,this}setActiveItem(ke){super.setActiveItem(ke),this.activeItem&&this.activeItem.focus(this._origin)}}let fe=(()=>{class Ce{constructor(ve){this._platform=ve}isDisabled(ve){return ve.hasAttribute("disabled")}isVisible(ve){return function Ne(Ce){return!!(Ce.offsetWidth||Ce.offsetHeight||"function"==typeof Ce.getClientRects&&Ce.getClientRects().length)}(ve)&&"visible"===getComputedStyle(ve).visibility}isTabbable(ve){if(!this._platform.isBrowser)return!1;const ae=function We(Ce){try{return Ce.frameElement}catch(ke){return null}}(function Se(Ce){return Ce.ownerDocument&&Ce.ownerDocument.defaultView||window}(ve));if(ae&&(-1===ht(ae)||!this.isVisible(ae)))return!1;let K=ve.nodeName.toLowerCase(),Ee=ht(ve);return ve.hasAttribute("contenteditable")?-1!==Ee:!("iframe"===K||"object"===K||this._platform.WEBKIT&&this._platform.IOS&&!function It(Ce){let ke=Ce.nodeName.toLowerCase(),ve="input"===ke&&Ce.type;return"text"===ve||"password"===ve||"select"===ke||"textarea"===ke}(ve))&&("audio"===K?!!ve.hasAttribute("controls")&&-1!==Ee:"video"===K?-1!==Ee&&(null!==Ee||this._platform.FIREFOX||ve.hasAttribute("controls")):ve.tabIndex>=0)}isFocusable(ve,ae){return function De(Ce){return!function ge(Ce){return function se(Ce){return"input"==Ce.nodeName.toLowerCase()}(Ce)&&"hidden"==Ce.type}(Ce)&&(function dt(Ce){let ke=Ce.nodeName.toLowerCase();return"input"===ke||"select"===ke||"button"===ke||"textarea"===ke}(Ce)||function Je(Ce){return function Re(Ce){return"a"==Ce.nodeName.toLowerCase()}(Ce)&&Ce.hasAttribute("href")}(Ce)||Ce.hasAttribute("contenteditable")||pt(Ce))}(ve)&&!this.isDisabled(ve)&&((null==ae?void 0:ae.ignoreVisibility)||this.isVisible(ve))}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(c.LFG(g.t4))},Ce.\u0275prov=c.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function pt(Ce){if(!Ce.hasAttribute("tabindex")||void 0===Ce.tabIndex)return!1;let ke=Ce.getAttribute("tabindex");return!(!ke||isNaN(parseInt(ke,10)))}function ht(Ce){if(!pt(Ce))return null;const ke=parseInt(Ce.getAttribute("tabindex")||"",10);return isNaN(ke)?-1:ke}class Ae{constructor(ke,ve,ae,K,Ee=!1){this._element=ke,this._checker=ve,this._ngZone=ae,this._document=K,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ee||this.attachAnchors()}get enabled(){return this._enabled}set enabled(ke){this._enabled=ke,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ke,this._startAnchor),this._toggleAnchorTabIndex(ke,this._endAnchor))}destroy(){const ke=this._startAnchor,ve=this._endAnchor;ke&&(ke.removeEventListener("focus",this.startAnchorListener),ke.remove()),ve&&(ve.removeEventListener("focus",this.endAnchorListener),ve.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ke){return new Promise(ve=>{this._executeOnStable(()=>ve(this.focusInitialElement(ke)))})}focusFirstTabbableElementWhenReady(ke){return new Promise(ve=>{this._executeOnStable(()=>ve(this.focusFirstTabbableElement(ke)))})}focusLastTabbableElementWhenReady(ke){return new Promise(ve=>{this._executeOnStable(()=>ve(this.focusLastTabbableElement(ke)))})}_getRegionBoundary(ke){const ve=this._element.querySelectorAll(`[cdk-focus-region-${ke}], [cdkFocusRegion${ke}], [cdk-focus-${ke}]`);return"start"==ke?ve.length?ve[0]:this._getFirstTabbableElement(this._element):ve.length?ve[ve.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ke){const ve=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ve){if(!this._checker.isFocusable(ve)){const ae=this._getFirstTabbableElement(ve);return null==ae||ae.focus(ke),!!ae}return ve.focus(ke),!0}return this.focusFirstTabbableElement(ke)}focusFirstTabbableElement(ke){const ve=this._getRegionBoundary("start");return ve&&ve.focus(ke),!!ve}focusLastTabbableElement(ke){const ve=this._getRegionBoundary("end");return ve&&ve.focus(ke),!!ve}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ke){if(this._checker.isFocusable(ke)&&this._checker.isTabbable(ke))return ke;const ve=ke.children;for(let ae=0;ae<ve.length;ae++){const K=ve[ae].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ve[ae]):null;if(K)return K}return null}_getLastTabbableElement(ke){if(this._checker.isFocusable(ke)&&this._checker.isTabbable(ke))return ke;const ve=ke.children;for(let ae=ve.length-1;ae>=0;ae--){const K=ve[ae].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ve[ae]):null;if(K)return K}return null}_createAnchor(){const ke=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ke),ke.classList.add("cdk-visually-hidden"),ke.classList.add("cdk-focus-trap-anchor"),ke.setAttribute("aria-hidden","true"),ke}_toggleAnchorTabIndex(ke,ve){ke?ve.setAttribute("tabindex","0"):ve.removeAttribute("tabindex")}toggleAnchors(ke){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ke,this._startAnchor),this._toggleAnchorTabIndex(ke,this._endAnchor))}_executeOnStable(ke){this._ngZone.isStable?ke():this._ngZone.onStable.pipe((0,f.q)(1)).subscribe(ke)}}let lt=(()=>{class Ce{constructor(ve,ae,K){this._checker=ve,this._ngZone=ae,this._document=K}create(ve,ae=!1){return new Ae(ve,this._checker,this._ngZone,this._document,ae)}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(c.LFG(fe),c.LFG(c.R0b),c.LFG(o.K0))},Ce.\u0275prov=c.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();function me(Ce){return 0===Ce.buttons||0===Ce.offsetX&&0===Ce.offsetY}function ce(Ce){const ke=Ce.touches&&Ce.touches[0]||Ce.changedTouches&&Ce.changedTouches[0];return!(!ke||-1!==ke.identifier||null!=ke.radiusX&&1!==ke.radiusX||null!=ke.radiusY&&1!==ke.radiusY)}const Y=new c.OlP("cdk-input-modality-detector-options"),we={ignoreKeys:[d.zL,d.jx,d.b2,d.MW,d.JU]},Me=(0,g.i$)({passive:!0,capture:!0});let ze=(()=>{class Ce{constructor(ve,ae,K,Ee){this._platform=ve,this._mostRecentTarget=null,this._modality=new v.X(null),this._lastTouchMs=0,this._onKeydown=he=>{var Fe,Xe;(null===(Xe=null===(Fe=this._options)||void 0===Fe?void 0:Fe.ignoreKeys)||void 0===Xe?void 0:Xe.some(_t=>_t===he.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,g.sA)(he))},this._onMousedown=he=>{Date.now()-this._lastTouchMs<650||(this._modality.next(me(he)?"keyboard":"mouse"),this._mostRecentTarget=(0,g.sA)(he))},this._onTouchstart=he=>{ce(he)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,g.sA)(he))},this._options=Object.assign(Object.assign({},we),Ee),this.modalityDetected=this._modality.pipe((0,y.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,s.x)()),ve.isBrowser&&ae.runOutsideAngular(()=>{K.addEventListener("keydown",this._onKeydown,Me),K.addEventListener("mousedown",this._onMousedown,Me),K.addEventListener("touchstart",this._onTouchstart,Me)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Me),document.removeEventListener("mousedown",this._onMousedown,Me),document.removeEventListener("touchstart",this._onTouchstart,Me))}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(c.LFG(g.t4),c.LFG(c.R0b),c.LFG(o.K0),c.LFG(Y,8))},Ce.\u0275prov=c.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();const mt=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function vt(){return null}}),Lt=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Bt=(()=>{class Ce{constructor(ve,ae,K,Ee){this._ngZone=ae,this._defaultOptions=Ee,this._document=K,this._liveElement=ve||this._createLiveElement()}announce(ve,...ae){const K=this._defaultOptions;let Ee,he;return 1===ae.length&&"number"==typeof ae[0]?he=ae[0]:[Ee,he]=ae,this.clear(),clearTimeout(this._previousTimeout),Ee||(Ee=K&&K.politeness?K.politeness:"polite"),null==he&&K&&(he=K.duration),this._liveElement.setAttribute("aria-live",Ee),this._ngZone.runOutsideAngular(()=>new Promise(Fe=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=ve,Fe(),"number"==typeof he&&(this._previousTimeout=setTimeout(()=>this.clear(),he))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var ve;clearTimeout(this._previousTimeout),null===(ve=this._liveElement)||void 0===ve||ve.remove(),this._liveElement=null}_createLiveElement(){const ve="cdk-live-announcer-element",ae=this._document.getElementsByClassName(ve),K=this._document.createElement("div");for(let Ee=0;Ee<ae.length;Ee++)ae[Ee].remove();return K.classList.add(ve),K.classList.add("cdk-visually-hidden"),K.setAttribute("aria-atomic","true"),K.setAttribute("aria-live","polite"),this._document.body.appendChild(K),K}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(c.LFG(mt,8),c.LFG(c.R0b),c.LFG(o.K0),c.LFG(Lt,8))},Ce.\u0275prov=c.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();const Kt=new c.OlP("cdk-focus-monitor-default-options"),gt=(0,g.i$)({passive:!0,capture:!0});let xt=(()=>{class Ce{constructor(ve,ae,K,Ee,he){this._ngZone=ve,this._platform=ae,this._inputModalityDetector=K,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new a.x,this._rootNodeFocusAndBlurListener=Fe=>{const Xe=(0,g.sA)(Fe),_t="focus"===Fe.type?this._onFocus:this._onBlur;for(let zt=Xe;zt;zt=zt.parentElement)_t.call(this,Fe,zt)},this._document=Ee,this._detectionMode=(null==he?void 0:he.detectionMode)||0}monitor(ve,ae=!1){const K=(0,b.fI)(ve);if(!this._platform.isBrowser||1!==K.nodeType)return(0,p.of)(null);const Ee=(0,g.kV)(K)||this._getDocument(),he=this._elementInfo.get(K);if(he)return ae&&(he.checkChildren=!0),he.subject;const Fe={checkChildren:ae,subject:new a.x,rootNode:Ee};return this._elementInfo.set(K,Fe),this._registerGlobalListeners(Fe),Fe.subject}stopMonitoring(ve){const ae=(0,b.fI)(ve),K=this._elementInfo.get(ae);K&&(K.subject.complete(),this._setClasses(ae),this._elementInfo.delete(ae),this._removeGlobalListeners(K))}focusVia(ve,ae,K){const Ee=(0,b.fI)(ve);Ee===this._getDocument().activeElement?this._getClosestElementsInfo(Ee).forEach(([Fe,Xe])=>this._originChanged(Fe,ae,Xe)):(this._setOrigin(ae),"function"==typeof Ee.focus&&Ee.focus(K))}ngOnDestroy(){this._elementInfo.forEach((ve,ae)=>this.stopMonitoring(ae))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ve){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ve)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(ve){return 1===this._detectionMode||!!(null==ve?void 0:ve.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(ve,ae){ve.classList.toggle("cdk-focused",!!ae),ve.classList.toggle("cdk-touch-focused","touch"===ae),ve.classList.toggle("cdk-keyboard-focused","keyboard"===ae),ve.classList.toggle("cdk-mouse-focused","mouse"===ae),ve.classList.toggle("cdk-program-focused","program"===ae)}_setOrigin(ve,ae=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ve,this._originFromTouchInteraction="touch"===ve&&ae,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ve,ae){const K=this._elementInfo.get(ae),Ee=(0,g.sA)(ve);!K||!K.checkChildren&&ae!==Ee||this._originChanged(ae,this._getFocusOrigin(Ee),K)}_onBlur(ve,ae){const K=this._elementInfo.get(ae);!K||K.checkChildren&&ve.relatedTarget instanceof Node&&ae.contains(ve.relatedTarget)||(this._setClasses(ae),this._emitOrigin(K.subject,null))}_emitOrigin(ve,ae){this._ngZone.run(()=>ve.next(ae))}_registerGlobalListeners(ve){if(!this._platform.isBrowser)return;const ae=ve.rootNode,K=this._rootNodeFocusListenerCount.get(ae)||0;K||this._ngZone.runOutsideAngular(()=>{ae.addEventListener("focus",this._rootNodeFocusAndBlurListener,gt),ae.addEventListener("blur",this._rootNodeFocusAndBlurListener,gt)}),this._rootNodeFocusListenerCount.set(ae,K+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,C.R)(this._stopInputModalityDetector)).subscribe(Ee=>{this._setOrigin(Ee,!0)}))}_removeGlobalListeners(ve){const ae=ve.rootNode;if(this._rootNodeFocusListenerCount.has(ae)){const K=this._rootNodeFocusListenerCount.get(ae);K>1?this._rootNodeFocusListenerCount.set(ae,K-1):(ae.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gt),ae.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gt),this._rootNodeFocusListenerCount.delete(ae))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ve,ae,K){this._setClasses(ve,ae),this._emitOrigin(K.subject,ae),this._lastFocusOrigin=ae}_getClosestElementsInfo(ve){const ae=[];return this._elementInfo.forEach((K,Ee)=>{(Ee===ve||K.checkChildren&&Ee.contains(ve))&&ae.push([Ee,K])}),ae}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(c.LFG(c.R0b),c.LFG(g.t4),c.LFG(ze),c.LFG(o.K0,8),c.LFG(Kt,8))},Ce.\u0275prov=c.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})(),Nt=(()=>{class Ce{constructor(ve,ae){this._elementRef=ve,this._focusMonitor=ae,this.cdkFocusChange=new c.vpe}ngAfterViewInit(){const ve=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(ve,1===ve.nodeType&&ve.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ae=>this.cdkFocusChange.emit(ae))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(c.Y36(c.SBq),c.Y36(xt))},Ce.\u0275dir=c.lG2({type:Ce,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),Ce})();const Ke="cdk-high-contrast-black-on-white",Et="cdk-high-contrast-white-on-black",et="cdk-high-contrast-active";let nt=(()=>{class Ce{constructor(ve,ae){this._platform=ve,this._document=ae}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ve=this._document.createElement("div");ve.style.backgroundColor="rgb(1,2,3)",ve.style.position="absolute",this._document.body.appendChild(ve);const ae=this._document.defaultView||window,K=ae&&ae.getComputedStyle?ae.getComputedStyle(ve):null,Ee=(K&&K.backgroundColor||"").replace(/ /g,"");switch(ve.remove(),Ee){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ve=this._document.body.classList;ve.remove(et),ve.remove(Ke),ve.remove(Et),this._hasCheckedHighContrastMode=!0;const ae=this.getHighContrastMode();1===ae?(ve.add(et),ve.add(Ke)):2===ae&&(ve.add(et),ve.add(Et))}}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(c.LFG(g.t4),c.LFG(o.K0))},Ce.\u0275prov=c.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})(),Be=(()=>{class Ce{constructor(ve){ve._applyBodyHighContrastModeCssClasses()}}return Ce.\u0275fac=function(ve){return new(ve||Ce)(c.LFG(nt))},Ce.\u0275mod=c.oAB({type:Ce}),Ce.\u0275inj=c.cJS({imports:[[A.Q8]]}),Ce})()},226:(ot,pe,r)=>{"use strict";r.d(pe,{Is:()=>p,vT:()=>h});var o=r(5e3),c=r(9808);const g=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function a(){return(0,o.f3M)(c.K0)}}),u=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let p=(()=>{class _{constructor(E){if(this.value="ltr",this.change=new o.vpe,E){const y=E.documentElement?E.documentElement.dir:null;this.value=function v(_){const e=(null==_?void 0:_.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?u.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((E.body?E.body.dir:null)||y||"ltr")}}ngOnDestroy(){this.change.complete()}}return _.\u0275fac=function(E){return new(E||_)(o.LFG(g,8))},_.\u0275prov=o.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),h=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=o.oAB({type:_}),_.\u0275inj=o.cJS({}),_})()},9287:(ot,pe,r)=>{"use strict";r.d(pe,{Iq:()=>p,i3:()=>v});var o=r(9808),c=r(5e3);class g{constructor(h,_){this._document=_;const e=this._textarea=this._document.createElement("textarea"),E=e.style;E.position="fixed",E.top=E.opacity="0",E.left="-999em",e.setAttribute("aria-hidden","true"),e.value=h,this._document.body.appendChild(e)}copy(){const h=this._textarea;let _=!1;try{if(h){const e=this._document.activeElement;h.select(),h.setSelectionRange(0,h.value.length),_=this._document.execCommand("copy"),e&&e.focus()}}catch(e){}return _}destroy(){const h=this._textarea;h&&(h.remove(),this._textarea=void 0)}}let a=(()=>{class d{constructor(_){this._document=_}copy(_){const e=this.beginCopy(_),E=e.copy();return e.destroy(),E}beginCopy(_){return new g(_,this._document)}}return d.\u0275fac=function(_){return new(_||d)(c.LFG(o.K0))},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const u=new c.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let v=(()=>{class d{constructor(_,e,E){this._clipboard=_,this._ngZone=e,this.text="",this.attempts=1,this.copied=new c.vpe,this._pending=new Set,E&&null!=E.attempts&&(this.attempts=E.attempts)}copy(_=this.attempts){if(_>1){let e=_;const E=this._clipboard.beginCopy(this.text);this._pending.add(E);const f=()=>{const y=E.copy();y||!--e||this._destroyed?(this._currentTimeout=null,this._pending.delete(E),E.destroy(),this.copied.emit(y)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(f,1))};f()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(_=>_.destroy()),this._pending.clear(),this._destroyed=!0}}return d.\u0275fac=function(_){return new(_||d)(c.Y36(a),c.Y36(c.R0b),c.Y36(u,8))},d.\u0275dir=c.lG2({type:d,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(_,e){1&_&&c.NdJ("click",function(){return e.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),d})(),p=(()=>{class d{}return d.\u0275fac=function(_){return new(_||d)},d.\u0275mod=c.oAB({type:d}),d.\u0275inj=c.cJS({}),d})()},3191:(ot,pe,r)=>{"use strict";r.d(pe,{Eq:()=>u,HM:()=>v,Ig:()=>c,fI:()=>p,su:()=>g});var o=r(5e3);function c(h){return null!=h&&"false"!=`${h}`}function g(h,_=0){return function a(h){return!isNaN(parseFloat(h))&&!isNaN(Number(h))}(h)?Number(h):_}function u(h){return Array.isArray(h)?h:[h]}function v(h){return null==h?"":"string"==typeof h?h:`${h}px`}function p(h){return h instanceof o.SBq?h.nativeElement:h}},449:(ot,pe,r)=>{"use strict";r.d(pe,{A8:()=>_,Ov:()=>d});var o=r(7579),c=r(5e3);class d{constructor(f=!1,y,s=!0){this._multiple=f,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new o.x,y&&y.length&&(f?y.forEach(C=>this._markSelected(C)):this._markSelected(y[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...f){this._verifyValueAssignment(f),f.forEach(y=>this._markSelected(y)),this._emitChangeEvent()}deselect(...f){this._verifyValueAssignment(f),f.forEach(y=>this._unmarkSelected(y)),this._emitChangeEvent()}toggle(f){this.isSelected(f)?this.deselect(f):this.select(f)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(f){return this._selection.has(f)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(f){this._multiple&&this.selected&&this._selected.sort(f)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(f){this.isSelected(f)||(this._multiple||this._unmarkAll(),this._selection.add(f),this._emitChanges&&this._selectedToEmit.push(f))}_unmarkSelected(f){this.isSelected(f)&&(this._selection.delete(f),this._emitChanges&&this._deselectedToEmit.push(f))}_unmarkAll(){this.isEmpty()||this._selection.forEach(f=>this._unmarkSelected(f))}_verifyValueAssignment(f){}}let _=(()=>{class E{constructor(){this._listeners=[]}notify(y,s){for(let C of this._listeners)C(y,s)}listen(y){return this._listeners.push(y),()=>{this._listeners=this._listeners.filter(s=>y!==s)}}ngOnDestroy(){this._listeners=[]}}return E.\u0275fac=function(y){return new(y||E)},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},7405:(ot,pe,r)=>{"use strict";r.d(pe,{Bh:()=>Nt,Hk:()=>Et,Wj:()=>gt,Zt:()=>Ce,_t:()=>ke,bA:()=>Ae});var o=r(5e3),c=r(9808),g=r(925),a=r(3191),u=r(5664),v=r(7579),p=r(727),d=r(7445),h=r(6406),_=r(9751),e=r(6451),E=r(2722),f=r(8675),y=r(4004),s=r(5698),C=r(8505),b=r(3900),A=r(9071),I=r(226);function D(ve,ae,K){for(let Ee in ae)if(ae.hasOwnProperty(Ee)){const he=ae[Ee];he?ve.setProperty(Ee,he,(null==K?void 0:K.has(Ee))?"important":""):ve.removeProperty(Ee)}return ve}function O(ve,ae){const K=ae?"":"none";D(ve.style,{"touch-action":ae?"":"none","-webkit-user-drag":ae?"":"none","-webkit-tap-highlight-color":ae?"":"transparent","user-select":K,"-ms-user-select":K,"-webkit-user-select":K,"-moz-user-select":K})}function S(ve,ae,K){D(ve.style,{position:ae?"":"fixed",top:ae?"":"0",opacity:ae?"":"0",left:ae?"":"-999em"},K)}function x(ve,ae){return ae&&"none"!=ae?ve+" "+ae:ve}function L(ve){const ae=ve.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(ve)*ae}function G(ve,ae){return ve.getPropertyValue(ae).split(",").map(Ee=>Ee.trim())}function k(ve){const ae=ve.getBoundingClientRect();return{top:ae.top,right:ae.right,bottom:ae.bottom,left:ae.left,width:ae.width,height:ae.height,x:ae.x,y:ae.y}}function V(ve,ae,K){const{top:Ee,bottom:he,left:Fe,right:Xe}=ve;return K>=Ee&&K<=he&&ae>=Fe&&ae<=Xe}function ne(ve,ae,K){ve.top+=ae,ve.bottom=ve.top+ve.height,ve.left+=K,ve.right=ve.left+ve.width}function $(ve,ae,K,Ee){const{top:he,right:Fe,bottom:Xe,left:_t,width:zt,height:yt}=ve,at=zt*ae,rt=yt*ae;return Ee>he-rt&&Ee<Xe+rt&&K>_t-at&&K<Fe+at}class q{constructor(ae){this._document=ae,this.positions=new Map}clear(){this.positions.clear()}cache(ae){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),ae.forEach(K=>{this.positions.set(K,{scrollPosition:{top:K.scrollTop,left:K.scrollLeft},clientRect:k(K)})})}handleScroll(ae){const K=(0,g.sA)(ae),Ee=this.positions.get(K);if(!Ee)return null;const he=Ee.scrollPosition;let Fe,Xe;if(K===this._document){const yt=this.getViewportScrollPosition();Fe=yt.top,Xe=yt.left}else Fe=K.scrollTop,Xe=K.scrollLeft;const _t=he.top-Fe,zt=he.left-Xe;return this.positions.forEach((yt,at)=>{yt.clientRect&&K!==at&&K.contains(at)&&ne(yt.clientRect,_t,zt)}),he.top=Fe,he.left=Xe,{top:_t,left:zt}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function X(ve){const ae=ve.cloneNode(!0),K=ae.querySelectorAll("[id]"),Ee=ve.nodeName.toLowerCase();ae.removeAttribute("id");for(let he=0;he<K.length;he++)K[he].removeAttribute("id");return"canvas"===Ee?Ne(ve,ae):("input"===Ee||"select"===Ee||"textarea"===Ee)&&We(ve,ae),de("canvas",ve,ae,Ne),de("input, textarea, select",ve,ae,We),ae}function de(ve,ae,K,Ee){const he=ae.querySelectorAll(ve);if(he.length){const Fe=K.querySelectorAll(ve);for(let Xe=0;Xe<he.length;Xe++)Ee(he[Xe],Fe[Xe])}}let fe=0;function We(ve,ae){"file"!==ae.type&&(ae.value=ve.value),"radio"===ae.type&&ae.name&&(ae.name=`mat-clone-${ae.name}-${fe++}`)}function Ne(ve,ae){const K=ae.getContext("2d");if(K)try{K.drawImage(ve,0,0)}catch(Ee){}}const dt=(0,g.i$)({passive:!0}),ge=(0,g.i$)({passive:!1}),se=new Set(["position"]);class Re{constructor(ae,K,Ee,he,Fe,Xe){this._config=K,this._document=Ee,this._ngZone=he,this._viewportRuler=Fe,this._dragDropRegistry=Xe,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new v.x,this._pointerMoveSubscription=p.w0.EMPTY,this._pointerUpSubscription=p.w0.EMPTY,this._scrollSubscription=p.w0.EMPTY,this._resizeSubscription=p.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new v.x,this.started=new v.x,this.released=new v.x,this.ended=new v.x,this.entered=new v.x,this.exited=new v.x,this.dropped=new v.x,this.moved=this._moveEvents,this._pointerDown=_t=>{if(this.beforeStarted.next(),this._handles.length){const zt=this._getTargetHandle(_t);zt&&!this._disabledHandles.has(zt)&&!this.disabled&&this._initializeDragSequence(zt,_t)}else this.disabled||this._initializeDragSequence(this._rootElement,_t)},this._pointerMove=_t=>{const zt=this._getPointerPositionOnPage(_t);if(!this._hasStartedDragging){if(Math.abs(zt.x-this._pickupPositionOnPage.x)+Math.abs(zt.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Ut=Date.now()>=this._dragStartTime+this._getDragStartDelay(_t),tn=this._dropContainer;if(!Ut)return void this._endDragSequence(_t);(!tn||!tn.isDragging()&&!tn.isReceiving())&&(_t.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(_t)))}return}_t.preventDefault();const yt=this._getConstrainedPointerPosition(zt);if(this._hasMoved=!0,this._lastKnownPointerPosition=zt,this._updatePointerDirectionDelta(yt),this._dropContainer)this._updateActiveDropContainer(yt,zt);else{const at=this._activeTransform;at.x=yt.x-this._pickupPositionOnPage.x+this._passiveTransform.x,at.y=yt.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(at.x,at.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:yt,event:_t,distance:this._getDragDistance(yt),delta:this._pointerDirectionDelta})})},this._pointerUp=_t=>{this._endDragSequence(_t)},this._nativeDragStart=_t=>{if(this._handles.length){const zt=this._getTargetHandle(_t);zt&&!this._disabledHandles.has(zt)&&!this.disabled&&_t.preventDefault()}else this.disabled||_t.preventDefault()},this.withRootElement(ae).withParent(K.parentDragRef||null),this._parentPositions=new q(Ee),Xe.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(ae){const K=(0,a.Ig)(ae);K!==this._disabled&&(this._disabled=K,this._toggleNativeDragInteractions(),this._handles.forEach(Ee=>O(Ee,K)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(ae){this._handles=ae.map(Ee=>(0,a.fI)(Ee)),this._handles.forEach(Ee=>O(Ee,this.disabled)),this._toggleNativeDragInteractions();const K=new Set;return this._disabledHandles.forEach(Ee=>{this._handles.indexOf(Ee)>-1&&K.add(Ee)}),this._disabledHandles=K,this}withPreviewTemplate(ae){return this._previewTemplate=ae,this}withPlaceholderTemplate(ae){return this._placeholderTemplate=ae,this}withRootElement(ae){const K=(0,a.fI)(ae);return K!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{K.addEventListener("mousedown",this._pointerDown,ge),K.addEventListener("touchstart",this._pointerDown,dt),K.addEventListener("dragstart",this._nativeDragStart,ge)}),this._initialTransform=void 0,this._rootElement=K),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(ae){return this._boundaryElement=ae?(0,a.fI)(ae):null,this._resizeSubscription.unsubscribe(),ae&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(ae){return this._parentDragRef=ae,this}dispose(){var ae,K;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(ae=this._rootElement)||void 0===ae||ae.remove()),null===(K=this._anchor)||void 0===K||K.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(ae){!this._disabledHandles.has(ae)&&this._handles.indexOf(ae)>-1&&(this._disabledHandles.add(ae),O(ae,!0))}enableHandle(ae){this._disabledHandles.has(ae)&&(this._disabledHandles.delete(ae),O(ae,this.disabled))}withDirection(ae){return this._direction=ae,this}_withDropContainer(ae){this._dropContainer=ae}getFreeDragPosition(){const ae=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:ae.x,y:ae.y}}setFreeDragPosition(ae){return this._activeTransform={x:0,y:0},this._passiveTransform.x=ae.x,this._passiveTransform.y=ae.y,this._dropContainer||this._applyRootElementTransform(ae.x,ae.y),this}withPreviewContainer(ae){return this._previewContainer=ae,this}_sortFromLastPointerPosition(){const ae=this._lastKnownPointerPosition;ae&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(ae),ae)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var ae,K;null===(ae=this._preview)||void 0===ae||ae.remove(),null===(K=this._previewRef)||void 0===K||K.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var ae,K;null===(ae=this._placeholder)||void 0===ae||ae.remove(),null===(K=this._placeholderRef)||void 0===K||K.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(ae){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(ae),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const K=this._getPointerPositionOnPage(ae);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(K),dropPoint:K})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(ae){It(ae)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const K=this._dropContainer;if(K){const Ee=this._rootElement,he=Ee.parentNode,Fe=this._placeholder=this._createPlaceholderElement(),Xe=this._anchor=this._anchor||this._document.createComment(""),_t=this._getShadowRoot();he.insertBefore(Xe,Ee),this._initialTransform=Ee.style.transform||"",this._preview=this._createPreviewElement(),S(Ee,!1,se),this._document.body.appendChild(he.replaceChild(Fe,Ee)),this._getPreviewInsertionPoint(he,_t).appendChild(this._preview),this.started.next({source:this}),K.start(),this._initialContainer=K,this._initialIndex=K.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(K?K.getScrollableParents():[])}_initializeDragSequence(ae,K){this._parentDragRef&&K.stopPropagation();const Ee=this.isDragging(),he=It(K),Fe=!he&&0!==K.button,Xe=this._rootElement,_t=(0,g.sA)(K),zt=!he&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),yt=he?(0,u.yG)(K):(0,u.X6)(K);if(_t&&_t.draggable&&"mousedown"===K.type&&K.preventDefault(),Ee||Fe||zt||yt)return;if(this._handles.length){const Ct=Xe.style;this._rootElementTapHighlight=Ct.webkitTapHighlightColor||"",Ct.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ct=>this._updateOnScroll(Ct)),this._boundaryElement&&(this._boundaryRect=k(this._boundaryElement));const at=this._previewTemplate;this._pickupPositionInElement=at&&at.template&&!at.matchSize?{x:0,y:0}:this._getPointerPositionInElement(ae,K);const rt=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(K);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:rt.x,y:rt.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,K)}_cleanupDragArtifacts(ae){S(this._rootElement,!0,se),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const K=this._dropContainer,Ee=K.getItemIndex(this),he=this._getPointerPositionOnPage(ae),Fe=this._getDragDistance(he),Xe=K._isOverContainer(he.x,he.y);this.ended.next({source:this,distance:Fe,dropPoint:he}),this.dropped.next({item:this,currentIndex:Ee,previousIndex:this._initialIndex,container:K,previousContainer:this._initialContainer,isPointerOverContainer:Xe,distance:Fe,dropPoint:he}),K.drop(this,Ee,this._initialIndex,this._initialContainer,Xe,Fe,he),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:ae,y:K},{x:Ee,y:he}){let Fe=this._initialContainer._getSiblingContainerFromPosition(this,ae,K);!Fe&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(ae,K)&&(Fe=this._initialContainer),Fe&&Fe!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=Fe,this._dropContainer.enter(this,ae,K,Fe===this._initialContainer&&Fe.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:Fe,currentIndex:Fe.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Ee,he),this._dropContainer._sortItem(this,ae,K,this._pointerDirectionDelta),this._applyPreviewTransform(ae-this._pickupPositionInElement.x,K-this._pickupPositionInElement.y))}_createPreviewElement(){const ae=this._previewTemplate,K=this.previewClass,Ee=ae?ae.template:null;let he;if(Ee&&ae){const Fe=ae.matchSize?this._rootElement.getBoundingClientRect():null,Xe=ae.viewContainer.createEmbeddedView(Ee,ae.context);Xe.detectChanges(),he=De(Xe,this._document),this._previewRef=Xe,ae.matchSize?Se(he,Fe):he.style.transform=pt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const Fe=this._rootElement;he=X(Fe),Se(he,Fe.getBoundingClientRect()),this._initialTransform&&(he.style.transform=this._initialTransform)}return D(he.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},se),O(he,!1),he.classList.add("cdk-drag-preview"),he.setAttribute("dir",this._direction),K&&(Array.isArray(K)?K.forEach(Fe=>he.classList.add(Fe)):he.classList.add(K)),he}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const ae=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(ae.left,ae.top);const K=function R(ve){const ae=getComputedStyle(ve),K=G(ae,"transition-property"),Ee=K.find(_t=>"transform"===_t||"all"===_t);if(!Ee)return 0;const he=K.indexOf(Ee),Fe=G(ae,"transition-duration"),Xe=G(ae,"transition-delay");return L(Fe[he])+L(Xe[he])}(this._preview);return 0===K?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Ee=>{const he=Xe=>{var _t;(!Xe||(0,g.sA)(Xe)===this._preview&&"transform"===Xe.propertyName)&&(null===(_t=this._preview)||void 0===_t||_t.removeEventListener("transitionend",he),Ee(),clearTimeout(Fe))},Fe=setTimeout(he,1.5*K);this._preview.addEventListener("transitionend",he)}))}_createPlaceholderElement(){const ae=this._placeholderTemplate,K=ae?ae.template:null;let Ee;return K?(this._placeholderRef=ae.viewContainer.createEmbeddedView(K,ae.context),this._placeholderRef.detectChanges(),Ee=De(this._placeholderRef,this._document)):Ee=X(this._rootElement),Ee.style.pointerEvents="none",Ee.classList.add("cdk-drag-placeholder"),Ee}_getPointerPositionInElement(ae,K){const Ee=this._rootElement.getBoundingClientRect(),he=ae===this._rootElement?null:ae,Fe=he?he.getBoundingClientRect():Ee,Xe=It(K)?K.targetTouches[0]:K,_t=this._getViewportScrollPosition();return{x:Fe.left-Ee.left+(Xe.pageX-Fe.left-_t.left),y:Fe.top-Ee.top+(Xe.pageY-Fe.top-_t.top)}}_getPointerPositionOnPage(ae){const K=this._getViewportScrollPosition(),Ee=It(ae)?ae.touches[0]||ae.changedTouches[0]||{pageX:0,pageY:0}:ae,he=Ee.pageX-K.left,Fe=Ee.pageY-K.top;if(this._ownerSVGElement){const Xe=this._ownerSVGElement.getScreenCTM();if(Xe){const _t=this._ownerSVGElement.createSVGPoint();return _t.x=he,_t.y=Fe,_t.matrixTransform(Xe.inverse())}}return{x:he,y:Fe}}_getConstrainedPointerPosition(ae){const K=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Ee,y:he}=this.constrainPosition?this.constrainPosition(ae,this):ae;if("x"===this.lockAxis||"x"===K?he=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===K)&&(Ee=this._pickupPositionOnPage.x),this._boundaryRect){const{x:Fe,y:Xe}=this._pickupPositionInElement,_t=this._boundaryRect,{width:zt,height:yt}=this._getPreviewRect(),at=_t.top+Xe,rt=_t.bottom-(yt-Xe);Ee=ht(Ee,_t.left+Fe,_t.right-(zt-Fe)),he=ht(he,at,rt)}return{x:Ee,y:he}}_updatePointerDirectionDelta(ae){const{x:K,y:Ee}=ae,he=this._pointerDirectionDelta,Fe=this._pointerPositionAtLastDirectionChange,Xe=Math.abs(K-Fe.x),_t=Math.abs(Ee-Fe.y);return Xe>this._config.pointerDirectionChangeThreshold&&(he.x=K>Fe.x?1:-1,Fe.x=K),_t>this._config.pointerDirectionChangeThreshold&&(he.y=Ee>Fe.y?1:-1,Fe.y=Ee),he}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const ae=this._handles.length>0||!this.isDragging();ae!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=ae,O(this._rootElement,ae))}_removeRootElementListeners(ae){ae.removeEventListener("mousedown",this._pointerDown,ge),ae.removeEventListener("touchstart",this._pointerDown,dt),ae.removeEventListener("dragstart",this._nativeDragStart,ge)}_applyRootElementTransform(ae,K){const Ee=pt(ae,K),he=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=he.transform&&"none"!=he.transform?he.transform:""),he.transform=x(Ee,this._initialTransform)}_applyPreviewTransform(ae,K){var Ee;const he=(null===(Ee=this._previewTemplate)||void 0===Ee?void 0:Ee.template)?void 0:this._initialTransform,Fe=pt(ae,K);this._preview.style.transform=x(Fe,he)}_getDragDistance(ae){const K=this._pickupPositionOnPage;return K?{x:ae.x-K.x,y:ae.y-K.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:ae,y:K}=this._passiveTransform;if(0===ae&&0===K||this.isDragging()||!this._boundaryElement)return;const Ee=this._boundaryElement.getBoundingClientRect(),he=this._rootElement.getBoundingClientRect();if(0===Ee.width&&0===Ee.height||0===he.width&&0===he.height)return;const Fe=Ee.left-he.left,Xe=he.right-Ee.right,_t=Ee.top-he.top,zt=he.bottom-Ee.bottom;Ee.width>he.width?(Fe>0&&(ae+=Fe),Xe>0&&(ae-=Xe)):ae=0,Ee.height>he.height?(_t>0&&(K+=_t),zt>0&&(K-=zt)):K=0,(ae!==this._passiveTransform.x||K!==this._passiveTransform.y)&&this.setFreeDragPosition({y:K,x:ae})}_getDragStartDelay(ae){const K=this.dragStartDelay;return"number"==typeof K?K:It(ae)?K.touch:K?K.mouse:0}_updateOnScroll(ae){const K=this._parentPositions.handleScroll(ae);if(K){const Ee=(0,g.sA)(ae);this._boundaryRect&&Ee!==this._boundaryElement&&Ee.contains(this._boundaryElement)&&ne(this._boundaryRect,K.top,K.left),this._pickupPositionOnPage.x+=K.left,this._pickupPositionOnPage.y+=K.top,this._dropContainer||(this._activeTransform.x-=K.left,this._activeTransform.y-=K.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var ae;return(null===(ae=this._parentPositions.positions.get(this._document))||void 0===ae?void 0:ae.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,g.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(ae,K){const Ee=this._previewContainer||"global";if("parent"===Ee)return ae;if("global"===Ee){const he=this._document;return K||he.fullscreenElement||he.webkitFullscreenElement||he.mozFullScreenElement||he.msFullscreenElement||he.body}return(0,a.fI)(Ee)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(ae){return this._handles.find(K=>ae.target&&(ae.target===K||K.contains(ae.target)))}}function pt(ve,ae){return`translate3d(${Math.round(ve)}px, ${Math.round(ae)}px, 0)`}function ht(ve,ae,K){return Math.max(ae,Math.min(K,ve))}function It(ve){return"t"===ve.type[0]}function De(ve,ae){const K=ve.rootNodes;if(1===K.length&&K[0].nodeType===ae.ELEMENT_NODE)return K[0];const Ee=ae.createElement("div");return K.forEach(he=>Ee.appendChild(he)),Ee}function Se(ve,ae){ve.style.width=`${ae.width}px`,ve.style.height=`${ae.height}px`,ve.style.transform=pt(ae.left,ae.top)}function Ae(ve,ae,K){const Ee=Rt(ae,ve.length-1),he=Rt(K,ve.length-1);if(Ee===he)return;const Fe=ve[Ee],Xe=he<Ee?-1:1;for(let _t=Ee;_t!==he;_t+=Xe)ve[_t]=ve[_t+Xe];ve[he]=Fe}function Rt(ve,ae){return Math.max(0,Math.min(ae,ve))}class kt{constructor(ae,K,Ee,he,Fe){this._dragDropRegistry=K,this._ngZone=he,this._viewportRuler=Fe,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new v.x,this.entered=new v.x,this.exited=new v.x,this.dropped=new v.x,this.sorted=new v.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=p.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new v.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,d.F)(0,h.Z).pipe((0,E.R)(this._stopScrollTimers)).subscribe(()=>{const Xe=this._scrollNode,_t=this.autoScrollStep;1===this._verticalScrollDirection?Xe.scrollBy(0,-_t):2===this._verticalScrollDirection&&Xe.scrollBy(0,_t),1===this._horizontalScrollDirection?Xe.scrollBy(-_t,0):2===this._horizontalScrollDirection&&Xe.scrollBy(_t,0)})},this.element=(0,a.fI)(ae),this._document=Ee,this.withScrollableParents([this.element]),K.registerDropContainer(this),this._parentPositions=new q(Ee)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(ae,K,Ee,he){let Fe;this._draggingStarted(),null==he?(Fe=this.sortingDisabled?this._draggables.indexOf(ae):-1,-1===Fe&&(Fe=this._getItemIndexFromPointerPosition(ae,K,Ee))):Fe=he;const Xe=this._activeDraggables,_t=Xe.indexOf(ae),zt=ae.getPlaceholderElement();let yt=Xe[Fe];if(yt===ae&&(yt=Xe[Fe+1]),!yt&&(null==Fe||-1===Fe||Fe<Xe.length-1)&&this._shouldEnterAsFirstChild(K,Ee)&&(yt=Xe[0]),_t>-1&&Xe.splice(_t,1),yt&&!this._dragDropRegistry.isDragging(yt)){const at=yt.getRootElement();at.parentElement.insertBefore(zt,at),Xe.splice(Fe,0,ae)}else(0,a.fI)(this.element).appendChild(zt),Xe.push(ae);zt.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:ae,container:this,currentIndex:this.getItemIndex(ae)})}exit(ae){this._reset(),this.exited.next({item:ae,container:this})}drop(ae,K,Ee,he,Fe,Xe,_t){this._reset(),this.dropped.next({item:ae,currentIndex:K,previousIndex:Ee,container:this,previousContainer:he,isPointerOverContainer:Fe,distance:Xe,dropPoint:_t})}withItems(ae){const K=this._draggables;return this._draggables=ae,ae.forEach(Ee=>Ee._withDropContainer(this)),this.isDragging()&&(K.filter(he=>he.isDragging()).every(he=>-1===ae.indexOf(he))?this._reset():this._cacheItems()),this}withDirection(ae){return this._direction=ae,this}connectedTo(ae){return this._siblings=ae.slice(),this}withOrientation(ae){return this._orientation=ae,this}withScrollableParents(ae){const K=(0,a.fI)(this.element);return this._scrollableElements=-1===ae.indexOf(K)?[K,...ae]:ae.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(ae){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Ee=>Ee.drag===ae):this._draggables.indexOf(ae)}isReceiving(){return this._activeSiblings.size>0}_sortItem(ae,K,Ee,he){if(this.sortingDisabled||!this._clientRect||!$(this._clientRect,.05,K,Ee))return;const Fe=this._itemPositions,Xe=this._getItemIndexFromPointerPosition(ae,K,Ee,he);if(-1===Xe&&Fe.length>0)return;const _t="horizontal"===this._orientation,zt=Fe.findIndex(On=>On.drag===ae),yt=Fe[Xe],rt=yt.clientRect,Ct=zt>Xe?1:-1,Ut=this._getItemOffsetPx(Fe[zt].clientRect,rt,Ct),tn=this._getSiblingOffsetPx(zt,Fe,Ct),ln=Fe.slice();Ae(Fe,zt,Xe),this.sorted.next({previousIndex:zt,currentIndex:Xe,container:this,item:ae}),Fe.forEach((On,Gn)=>{if(ln[Gn]===On)return;const pi=On.drag===ae,jn=pi?Ut:tn,yi=pi?ae.getPlaceholderElement():On.drag.getRootElement();On.offset+=jn,_t?(yi.style.transform=x(`translate3d(${Math.round(On.offset)}px, 0, 0)`,On.initialTransform),ne(On.clientRect,0,jn)):(yi.style.transform=x(`translate3d(0, ${Math.round(On.offset)}px, 0)`,On.initialTransform),ne(On.clientRect,jn,0))}),this._previousSwap.overlaps=V(rt,K,Ee),this._previousSwap.drag=yt.drag,this._previousSwap.delta=_t?he.x:he.y}_startScrollingIfNecessary(ae,K){if(this.autoScrollDisabled)return;let Ee,he=0,Fe=0;if(this._parentPositions.positions.forEach((Xe,_t)=>{_t===this._document||!Xe.clientRect||Ee||$(Xe.clientRect,.05,ae,K)&&([he,Fe]=function ce(ve,ae,K,Ee){const he=qe(ae,Ee),Fe=me(ae,K);let Xe=0,_t=0;if(he){const zt=ve.scrollTop;1===he?zt>0&&(Xe=1):ve.scrollHeight-zt>ve.clientHeight&&(Xe=2)}if(Fe){const zt=ve.scrollLeft;1===Fe?zt>0&&(_t=1):ve.scrollWidth-zt>ve.clientWidth&&(_t=2)}return[Xe,_t]}(_t,Xe.clientRect,ae,K),(he||Fe)&&(Ee=_t))}),!he&&!Fe){const{width:Xe,height:_t}=this._viewportRuler.getViewportSize(),zt={width:Xe,height:_t,top:0,right:Xe,bottom:_t,left:0};he=qe(zt,K),Fe=me(zt,ae),Ee=window}Ee&&(he!==this._verticalScrollDirection||Fe!==this._horizontalScrollDirection||Ee!==this._scrollNode)&&(this._verticalScrollDirection=he,this._horizontalScrollDirection=Fe,this._scrollNode=Ee,(he||Fe)&&Ee?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const ae=(0,a.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=ae.msScrollSnapType||ae.scrollSnapType||"",ae.scrollSnapType=ae.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const ae=(0,a.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(ae).clientRect}_cacheItemPositions(){const ae="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(K=>{const Ee=K.getVisibleElement();return{drag:K,offset:0,initialTransform:Ee.style.transform||"",clientRect:k(Ee)}}).sort((K,Ee)=>ae?K.clientRect.left-Ee.clientRect.left:K.clientRect.top-Ee.clientRect.top)}_reset(){this._isDragging=!1;const ae=(0,a.fI)(this.element).style;ae.scrollSnapType=ae.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(K=>{var Ee;const he=K.getRootElement();if(he){const Fe=null===(Ee=this._itemPositions.find(Xe=>Xe.drag===K))||void 0===Ee?void 0:Ee.initialTransform;he.style.transform=Fe||""}}),this._siblings.forEach(K=>K._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(ae,K,Ee){const he="horizontal"===this._orientation,Fe=K[ae].clientRect,Xe=K[ae+-1*Ee];let _t=Fe[he?"width":"height"]*Ee;if(Xe){const zt=he?"left":"top",yt=he?"right":"bottom";-1===Ee?_t-=Xe.clientRect[zt]-Fe[yt]:_t+=Fe[zt]-Xe.clientRect[yt]}return _t}_getItemOffsetPx(ae,K,Ee){const he="horizontal"===this._orientation;let Fe=he?K.left-ae.left:K.top-ae.top;return-1===Ee&&(Fe+=he?K.width-ae.width:K.height-ae.height),Fe}_shouldEnterAsFirstChild(ae,K){if(!this._activeDraggables.length)return!1;const Ee=this._itemPositions,he="horizontal"===this._orientation;if(Ee[0].drag!==this._activeDraggables[0]){const Xe=Ee[Ee.length-1].clientRect;return he?ae>=Xe.right:K>=Xe.bottom}{const Xe=Ee[0].clientRect;return he?ae<=Xe.left:K<=Xe.top}}_getItemIndexFromPointerPosition(ae,K,Ee,he){const Fe="horizontal"===this._orientation,Xe=this._itemPositions.findIndex(({drag:_t,clientRect:zt})=>{if(_t===ae)return!1;if(he){const yt=Fe?he.x:he.y;if(_t===this._previousSwap.drag&&this._previousSwap.overlaps&&yt===this._previousSwap.delta)return!1}return Fe?K>=Math.floor(zt.left)&&K<Math.floor(zt.right):Ee>=Math.floor(zt.top)&&Ee<Math.floor(zt.bottom)});return-1!==Xe&&this.sortPredicate(Xe,ae,this)?Xe:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(ae,K){return null!=this._clientRect&&V(this._clientRect,ae,K)}_getSiblingContainerFromPosition(ae,K,Ee){return this._siblings.find(he=>he._canReceive(ae,K,Ee))}_canReceive(ae,K,Ee){if(!this._clientRect||!V(this._clientRect,K,Ee)||!this.enterPredicate(ae,this))return!1;const he=this._getShadowRoot().elementFromPoint(K,Ee);if(!he)return!1;const Fe=(0,a.fI)(this.element);return he===Fe||Fe.contains(he)}_startReceiving(ae,K){const Ee=this._activeSiblings;!Ee.has(ae)&&K.every(he=>this.enterPredicate(he,this)||this._draggables.indexOf(he)>-1)&&(Ee.add(ae),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(ae){this._activeSiblings.delete(ae),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ae=>{if(this.isDragging()){const K=this._parentPositions.handleScroll(ae);K&&(this._itemPositions.forEach(({clientRect:Ee})=>{ne(Ee,K.top,K.left)}),this._itemPositions.forEach(({drag:Ee})=>{this._dragDropRegistry.isDragging(Ee)&&Ee._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const ae=(0,g.kV)((0,a.fI)(this.element));this._cachedShadowRoot=ae||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const ae=this._activeDraggables.filter(K=>K.isDragging());this._siblings.forEach(K=>K._startReceiving(this,ae))}}function qe(ve,ae){const{top:K,bottom:Ee,height:he}=ve,Fe=.05*he;return ae>=K-Fe&&ae<=K+Fe?1:ae>=Ee-Fe&&ae<=Ee+Fe?2:0}function me(ve,ae){const{left:K,right:Ee,width:he}=ve,Fe=.05*he;return ae>=K-Fe&&ae<=K+Fe?1:ae>=Ee-Fe&&ae<=Ee+Fe?2:0}const Y=(0,g.i$)({passive:!1,capture:!0});let we=(()=>{class ve{constructor(K,Ee){this._ngZone=K,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=he=>he.isDragging(),this.pointerMove=new v.x,this.pointerUp=new v.x,this.scroll=new v.x,this._preventDefaultWhileDragging=he=>{this._activeDragInstances.length>0&&he.preventDefault()},this._persistentTouchmoveListener=he=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&he.preventDefault(),this.pointerMove.next(he))},this._document=Ee}registerDropContainer(K){this._dropInstances.has(K)||this._dropInstances.add(K)}registerDragItem(K){this._dragInstances.add(K),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Y)})}removeDropContainer(K){this._dropInstances.delete(K)}removeDragItem(K){this._dragInstances.delete(K),this.stopDragging(K),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Y)}startDragging(K,Ee){if(!(this._activeDragInstances.indexOf(K)>-1)&&(this._activeDragInstances.push(K),1===this._activeDragInstances.length)){const he=Ee.type.startsWith("touch");this._globalListeners.set(he?"touchend":"mouseup",{handler:Fe=>this.pointerUp.next(Fe),options:!0}).set("scroll",{handler:Fe=>this.scroll.next(Fe),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Y}),he||this._globalListeners.set("mousemove",{handler:Fe=>this.pointerMove.next(Fe),options:Y}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((Fe,Xe)=>{this._document.addEventListener(Xe,Fe.handler,Fe.options)})})}}stopDragging(K){const Ee=this._activeDragInstances.indexOf(K);Ee>-1&&(this._activeDragInstances.splice(Ee,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(K){return this._activeDragInstances.indexOf(K)>-1}scrolled(K){const Ee=[this.scroll];return K&&K!==this._document&&Ee.push(new _.y(he=>this._ngZone.runOutsideAngular(()=>{const Xe=_t=>{this._activeDragInstances.length&&he.next(_t)};return K.addEventListener("scroll",Xe,!0),()=>{K.removeEventListener("scroll",Xe,!0)}}))),(0,e.T)(...Ee)}ngOnDestroy(){this._dragInstances.forEach(K=>this.removeDragItem(K)),this._dropInstances.forEach(K=>this.removeDropContainer(K)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((K,Ee)=>{this._document.removeEventListener(Ee,K.handler,K.options)}),this._globalListeners.clear()}}return ve.\u0275fac=function(K){return new(K||ve)(o.LFG(o.R0b),o.LFG(c.K0))},ve.\u0275prov=o.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();const be={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Me=(()=>{class ve{constructor(K,Ee,he,Fe){this._document=K,this._ngZone=Ee,this._viewportRuler=he,this._dragDropRegistry=Fe}createDrag(K,Ee=be){return new Re(K,Ee,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(K){return new kt(K,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return ve.\u0275fac=function(K){return new(K||ve)(o.LFG(c.K0),o.LFG(o.R0b),o.LFG(A.rL),o.LFG(we))},ve.\u0275prov=o.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();const ze=new o.OlP("CDK_DRAG_PARENT"),mt=new o.OlP("CdkDropListGroup"),Lt=new o.OlP("CDK_DRAG_CONFIG");let an=0;const Kt=new o.OlP("CdkDropList");let gt=(()=>{class ve{constructor(K,Ee,he,Fe,Xe,_t,zt){this.element=K,this._changeDetectorRef=he,this._scrollDispatcher=Fe,this._dir=Xe,this._group=_t,this._destroyed=new v.x,this.connectedTo=[],this.id="cdk-drop-list-"+an++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new o.vpe,this.entered=new o.vpe,this.exited=new o.vpe,this.sorted=new o.vpe,this._unsortedItems=new Set,this._dropListRef=Ee.createDropList(K),this._dropListRef.data=this,zt&&this._assignDefaults(zt),this._dropListRef.enterPredicate=(yt,at)=>this.enterPredicate(yt.data,at.data),this._dropListRef.sortPredicate=(yt,at,rt)=>this.sortPredicate(yt,at.data,rt.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),ve._dropLists.push(this),_t&&_t._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(K){this._dropListRef.disabled=this._disabled=(0,a.Ig)(K)}addItem(K){this._unsortedItems.add(K),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(K){this._unsortedItems.delete(K),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((K,Ee)=>K._dragRef.getVisibleElement().compareDocumentPosition(Ee._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const K=ve._dropLists.indexOf(this);K>-1&&ve._dropLists.splice(K,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(K){this._dir&&this._dir.change.pipe((0,f.O)(this._dir.value),(0,E.R)(this._destroyed)).subscribe(Ee=>K.withDirection(Ee)),K.beforeStarted.subscribe(()=>{const Ee=(0,a.Eq)(this.connectedTo).map(he=>"string"==typeof he?ve._dropLists.find(Xe=>Xe.id===he):he);if(this._group&&this._group._items.forEach(he=>{-1===Ee.indexOf(he)&&Ee.push(he)}),!this._scrollableParentsResolved){const he=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(Fe=>Fe.getElementRef().nativeElement);this._dropListRef.withScrollableParents(he),this._scrollableParentsResolved=!0}K.disabled=this.disabled,K.lockAxis=this.lockAxis,K.sortingDisabled=(0,a.Ig)(this.sortingDisabled),K.autoScrollDisabled=(0,a.Ig)(this.autoScrollDisabled),K.autoScrollStep=(0,a.su)(this.autoScrollStep,2),K.connectedTo(Ee.filter(he=>he&&he!==this).map(he=>he._dropListRef)).withOrientation(this.orientation)})}_handleEvents(K){K.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),K.entered.subscribe(Ee=>{this.entered.emit({container:this,item:Ee.item.data,currentIndex:Ee.currentIndex})}),K.exited.subscribe(Ee=>{this.exited.emit({container:this,item:Ee.item.data}),this._changeDetectorRef.markForCheck()}),K.sorted.subscribe(Ee=>{this.sorted.emit({previousIndex:Ee.previousIndex,currentIndex:Ee.currentIndex,container:this,item:Ee.item.data})}),K.dropped.subscribe(Ee=>{this.dropped.emit({previousIndex:Ee.previousIndex,currentIndex:Ee.currentIndex,previousContainer:Ee.previousContainer.data,container:Ee.container.data,item:Ee.item.data,isPointerOverContainer:Ee.isPointerOverContainer,distance:Ee.distance,dropPoint:Ee.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(K){const{lockAxis:Ee,draggingDisabled:he,sortingDisabled:Fe,listAutoScrollDisabled:Xe,listOrientation:_t}=K;this.disabled=null!=he&&he,this.sortingDisabled=null!=Fe&&Fe,this.autoScrollDisabled=null!=Xe&&Xe,this.orientation=_t||"vertical",Ee&&(this.lockAxis=Ee)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(K=>K._dragRef))}}return ve._dropLists=[],ve.\u0275fac=function(K){return new(K||ve)(o.Y36(o.SBq),o.Y36(Me),o.Y36(o.sBO),o.Y36(A.mF),o.Y36(I.Is,8),o.Y36(mt,12),o.Y36(Lt,8))},ve.\u0275dir=o.lG2({type:ve,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(K,Ee){2&K&&(o.uIk("id",Ee.id),o.ekj("cdk-drop-list-disabled",Ee.disabled)("cdk-drop-list-dragging",Ee._dropListRef.isDragging())("cdk-drop-list-receiving",Ee._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[o._Bn([{provide:mt,useValue:void 0},{provide:Kt,useExisting:ve}])]}),ve})();const xt=new o.OlP("CdkDragHandle");let Nt=(()=>{class ve{constructor(K,Ee){this.element=K,this._stateChanges=new v.x,this._disabled=!1,this._parentDrag=Ee}get disabled(){return this._disabled}set disabled(K){this._disabled=(0,a.Ig)(K),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return ve.\u0275fac=function(K){return new(K||ve)(o.Y36(o.SBq),o.Y36(ze,12))},ve.\u0275dir=o.lG2({type:ve,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[o._Bn([{provide:xt,useExisting:ve}])]}),ve})();const Ke=new o.OlP("CdkDragPlaceholder");let Et=(()=>{class ve{constructor(K){this.templateRef=K}}return ve.\u0275fac=function(K){return new(K||ve)(o.Y36(o.Rgc))},ve.\u0275dir=o.lG2({type:ve,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[o._Bn([{provide:Ke,useExisting:ve}])]}),ve})();const et=new o.OlP("CdkDragPreview");let Ce=(()=>{class ve{constructor(K,Ee,he,Fe,Xe,_t,zt,yt,at,rt,Ct){this.element=K,this.dropContainer=Ee,this._ngZone=Fe,this._viewContainerRef=Xe,this._dir=zt,this._changeDetectorRef=at,this._selfHandle=rt,this._parentDrag=Ct,this._destroyed=new v.x,this.started=new o.vpe,this.released=new o.vpe,this.ended=new o.vpe,this.entered=new o.vpe,this.exited=new o.vpe,this.dropped=new o.vpe,this.moved=new _.y(Ut=>{const tn=this._dragRef.moved.pipe((0,y.U)(ln=>({source:this,pointerPosition:ln.pointerPosition,event:ln.event,delta:ln.delta,distance:ln.distance}))).subscribe(Ut);return()=>{tn.unsubscribe()}}),this._dragRef=yt.createDrag(K,{dragStartThreshold:_t&&null!=_t.dragStartThreshold?_t.dragStartThreshold:5,pointerDirectionChangeThreshold:_t&&null!=_t.pointerDirectionChangeThreshold?_t.pointerDirectionChangeThreshold:5,zIndex:null==_t?void 0:_t.zIndex}),this._dragRef.data=this,ve._dragInstances.push(this),_t&&this._assignDefaults(_t),Ee&&(this._dragRef._withDropContainer(Ee._dropListRef),Ee.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(K){this._disabled=(0,a.Ig)(K),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,s.q)(1),(0,E.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(K){const Ee=K.rootElementSelector,he=K.freeDragPosition;Ee&&!Ee.firstChange&&this._updateRootElement(),he&&!he.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const K=ve._dragInstances.indexOf(this);K>-1&&ve._dragInstances.splice(K,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var K;const Ee=this.element.nativeElement;let he=Ee;this.rootElementSelector&&(he=void 0!==Ee.closest?Ee.closest(this.rootElementSelector):null===(K=Ee.parentElement)||void 0===K?void 0:K.closest(this.rootElementSelector)),this._dragRef.withRootElement(he||Ee)}_getBoundaryElement(){const K=this.boundaryElement;return K?"string"==typeof K?this.element.nativeElement.closest(K):(0,a.fI)(K):null}_syncInputs(K){K.beforeStarted.subscribe(()=>{if(!K.isDragging()){const Ee=this._dir,he=this.dragStartDelay,Fe=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Xe=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;K.disabled=this.disabled,K.lockAxis=this.lockAxis,K.dragStartDelay="object"==typeof he&&he?he:(0,a.su)(he),K.constrainPosition=this.constrainPosition,K.previewClass=this.previewClass,K.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(Fe).withPreviewTemplate(Xe).withPreviewContainer(this.previewContainer||"global"),Ee&&K.withDirection(Ee.value)}}),K.beforeStarted.pipe((0,s.q)(1)).subscribe(()=>{var Ee;if(this._parentDrag)return void K.withParent(this._parentDrag._dragRef);let he=this.element.nativeElement.parentElement;for(;he;){if(he.classList.contains("cdk-drag")){K.withParent((null===(Ee=ve._dragInstances.find(Fe=>Fe.element.nativeElement===he))||void 0===Ee?void 0:Ee._dragRef)||null);break}he=he.parentElement}})}_handleEvents(K){K.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),K.released.subscribe(()=>{this.released.emit({source:this})}),K.ended.subscribe(Ee=>{this.ended.emit({source:this,distance:Ee.distance,dropPoint:Ee.dropPoint}),this._changeDetectorRef.markForCheck()}),K.entered.subscribe(Ee=>{this.entered.emit({container:Ee.container.data,item:this,currentIndex:Ee.currentIndex})}),K.exited.subscribe(Ee=>{this.exited.emit({container:Ee.container.data,item:this})}),K.dropped.subscribe(Ee=>{this.dropped.emit({previousIndex:Ee.previousIndex,currentIndex:Ee.currentIndex,previousContainer:Ee.previousContainer.data,container:Ee.container.data,isPointerOverContainer:Ee.isPointerOverContainer,item:this,distance:Ee.distance,dropPoint:Ee.dropPoint})})}_assignDefaults(K){const{lockAxis:Ee,dragStartDelay:he,constrainPosition:Fe,previewClass:Xe,boundaryElement:_t,draggingDisabled:zt,rootElementSelector:yt,previewContainer:at}=K;this.disabled=null!=zt&&zt,this.dragStartDelay=he||0,Ee&&(this.lockAxis=Ee),Fe&&(this.constrainPosition=Fe),Xe&&(this.previewClass=Xe),_t&&(this.boundaryElement=_t),yt&&(this.rootElementSelector=yt),at&&(this.previewContainer=at)}_setupHandlesListener(){this._handles.changes.pipe((0,f.O)(this._handles),(0,C.b)(K=>{const Ee=K.filter(he=>he._parentDrag===this).map(he=>he.element);this._selfHandle&&this.rootElementSelector&&Ee.push(this.element),this._dragRef.withHandles(Ee)}),(0,b.w)(K=>(0,e.T)(...K.map(Ee=>Ee._stateChanges.pipe((0,f.O)(Ee))))),(0,E.R)(this._destroyed)).subscribe(K=>{const Ee=this._dragRef,he=K.element.nativeElement;K.disabled?Ee.disableHandle(he):Ee.enableHandle(he)})}}return ve._dragInstances=[],ve.\u0275fac=function(K){return new(K||ve)(o.Y36(o.SBq),o.Y36(Kt,12),o.Y36(c.K0),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(Lt,8),o.Y36(I.Is,8),o.Y36(Me),o.Y36(o.sBO),o.Y36(xt,10),o.Y36(ze,12))},ve.\u0275dir=o.lG2({type:ve,selectors:[["","cdkDrag",""]],contentQueries:function(K,Ee,he){if(1&K&&(o.Suo(he,et,5),o.Suo(he,Ke,5),o.Suo(he,xt,5)),2&K){let Fe;o.iGM(Fe=o.CRH())&&(Ee._previewTemplate=Fe.first),o.iGM(Fe=o.CRH())&&(Ee._placeholderTemplate=Fe.first),o.iGM(Fe=o.CRH())&&(Ee._handles=Fe)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(K,Ee){2&K&&o.ekj("cdk-drag-disabled",Ee.disabled)("cdk-drag-dragging",Ee._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[o._Bn([{provide:ze,useExisting:ve}]),o.TTD]}),ve})(),ke=(()=>{class ve{}return ve.\u0275fac=function(K){return new(K||ve)},ve.\u0275mod=o.oAB({type:ve}),ve.\u0275inj=o.cJS({providers:[Me],imports:[A.ZD]}),ve})()},1159:(ot,pe,r)=>{"use strict";r.d(pe,{A:()=>Je,JH:()=>D,JU:()=>v,K5:()=>u,Ku:()=>f,LH:()=>A,L_:()=>E,MW:()=>Bt,Mf:()=>g,OC:()=>$n,SV:()=>I,Sd:()=>C,VM:()=>y,Vb:()=>$t,Z:()=>Lt,ZH:()=>c,aO:()=>fe,b2:()=>ut,hY:()=>e,jx:()=>p,oh:()=>b,uR:()=>s,xE:()=>R,yY:()=>L,zL:()=>d});const c=8,g=9,u=13,v=16,p=17,d=18,e=27,E=32,f=33,y=34,s=35,C=36,b=37,A=38,I=39,D=40,L=46,R=48,fe=57,Je=65,Lt=90,Bt=91,$n=188,ut=224;function $t(Ie,...oe){return oe.length?oe.some(Qe=>Ie[Qe]):Ie.altKey||Ie.shiftKey||Ie.ctrlKey||Ie.metaKey}},5113:(ot,pe,r)=>{"use strict";r.d(pe,{Yg:()=>D,u3:()=>S,vx:()=>b});var o=r(5e3),c=r(3191),g=r(7579),a=r(9841),u=r(7272),v=r(9751),p=r(5698),d=r(5684),h=r(8372),_=r(4004),e=r(8675),E=r(2722),f=r(925);const s=new Set;let C,b=(()=>{class x{constructor(R){this._platform=R,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):I}matchMedia(R){return(this._platform.WEBKIT||this._platform.BLINK)&&function A(x){if(!s.has(x))try{C||(C=document.createElement("style"),C.setAttribute("type","text/css"),document.head.appendChild(C)),C.sheet&&(C.sheet.insertRule(`@media ${x} {body{ }}`,0),s.add(x))}catch(L){console.error(L)}}(R),this._matchMedia(R)}}return x.\u0275fac=function(R){return new(R||x)(o.LFG(f.t4))},x.\u0275prov=o.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function I(x){return{matches:"all"===x||""===x,media:x,addListener:()=>{},removeListener:()=>{}}}let D=(()=>{class x{constructor(R,G){this._mediaMatcher=R,this._zone=G,this._queries=new Map,this._destroySubject=new g.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(R){return O((0,c.Eq)(R)).some(k=>this._registerQuery(k).mql.matches)}observe(R){const k=O((0,c.Eq)(R)).map(ne=>this._registerQuery(ne).observable);let V=(0,a.a)(k);return V=(0,u.z)(V.pipe((0,p.q)(1)),V.pipe((0,d.T)(1),(0,h.b)(0))),V.pipe((0,_.U)(ne=>{const $={matches:!1,breakpoints:{}};return ne.forEach(({matches:q,query:X})=>{$.matches=$.matches||q,$.breakpoints[X]=q}),$}))}_registerQuery(R){if(this._queries.has(R))return this._queries.get(R);const G=this._mediaMatcher.matchMedia(R),V={observable:new v.y(ne=>{const $=q=>this._zone.run(()=>ne.next(q));return G.addListener($),()=>{G.removeListener($)}}).pipe((0,e.O)(G),(0,_.U)(({matches:ne})=>({query:R,matches:ne})),(0,E.R)(this._destroySubject)),mql:G};return this._queries.set(R,V),V}}return x.\u0275fac=function(R){return new(R||x)(o.LFG(b),o.LFG(o.R0b))},x.\u0275prov=o.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function O(x){return x.map(L=>L.split(",")).reduce((L,R)=>L.concat(R)).map(L=>L.trim())}const S={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7144:(ot,pe,r)=>{"use strict";r.d(pe,{Q8:()=>h,wD:()=>d});var o=r(3191),c=r(5e3),g=r(9751),a=r(7579),u=r(8372);let v=(()=>{class _{create(E){return"undefined"==typeof MutationObserver?null:new MutationObserver(E)}}return _.\u0275fac=function(E){return new(E||_)},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),p=(()=>{class _{constructor(E){this._mutationObserverFactory=E,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((E,f)=>this._cleanupObserver(f))}observe(E){const f=(0,o.fI)(E);return new g.y(y=>{const C=this._observeElement(f).subscribe(y);return()=>{C.unsubscribe(),this._unobserveElement(f)}})}_observeElement(E){if(this._observedElements.has(E))this._observedElements.get(E).count++;else{const f=new a.x,y=this._mutationObserverFactory.create(s=>f.next(s));y&&y.observe(E,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(E,{observer:y,stream:f,count:1})}return this._observedElements.get(E).stream}_unobserveElement(E){this._observedElements.has(E)&&(this._observedElements.get(E).count--,this._observedElements.get(E).count||this._cleanupObserver(E))}_cleanupObserver(E){if(this._observedElements.has(E)){const{observer:f,stream:y}=this._observedElements.get(E);f&&f.disconnect(),y.complete(),this._observedElements.delete(E)}}}return _.\u0275fac=function(E){return new(E||_)(c.LFG(v))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),d=(()=>{class _{constructor(E,f,y){this._contentObserver=E,this._elementRef=f,this._ngZone=y,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(E){this._disabled=(0,o.Ig)(E),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(E){this._debounce=(0,o.su)(E),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const E=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?E.pipe((0,u.b)(this.debounce)):E).subscribe(this.event)})}_unsubscribe(){var E;null===(E=this._currentSubscription)||void 0===E||E.unsubscribe()}}return _.\u0275fac=function(E){return new(E||_)(c.Y36(p),c.Y36(c.SBq),c.Y36(c.R0b))},_.\u0275dir=c.lG2({type:_,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),_})(),h=(()=>{class _{}return _.\u0275fac=function(E){return new(E||_)},_.\u0275mod=c.oAB({type:_}),_.\u0275inj=c.cJS({providers:[v]}),_})()},1314:(ot,pe,r)=>{"use strict";r.d(pe,{RZ:()=>I,U8:()=>Xt,X_:()=>L,Xj:()=>q,aV:()=>De,pI:()=>Ze,xu:()=>lt});var o=r(9071),c=r(9808),g=r(5e3),a=r(3191),u=r(925),v=r(226),p=r(7429),d=r(7579),h=r(727),_=r(6451),e=r(5698),E=r(2722),f=r(2529),y=r(1159);const s=(0,u.Mq)();class C{constructor(me,ce){this._viewportRuler=me,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ce}attach(){}enable(){if(this._canBeEnabled()){const me=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=me.style.left||"",this._previousHTMLStyles.top=me.style.top||"",me.style.left=(0,a.HM)(-this._previousScrollPosition.left),me.style.top=(0,a.HM)(-this._previousScrollPosition.top),me.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const me=this._document.documentElement,Y=me.style,we=this._document.body.style,be=Y.scrollBehavior||"",Me=we.scrollBehavior||"";this._isEnabled=!1,Y.left=this._previousHTMLStyles.left,Y.top=this._previousHTMLStyles.top,me.classList.remove("cdk-global-scrollblock"),s&&(Y.scrollBehavior=we.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),s&&(Y.scrollBehavior=be,we.scrollBehavior=Me)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ce=this._document.body,Y=this._viewportRuler.getViewportSize();return ce.scrollHeight>Y.height||ce.scrollWidth>Y.width}}class A{constructor(me,ce,Y,we){this._scrollDispatcher=me,this._ngZone=ce,this._viewportRuler=Y,this._config=we,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(me){this._overlayRef=me}enable(){if(this._scrollSubscription)return;const me=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=me.subscribe(()=>{const ce=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ce-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=me.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class I{enable(){}disable(){}attach(){}}function D(qe,me){return me.some(ce=>qe.bottom<ce.top||qe.top>ce.bottom||qe.right<ce.left||qe.left>ce.right)}function O(qe,me){return me.some(ce=>qe.top<ce.top||qe.bottom>ce.bottom||qe.left<ce.left||qe.right>ce.right)}class S{constructor(me,ce,Y,we){this._scrollDispatcher=me,this._viewportRuler=ce,this._ngZone=Y,this._config=we,this._scrollSubscription=null}attach(me){this._overlayRef=me}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ce=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Y,height:we}=this._viewportRuler.getViewportSize();D(ce,[{width:Y,height:we,bottom:we,right:Y,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let x=(()=>{class qe{constructor(ce,Y,we,be){this._scrollDispatcher=ce,this._viewportRuler=Y,this._ngZone=we,this.noop=()=>new I,this.close=Me=>new A(this._scrollDispatcher,this._ngZone,this._viewportRuler,Me),this.block=()=>new C(this._viewportRuler,this._document),this.reposition=Me=>new S(this._scrollDispatcher,this._viewportRuler,this._ngZone,Me),this._document=be}}return qe.\u0275fac=function(ce){return new(ce||qe)(g.LFG(o.mF),g.LFG(o.rL),g.LFG(g.R0b),g.LFG(c.K0))},qe.\u0275prov=g.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();class L{constructor(me){if(this.scrollStrategy=new I,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,me){const ce=Object.keys(me);for(const Y of ce)void 0!==me[Y]&&(this[Y]=me[Y])}}}class k{constructor(me,ce){this.connectionPair=me,this.scrollableViewProperties=ce}}class ${constructor(me,ce,Y,we,be,Me,ze,mt,vt){this._portalOutlet=me,this._host=ce,this._pane=Y,this._config=we,this._ngZone=be,this._keyboardDispatcher=Me,this._document=ze,this._location=mt,this._outsideClickDispatcher=vt,this._backdropElement=null,this._backdropClick=new d.x,this._attachments=new d.x,this._detachments=new d.x,this._locationChanges=h.w0.EMPTY,this._backdropClickHandler=Lt=>this._backdropClick.next(Lt),this._backdropTransitionendHandler=Lt=>{this._disposeBackdrop(Lt.target)},this._keydownEvents=new d.x,this._outsidePointerEvents=new d.x,we.scrollStrategy&&(this._scrollStrategy=we.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=we.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(me){let ce=this._portalOutlet.attach(me);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,e.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),ce}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const me=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),me}dispose(){var me;const ce=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(me=this._host)||void 0===me||me.remove(),this._previousHostParent=this._pane=this._host=null,ce&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(me){me!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=me,this.hasAttached()&&(me.attach(this),this.updatePosition()))}updateSize(me){this._config=Object.assign(Object.assign({},this._config),me),this._updateElementSize()}setDirection(me){this._config=Object.assign(Object.assign({},this._config),{direction:me}),this._updateElementDirection()}addPanelClass(me){this._pane&&this._toggleClasses(this._pane,me,!0)}removePanelClass(me){this._pane&&this._toggleClasses(this._pane,me,!1)}getDirection(){const me=this._config.direction;return me?"string"==typeof me?me:me.value:"ltr"}updateScrollStrategy(me){me!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=me,this.hasAttached()&&(me.attach(this),me.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const me=this._pane.style;me.width=(0,a.HM)(this._config.width),me.height=(0,a.HM)(this._config.height),me.minWidth=(0,a.HM)(this._config.minWidth),me.minHeight=(0,a.HM)(this._config.minHeight),me.maxWidth=(0,a.HM)(this._config.maxWidth),me.maxHeight=(0,a.HM)(this._config.maxHeight)}_togglePointerEvents(me){this._pane.style.pointerEvents=me?"":"none"}_attachBackdrop(){const me="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(me)})}):this._backdropElement.classList.add(me)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const me=this._backdropElement;!me||(me.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{me.addEventListener("transitionend",this._backdropTransitionendHandler)}),me.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(me)},500)))}_toggleClasses(me,ce,Y){const we=(0,a.Eq)(ce||[]).filter(be=>!!be);we.length&&(Y?me.classList.add(...we):me.classList.remove(...we))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const me=this._ngZone.onStable.pipe((0,E.R)((0,_.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),me.unsubscribe())})})}_disposeScrollStrategy(){const me=this._scrollStrategy;me&&(me.disable(),me.detach&&me.detach())}_disposeBackdrop(me){me&&(me.removeEventListener("click",this._backdropClickHandler),me.removeEventListener("transitionend",this._backdropTransitionendHandler),me.remove(),this._backdropElement===me&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let q=(()=>{class qe{constructor(ce,Y){this._platform=Y,this._document=ce}ngOnDestroy(){var ce;null===(ce=this._containerElement)||void 0===ce||ce.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ce="cdk-overlay-container";if(this._platform.isBrowser||(0,u.Oy)()){const we=this._document.querySelectorAll(`.${ce}[platform="server"], .${ce}[platform="test"]`);for(let be=0;be<we.length;be++)we[be].remove()}const Y=this._document.createElement("div");Y.classList.add(ce),(0,u.Oy)()?Y.setAttribute("platform","test"):this._platform.isBrowser||Y.setAttribute("platform","server"),this._document.body.appendChild(Y),this._containerElement=Y}}return qe.\u0275fac=function(ce){return new(ce||qe)(g.LFG(c.K0),g.LFG(u.t4))},qe.\u0275prov=g.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();const X="cdk-overlay-connected-position-bounding-box",de=/([A-Za-z%]+)$/;class fe{constructor(me,ce,Y,we,be){this._viewportRuler=ce,this._document=Y,this._platform=we,this._overlayContainer=be,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new d.x,this._resizeSubscription=h.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(me)}get positions(){return this._preferredPositions}attach(me){this._validatePositions(),me.hostElement.classList.add(X),this._overlayRef=me,this._boundingBox=me.hostElement,this._pane=me.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const me=this._originRect,ce=this._overlayRect,Y=this._viewportRect,we=this._containerRect,be=[];let Me;for(let ze of this._preferredPositions){let mt=this._getOriginPoint(me,we,ze),vt=this._getOverlayPoint(mt,ce,ze),Lt=this._getOverlayFit(vt,ce,Y,ze);if(Lt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ze,mt);this._canFitWithFlexibleDimensions(Lt,vt,Y)?be.push({position:ze,origin:mt,overlayRect:ce,boundingBoxRect:this._calculateBoundingBoxRect(mt,ze)}):(!Me||Me.overlayFit.visibleArea<Lt.visibleArea)&&(Me={overlayFit:Lt,overlayPoint:vt,originPoint:mt,position:ze,overlayRect:ce})}if(be.length){let ze=null,mt=-1;for(const vt of be){const Lt=vt.boundingBoxRect.width*vt.boundingBoxRect.height*(vt.position.weight||1);Lt>mt&&(mt=Lt,ze=vt)}return this._isPushed=!1,void this._applyPosition(ze.position,ze.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Me.position,Me.originPoint);this._applyPosition(Me.position,Me.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&We(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(X),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const me=this._lastPosition;if(me){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ce=this._getOriginPoint(this._originRect,this._containerRect,me);this._applyPosition(me,ce)}else this.apply()}withScrollableContainers(me){return this._scrollables=me,this}withPositions(me){return this._preferredPositions=me,-1===me.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(me){return this._viewportMargin=me,this}withFlexibleDimensions(me=!0){return this._hasFlexibleDimensions=me,this}withGrowAfterOpen(me=!0){return this._growAfterOpen=me,this}withPush(me=!0){return this._canPush=me,this}withLockedPosition(me=!0){return this._positionLocked=me,this}setOrigin(me){return this._origin=me,this}withDefaultOffsetX(me){return this._offsetX=me,this}withDefaultOffsetY(me){return this._offsetY=me,this}withTransformOriginOn(me){return this._transformOriginSelector=me,this}_getOriginPoint(me,ce,Y){let we,be;if("center"==Y.originX)we=me.left+me.width/2;else{const Me=this._isRtl()?me.right:me.left,ze=this._isRtl()?me.left:me.right;we="start"==Y.originX?Me:ze}return ce.left<0&&(we-=ce.left),be="center"==Y.originY?me.top+me.height/2:"top"==Y.originY?me.top:me.bottom,ce.top<0&&(be-=ce.top),{x:we,y:be}}_getOverlayPoint(me,ce,Y){let we,be;return we="center"==Y.overlayX?-ce.width/2:"start"===Y.overlayX?this._isRtl()?-ce.width:0:this._isRtl()?0:-ce.width,be="center"==Y.overlayY?-ce.height/2:"top"==Y.overlayY?0:-ce.height,{x:me.x+we,y:me.y+be}}_getOverlayFit(me,ce,Y,we){const be=dt(ce);let{x:Me,y:ze}=me,mt=this._getOffset(we,"x"),vt=this._getOffset(we,"y");mt&&(Me+=mt),vt&&(ze+=vt);let an=0-ze,Kt=ze+be.height-Y.height,gt=this._subtractOverflows(be.width,0-Me,Me+be.width-Y.width),xt=this._subtractOverflows(be.height,an,Kt),Nt=gt*xt;return{visibleArea:Nt,isCompletelyWithinViewport:be.width*be.height===Nt,fitsInViewportVertically:xt===be.height,fitsInViewportHorizontally:gt==be.width}}_canFitWithFlexibleDimensions(me,ce,Y){if(this._hasFlexibleDimensions){const we=Y.bottom-ce.y,be=Y.right-ce.x,Me=Ne(this._overlayRef.getConfig().minHeight),ze=Ne(this._overlayRef.getConfig().minWidth),vt=me.fitsInViewportHorizontally||null!=ze&&ze<=be;return(me.fitsInViewportVertically||null!=Me&&Me<=we)&&vt}return!1}_pushOverlayOnScreen(me,ce,Y){if(this._previousPushAmount&&this._positionLocked)return{x:me.x+this._previousPushAmount.x,y:me.y+this._previousPushAmount.y};const we=dt(ce),be=this._viewportRect,Me=Math.max(me.x+we.width-be.width,0),ze=Math.max(me.y+we.height-be.height,0),mt=Math.max(be.top-Y.top-me.y,0),vt=Math.max(be.left-Y.left-me.x,0);let Lt=0,Bt=0;return Lt=we.width<=be.width?vt||-Me:me.x<this._viewportMargin?be.left-Y.left-me.x:0,Bt=we.height<=be.height?mt||-ze:me.y<this._viewportMargin?be.top-Y.top-me.y:0,this._previousPushAmount={x:Lt,y:Bt},{x:me.x+Lt,y:me.y+Bt}}_applyPosition(me,ce){if(this._setTransformOrigin(me),this._setOverlayElementStyles(ce,me),this._setBoundingBoxStyles(ce,me),me.panelClass&&this._addPanelClasses(me.panelClass),this._lastPosition=me,this._positionChanges.observers.length){const Y=this._getScrollVisibility(),we=new k(me,Y);this._positionChanges.next(we)}this._isInitialRender=!1}_setTransformOrigin(me){if(!this._transformOriginSelector)return;const ce=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Y,we=me.overlayY;Y="center"===me.overlayX?"center":this._isRtl()?"start"===me.overlayX?"right":"left":"start"===me.overlayX?"left":"right";for(let be=0;be<ce.length;be++)ce[be].style.transformOrigin=`${Y} ${we}`}_calculateBoundingBoxRect(me,ce){const Y=this._viewportRect,we=this._isRtl();let be,Me,ze,Lt,Bt,an;if("top"===ce.overlayY)Me=me.y,be=Y.height-Me+this._viewportMargin;else if("bottom"===ce.overlayY)ze=Y.height-me.y+2*this._viewportMargin,be=Y.height-ze+this._viewportMargin;else{const Kt=Math.min(Y.bottom-me.y+Y.top,me.y),gt=this._lastBoundingBoxSize.height;be=2*Kt,Me=me.y-Kt,be>gt&&!this._isInitialRender&&!this._growAfterOpen&&(Me=me.y-gt/2)}if("end"===ce.overlayX&&!we||"start"===ce.overlayX&&we)an=Y.width-me.x+this._viewportMargin,Lt=me.x-this._viewportMargin;else if("start"===ce.overlayX&&!we||"end"===ce.overlayX&&we)Bt=me.x,Lt=Y.right-me.x;else{const Kt=Math.min(Y.right-me.x+Y.left,me.x),gt=this._lastBoundingBoxSize.width;Lt=2*Kt,Bt=me.x-Kt,Lt>gt&&!this._isInitialRender&&!this._growAfterOpen&&(Bt=me.x-gt/2)}return{top:Me,left:Bt,bottom:ze,right:an,width:Lt,height:be}}_setBoundingBoxStyles(me,ce){const Y=this._calculateBoundingBoxRect(me,ce);!this._isInitialRender&&!this._growAfterOpen&&(Y.height=Math.min(Y.height,this._lastBoundingBoxSize.height),Y.width=Math.min(Y.width,this._lastBoundingBoxSize.width));const we={};if(this._hasExactPosition())we.top=we.left="0",we.bottom=we.right=we.maxHeight=we.maxWidth="",we.width=we.height="100%";else{const be=this._overlayRef.getConfig().maxHeight,Me=this._overlayRef.getConfig().maxWidth;we.height=(0,a.HM)(Y.height),we.top=(0,a.HM)(Y.top),we.bottom=(0,a.HM)(Y.bottom),we.width=(0,a.HM)(Y.width),we.left=(0,a.HM)(Y.left),we.right=(0,a.HM)(Y.right),we.alignItems="center"===ce.overlayX?"center":"end"===ce.overlayX?"flex-end":"flex-start",we.justifyContent="center"===ce.overlayY?"center":"bottom"===ce.overlayY?"flex-end":"flex-start",be&&(we.maxHeight=(0,a.HM)(be)),Me&&(we.maxWidth=(0,a.HM)(Me))}this._lastBoundingBoxSize=Y,We(this._boundingBox.style,we)}_resetBoundingBoxStyles(){We(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){We(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(me,ce){const Y={},we=this._hasExactPosition(),be=this._hasFlexibleDimensions,Me=this._overlayRef.getConfig();if(we){const Lt=this._viewportRuler.getViewportScrollPosition();We(Y,this._getExactOverlayY(ce,me,Lt)),We(Y,this._getExactOverlayX(ce,me,Lt))}else Y.position="static";let ze="",mt=this._getOffset(ce,"x"),vt=this._getOffset(ce,"y");mt&&(ze+=`translateX(${mt}px) `),vt&&(ze+=`translateY(${vt}px)`),Y.transform=ze.trim(),Me.maxHeight&&(we?Y.maxHeight=(0,a.HM)(Me.maxHeight):be&&(Y.maxHeight="")),Me.maxWidth&&(we?Y.maxWidth=(0,a.HM)(Me.maxWidth):be&&(Y.maxWidth="")),We(this._pane.style,Y)}_getExactOverlayY(me,ce,Y){let we={top:"",bottom:""},be=this._getOverlayPoint(ce,this._overlayRect,me);return this._isPushed&&(be=this._pushOverlayOnScreen(be,this._overlayRect,Y)),"bottom"===me.overlayY?we.bottom=this._document.documentElement.clientHeight-(be.y+this._overlayRect.height)+"px":we.top=(0,a.HM)(be.y),we}_getExactOverlayX(me,ce,Y){let Me,we={left:"",right:""},be=this._getOverlayPoint(ce,this._overlayRect,me);return this._isPushed&&(be=this._pushOverlayOnScreen(be,this._overlayRect,Y)),Me=this._isRtl()?"end"===me.overlayX?"left":"right":"end"===me.overlayX?"right":"left","right"===Me?we.right=this._document.documentElement.clientWidth-(be.x+this._overlayRect.width)+"px":we.left=(0,a.HM)(be.x),we}_getScrollVisibility(){const me=this._getOriginRect(),ce=this._pane.getBoundingClientRect(),Y=this._scrollables.map(we=>we.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:O(me,Y),isOriginOutsideView:D(me,Y),isOverlayClipped:O(ce,Y),isOverlayOutsideView:D(ce,Y)}}_subtractOverflows(me,...ce){return ce.reduce((Y,we)=>Y-Math.max(we,0),me)}_getNarrowedViewportRect(){const me=this._document.documentElement.clientWidth,ce=this._document.documentElement.clientHeight,Y=this._viewportRuler.getViewportScrollPosition();return{top:Y.top+this._viewportMargin,left:Y.left+this._viewportMargin,right:Y.left+me-this._viewportMargin,bottom:Y.top+ce-this._viewportMargin,width:me-2*this._viewportMargin,height:ce-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(me,ce){return"x"===ce?null==me.offsetX?this._offsetX:me.offsetX:null==me.offsetY?this._offsetY:me.offsetY}_validatePositions(){}_addPanelClasses(me){this._pane&&(0,a.Eq)(me).forEach(ce=>{""!==ce&&-1===this._appliedPanelClasses.indexOf(ce)&&(this._appliedPanelClasses.push(ce),this._pane.classList.add(ce))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(me=>{this._pane.classList.remove(me)}),this._appliedPanelClasses=[])}_getOriginRect(){const me=this._origin;if(me instanceof g.SBq)return me.nativeElement.getBoundingClientRect();if(me instanceof Element)return me.getBoundingClientRect();const ce=me.width||0,Y=me.height||0;return{top:me.y,bottom:me.y+Y,left:me.x,right:me.x+ce,height:Y,width:ce}}}function We(qe,me){for(let ce in me)me.hasOwnProperty(ce)&&(qe[ce]=me[ce]);return qe}function Ne(qe){if("number"!=typeof qe&&null!=qe){const[me,ce]=qe.split(de);return ce&&"px"!==ce?null:parseFloat(me)}return qe||null}function dt(qe){return{top:Math.floor(qe.top),right:Math.floor(qe.right),bottom:Math.floor(qe.bottom),left:Math.floor(qe.left),width:Math.floor(qe.width),height:Math.floor(qe.height)}}const ge="cdk-global-overlay-wrapper";class Je{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(me){const ce=me.getConfig();this._overlayRef=me,this._width&&!ce.width&&me.updateSize({width:this._width}),this._height&&!ce.height&&me.updateSize({height:this._height}),me.hostElement.classList.add(ge),this._isDisposed=!1}top(me=""){return this._bottomOffset="",this._topOffset=me,this._alignItems="flex-start",this}left(me=""){return this._rightOffset="",this._leftOffset=me,this._justifyContent="flex-start",this}bottom(me=""){return this._topOffset="",this._bottomOffset=me,this._alignItems="flex-end",this}right(me=""){return this._leftOffset="",this._rightOffset=me,this._justifyContent="flex-end",this}width(me=""){return this._overlayRef?this._overlayRef.updateSize({width:me}):this._width=me,this}height(me=""){return this._overlayRef?this._overlayRef.updateSize({height:me}):this._height=me,this}centerHorizontally(me=""){return this.left(me),this._justifyContent="center",this}centerVertically(me=""){return this.top(me),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const me=this._overlayRef.overlayElement.style,ce=this._overlayRef.hostElement.style,Y=this._overlayRef.getConfig(),{width:we,height:be,maxWidth:Me,maxHeight:ze}=Y,mt=!("100%"!==we&&"100vw"!==we||Me&&"100%"!==Me&&"100vw"!==Me),vt=!("100%"!==be&&"100vh"!==be||ze&&"100%"!==ze&&"100vh"!==ze);me.position=this._cssPosition,me.marginLeft=mt?"0":this._leftOffset,me.marginTop=vt?"0":this._topOffset,me.marginBottom=this._bottomOffset,me.marginRight=this._rightOffset,mt?ce.justifyContent="flex-start":"center"===this._justifyContent?ce.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?ce.justifyContent="flex-end":"flex-end"===this._justifyContent&&(ce.justifyContent="flex-start"):ce.justifyContent=this._justifyContent,ce.alignItems=vt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const me=this._overlayRef.overlayElement.style,ce=this._overlayRef.hostElement,Y=ce.style;ce.classList.remove(ge),Y.justifyContent=Y.alignItems=me.marginTop=me.marginBottom=me.marginLeft=me.marginRight=me.position="",this._overlayRef=null,this._isDisposed=!0}}let se=(()=>{class qe{constructor(ce,Y,we,be){this._viewportRuler=ce,this._document=Y,this._platform=we,this._overlayContainer=be}global(){return new Je}flexibleConnectedTo(ce){return new fe(ce,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return qe.\u0275fac=function(ce){return new(ce||qe)(g.LFG(o.rL),g.LFG(c.K0),g.LFG(u.t4),g.LFG(q))},qe.\u0275prov=g.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})(),Re=(()=>{class qe{constructor(ce){this._attachedOverlays=[],this._document=ce}ngOnDestroy(){this.detach()}add(ce){this.remove(ce),this._attachedOverlays.push(ce)}remove(ce){const Y=this._attachedOverlays.indexOf(ce);Y>-1&&this._attachedOverlays.splice(Y,1),0===this._attachedOverlays.length&&this.detach()}}return qe.\u0275fac=function(ce){return new(ce||qe)(g.LFG(c.K0))},qe.\u0275prov=g.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})(),pt=(()=>{class qe extends Re{constructor(ce,Y){super(ce),this._ngZone=Y,this._keydownListener=we=>{const be=this._attachedOverlays;for(let Me=be.length-1;Me>-1;Me--)if(be[Me]._keydownEvents.observers.length>0){const ze=be[Me]._keydownEvents;this._ngZone?this._ngZone.run(()=>ze.next(we)):ze.next(we);break}}}add(ce){super.add(ce),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return qe.\u0275fac=function(ce){return new(ce||qe)(g.LFG(c.K0),g.LFG(g.R0b,8))},qe.\u0275prov=g.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})(),ht=(()=>{class qe extends Re{constructor(ce,Y,we){super(ce),this._platform=Y,this._ngZone=we,this._cursorStyleIsSet=!1,this._pointerDownListener=be=>{this._pointerDownEventTarget=(0,u.sA)(be)},this._clickListener=be=>{const Me=(0,u.sA)(be),ze="click"===be.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Me;this._pointerDownEventTarget=null;const mt=this._attachedOverlays.slice();for(let vt=mt.length-1;vt>-1;vt--){const Lt=mt[vt];if(Lt._outsidePointerEvents.observers.length<1||!Lt.hasAttached())continue;if(Lt.overlayElement.contains(Me)||Lt.overlayElement.contains(ze))break;const Bt=Lt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Bt.next(be)):Bt.next(be)}}}add(ce){if(super.add(ce),!this._isAttached){const Y=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Y)):this._addEventListeners(Y),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Y.style.cursor,Y.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ce=this._document.body;ce.removeEventListener("pointerdown",this._pointerDownListener,!0),ce.removeEventListener("click",this._clickListener,!0),ce.removeEventListener("auxclick",this._clickListener,!0),ce.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ce.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ce){ce.addEventListener("pointerdown",this._pointerDownListener,!0),ce.addEventListener("click",this._clickListener,!0),ce.addEventListener("auxclick",this._clickListener,!0),ce.addEventListener("contextmenu",this._clickListener,!0)}}return qe.\u0275fac=function(ce){return new(ce||qe)(g.LFG(c.K0),g.LFG(u.t4),g.LFG(g.R0b,8))},qe.\u0275prov=g.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})(),It=0,De=(()=>{class qe{constructor(ce,Y,we,be,Me,ze,mt,vt,Lt,Bt,an){this.scrollStrategies=ce,this._overlayContainer=Y,this._componentFactoryResolver=we,this._positionBuilder=be,this._keyboardDispatcher=Me,this._injector=ze,this._ngZone=mt,this._document=vt,this._directionality=Lt,this._location=Bt,this._outsideClickDispatcher=an}create(ce){const Y=this._createHostElement(),we=this._createPaneElement(Y),be=this._createPortalOutlet(we),Me=new L(ce);return Me.direction=Me.direction||this._directionality.value,new $(be,Y,we,Me,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(ce){const Y=this._document.createElement("div");return Y.id="cdk-overlay-"+It++,Y.classList.add("cdk-overlay-pane"),ce.appendChild(Y),Y}_createHostElement(){const ce=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ce),ce}_createPortalOutlet(ce){return this._appRef||(this._appRef=this._injector.get(g.z2F)),new p.u0(ce,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return qe.\u0275fac=function(ce){return new(ce||qe)(g.LFG(x),g.LFG(q),g.LFG(g._Vd),g.LFG(se),g.LFG(pt),g.LFG(g.zs3),g.LFG(g.R0b),g.LFG(c.K0),g.LFG(v.Is),g.LFG(c.Ye),g.LFG(ht))},qe.\u0275prov=g.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const Se=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ae=new g.OlP("cdk-connected-overlay-scroll-strategy");let lt=(()=>{class qe{constructor(ce){this.elementRef=ce}}return qe.\u0275fac=function(ce){return new(ce||qe)(g.Y36(g.SBq))},qe.\u0275dir=g.lG2({type:qe,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),qe})(),Ze=(()=>{class qe{constructor(ce,Y,we,be,Me){this._overlay=ce,this._dir=Me,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.w0.EMPTY,this._attachSubscription=h.w0.EMPTY,this._detachSubscription=h.w0.EMPTY,this._positionSubscription=h.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new g.vpe,this.positionChange=new g.vpe,this.attach=new g.vpe,this.detach=new g.vpe,this.overlayKeydown=new g.vpe,this.overlayOutsideClick=new g.vpe,this._templatePortal=new p.UE(Y,we),this._scrollStrategyFactory=be,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(ce){this._offsetX=ce,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ce){this._offsetY=ce,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ce){this._hasBackdrop=(0,a.Ig)(ce)}get lockPosition(){return this._lockPosition}set lockPosition(ce){this._lockPosition=(0,a.Ig)(ce)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(ce){this._flexibleDimensions=(0,a.Ig)(ce)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(ce){this._growAfterOpen=(0,a.Ig)(ce)}get push(){return this._push}set push(ce){this._push=(0,a.Ig)(ce)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ce){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ce.origin&&this.open&&this._position.apply()),ce.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Se);const ce=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ce.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ce.detachments().subscribe(()=>this.detach.emit()),ce.keydownEvents().subscribe(Y=>{this.overlayKeydown.next(Y),Y.keyCode===y.hY&&!this.disableClose&&!(0,y.Vb)(Y)&&(Y.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Y=>{this.overlayOutsideClick.next(Y)})}_buildConfig(){const ce=this._position=this.positionStrategy||this._createPositionStrategy(),Y=new L({direction:this._dir,positionStrategy:ce,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Y.width=this.width),(this.height||0===this.height)&&(Y.height=this.height),(this.minWidth||0===this.minWidth)&&(Y.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Y.minHeight=this.minHeight),this.backdropClass&&(Y.backdropClass=this.backdropClass),this.panelClass&&(Y.panelClass=this.panelClass),Y}_updatePositionStrategy(ce){const Y=this.positions.map(we=>({originX:we.originX,originY:we.originY,overlayX:we.overlayX,overlayY:we.overlayY,offsetX:we.offsetX||this.offsetX,offsetY:we.offsetY||this.offsetY,panelClass:we.panelClass||void 0}));return ce.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Y).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ce=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(ce),ce}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof lt?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ce=>{this.backdropClick.emit(ce)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,f.o)(()=>this.positionChange.observers.length>0)).subscribe(ce=>{this.positionChange.emit(ce),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return qe.\u0275fac=function(ce){return new(ce||qe)(g.Y36(De),g.Y36(g.Rgc),g.Y36(g.s_b),g.Y36(Ae),g.Y36(v.Is,8))},qe.\u0275dir=g.lG2({type:qe,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[g.TTD]}),qe})();const Gt={provide:Ae,deps:[De],useFactory:function Rt(qe){return()=>qe.scrollStrategies.reposition()}};let Xt=(()=>{class qe{}return qe.\u0275fac=function(ce){return new(ce||qe)},qe.\u0275mod=g.oAB({type:qe}),qe.\u0275inj=g.cJS({providers:[De,Gt],imports:[[v.vT,p.eL,o.Cl],o.Cl]}),qe})()},925:(ot,pe,r)=>{"use strict";r.d(pe,{Mq:()=>y,Oy:()=>O,ht:()=>I,i$:()=>e,kV:()=>A,qK:()=>d,sA:()=>D,t4:()=>a,ud:()=>u});var o=r(5e3),c=r(9808);let g;try{g="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(S){g=!1}let v,a=(()=>{class S{constructor(L){this._platformId=L,this.isBrowser=this._platformId?(0,c.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return S.\u0275fac=function(L){return new(L||S)(o.LFG(o.Lbi))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),u=(()=>{class S{}return S.\u0275fac=function(L){return new(L||S)},S.\u0275mod=o.oAB({type:S}),S.\u0275inj=o.cJS({}),S})();const p=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function d(){if(v)return v;if("object"!=typeof document||!document)return v=new Set(p),v;let S=document.createElement("input");return v=new Set(p.filter(x=>(S.setAttribute("type",x),S.type===x))),v}let h,f,C;function e(S){return function _(){if(null==h&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?S:!!S.capture}function y(){if(null==f){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return f=!1,f;if("scrollBehavior"in document.documentElement.style)f=!0;else{const S=Element.prototype.scrollTo;f=!!S&&!/\{\s*\[native code\]\s*\}/.test(S.toString())}}return f}function A(S){if(function b(){if(null==C){const S="undefined"!=typeof document?document.head:null;C=!(!S||!S.createShadowRoot&&!S.attachShadow)}return C}()){const x=S.getRootNode?S.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&x instanceof ShadowRoot)return x}return null}function I(){let S="undefined"!=typeof document&&document?document.activeElement:null;for(;S&&S.shadowRoot;){const x=S.shadowRoot.activeElement;if(x===S)break;S=x}return S}function D(S){return S.composedPath?S.composedPath()[0]:S.target}function O(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},7429:(ot,pe,r)=>{"use strict";r.d(pe,{C5:()=>_,Pl:()=>I,UE:()=>e,eL:()=>O,en:()=>f,u0:()=>s});var o=r(5e3),c=r(9808);class h{attach(L){return this._attachedHost=L,L.attach(this)}detach(){let L=this._attachedHost;null!=L&&(this._attachedHost=null,L.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(L){this._attachedHost=L}}class _ extends h{constructor(L,R,G,k){super(),this.component=L,this.viewContainerRef=R,this.injector=G,this.componentFactoryResolver=k}}class e extends h{constructor(L,R,G){super(),this.templateRef=L,this.viewContainerRef=R,this.context=G}get origin(){return this.templateRef.elementRef}attach(L,R=this.context){return this.context=R,super.attach(L)}detach(){return this.context=void 0,super.detach()}}class E extends h{constructor(L){super(),this.element=L instanceof o.SBq?L.nativeElement:L}}class f{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(L){return L instanceof _?(this._attachedPortal=L,this.attachComponentPortal(L)):L instanceof e?(this._attachedPortal=L,this.attachTemplatePortal(L)):this.attachDomPortal&&L instanceof E?(this._attachedPortal=L,this.attachDomPortal(L)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(L){this._disposeFn=L}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class s extends f{constructor(L,R,G,k,V){super(),this.outletElement=L,this._componentFactoryResolver=R,this._appRef=G,this._defaultInjector=k,this.attachDomPortal=ne=>{const $=ne.element,q=this._document.createComment("dom-portal");$.parentNode.insertBefore(q,$),this.outletElement.appendChild($),this._attachedPortal=ne,super.setDisposeFn(()=>{q.parentNode&&q.parentNode.replaceChild($,q)})},this._document=V}attachComponentPortal(L){const G=(L.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(L.component);let k;return L.viewContainerRef?(k=L.viewContainerRef.createComponent(G,L.viewContainerRef.length,L.injector||L.viewContainerRef.injector),this.setDisposeFn(()=>k.destroy())):(k=G.create(L.injector||this._defaultInjector),this._appRef.attachView(k.hostView),this.setDisposeFn(()=>{this._appRef.detachView(k.hostView),k.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(k)),this._attachedPortal=L,k}attachTemplatePortal(L){let R=L.viewContainerRef,G=R.createEmbeddedView(L.templateRef,L.context);return G.rootNodes.forEach(k=>this.outletElement.appendChild(k)),G.detectChanges(),this.setDisposeFn(()=>{let k=R.indexOf(G);-1!==k&&R.remove(k)}),this._attachedPortal=L,G}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(L){return L.hostView.rootNodes[0]}}let I=(()=>{class x extends f{constructor(R,G,k){super(),this._componentFactoryResolver=R,this._viewContainerRef=G,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=V=>{const ne=V.element,$=this._document.createComment("dom-portal");V.setAttachedHost(this),ne.parentNode.insertBefore($,ne),this._getRootNode().appendChild(ne),this._attachedPortal=V,super.setDisposeFn(()=>{$.parentNode&&$.parentNode.replaceChild(ne,$)})},this._document=k}get portal(){return this._attachedPortal}set portal(R){this.hasAttached()&&!R&&!this._isInitialized||(this.hasAttached()&&super.detach(),R&&super.attach(R),this._attachedPortal=R||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(R){R.setAttachedHost(this);const G=null!=R.viewContainerRef?R.viewContainerRef:this._viewContainerRef,V=(R.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(R.component),ne=G.createComponent(V,G.length,R.injector||G.injector);return G!==this._viewContainerRef&&this._getRootNode().appendChild(ne.hostView.rootNodes[0]),super.setDisposeFn(()=>ne.destroy()),this._attachedPortal=R,this._attachedRef=ne,this.attached.emit(ne),ne}attachTemplatePortal(R){R.setAttachedHost(this);const G=this._viewContainerRef.createEmbeddedView(R.templateRef,R.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=R,this._attachedRef=G,this.attached.emit(G),G}_getRootNode(){const R=this._viewContainerRef.element.nativeElement;return R.nodeType===R.ELEMENT_NODE?R:R.parentNode}}return x.\u0275fac=function(R){return new(R||x)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(c.K0))},x.\u0275dir=o.lG2({type:x,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),x})(),O=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=o.oAB({type:x}),x.\u0275inj=o.cJS({}),x})()},9071:(ot,pe,r)=>{"use strict";r.d(pe,{Cl:()=>q,ZD:()=>$,mF:()=>O,rL:()=>L});var o=r(3191),c=r(5e3),g=r(7579),a=r(9646),u=r(9751),v=r(4968),h=(r(6406),r(3101),r(3601)),_=r(9300),e=r(9808),E=r(925),f=r(226);let O=(()=>{class X{constructor(fe,We,Ne){this._ngZone=fe,this._platform=We,this._scrolled=new g.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ne}register(fe){this.scrollContainers.has(fe)||this.scrollContainers.set(fe,fe.elementScrolled().subscribe(()=>this._scrolled.next(fe)))}deregister(fe){const We=this.scrollContainers.get(fe);We&&(We.unsubscribe(),this.scrollContainers.delete(fe))}scrolled(fe=20){return this._platform.isBrowser?new u.y(We=>{this._globalSubscription||this._addGlobalListener();const Ne=fe>0?this._scrolled.pipe((0,h.e)(fe)).subscribe(We):this._scrolled.subscribe(We);return this._scrolledCount++,()=>{Ne.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,a.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((fe,We)=>this.deregister(We)),this._scrolled.complete()}ancestorScrolled(fe,We){const Ne=this.getAncestorScrollContainers(fe);return this.scrolled(We).pipe((0,_.h)(dt=>!dt||Ne.indexOf(dt)>-1))}getAncestorScrollContainers(fe){const We=[];return this.scrollContainers.forEach((Ne,dt)=>{this._scrollableContainsElement(dt,fe)&&We.push(dt)}),We}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(fe,We){let Ne=(0,o.fI)(We),dt=fe.getElementRef().nativeElement;do{if(Ne==dt)return!0}while(Ne=Ne.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const fe=this._getWindow();return(0,v.R)(fe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return X.\u0275fac=function(fe){return new(fe||X)(c.LFG(c.R0b),c.LFG(E.t4),c.LFG(e.K0,8))},X.\u0275prov=c.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),L=(()=>{class X{constructor(fe,We,Ne){this._platform=fe,this._change=new g.x,this._changeListener=dt=>{this._change.next(dt)},this._document=Ne,We.runOutsideAngular(()=>{if(fe.isBrowser){const dt=this._getWindow();dt.addEventListener("resize",this._changeListener),dt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const fe=this._getWindow();fe.removeEventListener("resize",this._changeListener),fe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const fe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),fe}getViewportRect(){const fe=this.getViewportScrollPosition(),{width:We,height:Ne}=this.getViewportSize();return{top:fe.top,left:fe.left,bottom:fe.top+Ne,right:fe.left+We,height:Ne,width:We}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const fe=this._document,We=this._getWindow(),Ne=fe.documentElement,dt=Ne.getBoundingClientRect();return{top:-dt.top||fe.body.scrollTop||We.scrollY||Ne.scrollTop||0,left:-dt.left||fe.body.scrollLeft||We.scrollX||Ne.scrollLeft||0}}change(fe=20){return fe>0?this._change.pipe((0,h.e)(fe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const fe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:fe.innerWidth,height:fe.innerHeight}:{width:0,height:0}}}return X.\u0275fac=function(fe){return new(fe||X)(c.LFG(E.t4),c.LFG(c.R0b),c.LFG(e.K0,8))},X.\u0275prov=c.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})(),$=(()=>{class X{}return X.\u0275fac=function(fe){return new(fe||X)},X.\u0275mod=c.oAB({type:X}),X.\u0275inj=c.cJS({}),X})(),q=(()=>{class X{}return X.\u0275fac=function(fe){return new(fe||X)},X.\u0275mod=c.oAB({type:X}),X.\u0275inj=c.cJS({imports:[[f.vT,$],f.vT,$]}),X})()},4533:(ot,pe,r)=>{"use strict";r.d(pe,{IC:()=>f,Ky:()=>y,Lq:()=>e});var o=r(925),c=r(5e3),g=r(3191),a=r(515),u=r(7579),v=r(4968),p=r(3601),d=r(2722),h=r(9808);const _=(0,o.i$)({passive:!0});let e=(()=>{class s{constructor(b,A){this._platform=b,this._ngZone=A,this._monitoredElements=new Map}monitor(b){if(!this._platform.isBrowser)return a.E;const A=(0,g.fI)(b),I=this._monitoredElements.get(A);if(I)return I.subject;const D=new u.x,O="cdk-text-field-autofilled",S=x=>{"cdk-text-field-autofill-start"!==x.animationName||A.classList.contains(O)?"cdk-text-field-autofill-end"===x.animationName&&A.classList.contains(O)&&(A.classList.remove(O),this._ngZone.run(()=>D.next({target:x.target,isAutofilled:!1}))):(A.classList.add(O),this._ngZone.run(()=>D.next({target:x.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{A.addEventListener("animationstart",S,_),A.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(A,{subject:D,unlisten:()=>{A.removeEventListener("animationstart",S,_)}}),D}stopMonitoring(b){const A=(0,g.fI)(b),I=this._monitoredElements.get(A);I&&(I.unlisten(),I.subject.complete(),A.classList.remove("cdk-text-field-autofill-monitored"),A.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(A))}ngOnDestroy(){this._monitoredElements.forEach((b,A)=>this.stopMonitoring(A))}}return s.\u0275fac=function(b){return new(b||s)(c.LFG(o.t4),c.LFG(c.R0b))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),f=(()=>{class s{constructor(b,A,I,D){this._elementRef=b,this._platform=A,this._ngZone=I,this._destroyed=new u.x,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=O=>{this._hasFocus="focus"===O.type},this._document=D,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(b){this._minRows=(0,g.su)(b),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(b){this._maxRows=(0,g.su)(b),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(b){b=(0,g.Ig)(b),this._enabled!==b&&((this._enabled=b)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(b){this._cachedPlaceholderHeight=void 0,b?this._textareaElement.setAttribute("placeholder",b):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const b=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;b&&(this._textareaElement.style.minHeight=b)}_setMaxHeight(){const b=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;b&&(this._textareaElement.style.maxHeight=b)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{const b=this._getWindow();(0,v.R)(b,"resize").pipe((0,p.e)(16),(0,d.R)(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let b=this._textareaElement.cloneNode(!1);b.rows=1,b.style.position="absolute",b.style.visibility="hidden",b.style.border="none",b.style.padding="0",b.style.height="",b.style.minHeight="",b.style.maxHeight="",b.style.overflow="hidden",this._textareaElement.parentNode.appendChild(b),this._cachedLineHeight=b.clientHeight,b.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const b=this._textareaElement,A=b.style.marginBottom||"",I=this._platform.FIREFOX,D=I&&this._hasFocus,O=I?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";D&&(b.style.marginBottom=`${b.clientHeight}px`),b.classList.add(O);const S=b.scrollHeight-4;return b.classList.remove(O),D&&(b.style.marginBottom=A),S}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const b=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=b}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(b=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const A=this._elementRef.nativeElement,I=A.value;if(!b&&this._minRows===this._previousMinRows&&I===this._previousValue)return;const D=this._measureScrollHeight(),O=Math.max(D,this._cachedPlaceholderHeight||0);A.style.height=`${O}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(A)):setTimeout(()=>this._scrollToCaretPosition(A))}),this._previousValue=I,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(b){const{selectionStart:A,selectionEnd:I}=b;!this._destroyed.isStopped&&this._hasFocus&&b.setSelectionRange(A,I)}}return s.\u0275fac=function(b){return new(b||s)(c.Y36(c.SBq),c.Y36(o.t4),c.Y36(c.R0b),c.Y36(h.K0,8))},s.\u0275dir=c.lG2({type:s,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(b,A){1&b&&c.NdJ("input",function(){return A._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),s})(),y=(()=>{class s{}return s.\u0275fac=function(b){return new(b||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({}),s})()},9808:(ot,pe,r)=>{"use strict";r.d(pe,{Do:()=>O,ED:()=>At,EM:()=>bo,HT:()=>u,JF:()=>je,K0:()=>p,Mx:()=>Ui,NF:()=>Ti,Nd:()=>uo,O5:()=>$t,Ov:()=>$o,PC:()=>Bn,RF:()=>te,S$:()=>b,V_:()=>_,Ye:()=>S,b0:()=>D,bD:()=>Qi,ez:()=>Ai,lw:()=>d,mk:()=>Li,mr:()=>I,n9:()=>$e,q:()=>g,sg:()=>ei,tP:()=>Hi,uU:()=>vo,uf:()=>yn,w_:()=>v});var o=r(5e3);let c=null;function g(){return c}function u(w){c||(c=w)}class v{}const p=new o.OlP("DocumentToken");let d=(()=>{class w{historyGo(B){throw new Error("Not implemented")}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275prov=o.Yz7({token:w,factory:function(){return function h(){return(0,o.LFG)(e)}()},providedIn:"platform"}),w})();const _=new o.OlP("Location Initialized");let e=(()=>{class w extends d{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(B){const re=g().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",B,!1),()=>re.removeEventListener("popstate",B)}onHashChange(B){const re=g().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",B,!1),()=>re.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,re,Ve){E()?this._history.pushState(B,re,Ve):this.location.hash=Ve}replaceState(B,re,Ve){E()?this._history.replaceState(B,re,Ve):this.location.hash=Ve}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return w.\u0275fac=function(B){return new(B||w)(o.LFG(p))},w.\u0275prov=o.Yz7({token:w,factory:function(){return function f(){return new e((0,o.LFG)(p))}()},providedIn:"platform"}),w})();function E(){return!!window.history.pushState}function y(w,W){if(0==w.length)return W;if(0==W.length)return w;let B=0;return w.endsWith("/")&&B++,W.startsWith("/")&&B++,2==B?w+W.substring(1):1==B?w+W:w+"/"+W}function s(w){const W=w.match(/#|\?|$/),B=W&&W.index||w.length;return w.slice(0,B-("/"===w[B-1]?1:0))+w.slice(B)}function C(w){return w&&"?"!==w[0]?"?"+w:w}let b=(()=>{class w{historyGo(B){throw new Error("Not implemented")}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275prov=o.Yz7({token:w,factory:function(){return function A(w){const W=(0,o.LFG)(p).location;return new D((0,o.LFG)(d),W&&W.origin||"")}()},providedIn:"root"}),w})();const I=new o.OlP("appBaseHref");let D=(()=>{class w extends b{constructor(B,re){if(super(),this._platformLocation=B,this._removeListenerFns=[],null==re&&(re=this._platformLocation.getBaseHrefFromDOM()),null==re)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=re}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return y(this._baseHref,B)}path(B=!1){const re=this._platformLocation.pathname+C(this._platformLocation.search),Ve=this._platformLocation.hash;return Ve&&B?`${re}${Ve}`:re}pushState(B,re,Ve,ct){const Pt=this.prepareExternalUrl(Ve+C(ct));this._platformLocation.pushState(B,re,Pt)}replaceState(B,re,Ve,ct){const Pt=this.prepareExternalUrl(Ve+C(ct));this._platformLocation.replaceState(B,re,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var re,Ve;null===(Ve=(re=this._platformLocation).historyGo)||void 0===Ve||Ve.call(re,B)}}return w.\u0275fac=function(B){return new(B||w)(o.LFG(d),o.LFG(I,8))},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})(),O=(()=>{class w extends b{constructor(B,re){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let re=this._platformLocation.hash;return null==re&&(re="#"),re.length>0?re.substring(1):re}prepareExternalUrl(B){const re=y(this._baseHref,B);return re.length>0?"#"+re:re}pushState(B,re,Ve,ct){let Pt=this.prepareExternalUrl(Ve+C(ct));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.pushState(B,re,Pt)}replaceState(B,re,Ve,ct){let Pt=this.prepareExternalUrl(Ve+C(ct));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.replaceState(B,re,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var re,Ve;null===(Ve=(re=this._platformLocation).historyGo)||void 0===Ve||Ve.call(re,B)}}return w.\u0275fac=function(B){return new(B||w)(o.LFG(d),o.LFG(I,8))},w.\u0275prov=o.Yz7({token:w,factory:w.\u0275fac}),w})(),S=(()=>{class w{constructor(B,re){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=B;const Ve=this._platformStrategy.getBaseHref();this._platformLocation=re,this._baseHref=s(R(Ve)),this._platformStrategy.onPopState(ct=>{this._subject.emit({url:this.path(!0),pop:!0,state:ct.state,type:ct.type})})}path(B=!1){return this.normalize(this._platformStrategy.path(B))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(B,re=""){return this.path()==this.normalize(B+C(re))}normalize(B){return w.stripTrailingSlash(function L(w,W){return w&&W.startsWith(w)?W.substring(w.length):W}(this._baseHref,R(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._platformStrategy.prepareExternalUrl(B)}go(B,re="",Ve=null){this._platformStrategy.pushState(Ve,"",B,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+C(re)),Ve)}replaceState(B,re="",Ve=null){this._platformStrategy.replaceState(Ve,"",B,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+C(re)),Ve)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(B=0){var re,Ve;null===(Ve=(re=this._platformStrategy).historyGo)||void 0===Ve||Ve.call(re,B)}onUrlChange(B){this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(re=>{this._notifyUrlChangeListeners(re.url,re.state)}))}_notifyUrlChangeListeners(B="",re){this._urlChangeListeners.forEach(Ve=>Ve(B,re))}subscribe(B,re,Ve){return this._subject.subscribe({next:B,error:re,complete:Ve})}}return w.normalizeQueryParams=C,w.joinWithSlash=y,w.stripTrailingSlash=s,w.\u0275fac=function(B){return new(B||w)(o.LFG(b),o.LFG(d))},w.\u0275prov=o.Yz7({token:w,factory:function(){return function x(){return new S((0,o.LFG)(b),(0,o.LFG)(d))}()},providedIn:"root"}),w})();function R(w){return w.replace(/\/index.html$/,"")}var k=(()=>((k=k||{})[k.Decimal=0]="Decimal",k[k.Percent=1]="Percent",k[k.Currency=2]="Currency",k[k.Scientific=3]="Scientific",k))(),ne=(()=>((ne=ne||{})[ne.Format=0]="Format",ne[ne.Standalone=1]="Standalone",ne))(),$=(()=>(($=$||{})[$.Narrow=0]="Narrow",$[$.Abbreviated=1]="Abbreviated",$[$.Wide=2]="Wide",$[$.Short=3]="Short",$))(),q=(()=>((q=q||{})[q.Short=0]="Short",q[q.Medium=1]="Medium",q[q.Long=2]="Long",q[q.Full=3]="Full",q))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function Re(w,W){return me((0,o.cg1)(w)[o.wAp.DateFormat],W)}function pt(w,W){return me((0,o.cg1)(w)[o.wAp.TimeFormat],W)}function ht(w,W){return me((0,o.cg1)(w)[o.wAp.DateTimeFormat],W)}function It(w,W){const B=(0,o.cg1)(w),re=B[o.wAp.NumberSymbols][W];if(void 0===re){if(W===X.CurrencyDecimal)return B[o.wAp.NumberSymbols][X.Decimal];if(W===X.CurrencyGroup)return B[o.wAp.NumberSymbols][X.Group]}return re}function Gt(w){if(!w[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${w[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function me(w,W){for(let B=W;B>-1;B--)if(void 0!==w[B])return w[B];throw new Error("Locale data API: locale data undefined")}function ce(w){const[W,B]=w.split(":");return{hours:+W,minutes:+B}}const Me=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ze={},mt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vt=(()=>((vt=vt||{})[vt.Short=0]="Short",vt[vt.ShortGMT=1]="ShortGMT",vt[vt.Long=2]="Long",vt[vt.Extended=3]="Extended",vt))(),Lt=(()=>((Lt=Lt||{})[Lt.FullYear=0]="FullYear",Lt[Lt.Month=1]="Month",Lt[Lt.Date=2]="Date",Lt[Lt.Hours=3]="Hours",Lt[Lt.Minutes=4]="Minutes",Lt[Lt.Seconds=5]="Seconds",Lt[Lt.FractionalSeconds=6]="FractionalSeconds",Lt[Lt.Day=7]="Day",Lt))(),Bt=(()=>((Bt=Bt||{})[Bt.DayPeriods=0]="DayPeriods",Bt[Bt.Days=1]="Days",Bt[Bt.Months=2]="Months",Bt[Bt.Eras=3]="Eras",Bt))();function an(w,W,B,re){let Ve=function at(w){if(Ct(w))return w;if("number"==typeof w&&!isNaN(w))return new Date(w);if("string"==typeof w){if(w=w.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(w)){const[Ve,ct=1,Pt=1]=w.split("-").map(Vt=>+Vt);return Kt(Ve,ct-1,Pt)}const B=parseFloat(w);if(!isNaN(w-B))return new Date(B);let re;if(re=w.match(Me))return function rt(w){const W=new Date(0);let B=0,re=0;const Ve=w[8]?W.setUTCFullYear:W.setFullYear,ct=w[8]?W.setUTCHours:W.setHours;w[9]&&(B=Number(w[9]+w[10]),re=Number(w[9]+w[11])),Ve.call(W,Number(w[1]),Number(w[2])-1,Number(w[3]));const Pt=Number(w[4]||0)-B,Vt=Number(w[5]||0)-re,en=Number(w[6]||0),gn=Math.floor(1e3*parseFloat("0."+(w[7]||0)));return ct.call(W,Pt,Vt,en,gn),W}(re)}const W=new Date(w);if(!Ct(W))throw new Error(`Unable to convert "${w}" into a date`);return W}(w);W=gt(B,W)||W;let Vt,Pt=[];for(;W;){if(Vt=mt.exec(W),!Vt){Pt.push(W);break}{Pt=Pt.concat(Vt.slice(1));const dn=Pt.pop();if(!dn)break;W=dn}}let en=Ve.getTimezoneOffset();re&&(en=_t(re,en),Ve=function yt(w,W,B){const re=B?-1:1,Ve=w.getTimezoneOffset();return function zt(w,W){return(w=new Date(w.getTime())).setMinutes(w.getMinutes()+W),w}(w,re*(_t(W,Ve)-Ve))}(Ve,re,!0));let gn="";return Pt.forEach(dn=>{const hn=function Xe(w){if(Fe[w])return Fe[w];let W;switch(w){case"G":case"GG":case"GGG":W=nt(Bt.Eras,$.Abbreviated);break;case"GGGG":W=nt(Bt.Eras,$.Wide);break;case"GGGGG":W=nt(Bt.Eras,$.Narrow);break;case"y":W=Et(Lt.FullYear,1,0,!1,!0);break;case"yy":W=Et(Lt.FullYear,2,0,!0,!0);break;case"yyy":W=Et(Lt.FullYear,3,0,!1,!0);break;case"yyyy":W=Et(Lt.FullYear,4,0,!1,!0);break;case"Y":W=he(1);break;case"YY":W=he(2,!0);break;case"YYY":W=he(3);break;case"YYYY":W=he(4);break;case"M":case"L":W=Et(Lt.Month,1,1);break;case"MM":case"LL":W=Et(Lt.Month,2,1);break;case"MMM":W=nt(Bt.Months,$.Abbreviated);break;case"MMMM":W=nt(Bt.Months,$.Wide);break;case"MMMMM":W=nt(Bt.Months,$.Narrow);break;case"LLL":W=nt(Bt.Months,$.Abbreviated,ne.Standalone);break;case"LLLL":W=nt(Bt.Months,$.Wide,ne.Standalone);break;case"LLLLL":W=nt(Bt.Months,$.Narrow,ne.Standalone);break;case"w":W=Ee(1);break;case"ww":W=Ee(2);break;case"W":W=Ee(1,!0);break;case"d":W=Et(Lt.Date,1);break;case"dd":W=Et(Lt.Date,2);break;case"c":case"cc":W=Et(Lt.Day,1);break;case"ccc":W=nt(Bt.Days,$.Abbreviated,ne.Standalone);break;case"cccc":W=nt(Bt.Days,$.Wide,ne.Standalone);break;case"ccccc":W=nt(Bt.Days,$.Narrow,ne.Standalone);break;case"cccccc":W=nt(Bt.Days,$.Short,ne.Standalone);break;case"E":case"EE":case"EEE":W=nt(Bt.Days,$.Abbreviated);break;case"EEEE":W=nt(Bt.Days,$.Wide);break;case"EEEEE":W=nt(Bt.Days,$.Narrow);break;case"EEEEEE":W=nt(Bt.Days,$.Short);break;case"a":case"aa":case"aaa":W=nt(Bt.DayPeriods,$.Abbreviated);break;case"aaaa":W=nt(Bt.DayPeriods,$.Wide);break;case"aaaaa":W=nt(Bt.DayPeriods,$.Narrow);break;case"b":case"bb":case"bbb":W=nt(Bt.DayPeriods,$.Abbreviated,ne.Standalone,!0);break;case"bbbb":W=nt(Bt.DayPeriods,$.Wide,ne.Standalone,!0);break;case"bbbbb":W=nt(Bt.DayPeriods,$.Narrow,ne.Standalone,!0);break;case"B":case"BB":case"BBB":W=nt(Bt.DayPeriods,$.Abbreviated,ne.Format,!0);break;case"BBBB":W=nt(Bt.DayPeriods,$.Wide,ne.Format,!0);break;case"BBBBB":W=nt(Bt.DayPeriods,$.Narrow,ne.Format,!0);break;case"h":W=Et(Lt.Hours,1,-12);break;case"hh":W=Et(Lt.Hours,2,-12);break;case"H":W=Et(Lt.Hours,1);break;case"HH":W=Et(Lt.Hours,2);break;case"m":W=Et(Lt.Minutes,1);break;case"mm":W=Et(Lt.Minutes,2);break;case"s":W=Et(Lt.Seconds,1);break;case"ss":W=Et(Lt.Seconds,2);break;case"S":W=Et(Lt.FractionalSeconds,1);break;case"SS":W=Et(Lt.FractionalSeconds,2);break;case"SSS":W=Et(Lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":W=Ce(vt.Short);break;case"ZZZZZ":W=Ce(vt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":W=Ce(vt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":W=Ce(vt.Long);break;default:return null}return Fe[w]=W,W}(dn);gn+=hn?hn(Ve,B,en):"''"===dn?"'":dn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),gn}function Kt(w,W,B){const re=new Date(0);return re.setFullYear(w,W,B),re.setHours(0,0,0),re}function gt(w,W){const B=function fe(w){return(0,o.cg1)(w)[o.wAp.LocaleId]}(w);if(ze[B]=ze[B]||{},ze[B][W])return ze[B][W];let re="";switch(W){case"shortDate":re=Re(w,q.Short);break;case"mediumDate":re=Re(w,q.Medium);break;case"longDate":re=Re(w,q.Long);break;case"fullDate":re=Re(w,q.Full);break;case"shortTime":re=pt(w,q.Short);break;case"mediumTime":re=pt(w,q.Medium);break;case"longTime":re=pt(w,q.Long);break;case"fullTime":re=pt(w,q.Full);break;case"short":const Ve=gt(w,"shortTime"),ct=gt(w,"shortDate");re=xt(ht(w,q.Short),[Ve,ct]);break;case"medium":const Pt=gt(w,"mediumTime"),Vt=gt(w,"mediumDate");re=xt(ht(w,q.Medium),[Pt,Vt]);break;case"long":const en=gt(w,"longTime"),gn=gt(w,"longDate");re=xt(ht(w,q.Long),[en,gn]);break;case"full":const dn=gt(w,"fullTime"),hn=gt(w,"fullDate");re=xt(ht(w,q.Full),[dn,hn])}return re&&(ze[B][W]=re),re}function xt(w,W){return W&&(w=w.replace(/\{([^}]+)}/g,function(B,re){return null!=W&&re in W?W[re]:B})),w}function Nt(w,W,B="-",re,Ve){let ct="";(w<0||Ve&&w<=0)&&(Ve?w=1-w:(w=-w,ct=B));let Pt=String(w);for(;Pt.length<W;)Pt="0"+Pt;return re&&(Pt=Pt.substr(Pt.length-W)),ct+Pt}function Et(w,W,B=0,re=!1,Ve=!1){return function(ct,Pt){let Vt=function et(w,W){switch(w){case Lt.FullYear:return W.getFullYear();case Lt.Month:return W.getMonth();case Lt.Date:return W.getDate();case Lt.Hours:return W.getHours();case Lt.Minutes:return W.getMinutes();case Lt.Seconds:return W.getSeconds();case Lt.FractionalSeconds:return W.getMilliseconds();case Lt.Day:return W.getDay();default:throw new Error(`Unknown DateType value "${w}".`)}}(w,ct);if((B>0||Vt>-B)&&(Vt+=B),w===Lt.Hours)0===Vt&&-12===B&&(Vt=12);else if(w===Lt.FractionalSeconds)return function Ke(w,W){return Nt(w,3).substr(0,W)}(Vt,W);const en=It(Pt,X.MinusSign);return Nt(Vt,W,en,re,Ve)}}function nt(w,W,B=ne.Format,re=!1){return function(Ve,ct){return function Be(w,W,B,re,Ve,ct){switch(B){case Bt.Months:return function dt(w,W,B){const re=(0,o.cg1)(w),ct=me([re[o.wAp.MonthsFormat],re[o.wAp.MonthsStandalone]],W);return me(ct,B)}(W,Ve,re)[w.getMonth()];case Bt.Days:return function Ne(w,W,B){const re=(0,o.cg1)(w),ct=me([re[o.wAp.DaysFormat],re[o.wAp.DaysStandalone]],W);return me(ct,B)}(W,Ve,re)[w.getDay()];case Bt.DayPeriods:const Pt=w.getHours(),Vt=w.getMinutes();if(ct){const gn=function Xt(w){const W=(0,o.cg1)(w);return Gt(W),(W[o.wAp.ExtraData][2]||[]).map(re=>"string"==typeof re?ce(re):[ce(re[0]),ce(re[1])])}(W),dn=function kt(w,W,B){const re=(0,o.cg1)(w);Gt(re);const ct=me([re[o.wAp.ExtraData][0],re[o.wAp.ExtraData][1]],W)||[];return me(ct,B)||[]}(W,Ve,re),hn=gn.findIndex(In=>{if(Array.isArray(In)){const[En,Wn]=In,ye=Pt>=En.hours&&Vt>=En.minutes,le=Pt<Wn.hours||Pt===Wn.hours&&Vt<Wn.minutes;if(En.hours<Wn.hours){if(ye&&le)return!0}else if(ye||le)return!0}else if(In.hours===Pt&&In.minutes===Vt)return!0;return!1});if(-1!==hn)return dn[hn]}return function We(w,W,B){const re=(0,o.cg1)(w),ct=me([re[o.wAp.DayPeriodsFormat],re[o.wAp.DayPeriodsStandalone]],W);return me(ct,B)}(W,Ve,re)[Pt<12?0:1];case Bt.Eras:return function ge(w,W){return me((0,o.cg1)(w)[o.wAp.Eras],W)}(W,re)[w.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(Ve,ct,w,W,B,re)}}function Ce(w){return function(W,B,re){const Ve=-1*re,ct=It(B,X.MinusSign),Pt=Ve>0?Math.floor(Ve/60):Math.ceil(Ve/60);switch(w){case vt.Short:return(Ve>=0?"+":"")+Nt(Pt,2,ct)+Nt(Math.abs(Ve%60),2,ct);case vt.ShortGMT:return"GMT"+(Ve>=0?"+":"")+Nt(Pt,1,ct);case vt.Long:return"GMT"+(Ve>=0?"+":"")+Nt(Pt,2,ct)+":"+Nt(Math.abs(Ve%60),2,ct);case vt.Extended:return 0===re?"Z":(Ve>=0?"+":"")+Nt(Pt,2,ct)+":"+Nt(Math.abs(Ve%60),2,ct);default:throw new Error(`Unknown zone width "${w}"`)}}}function K(w){return Kt(w.getFullYear(),w.getMonth(),w.getDate()+(4-w.getDay()))}function Ee(w,W=!1){return function(B,re){let Ve;if(W){const ct=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,Pt=B.getDate();Ve=1+Math.floor((Pt+ct)/7)}else{const ct=K(B),Pt=function ae(w){const W=Kt(w,0,1).getDay();return Kt(w,0,1+(W<=4?4:11)-W)}(ct.getFullYear()),Vt=ct.getTime()-Pt.getTime();Ve=1+Math.round(Vt/6048e5)}return Nt(Ve,w,It(re,X.MinusSign))}}function he(w,W=!1){return function(B,re){return Nt(K(B).getFullYear(),w,It(re,X.MinusSign),W)}}const Fe={};function _t(w,W){w=w.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+w)/6e4;return isNaN(B)?W:B}function Ct(w){return w instanceof Date&&!isNaN(w.valueOf())}const Ut=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yn(w,W,B){return function Oi(w,W,B,re,Ve,ct,Pt=!1){let Vt="",en=!1;if(isFinite(w)){let gn=function Pi(w){let re,Ve,ct,Pt,Vt,W=Math.abs(w)+"",B=0;for((Ve=W.indexOf("."))>-1&&(W=W.replace(".","")),(ct=W.search(/e/i))>0?(Ve<0&&(Ve=ct),Ve+=+W.slice(ct+1),W=W.substring(0,ct)):Ve<0&&(Ve=W.length),ct=0;"0"===W.charAt(ct);ct++);if(ct===(Vt=W.length))re=[0],Ve=1;else{for(Vt--;"0"===W.charAt(Vt);)Vt--;for(Ve-=ct,re=[],Pt=0;ct<=Vt;ct++,Pt++)re[Pt]=Number(W.charAt(ct))}return Ve>22&&(re=re.splice(0,21),B=Ve-1,Ve=1),{digits:re,exponent:B,integerLen:Ve}}(w);Pt&&(gn=function _i(w){if(0===w.digits[0])return w;const W=w.digits.length-w.integerLen;return w.exponent?w.exponent+=2:(0===W?w.digits.push(0,0):1===W&&w.digits.push(0),w.integerLen+=2),w}(gn));let dn=W.minInt,hn=W.minFrac,In=W.maxFrac;if(ct){const He=ct.match(Ut);if(null===He)throw new Error(`${ct} is not a valid digit info`);const Ht=He[1],cn=He[3],mi=He[5];null!=Ht&&(dn=Ri(Ht)),null!=cn&&(hn=Ri(cn)),null!=mi?In=Ri(mi):null!=cn&&hn>In&&(In=hn)}!function ii(w,W,B){if(W>B)throw new Error(`The minimum number of digits after fraction (${W}) is higher than the maximum (${B}).`);let re=w.digits,Ve=re.length-w.integerLen;const ct=Math.min(Math.max(W,Ve),B);let Pt=ct+w.integerLen,Vt=re[Pt];if(Pt>0){re.splice(Math.max(w.integerLen,Pt));for(let hn=Pt;hn<re.length;hn++)re[hn]=0}else{Ve=Math.max(0,Ve),w.integerLen=1,re.length=Math.max(1,Pt=ct+1),re[0]=0;for(let hn=1;hn<Pt;hn++)re[hn]=0}if(Vt>=5)if(Pt-1<0){for(let hn=0;hn>Pt;hn--)re.unshift(0),w.integerLen++;re.unshift(1),w.integerLen++}else re[Pt-1]++;for(;Ve<Math.max(0,ct);Ve++)re.push(0);let en=0!==ct;const gn=W+w.integerLen,dn=re.reduceRight(function(hn,In,En,Wn){return Wn[En]=(In+=hn)<10?In:In-10,en&&(0===Wn[En]&&En>=gn?Wn.pop():en=!1),In>=10?1:0},0);dn&&(re.unshift(dn),w.integerLen++)}(gn,hn,In);let En=gn.digits,Wn=gn.integerLen;const ye=gn.exponent;let le=[];for(en=En.every(He=>!He);Wn<dn;Wn++)En.unshift(0);for(;Wn<0;Wn++)En.unshift(0);Wn>0?le=En.splice(Wn,En.length):(le=En,En=[0]);const J=[];for(En.length>=W.lgSize&&J.unshift(En.splice(-W.lgSize,En.length).join(""));En.length>W.gSize;)J.unshift(En.splice(-W.gSize,En.length).join(""));En.length&&J.unshift(En.join("")),Vt=J.join(It(B,re)),le.length&&(Vt+=It(B,Ve)+le.join("")),ye&&(Vt+=It(B,X.Exponential)+"+"+ye)}else Vt=It(B,X.Infinity);return Vt=w<0&&!en?W.negPre+Vt+W.negSuf:W.posPre+Vt+W.posSuf,Vt}(w,function zn(w,W="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},re=w.split(";"),Ve=re[0],ct=re[1],Pt=-1!==Ve.indexOf(".")?Ve.split("."):[Ve.substring(0,Ve.lastIndexOf("0")+1),Ve.substring(Ve.lastIndexOf("0")+1)],Vt=Pt[0],en=Pt[1]||"";B.posPre=Vt.substr(0,Vt.indexOf("#"));for(let dn=0;dn<en.length;dn++){const hn=en.charAt(dn);"0"===hn?B.minFrac=B.maxFrac=dn+1:"#"===hn?B.maxFrac=dn+1:B.posSuf+=hn}const gn=Vt.split(",");if(B.gSize=gn[1]?gn[1].length:0,B.lgSize=gn[2]||gn[1]?(gn[2]||gn[1]).length:0,ct){const dn=Ve.length-B.posPre.length-B.posSuf.length,hn=ct.indexOf("#");B.negPre=ct.substr(0,hn).replace(/'/g,""),B.negSuf=ct.substr(hn+dn).replace(/'/g,"")}else B.negPre=W+B.posPre,B.negSuf=B.posSuf;return B}(function De(w,W){return(0,o.cg1)(w)[o.wAp.NumberFormats][W]}(W,k.Decimal),It(W,X.MinusSign)),W,X.Group,X.Decimal,B)}function Ri(w){const W=parseInt(w);if(isNaN(W))throw new Error("Invalid integer literal when parsing "+w);return W}function Ui(w,W){W=encodeURIComponent(W);for(const B of w.split(";")){const re=B.indexOf("="),[Ve,ct]=-1==re?[B,""]:[B.slice(0,re),B.slice(re+1)];if(Ve.trim()===W)return decodeURIComponent(ct)}return null}let Li=(()=>{class w{constructor(B,re,Ve,ct){this._iterableDiffers=B,this._keyValueDiffers=re,this._ngEl=Ve,this._renderer=ct,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(B){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof B?B.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(B){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof B?B.split(/\s+/):B,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const B=this._iterableDiffer.diff(this._rawClass);B&&this._applyIterableChanges(B)}else if(this._keyValueDiffer){const B=this._keyValueDiffer.diff(this._rawClass);B&&this._applyKeyValueChanges(B)}}_applyKeyValueChanges(B){B.forEachAddedItem(re=>this._toggleClass(re.key,re.currentValue)),B.forEachChangedItem(re=>this._toggleClass(re.key,re.currentValue)),B.forEachRemovedItem(re=>{re.previousValue&&this._toggleClass(re.key,!1)})}_applyIterableChanges(B){B.forEachAddedItem(re=>{if("string"!=typeof re.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(re.item)}`);this._toggleClass(re.item,!0)}),B.forEachRemovedItem(re=>this._toggleClass(re.item,!1))}_applyClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(re=>this._toggleClass(re,!0)):Object.keys(B).forEach(re=>this._toggleClass(re,!!B[re])))}_removeClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(re=>this._toggleClass(re,!1)):Object.keys(B).forEach(re=>this._toggleClass(re,!1)))}_toggleClass(B,re){(B=B.trim())&&B.split(/\s+/g).forEach(Ve=>{re?this._renderer.addClass(this._ngEl.nativeElement,Ve):this._renderer.removeClass(this._ngEl.nativeElement,Ve)})}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},w.\u0275dir=o.lG2({type:w,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),w})();class Ei{constructor(W,B,re,Ve){this.$implicit=W,this.ngForOf=B,this.index=re,this.count=Ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class w{constructor(B,re,Ve){this._viewContainer=B,this._template=re,this._differs=Ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const re=this._viewContainer;B.forEachOperation((Ve,ct,Pt)=>{if(null==Ve.previousIndex)re.createEmbeddedView(this._template,new Ei(Ve.item,this._ngForOf,-1,-1),null===Pt?void 0:Pt);else if(null==Pt)re.remove(null===ct?void 0:ct);else if(null!==ct){const Vt=re.get(ct);re.move(Vt,Pt),ki(Vt,Ve)}});for(let Ve=0,ct=re.length;Ve<ct;Ve++){const Vt=re.get(Ve).context;Vt.index=Ve,Vt.count=ct,Vt.ngForOf=this._ngForOf}B.forEachIdentityChange(Ve=>{ki(re.get(Ve.currentIndex),Ve)})}static ngTemplateContextGuard(B,re){return!0}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},w.\u0275dir=o.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),w})();function ki(w,W){w.context.$implicit=W.item}let $t=(()=>{class w{constructor(B,re){this._viewContainer=B,this._context=new Ie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){oe("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){oe("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,re){return!0}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.s_b),o.Y36(o.Rgc))},w.\u0275dir=o.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),w})();class Ie{constructor(){this.$implicit=null,this.ngIf=null}}function oe(w,W){if(W&&!W.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,o.AaK)(W)}'.`)}class Qe{constructor(W,B){this._viewContainerRef=W,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(W){W&&!this._created?this.create():!W&&this._created&&this.destroy()}}let te=(()=>{class w{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(B)}_matchCase(B){const re=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||re,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),re}_updateDefaultCases(B){if(this._defaultViews&&B!==this._defaultUsed){this._defaultUsed=B;for(let re=0;re<this._defaultViews.length;re++)this._defaultViews[re].enforceState(B)}}}return w.\u0275fac=function(B){return new(B||w)},w.\u0275dir=o.lG2({type:w,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),w})(),$e=(()=>{class w{constructor(B,re,Ve){this.ngSwitch=Ve,Ve._addCase(),this._view=new Qe(B,re)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(te,9))},w.\u0275dir=o.lG2({type:w,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),w})(),At=(()=>{class w{constructor(B,re,Ve){Ve._addDefault(new Qe(B,re))}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(te,9))},w.\u0275dir=o.lG2({type:w,selectors:[["","ngSwitchDefault",""]]}),w})(),Bn=(()=>{class w{constructor(B,re,Ve){this._ngEl=B,this._differs=re,this._renderer=Ve,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,re){const[Ve,ct]=B.split(".");null!=(re=null!=re&&ct?`${re}${ct}`:re)?this._renderer.setStyle(this._ngEl.nativeElement,Ve,re):this._renderer.removeStyle(this._ngEl.nativeElement,Ve)}_applyChanges(B){B.forEachRemovedItem(re=>this._setStyle(re.key,null)),B.forEachAddedItem(re=>this._setStyle(re.key,re.currentValue)),B.forEachChangedItem(re=>this._setStyle(re.key,re.currentValue))}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},w.\u0275dir=o.lG2({type:w,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),w})(),Hi=(()=>{class w{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(B){if(B.ngTemplateOutlet){const re=this._viewContainerRef;this._viewRef&&re.remove(re.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?re.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.s_b))},w.\u0275dir=o.lG2({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[o.TTD]}),w})();function wn(w,W){return new o.vHH(2100,"")}class qi{createSubscription(W,B){return W.subscribe({next:B,error:re=>{throw re}})}dispose(W){W.unsubscribe()}onDestroy(W){W.unsubscribe()}}class Ci{createSubscription(W,B){return W.then(B,re=>{throw re})}dispose(W){}onDestroy(W){}}const Go=new Ci,Mo=new qi;let $o=(()=>{class w{constructor(B){this._ref=B,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,re=>this._updateLatestValue(B,re))}_selectStrategy(B){if((0,o.QGY)(B))return Go;if((0,o.F4k)(B))return Mo;throw wn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,re){B===this._obj&&(this._latestValue=re,this._ref.markForCheck())}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.sBO,16))},w.\u0275pipe=o.Yjl({name:"async",type:w,pure:!1}),w})();const Rr=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let vo=(()=>{class w{constructor(B,re){this.locale=B,this.defaultTimezone=re}transform(B,re="mediumDate",Ve,ct){var Pt;if(null==B||""===B||B!=B)return null;try{return an(B,re,ct||this.locale,null!==(Pt=null!=Ve?Ve:this.defaultTimezone)&&void 0!==Pt?Pt:void 0)}catch(Vt){throw wn()}}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.soG,16),o.Y36(Rr,24))},w.\u0275pipe=o.Yjl({name:"date",type:w,pure:!0}),w})(),uo=(()=>{class w{constructor(B){this.differs=B,this.keyValues=[],this.compareFn=ir}transform(B,re=ir){if(!B||!(B instanceof Map)&&"object"!=typeof B)return null;this.differ||(this.differ=this.differs.find(B).create());const Ve=this.differ.diff(B),ct=re!==this.compareFn;return Ve&&(this.keyValues=[],Ve.forEachItem(Pt=>{this.keyValues.push(function Ki(w,W){return{key:w,value:W}}(Pt.key,Pt.currentValue))})),(Ve||ct)&&(this.keyValues.sort(re),this.compareFn=re),this.keyValues}}return w.\u0275fac=function(B){return new(B||w)(o.Y36(o.aQg,16))},w.\u0275pipe=o.Yjl({name:"keyvalue",type:w,pure:!1}),w})();function ir(w,W){const B=w.key,re=W.key;if(B===re)return 0;if(void 0===B)return 1;if(void 0===re)return-1;if(null===B)return 1;if(null===re)return-1;if("string"==typeof B&&"string"==typeof re)return B<re?-1:1;if("number"==typeof B&&"number"==typeof re)return B-re;if("boolean"==typeof B&&"boolean"==typeof re)return B<re?-1:1;const Ve=String(B),ct=String(re);return Ve==ct?0:Ve<ct?-1:1}let Ai=(()=>{class w{}return w.\u0275fac=function(B){return new(B||w)},w.\u0275mod=o.oAB({type:w}),w.\u0275inj=o.cJS({}),w})();const Qi="browser";function Ti(w){return w===Qi}let bo=(()=>{class w{}return w.\u0275prov=(0,o.Yz7)({token:w,providedIn:"root",factory:()=>new Po((0,o.LFG)(p),window)}),w})();class Po{constructor(W,B){this.document=W,this.window=B,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const B=function ho(w,W){const B=w.getElementById(W)||w.getElementsByName(W)[0];if(B)return B;if("function"==typeof w.createTreeWalker&&w.body&&(w.body.createShadowRoot||w.body.attachShadow)){const re=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let Ve=re.currentNode;for(;Ve;){const ct=Ve.shadowRoot;if(ct){const Pt=ct.getElementById(W)||ct.querySelector(`[name="${W}"]`);if(Pt)return Pt}Ve=re.nextNode()}}return null}(this.document,W);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=W)}}scrollToElement(W){const B=W.getBoundingClientRect(),re=B.left+this.window.pageXOffset,Ve=B.top+this.window.pageYOffset,ct=this.offset();this.window.scrollTo(re-ct[0],Ve-ct[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=Co(this.window.history)||Co(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch(W){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(W){return!1}}}function Co(w){return Object.getOwnPropertyDescriptor(w,"scrollRestoration")}class je{}},520:(ot,pe,r)=>{"use strict";r.d(pe,{JF:()=>ce,LE:()=>b,TP:()=>fe,UA:()=>$,WM:()=>_,eN:()=>X});var o=r(9808),c=r(5e3),g=r(9646),a=r(9751),u=r(4351),v=r(9300),p=r(4004);class d{}class h{}class _{constructor(Me){this.normalizedNames=new Map,this.lazyUpdate=null,Me?this.lazyInit="string"==typeof Me?()=>{this.headers=new Map,Me.split("\n").forEach(ze=>{const mt=ze.indexOf(":");if(mt>0){const vt=ze.slice(0,mt),Lt=vt.toLowerCase(),Bt=ze.slice(mt+1).trim();this.maybeSetNormalizedName(vt,Lt),this.headers.has(Lt)?this.headers.get(Lt).push(Bt):this.headers.set(Lt,[Bt])}})}:()=>{this.headers=new Map,Object.keys(Me).forEach(ze=>{let mt=Me[ze];const vt=ze.toLowerCase();"string"==typeof mt&&(mt=[mt]),mt.length>0&&(this.headers.set(vt,mt),this.maybeSetNormalizedName(ze,vt))})}:this.headers=new Map}has(Me){return this.init(),this.headers.has(Me.toLowerCase())}get(Me){this.init();const ze=this.headers.get(Me.toLowerCase());return ze&&ze.length>0?ze[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Me){return this.init(),this.headers.get(Me.toLowerCase())||null}append(Me,ze){return this.clone({name:Me,value:ze,op:"a"})}set(Me,ze){return this.clone({name:Me,value:ze,op:"s"})}delete(Me,ze){return this.clone({name:Me,value:ze,op:"d"})}maybeSetNormalizedName(Me,ze){this.normalizedNames.has(ze)||this.normalizedNames.set(ze,Me)}init(){this.lazyInit&&(this.lazyInit instanceof _?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Me=>this.applyUpdate(Me)),this.lazyUpdate=null))}copyFrom(Me){Me.init(),Array.from(Me.headers.keys()).forEach(ze=>{this.headers.set(ze,Me.headers.get(ze)),this.normalizedNames.set(ze,Me.normalizedNames.get(ze))})}clone(Me){const ze=new _;return ze.lazyInit=this.lazyInit&&this.lazyInit instanceof _?this.lazyInit:this,ze.lazyUpdate=(this.lazyUpdate||[]).concat([Me]),ze}applyUpdate(Me){const ze=Me.name.toLowerCase();switch(Me.op){case"a":case"s":let mt=Me.value;if("string"==typeof mt&&(mt=[mt]),0===mt.length)return;this.maybeSetNormalizedName(Me.name,ze);const vt=("a"===Me.op?this.headers.get(ze):void 0)||[];vt.push(...mt),this.headers.set(ze,vt);break;case"d":const Lt=Me.value;if(Lt){let Bt=this.headers.get(ze);if(!Bt)return;Bt=Bt.filter(an=>-1===Lt.indexOf(an)),0===Bt.length?(this.headers.delete(ze),this.normalizedNames.delete(ze)):this.headers.set(ze,Bt)}else this.headers.delete(ze),this.normalizedNames.delete(ze)}}forEach(Me){this.init(),Array.from(this.normalizedNames.keys()).forEach(ze=>Me(this.normalizedNames.get(ze),this.headers.get(ze)))}}class e{encodeKey(Me){return s(Me)}encodeValue(Me){return s(Me)}decodeKey(Me){return decodeURIComponent(Me)}decodeValue(Me){return decodeURIComponent(Me)}}const f=/%(\d[a-f0-9])/gi,y={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function s(be){return encodeURIComponent(be).replace(f,(Me,ze)=>{var mt;return null!==(mt=y[ze])&&void 0!==mt?mt:Me})}function C(be){return`${be}`}class b{constructor(Me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Me.encoder||new e,Me.fromString){if(Me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function E(be,Me){const ze=new Map;return be.length>0&&be.replace(/^\?/,"").split("&").forEach(vt=>{const Lt=vt.indexOf("="),[Bt,an]=-1==Lt?[Me.decodeKey(vt),""]:[Me.decodeKey(vt.slice(0,Lt)),Me.decodeValue(vt.slice(Lt+1))],Kt=ze.get(Bt)||[];Kt.push(an),ze.set(Bt,Kt)}),ze}(Me.fromString,this.encoder)}else Me.fromObject?(this.map=new Map,Object.keys(Me.fromObject).forEach(ze=>{const mt=Me.fromObject[ze];this.map.set(ze,Array.isArray(mt)?mt:[mt])})):this.map=null}has(Me){return this.init(),this.map.has(Me)}get(Me){this.init();const ze=this.map.get(Me);return ze?ze[0]:null}getAll(Me){return this.init(),this.map.get(Me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Me,ze){return this.clone({param:Me,value:ze,op:"a"})}appendAll(Me){const ze=[];return Object.keys(Me).forEach(mt=>{const vt=Me[mt];Array.isArray(vt)?vt.forEach(Lt=>{ze.push({param:mt,value:Lt,op:"a"})}):ze.push({param:mt,value:vt,op:"a"})}),this.clone(ze)}set(Me,ze){return this.clone({param:Me,value:ze,op:"s"})}delete(Me,ze){return this.clone({param:Me,value:ze,op:"d"})}toString(){return this.init(),this.keys().map(Me=>{const ze=this.encoder.encodeKey(Me);return this.map.get(Me).map(mt=>ze+"="+this.encoder.encodeValue(mt)).join("&")}).filter(Me=>""!==Me).join("&")}clone(Me){const ze=new b({encoder:this.encoder});return ze.cloneFrom=this.cloneFrom||this,ze.updates=(this.updates||[]).concat(Me),ze}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Me=>this.map.set(Me,this.cloneFrom.map.get(Me))),this.updates.forEach(Me=>{switch(Me.op){case"a":case"s":const ze=("a"===Me.op?this.map.get(Me.param):void 0)||[];ze.push(C(Me.value)),this.map.set(Me.param,ze);break;case"d":if(void 0===Me.value){this.map.delete(Me.param);break}{let mt=this.map.get(Me.param)||[];const vt=mt.indexOf(C(Me.value));-1!==vt&&mt.splice(vt,1),mt.length>0?this.map.set(Me.param,mt):this.map.delete(Me.param)}}}),this.cloneFrom=this.updates=null)}}class I{constructor(){this.map=new Map}set(Me,ze){return this.map.set(Me,ze),this}get(Me){return this.map.has(Me)||this.map.set(Me,Me.defaultValue()),this.map.get(Me)}delete(Me){return this.map.delete(Me),this}has(Me){return this.map.has(Me)}keys(){return this.map.keys()}}function O(be){return"undefined"!=typeof ArrayBuffer&&be instanceof ArrayBuffer}function S(be){return"undefined"!=typeof Blob&&be instanceof Blob}function x(be){return"undefined"!=typeof FormData&&be instanceof FormData}class R{constructor(Me,ze,mt,vt){let Lt;if(this.url=ze,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Me.toUpperCase(),function D(be){switch(be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vt?(this.body=void 0!==mt?mt:null,Lt=vt):Lt=mt,Lt&&(this.reportProgress=!!Lt.reportProgress,this.withCredentials=!!Lt.withCredentials,Lt.responseType&&(this.responseType=Lt.responseType),Lt.headers&&(this.headers=Lt.headers),Lt.context&&(this.context=Lt.context),Lt.params&&(this.params=Lt.params)),this.headers||(this.headers=new _),this.context||(this.context=new I),this.params){const Bt=this.params.toString();if(0===Bt.length)this.urlWithParams=ze;else{const an=ze.indexOf("?");this.urlWithParams=ze+(-1===an?"?":an<ze.length-1?"&":"")+Bt}}else this.params=new b,this.urlWithParams=ze}serializeBody(){return null===this.body?null:O(this.body)||S(this.body)||x(this.body)||function L(be){return"undefined"!=typeof URLSearchParams&&be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof b?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x(this.body)?null:S(this.body)?this.body.type||null:O(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof b?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Me={}){var ze;const mt=Me.method||this.method,vt=Me.url||this.url,Lt=Me.responseType||this.responseType,Bt=void 0!==Me.body?Me.body:this.body,an=void 0!==Me.withCredentials?Me.withCredentials:this.withCredentials,Kt=void 0!==Me.reportProgress?Me.reportProgress:this.reportProgress;let gt=Me.headers||this.headers,xt=Me.params||this.params;const Nt=null!==(ze=Me.context)&&void 0!==ze?ze:this.context;return void 0!==Me.setHeaders&&(gt=Object.keys(Me.setHeaders).reduce((Ke,Et)=>Ke.set(Et,Me.setHeaders[Et]),gt)),Me.setParams&&(xt=Object.keys(Me.setParams).reduce((Ke,Et)=>Ke.set(Et,Me.setParams[Et]),xt)),new R(mt,vt,Bt,{params:xt,headers:gt,context:Nt,reportProgress:Kt,responseType:Lt,withCredentials:an})}}var G=(()=>((G=G||{})[G.Sent=0]="Sent",G[G.UploadProgress=1]="UploadProgress",G[G.ResponseHeader=2]="ResponseHeader",G[G.DownloadProgress=3]="DownloadProgress",G[G.Response=4]="Response",G[G.User=5]="User",G))();class k{constructor(Me,ze=200,mt="OK"){this.headers=Me.headers||new _,this.status=void 0!==Me.status?Me.status:ze,this.statusText=Me.statusText||mt,this.url=Me.url||null,this.ok=this.status>=200&&this.status<300}}class V extends k{constructor(Me={}){super(Me),this.type=G.ResponseHeader}clone(Me={}){return new V({headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class ne extends k{constructor(Me={}){super(Me),this.type=G.Response,this.body=void 0!==Me.body?Me.body:null}clone(Me={}){return new ne({body:void 0!==Me.body?Me.body:this.body,headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class $ extends k{constructor(Me){super(Me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Me.url||"(unknown url)"}`:`Http failure response for ${Me.url||"(unknown url)"}: ${Me.status} ${Me.statusText}`,this.error=Me.error||null}}function q(be,Me){return{body:Me,headers:be.headers,context:be.context,observe:be.observe,params:be.params,reportProgress:be.reportProgress,responseType:be.responseType,withCredentials:be.withCredentials}}let X=(()=>{class be{constructor(ze){this.handler=ze}request(ze,mt,vt={}){let Lt;if(ze instanceof R)Lt=ze;else{let Kt,gt;Kt=vt.headers instanceof _?vt.headers:new _(vt.headers),vt.params&&(gt=vt.params instanceof b?vt.params:new b({fromObject:vt.params})),Lt=new R(ze,mt,void 0!==vt.body?vt.body:null,{headers:Kt,context:vt.context,params:gt,reportProgress:vt.reportProgress,responseType:vt.responseType||"json",withCredentials:vt.withCredentials})}const Bt=(0,g.of)(Lt).pipe((0,u.b)(Kt=>this.handler.handle(Kt)));if(ze instanceof R||"events"===vt.observe)return Bt;const an=Bt.pipe((0,v.h)(Kt=>Kt instanceof ne));switch(vt.observe||"body"){case"body":switch(Lt.responseType){case"arraybuffer":return an.pipe((0,p.U)(Kt=>{if(null!==Kt.body&&!(Kt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Kt.body}));case"blob":return an.pipe((0,p.U)(Kt=>{if(null!==Kt.body&&!(Kt.body instanceof Blob))throw new Error("Response is not a Blob.");return Kt.body}));case"text":return an.pipe((0,p.U)(Kt=>{if(null!==Kt.body&&"string"!=typeof Kt.body)throw new Error("Response is not a string.");return Kt.body}));default:return an.pipe((0,p.U)(Kt=>Kt.body))}case"response":return an;default:throw new Error(`Unreachable: unhandled observe type ${vt.observe}}`)}}delete(ze,mt={}){return this.request("DELETE",ze,mt)}get(ze,mt={}){return this.request("GET",ze,mt)}head(ze,mt={}){return this.request("HEAD",ze,mt)}jsonp(ze,mt){return this.request("JSONP",ze,{params:(new b).append(mt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ze,mt={}){return this.request("OPTIONS",ze,mt)}patch(ze,mt,vt={}){return this.request("PATCH",ze,q(vt,mt))}post(ze,mt,vt={}){return this.request("POST",ze,q(vt,mt))}put(ze,mt,vt={}){return this.request("PUT",ze,q(vt,mt))}}return be.\u0275fac=function(ze){return new(ze||be)(c.LFG(d))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})();class de{constructor(Me,ze){this.next=Me,this.interceptor=ze}handle(Me){return this.interceptor.intercept(Me,this.next)}}const fe=new c.OlP("HTTP_INTERCEPTORS");let We=(()=>{class be{intercept(ze,mt){return mt.handle(ze)}}return be.\u0275fac=function(ze){return new(ze||be)},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})();const It=/^\)\]\}',?\n/;let Se=(()=>{class be{constructor(ze){this.xhrFactory=ze}handle(ze){if("JSONP"===ze.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new a.y(mt=>{const vt=this.xhrFactory.build();if(vt.open(ze.method,ze.urlWithParams),ze.withCredentials&&(vt.withCredentials=!0),ze.headers.forEach((Et,et)=>vt.setRequestHeader(Et,et.join(","))),ze.headers.has("Accept")||vt.setRequestHeader("Accept","application/json, text/plain, */*"),!ze.headers.has("Content-Type")){const Et=ze.detectContentTypeHeader();null!==Et&&vt.setRequestHeader("Content-Type",Et)}if(ze.responseType){const Et=ze.responseType.toLowerCase();vt.responseType="json"!==Et?Et:"text"}const Lt=ze.serializeBody();let Bt=null;const an=()=>{if(null!==Bt)return Bt;const Et=vt.statusText||"OK",et=new _(vt.getAllResponseHeaders()),nt=function De(be){return"responseURL"in be&&be.responseURL?be.responseURL:/^X-Request-URL:/m.test(be.getAllResponseHeaders())?be.getResponseHeader("X-Request-URL"):null}(vt)||ze.url;return Bt=new V({headers:et,status:vt.status,statusText:Et,url:nt}),Bt},Kt=()=>{let{headers:Et,status:et,statusText:nt,url:Be}=an(),Ce=null;204!==et&&(Ce=void 0===vt.response?vt.responseText:vt.response),0===et&&(et=Ce?200:0);let ke=et>=200&&et<300;if("json"===ze.responseType&&"string"==typeof Ce){const ve=Ce;Ce=Ce.replace(It,"");try{Ce=""!==Ce?JSON.parse(Ce):null}catch(ae){Ce=ve,ke&&(ke=!1,Ce={error:ae,text:Ce})}}ke?(mt.next(new ne({body:Ce,headers:Et,status:et,statusText:nt,url:Be||void 0})),mt.complete()):mt.error(new $({error:Ce,headers:Et,status:et,statusText:nt,url:Be||void 0}))},gt=Et=>{const{url:et}=an(),nt=new $({error:Et,status:vt.status||0,statusText:vt.statusText||"Unknown Error",url:et||void 0});mt.error(nt)};let xt=!1;const Nt=Et=>{xt||(mt.next(an()),xt=!0);let et={type:G.DownloadProgress,loaded:Et.loaded};Et.lengthComputable&&(et.total=Et.total),"text"===ze.responseType&&!!vt.responseText&&(et.partialText=vt.responseText),mt.next(et)},Ke=Et=>{let et={type:G.UploadProgress,loaded:Et.loaded};Et.lengthComputable&&(et.total=Et.total),mt.next(et)};return vt.addEventListener("load",Kt),vt.addEventListener("error",gt),vt.addEventListener("timeout",gt),vt.addEventListener("abort",gt),ze.reportProgress&&(vt.addEventListener("progress",Nt),null!==Lt&&vt.upload&&vt.upload.addEventListener("progress",Ke)),vt.send(Lt),mt.next({type:G.Sent}),()=>{vt.removeEventListener("error",gt),vt.removeEventListener("abort",gt),vt.removeEventListener("load",Kt),vt.removeEventListener("timeout",gt),ze.reportProgress&&(vt.removeEventListener("progress",Nt),null!==Lt&&vt.upload&&vt.upload.removeEventListener("progress",Ke)),vt.readyState!==vt.DONE&&vt.abort()}})}}return be.\u0275fac=function(ze){return new(ze||be)(c.LFG(o.JF))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})();const Ae=new c.OlP("XSRF_COOKIE_NAME"),lt=new c.OlP("XSRF_HEADER_NAME");class Ze{}let Rt=(()=>{class be{constructor(ze,mt,vt){this.doc=ze,this.platform=mt,this.cookieName=vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ze=this.doc.cookie||"";return ze!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,o.Mx)(ze,this.cookieName),this.lastCookieString=ze),this.lastToken}}return be.\u0275fac=function(ze){return new(ze||be)(c.LFG(o.K0),c.LFG(c.Lbi),c.LFG(Ae))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})(),Gt=(()=>{class be{constructor(ze,mt){this.tokenService=ze,this.headerName=mt}intercept(ze,mt){const vt=ze.url.toLowerCase();if("GET"===ze.method||"HEAD"===ze.method||vt.startsWith("http://")||vt.startsWith("https://"))return mt.handle(ze);const Lt=this.tokenService.getToken();return null!==Lt&&!ze.headers.has(this.headerName)&&(ze=ze.clone({headers:ze.headers.set(this.headerName,Lt)})),mt.handle(ze)}}return be.\u0275fac=function(ze){return new(ze||be)(c.LFG(Ze),c.LFG(lt))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})(),Xt=(()=>{class be{constructor(ze,mt){this.backend=ze,this.injector=mt,this.chain=null}handle(ze){if(null===this.chain){const mt=this.injector.get(fe,[]);this.chain=mt.reduceRight((vt,Lt)=>new de(vt,Lt),this.backend)}return this.chain.handle(ze)}}return be.\u0275fac=function(ze){return new(ze||be)(c.LFG(h),c.LFG(c.zs3))},be.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac}),be})(),me=(()=>{class be{static disable(){return{ngModule:be,providers:[{provide:Gt,useClass:We}]}}static withOptions(ze={}){return{ngModule:be,providers:[ze.cookieName?{provide:Ae,useValue:ze.cookieName}:[],ze.headerName?{provide:lt,useValue:ze.headerName}:[]]}}}return be.\u0275fac=function(ze){return new(ze||be)},be.\u0275mod=c.oAB({type:be}),be.\u0275inj=c.cJS({providers:[Gt,{provide:fe,useExisting:Gt,multi:!0},{provide:Ze,useClass:Rt},{provide:Ae,useValue:"XSRF-TOKEN"},{provide:lt,useValue:"X-XSRF-TOKEN"}]}),be})(),ce=(()=>{class be{}return be.\u0275fac=function(ze){return new(ze||be)},be.\u0275mod=c.oAB({type:be}),be.\u0275inj=c.cJS({providers:[X,{provide:d,useClass:Xt},Se,{provide:h,useExisting:Se}],imports:[[me.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),be})()},5e3:(ot,pe,r)=>{"use strict";r.d(pe,{$8M:()=>_a,$Z:()=>Zf,AFp:()=>pg,ALo:()=>N_,AaK:()=>d,AsE:()=>Lu,B6R:()=>Ee,BQk:()=>Nl,CHM:()=>cr,CRH:()=>W_,CZH:()=>sd,CqO:()=>Xf,DdM:()=>T_,EJc:()=>gS,EiD:()=>Yd,EpF:()=>Kf,F$t:()=>tp,F4k:()=>Qf,FYo:()=>v_,FiY:()=>pn,G48:()=>FS,Gf:()=>j_,GfV:()=>y_,GkF:()=>Su,Gpc:()=>e,Gre:()=>Lp,Hsn:()=>np,Ikx:()=>wu,JOm:()=>Hr,JVY:()=>ll,L6k:()=>cl,LAX:()=>dl,LFG:()=>Le,LSH:()=>Ec,Lbi:()=>mg,MAs:()=>kf,MGl:()=>Fl,N_p:()=>Gu,NdJ:()=>Cu,O4$:()=>eo,OlP:()=>Xi,Oqu:()=>Ru,PXZ:()=>PS,Q6J:()=>vu,QGY:()=>bu,Qsj:()=>gE,QtT:()=>h_,R0b:()=>Ir,RDi:()=>Co,Rgc:()=>za,SBq:()=>Ua,SDv:()=>d_,Sil:()=>vS,Suo:()=>z_,TTD:()=>yo,TgZ:()=>Ll,Tol:()=>mp,Udp:()=>Ou,VKq:()=>M_,VLi:()=>MS,W1O:()=>Q_,WFA:()=>Au,WLB:()=>O_,XFs:()=>kt,Xpm:()=>K,Y36:()=>Na,YKP:()=>b_,YNc:()=>Ff,Yjl:()=>rt,Yz7:()=>Re,ZZ4:()=>yd,Zx4:()=>f_,_Bn:()=>__,_UZ:()=>Eu,_Vd:()=>jl,_c5:()=>JS,_uU:()=>Ap,aQg:()=>Ed,c2e:()=>yg,cJS:()=>ht,cg1:()=>Nu,d8E:()=>xu,dDg:()=>bg,deG:()=>nc,dqk:()=>gt,eBb:()=>ul,eFA:()=>Dg,ekj:()=>Iu,evT:()=>nh,f3M:()=>U,g9A:()=>gg,h0i:()=>ua,hGG:()=>qS,hYB:()=>Mu,hij:()=>Bl,iGM:()=>V_,ifc:()=>vt,ip1:()=>fg,kEZ:()=>I_,kL8:()=>Hp,kcU:()=>xi,lG2:()=>at,lcZ:()=>F_,mCW:()=>hs,n5z:()=>Za,n_E:()=>Wl,oAB:()=>_t,oJD:()=>Zd,oxw:()=>ep,pB0:()=>hl,pQV:()=>$u,q3G:()=>lo,qLn:()=>yl,qOj:()=>uu,qZA:()=>wl,qzn:()=>qr,s9C:()=>Tu,sBO:()=>kS,sIi:()=>wa,s_b:()=>Zl,soG:()=>ld,tBr:()=>sn,tHW:()=>Bu,tb:()=>vg,tp0:()=>Pn,uIk:()=>fu,vHH:()=>s,vpe:()=>Yr,wAp:()=>kn,xi3:()=>k_,xp6:()=>Oh,yhl:()=>ba,ynx:()=>xl,z2F:()=>fd,z3N:()=>_r,zSh:()=>ru,zs3:()=>Dr});var o=r(7579),c=r(727),g=r(9751),a=r(6451),u=r(3099);function v(t){for(let n in t)if(t[n]===v)return n;throw Error("Could not find renamed property on target object.")}function p(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function h(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const _=v({__forward_ref__:v});function e(t){return t.__forward_ref__=e,t.toString=function(){return d(this())},t}function E(t){return f(t)?t():t}function f(t){return"function"==typeof t&&t.hasOwnProperty(_)&&t.__forward_ref__===e}class s extends Error{constructor(n,i){super(function C(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function A(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function S(t,n){const i=n?` in ${n}`:"";throw new s(-201,`No provider for ${A(t)} found${i}`)}function dt(t,n,i,l){throw new Error(`ASSERTION ERROR: ${t}`+(null==l?"":` [Expected=> ${i} ${l} ${n} <=Actual]`))}function Re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function It(t){return De(t,Ze)||De(t,Gt)}function De(t,n){return t.hasOwnProperty(n)?t[n]:null}function lt(t){return t&&(t.hasOwnProperty(Rt)||t.hasOwnProperty(Xt))?t[Rt]:null}const Ze=v({\u0275prov:v}),Rt=v({\u0275inj:v}),Gt=v({ngInjectableDef:v}),Xt=v({ngInjectorDef:v});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let qe;function ce(t){const n=qe;return qe=t,n}function Y(t,n,i){const l=It(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:i&kt.Optional?null:void 0!==n?n:void S(d(t),"Injector")}function be(t){return{toString:t}.toString()}var Me=(()=>((Me=Me||{})[Me.OnPush=0]="OnPush",Me[Me.Default=1]="Default",Me))(),vt=(()=>{return(t=vt||(vt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",vt;var t})();const Lt="undefined"!=typeof globalThis&&globalThis,Bt="undefined"!=typeof window&&window,an="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gt=Lt||"undefined"!=typeof global&&global||Bt||an,Ke={},Et=[],et=v({\u0275cmp:v}),nt=v({\u0275dir:v}),Be=v({\u0275pipe:v}),Ce=v({\u0275mod:v}),ke=v({\u0275fac:v}),ve=v({__NG_ELEMENT_ID__:v});let ae=0;function K(t){return be(()=>{const i={},l={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Me.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||vt.Emulated,id:"c",styles:t.styles||Et,_:null,setInput:null,schemas:t.schemas||null,tView:null},m=t.directives,M=t.features,F=t.pipes;return l.id+=ae++,l.inputs=yt(t.inputs,i),l.outputs=yt(t.outputs),M&&M.forEach(Z=>Z(l)),l.directiveDefs=m?()=>("function"==typeof m?m():m).map(he):null,l.pipeDefs=F?()=>("function"==typeof F?F():F).map(Fe):null,l})}function Ee(t,n,i){const l=t.\u0275cmp;l.directiveDefs=()=>n.map(he),l.pipeDefs=()=>i.map(Fe)}function he(t){return Ct(t)||function Ut(t){return t[nt]||null}(t)}function Fe(t){return function tn(t){return t[Be]||null}(t)}const Xe={};function _t(t){return be(()=>{const n={type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Xe[t.id]=t.type),n})}function yt(t,n){if(null==t)return Ke;const i={};for(const l in t)if(t.hasOwnProperty(l)){let m=t[l],M=m;Array.isArray(m)&&(M=m[1],m=m[0]),i[m]=l,n&&(n[m]=M)}return i}const at=K;function rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ct(t){return t[et]||null}function ln(t,n){const i=t[Ce]||null;if(!i&&!0===n)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return i}function te(t){return Array.isArray(t)&&"object"==typeof t[1]}function $e(t){return Array.isArray(t)&&!0===t[1]}function At(t){return 0!=(8&t.flags)}function Jt(t){return 2==(2&t.flags)}function on(t){return 1==(1&t.flags)}function Ln(t){return null!==t.template}function Bn(t){return 0!=(512&t[2])}function fi(t,n){return t.hasOwnProperty(ke)?t[ke]:null}class or{constructor(n,i,l){this.previousValue=n,this.currentValue=i,this.firstChange=l}isFirstChange(){return this.firstChange}}function yo(){return No}function No(t){return t.type.prototype.ngOnChanges&&(t.setInput=Eo),no}function no(){const t=Qi(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===Ke)t.previous=n;else for(let l in n)i[l]=n[l];t.current=null,this.ngOnChanges(n)}}function Eo(t,n,i,l){const m=Qi(t)||function So(t,n){return t[Ai]=n}(t,{previous:Ke,current:null}),M=m.current||(m.current={}),F=m.previous,Z=this.declaredInputs[i],ie=F[Z];M[Z]=new or(ie&&ie.currentValue,n,F===Ke),t[l]=n}yo.ngInherit=!0;const Ai="__ngSimpleChanges__";function Qi(t){return t[Ai]||null}let Po;function Co(t){Po=t}function ho(){return void 0!==Po?Po:"undefined"!=typeof document?document:void 0}function je(t){return!!t.listen}const w={createRenderer:(t,n)=>ho()};function B(t){for(;Array.isArray(t);)t=t[0];return t}function ct(t,n){return B(n[t])}function Pt(t,n){return B(n[t.index])}function en(t,n){return t.data[n]}function gn(t,n){return t[n]}function dn(t,n){const i=n[t];return te(i)?i:i[0]}function hn(t){return 4==(4&t[2])}function In(t){return 128==(128&t[2])}function Wn(t,n){return null==n?null:t[n]}function ye(t){t[18]=0}function le(t,n){t[5]+=n;let i=t,l=t[3];for(;null!==l&&(1===n&&1===i[5]||-1===n&&0===i[5]);)l[5]+=n,i=l,l=l[3]}const J={lFrame:Rn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vi(){return J.bindingsEnabled}function Yt(){return J.lFrame.lView}function Un(){return J.lFrame.tView}function cr(t){return J.lFrame.contextLView=t,t[8]}function Mn(){let t=Vo();for(;null!==t&&64===t.type;)t=t.parent;return t}function Vo(){return J.lFrame.currentTNode}function $i(){const t=J.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function fo(t,n){const i=J.lFrame;i.currentTNode=t,i.isParent=n}function tr(){return J.lFrame.isParent}function Zr(){J.lFrame.isParent=!1}function vr(){return J.isInCheckNoChangesMode}function yr(t){J.isInCheckNoChangesMode=t}function oo(){const t=J.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function jo(){return J.lFrame.bindingIndex}function xe(){return J.lFrame.bindingIndex++}function N(t){const n=J.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}function ue(t){J.lFrame.inI18n=t}function Ge(t,n){const i=J.lFrame;i.bindingIndex=i.bindingRootIndex=t,St(n)}function St(t){J.lFrame.currentDirectiveIndex=t}function bt(t){const n=J.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function Ft(){return J.lFrame.currentQueryIndex}function Wt(t){J.lFrame.currentQueryIndex=t}function fn(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function bn(t,n,i){if(i&kt.SkipSelf){let m=n,M=t;for(;!(m=m.parent,null!==m||i&kt.Host||(m=fn(M),null===m||(M=M[15],10&m.type))););if(null===m)return!1;n=m,t=M}const l=J.lFrame=Kn();return l.currentTNode=n,l.lView=t,!0}function xn(t){const n=Kn(),i=t[1];J.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Kn(){const t=J.lFrame,n=null===t?null:t.child;return null===n?Rn(t):n}function Rn(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Hn(){const t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const li=Hn;function wi(){const t=Hn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ci(){return J.lFrame.selectedIndex}function po(t){J.lFrame.selectedIndex=t}function ai(){const t=J.lFrame;return en(t.tView,t.selectedIndex)}function eo(){J.lFrame.currentNamespace="svg"}function xi(){!function Wo(){J.lFrame.currentNamespace=null}()}function Ao(t,n){for(let i=n.directiveStart,l=n.directiveEnd;i<l;i++){const M=t.data[i].type.prototype,{ngAfterContentInit:F,ngAfterContentChecked:Z,ngAfterViewInit:ie,ngAfterViewChecked:Oe,ngOnDestroy:Ue}=M;F&&(t.contentHooks||(t.contentHooks=[])).push(-i,F),Z&&((t.contentHooks||(t.contentHooks=[])).push(i,Z),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,Z)),ie&&(t.viewHooks||(t.viewHooks=[])).push(-i,ie),Oe&&((t.viewHooks||(t.viewHooks=[])).push(i,Oe),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,Oe)),null!=Ue&&(t.destroyHooks||(t.destroyHooks=[])).push(i,Ue)}}function Fo(t,n,i){Tn(t,n,3,i)}function Er(t,n,i,l){(3&t[2])===i&&Tn(t,n,i,l)}function mn(t,n){let i=t[2];(3&i)===n&&(i&=2047,i+=1,t[2]=i)}function Tn(t,n,i,l){const M=null!=l?l:-1,F=n.length-1;let Z=0;for(let ie=void 0!==l?65535&t[18]:0;ie<F;ie++)if("number"==typeof n[ie+1]){if(Z=n[ie],null!=l&&Z>=l)break}else n[ie]<0&&(t[18]+=65536),(Z<M||-1==M)&&(Fn(t,i,n,ie),t[18]=(4294901760&t[18])+ie+2),ie++}function Fn(t,n,i,l){const m=i[l]<0,M=i[l+1],Z=t[m?-i[l]:i[l]];if(m){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{M.call(Z)}finally{}}}else try{M.call(Z)}finally{}}class Ni{constructor(n,i,l){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=l}}function Ro(t,n,i){const l=je(t);let m=0;for(;m<i.length;){const M=i[m];if("number"==typeof M){if(0!==M)break;m++;const F=i[m++],Z=i[m++],ie=i[m++];l?t.setAttribute(n,Z,ie,F):n.setAttributeNS(F,Z,ie)}else{const F=M,Z=i[++m];dr(F)?l&&t.setProperty(n,F,Z):l?t.setAttribute(n,F,Z):n.setAttribute(F,Z),m++}}return m}function Yo(t){return 3===t||4===t||6===t}function dr(t){return 64===t.charCodeAt(0)}function wr(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let l=0;l<n.length;l++){const m=n[l];"number"==typeof m?i=m:0===i||xs(t,i,m,null,-1===i||2===i?n[++l]:null)}}return t}function xs(t,n,i,l,m){let M=0,F=t.length;if(-1===n)F=-1;else for(;M<t.length;){const Z=t[M++];if("number"==typeof Z){if(Z===n){F=-1;break}if(Z>n){F=M-1;break}}}for(;M<t.length;){const Z=t[M];if("number"==typeof Z)break;if(Z===i){if(null===l)return void(null!==m&&(t[M+1]=m));if(l===t[M+1])return void(t[M+2]=m)}M++,null!==l&&M++,null!==m&&M++}-1!==F&&(t.splice(F,0,n),M=F+1),t.splice(M++,0,i),null!==l&&t.splice(M++,0,l),null!==m&&t.splice(M++,0,m)}function Ns(t){return-1!==t}function hr(t){return 32767&t}function xr(t,n){let i=function fa(t){return t>>16}(t),l=n;for(;i>0;)l=l[15],i--;return l}let is=!0;function os(t){const n=is;return is=t,n}let z=0;function Te(t,n){const i=ft(t,n);if(-1!==i)return i;const l=n[1];l.firstCreatePass&&(t.injectorIndex=n.length,Ye(l.data,t),Ye(n,null),Ye(l.blueprint,null));const m=Mt(t,n),M=t.injectorIndex;if(Ns(m)){const F=hr(m),Z=xr(m,n),ie=Z[1].data;for(let Oe=0;Oe<8;Oe++)n[M+Oe]=Z[F+Oe]|ie[F+Oe]}return n[M+8]=m,M}function Ye(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ft(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Mt(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,l=null,m=n;for(;null!==m;){const M=m[1],F=M.type;if(l=2===F?M.declTNode:1===F?m[6]:null,null===l)return-1;if(i++,m=m[15],-1!==l.injectorIndex)return l.injectorIndex|i<<16}return-1}function jt(t,n,i){!function _e(t,n,i){let l;"string"==typeof i?l=i.charCodeAt(0)||0:i.hasOwnProperty(ve)&&(l=i[ve]),null==l&&(l=i[ve]=z++);const m=255&l;n.data[t+(m>>5)]|=1<<m}(t,n,i)}function ti(t,n,i){if(i&kt.Optional)return t;S(n,"NodeInjector")}function An(t,n,i,l){if(i&kt.Optional&&void 0===l&&(l=null),0==(i&(kt.Self|kt.Host))){const m=t[9],M=ce(void 0);try{return m?m.get(n,l,i&kt.Optional):Y(n,l,i&kt.Optional)}finally{ce(M)}}return ti(l,n,i)}function bi(t,n,i,l=kt.Default,m){if(null!==t){const M=function Qr(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ve)?t[ve]:void 0;return"number"==typeof n?n>=0?255&n:nr:n}(i);if("function"==typeof M){if(!bn(n,t,l))return l&kt.Host?ti(m,i,l):An(n,i,l,m);try{const F=M(l);if(null!=F||l&kt.Optional)return F;S(i)}finally{li()}}else if("number"==typeof M){let F=null,Z=ft(t,n),ie=-1,Oe=l&kt.Host?n[16][6]:null;for((-1===Z||l&kt.SkipSelf)&&(ie=-1===Z?Mt(t,n):n[Z+8],-1!==ie&&Ya(l,!1)?(F=n[1],Z=hr(ie),n=xr(ie,n)):Z=-1);-1!==Z;){const Ue=n[1];if(Fs(M,Z,Ue.data)){const st=Sr(Z,n,i,F,l,Oe);if(st!==vi)return st}ie=n[Z+8],-1!==ie&&Ya(l,n[1].data[Z+8]===Oe)&&Fs(M,Z,n)?(F=Ue,Z=hr(ie),n=xr(ie,n)):Z=-1}}}return An(n,i,l,m)}const vi={};function nr(){return new rs(Mn(),Yt())}function Sr(t,n,i,l,m,M){const F=n[1],Z=F.data[t+8],Ue=Nr(Z,F,i,null==l?Jt(Z)&&is:l!=F&&0!=(3&Z.type),m&kt.Host&&M===Z);return null!==Ue?Fr(n,F,Ue,Z):vi}function Nr(t,n,i,l,m){const M=t.providerIndexes,F=n.data,Z=1048575&M,ie=t.directiveStart,Ue=M>>20,Ot=m?Z+Ue:t.directiveEnd;for(let wt=l?Z:Z+Ue;wt<Ot;wt++){const Zt=F[wt];if(wt<ie&&i===Zt||wt>=ie&&Zt.type===i)return wt}if(m){const wt=F[ie];if(wt&&Ln(wt)&&wt.type===i)return ie}return null}function Fr(t,n,i,l){let m=t[i];const M=n.data;if(function Do(t){return t instanceof Ni}(m)){const F=m;F.resolving&&function I(t,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new s(-200,`Circular dependency in DI detected for ${t}${i}`)}(A(M[i]));const Z=os(F.canSeeViewProviders);F.resolving=!0;const ie=F.injectImpl?ce(F.injectImpl):null;bn(t,l,kt.Default);try{m=t[i]=F.factory(void 0,M,t,l),n.firstCreatePass&&i>=l.directiveStart&&function sr(t,n,i){const{ngOnChanges:l,ngOnInit:m,ngDoCheck:M}=n.type.prototype;if(l){const F=No(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,F),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,F)}m&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,m),M&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,M),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,M))}(i,M[i],n)}finally{null!==ie&&ce(ie),os(Z),F.resolving=!1,li()}}return m}function Fs(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function Ya(t,n){return!(t&kt.Self||t&kt.Host&&n)}class rs{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,l){return bi(this._tNode,this._lView,n,l,i)}}function Za(t){return be(()=>{const n=t.prototype.constructor,i=n[ke]||pa(n),l=Object.prototype;let m=Object.getPrototypeOf(t.prototype).constructor;for(;m&&m!==l;){const M=m[ke]||pa(m);if(M&&M!==i)return M;m=Object.getPrototypeOf(m)}return M=>new M})}function pa(t){return f(t)?()=>{const n=pa(E(t));return n&&n()}:fi(t)}function _a(t){return function vn(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const l=i.length;let m=0;for(;m<l;){const M=i[m];if(Yo(M))break;if(0===M)m+=2;else if("number"==typeof M)for(m++;m<l&&"string"==typeof i[m];)m++;else{if(M===n)return i[m+1];m+=2}}}return null}(Mn(),t)}const as="__parameters__";function ls(t,n,i){return be(()=>{const l=function ma(t){return function(...i){if(t){const l=t(...i);for(const m in l)this[m]=l[m]}}}(n);function m(...M){if(this instanceof m)return l.apply(this,M),this;const F=new m(...M);return Z.annotation=F,Z;function Z(ie,Oe,Ue){const st=ie.hasOwnProperty(as)?ie[as]:Object.defineProperty(ie,as,{value:[]})[as];for(;st.length<=Ue;)st.push(null);return(st[Ue]=st[Ue]||[]).push(F),ie}}return i&&(m.prototype=Object.create(i.prototype)),m.prototype.ngMetadataName=t,m.annotationCls=m,m})}class Xi{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Re({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nc=new Xi("AnalyzeForEntryComponents");function Lo(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let l=t[i];Array.isArray(l)?(n===t&&(n=t.slice(0,i)),Lo(l,n)):n!==t&&n.push(l)}return n}function fr(t,n){t.forEach(i=>Array.isArray(i)?fr(i,n):n(i))}function ks(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function kr(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ys(t,n){const i=[];for(let l=0;l<t;l++)i.push(n);return i}function Zo(t,n,i){let l=cs(t,n);return l>=0?t[1|l]=i:(l=~l,function ac(t,n,i,l){let m=t.length;if(m==n)t.push(i,l);else if(1===m)t.push(l,t[0]),t[0]=i;else{for(m--,t.push(t[m-1],t[m]);m>n;)t[m]=t[m-2],m--;t[n]=i,t[n+1]=l}}(t,l,n,i)),l}function ya(t,n){const i=cs(t,n);if(i>=0)return t[1|i]}function cs(t,n){return function Ja(t,n,i){let l=0,m=t.length>>i;for(;m!==l;){const M=l+(m-l>>1),F=t[M<<i];if(n===F)return M<<i;F>n?m=M:l=M+1}return~(m<<i)}(t,n,1)}const Es={},Sa="__NG_DI_FLAG__",Gs="ngTempTokenPath",pc=/\n/gm,el="__source",tl=v({provide:String,useValue:v});let Ss;function nl(t){const n=Ss;return Ss=t,n}function H(t,n=kt.Default){if(void 0===Ss)throw new s(203,"");return null===Ss?Y(t,void 0,n):Ss.get(t,n&kt.Optional?null:void 0,n)}function Le(t,n=kt.Default){return(function me(){return qe}()||H)(E(t),n)}const U=Le;function Pe(t){const n=[];for(let i=0;i<t.length;i++){const l=E(t[i]);if(Array.isArray(l)){if(0===l.length)throw new s(900,"");let m,M=kt.Default;for(let F=0;F<l.length;F++){const Z=l[F],ie=Dt(Z);"number"==typeof ie?-1===ie?m=Z.token:M|=ie:m=Z}n.push(Le(m,M))}else n.push(Le(l))}return n}function tt(t,n){return t[Sa]=n,t.prototype[Sa]=n,t}function Dt(t){return t[Sa]}const sn=tt(ls("Inject",t=>({token:t})),-1),pn=tt(ls("Optional"),8),Pn=tt(ls("SkipSelf"),4);let Br,Gr;function pr(t){var n;return(null===(n=function Xr(){if(void 0===Br&&(Br=null,gt.trustedTypes))try{Br=gt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Br}())||void 0===n?void 0:n.createHTML(t))||t}function us(t){var n;return(null===(n=function Jr(){if(void 0===Gr&&(Gr=null,gt.trustedTypes))try{Gr=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Gr}())||void 0===n?void 0:n.createHTML(t))||t}class $r{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class il extends $r{getTypeName(){return"HTML"}}class ol extends $r{getTypeName(){return"Style"}}class rl extends $r{getTypeName(){return"Script"}}class sl extends $r{getTypeName(){return"URL"}}class al extends $r{getTypeName(){return"ResourceURL"}}function _r(t){return t instanceof $r?t.changingThisBreaksApplicationSecurity:t}function qr(t,n){const i=ba(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function ba(t){return t instanceof $r&&t.getTypeName()||null}function ll(t){return new il(t)}function cl(t){return new ol(t)}function ul(t){return new rl(t)}function dl(t){return new sl(t)}function hl(t){return new al(t)}function Ca(t){const n=new pl(t);return function _l(){try{return!!(new window.DOMParser).parseFromString(pr(""),"text/html")}catch(t){return!1}}()?new fl(n):n}class fl{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(pr(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class pl{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const l=this.inertDocument.createElement("body");i.appendChild(l)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=pr(n),i;const l=this.inertDocument.createElement("body");return l.innerHTML=pr(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(n){const i=n.attributes;for(let m=i.length-1;0<m;m--){const F=i.item(m).name;("xmlns:ns1"===F||0===F.indexOf("ns1:"))&&n.removeAttribute(F)}let l=n.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const gl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ml=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hs(t){return(t=String(t)).match(gl)||t.match(ml)?t:"unsafe:"+t}function Aa(t){return(t=String(t)).split(",").map(n=>hs(n.trim())).join(", ")}function _n(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function Da(...t){const n={};for(const i of t)for(const l in i)i.hasOwnProperty(l)&&(n[l]=!0);return n}const Hd=_n("area,br,col,hr,img,wbr"),Vd=_n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jd=_n("rp,rt"),gc=Da(Hd,Da(Vd,_n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Da(jd,_n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Da(jd,Vd)),mc=_n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vc=_n("srcset"),zd=Da(mc,vc,_n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ug=_n("script,style,template");class Hg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,l=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?l=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,l&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let m=this.checkClobberedElement(i,i.nextSibling);if(m){i=m;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!gc.hasOwnProperty(i))return this.sanitizedSomething=!0,!Ug.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const l=n.attributes;for(let m=0;m<l.length;m++){const M=l.item(m),F=M.name,Z=F.toLowerCase();if(!zd.hasOwnProperty(Z)){this.sanitizedSomething=!0;continue}let ie=M.value;mc[Z]&&(ie=hs(ie)),vc[Z]&&(ie=Aa(ie)),this.buf.push(" ",F,'="',Wd(ie),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();gc.hasOwnProperty(i)&&!Hd.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Wd(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const Vg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jg=/([^\#-~ |!])/g;function Wd(t){return t.replace(/&/g,"&amp;").replace(Vg,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(jg,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vl;function Yd(t,n){let i=null;try{vl=vl||Ca(t);let l=n?String(n):"";i=vl.getInertBodyElement(l);let m=5,M=l;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,l=M,M=i.innerHTML,i=vl.getInertBodyElement(l)}while(l!==M);return pr((new Hg).sanitizeChildren(yc(i)||i))}finally{if(i){const l=yc(i)||i;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function yc(t){return"content"in t&&function zg(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lo=(()=>((lo=lo||{})[lo.NONE=0]="NONE",lo[lo.HTML=1]="HTML",lo[lo.STYLE=2]="STYLE",lo[lo.SCRIPT=3]="SCRIPT",lo[lo.URL=4]="URL",lo[lo.RESOURCE_URL=5]="RESOURCE_URL",lo))();function Zd(t){const n=Ta();return n?us(n.sanitize(lo.HTML,t)||""):qr(t,"HTML")?us(_r(t)):Yd(ho(),b(t))}function Ec(t){const n=Ta();return n?n.sanitize(lo.URL,t)||"":qr(t,"URL")?_r(t):hs(b(t))}function Ta(){const t=Yt();return t&&t[12]}const Xd="__ngContext__";function ko(t,n){t[Xd]=n}function bc(t){const n=function Ma(t){return t[Xd]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Ac(t){return t.ngOriginalError}function am(t,...n){t.error(...n)}class yl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),l=function sm(t){return t&&t.ngErrorLogger||am}(n);l(this._console,"ERROR",n),i&&l(this._console,"ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Ac(n);for(;i&&Ac(i);)i=Ac(i);return i||null}}const um=/^>|^->|<!--|-->|--!>|<!-$/g,dm=/(<|>)/;const mm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gt))();function nh(t){return t.ownerDocument}function Ur(t){return t instanceof Function?t():t}var Hr=(()=>((Hr=Hr||{})[Hr.Important=1]="Important",Hr[Hr.DashCase=2]="DashCase",Hr))();let Dc;function Tc(t,n){return Dc(t,n)}function Oa(t){const n=t[3];return $e(n)?n[3]:n}function Mc(t){return ah(t[13])}function Oc(t){return ah(t[4])}function ah(t){for(;null!==t&&!$e(t);)t=t[4];return t}function Vs(t,n,i,l,m){if(null!=l){let M,F=!1;$e(l)?M=l:te(l)&&(F=!0,l=l[0]);const Z=B(l);0===t&&null!==i?null==m?fh(n,i,Z):Os(n,i,Z,m||null,!0):1===t&&null!==i?Os(n,i,Z,m||null,!0):2===t?Eh(n,Z,F):3===t&&n.destroyNode(Z),null!=M&&function wm(t,n,i,l,m){const M=i[7];M!==B(i)&&Vs(n,t,l,M,m);for(let Z=10;Z<i.length;Z++){const ie=i[Z];Ia(ie[1],ie,t,n,l,M)}}(n,t,M,i,m)}}function Ic(t,n){return je(t)?t.createText(n):t.createTextNode(n)}function lh(t,n,i){je(t)?t.setValue(n,i):n.textContent=i}function Sm(t,n){return t.createComment(function th(t){return t.replace(um,n=>n.replace(dm,"\u200b$1\u200b"))}(n))}function Pc(t,n,i){if(je(t))return t.createElement(n,i);{const l=null!==i?function bo(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(i):null;return null===l?t.createElement(n):t.createElementNS(l,n)}}function ch(t,n){const i=t[9],l=i.indexOf(n),m=n[3];1024&n[2]&&(n[2]&=-1025,le(m,-1)),i.splice(l,1)}function Rc(t,n){if(t.length<=10)return;const i=10+n,l=t[i];if(l){const m=l[17];null!==m&&m!==t&&ch(m,l),n>0&&(t[i-1][4]=l[4]);const M=kr(t,10+n);!function bm(t,n){Ia(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(l[1],l);const F=M[19];null!==F&&F.detachView(M[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function uh(t,n){if(!(256&n[2])){const i=n[11];je(i)&&i.destroyNode&&Ia(t,n,i,3,null,null),function Dm(t){let n=t[13];if(!n)return Lc(t[1],t);for(;n;){let i=null;if(te(n))i=n[13];else{const l=n[10];l&&(i=l)}if(!i){for(;n&&!n[4]&&n!==t;)te(n)&&Lc(n[1],n),n=n[3];null===n&&(n=t),te(n)&&Lc(n[1],n),i=n&&n[4]}n=i}}(n)}}function Lc(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function Im(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let l=0;l<i.length;l+=2){const m=n[i[l]];if(!(m instanceof Ni)){const M=i[l+1];if(Array.isArray(M))for(let F=0;F<M.length;F+=2){const Z=m[M[F]],ie=M[F+1];try{ie.call(Z)}finally{}}else try{M.call(m)}finally{}}}}(t,n),function Om(t,n){const i=t.cleanup,l=n[7];let m=-1;if(null!==i)for(let M=0;M<i.length-1;M+=2)if("string"==typeof i[M]){const F=i[M+1],Z="function"==typeof F?F(n):B(n[F]),ie=l[m=i[M+2]],Oe=i[M+3];"boolean"==typeof Oe?Z.removeEventListener(i[M],ie,Oe):Oe>=0?l[m=Oe]():l[m=-Oe].unsubscribe(),M+=2}else{const F=l[m=i[M+1]];i[M].call(F)}if(null!==l){for(let M=m+1;M<l.length;M++)l[M]();n[7]=null}}(t,n),1===n[1].type&&je(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&$e(n[3])){i!==n[3]&&ch(i,n);const l=n[19];null!==l&&l.detachView(t)}}}function dh(t,n,i){return hh(t,n.parent,i)}function hh(t,n,i){let l=n;for(;null!==l&&40&l.type;)l=(n=l).parent;if(null===l)return i[0];if(2&l.flags){const m=t.data[l.directiveStart].encapsulation;if(m===vt.None||m===vt.Emulated)return null}return Pt(l,i)}function Os(t,n,i,l,m){je(t)?t.insertBefore(n,i,l,m):n.insertBefore(i,l,m)}function fh(t,n,i){je(t)?t.appendChild(n,i):n.appendChild(i)}function ph(t,n,i,l,m){null!==l?Os(t,n,i,l,m):fh(t,n,i)}function El(t,n){return je(t)?t.parentNode(n):n.parentNode}function _h(t,n,i){return mh(t,n,i)}function gh(t,n,i){return 40&t.type?Pt(t,i):null}let wc,mh=gh;function vh(t,n){mh=t,wc=n}function Sl(t,n,i,l){const m=dh(t,l,n),M=n[11],Z=_h(l.parent||n[6],l,n);if(null!=m)if(Array.isArray(i))for(let ie=0;ie<i.length;ie++)ph(M,m,i[ie],Z,!1);else ph(M,m,i,Z,!1);void 0!==wc&&wc(M,l,n,i,m)}function bl(t,n){if(null!==n){const i=n.type;if(3&i)return Pt(n,t);if(4&i)return xc(-1,t[n.index]);if(8&i){const l=n.child;if(null!==l)return bl(t,l);{const m=t[n.index];return $e(m)?xc(-1,m):B(m)}}if(32&i)return Tc(n,t)()||B(t[n.index]);{const l=yh(t,n);return null!==l?Array.isArray(l)?l[0]:bl(Oa(t[16]),l):bl(t,n.next)}}return null}function yh(t,n){return null!==n?t[16][6].projection[n.projection]:null}function xc(t,n){const i=10+t+1;if(i<n.length){const l=n[i],m=l[1].firstChild;if(null!==m)return bl(l,m)}return n[7]}function Eh(t,n,i){const l=El(t,n);l&&function Pm(t,n,i,l){je(t)?t.removeChild(n,i,l):n.removeChild(i)}(t,l,n,i)}function Nc(t,n,i,l,m,M,F){for(;null!=i;){const Z=l[i.index],ie=i.type;if(F&&0===n&&(Z&&ko(B(Z),l),i.flags|=4),64!=(64&i.flags))if(8&ie)Nc(t,n,i.child,l,m,M,!1),Vs(n,t,m,Z,M);else if(32&ie){const Oe=Tc(i,l);let Ue;for(;Ue=Oe();)Vs(n,t,m,Ue,M);Vs(n,t,m,Z,M)}else 16&ie?Sh(t,n,l,i,m,M):Vs(n,t,m,Z,M);i=F?i.projectionNext:i.next}}function Ia(t,n,i,l,m,M){Nc(i,l,t.firstChild,n,m,M,!1)}function Sh(t,n,i,l,m,M){const F=i[16],ie=F[6].projection[l.projection];if(Array.isArray(ie))for(let Oe=0;Oe<ie.length;Oe++)Vs(n,t,m,ie[Oe],M);else Nc(t,n,ie,F[3],m,M,!0)}function bh(t,n,i){je(t)?t.setAttribute(n,"style",i):n.style.cssText=i}function Fc(t,n,i){je(t)?""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i):n.className=i}function Ch(t,n,i){let l=t.length;for(;;){const m=t.indexOf(n,i);if(-1===m)return m;if(0===m||t.charCodeAt(m-1)<=32){const M=n.length;if(m+M===l||t.charCodeAt(m+M)<=32)return m}i=m+1}}const Ah="ng-template";function Nm(t,n,i){let l=0;for(;l<t.length;){let m=t[l++];if(i&&"class"===m){if(m=t[l],-1!==Ch(m.toLowerCase(),n,0))return!0}else if(1===m){for(;l<t.length&&"string"==typeof(m=t[l++]);)if(m.toLowerCase()===n)return!0;return!1}}return!1}function Dh(t){return 4===t.type&&t.value!==Ah}function Fm(t,n,i){return n===(4!==t.type||i?t.value:Ah)}function km(t,n,i){let l=4;const m=t.attrs||[],M=function $m(t){for(let n=0;n<t.length;n++)if(Yo(t[n]))return n;return t.length}(m);let F=!1;for(let Z=0;Z<n.length;Z++){const ie=n[Z];if("number"!=typeof ie){if(!F)if(4&l){if(l=2|1&l,""!==ie&&!Fm(t,ie,i)||""===ie&&1===n.length){if(Cr(l))return!1;F=!0}}else{const Oe=8&l?ie:n[++Z];if(8&l&&null!==t.attrs){if(!Nm(t.attrs,Oe,i)){if(Cr(l))return!1;F=!0}continue}const st=Bm(8&l?"class":ie,m,Dh(t),i);if(-1===st){if(Cr(l))return!1;F=!0;continue}if(""!==Oe){let Ot;Ot=st>M?"":m[st+1].toLowerCase();const wt=8&l?Ot:null;if(wt&&-1!==Ch(wt,Oe,0)||2&l&&Oe!==Ot){if(Cr(l))return!1;F=!0}}}}else{if(!F&&!Cr(l)&&!Cr(ie))return!1;if(F&&Cr(ie))continue;F=!1,l=ie|1&l}}return Cr(l)||F}function Cr(t){return 0==(1&t)}function Bm(t,n,i,l){if(null===n)return-1;let m=0;if(l||!i){let M=!1;for(;m<n.length;){const F=n[m];if(F===t)return m;if(3===F||6===F)M=!0;else{if(1===F||2===F){let Z=n[++m];for(;"string"==typeof Z;)Z=n[++m];continue}if(4===F)break;if(0===F){m+=4;continue}}m+=M?1:2}return-1}return function Um(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const l=t[i];if("number"==typeof l)return-1;if(l===n)return i;i++}return-1}(n,t)}function Th(t,n,i=!1){for(let l=0;l<n.length;l++)if(km(t,n[l],i))return!0;return!1}function Hm(t,n){e:for(let i=0;i<n.length;i++){const l=n[i];if(t.length===l.length){for(let m=0;m<t.length;m++)if(t[m]!==l[m])continue e;return!0}}return!1}function Mh(t,n){return t?":not("+n.trim()+")":n}function Vm(t){let n=t[0],i=1,l=2,m="",M=!1;for(;i<t.length;){let F=t[i];if("string"==typeof F)if(2&l){const Z=t[++i];m+="["+F+(Z.length>0?'="'+Z+'"':"")+"]"}else 8&l?m+="."+F:4&l&&(m+=" "+F);else""!==m&&!Cr(F)&&(n+=Mh(M,m),m=""),l=F,M=M||!Cr(l);i++}return""!==m&&(n+=Mh(M,m)),n}const Jn={};function Oh(t){Ih(Un(),Yt(),ci()+t,vr())}function Ih(t,n,i,l){if(!l)if(3==(3&n[2])){const M=t.preOrderCheckHooks;null!==M&&Fo(n,M,i)}else{const M=t.preOrderHooks;null!==M&&Er(n,M,0,i)}po(i)}function Cl(t,n){return t<<17|n<<2}function Ar(t){return t>>17&32767}function kc(t){return 2|t}function es(t){return(131068&t)>>2}function Bc(t,n){return-131069&t|n<<2}function Gc(t){return 1|t}function $h(t,n){const i=t.contentQueries;if(null!==i)for(let l=0;l<i.length;l+=2){const m=i[l],M=i[l+1];if(-1!==M){const F=t.data[M];Wt(m),F.contentQueries(2,n[M],M)}}}function Pa(t,n,i,l,m,M,F,Z,ie,Oe){const Ue=n.blueprint.slice();return Ue[0]=m,Ue[2]=140|l,ye(Ue),Ue[3]=Ue[15]=t,Ue[8]=i,Ue[10]=F||t&&t[10],Ue[11]=Z||t&&t[11],Ue[12]=ie||t&&t[12]||null,Ue[9]=Oe||t&&t[9]||null,Ue[6]=M,Ue[16]=2==n.type?t[16]:Ue,Ue}function js(t,n,i,l,m){let M=t.data[n];if(null===M)M=Zc(t,n,i,l,m),function j(){return J.lFrame.inI18n}()&&(M.flags|=64);else if(64&M.type){M.type=i,M.value=l,M.attrs=m;const F=$i();M.injectorIndex=null===F?-1:F.injectorIndex}return fo(M,!0),M}function Zc(t,n,i,l,m){const M=Vo(),F=tr(),ie=t.data[n]=function av(t,n,i,l,m,M){return{type:i,index:l,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:M,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,F?M:M&&M.parent,i,n,l,m);return null===t.firstChild&&(t.firstChild=ie),null!==M&&(F?null==M.child&&null!==ie.parent&&(M.child=ie):null===M.next&&(M.next=ie)),ie}function zs(t,n,i,l){if(0===i)return-1;const m=n.length;for(let M=0;M<i;M++)n.push(l),t.blueprint.push(l),t.data.push(null);return m}function Ra(t,n,i){xn(n);try{const l=t.viewQuery;null!==l&&iu(1,l,i);const m=t.template;null!==m&&Uh(t,n,m,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$h(t,n),t.staticViewQueries&&iu(2,t.viewQuery,i);const M=t.components;null!==M&&function ov(t,n){for(let i=0;i<n.length;i++)Dv(t,n[i])}(n,M)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{n[2]&=-5,wi()}}function Ws(t,n,i,l){const m=n[2];if(256==(256&m))return;xn(n);const M=vr();try{ye(n),function _s(t){return J.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Uh(t,n,i,2,l);const F=3==(3&m);if(!M)if(F){const Oe=t.preOrderCheckHooks;null!==Oe&&Fo(n,Oe,null)}else{const Oe=t.preOrderHooks;null!==Oe&&Er(n,Oe,0,null),mn(n,0)}if(function Cv(t){for(let n=Mc(t);null!==n;n=Oc(n)){if(!n[2])continue;const i=n[9];for(let l=0;l<i.length;l++){const m=i[l],M=m[3];0==(1024&m[2])&&le(M,1),m[2]|=1024}}}(n),function bv(t){for(let n=Mc(t);null!==n;n=Oc(n))for(let i=10;i<n.length;i++){const l=n[i],m=l[1];In(l)&&Ws(m,l,m.template,l[8])}}(n),null!==t.contentQueries&&$h(t,n),!M)if(F){const Oe=t.contentCheckHooks;null!==Oe&&Fo(n,Oe)}else{const Oe=t.contentHooks;null!==Oe&&Er(n,Oe,1),mn(n,1)}!function nv(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let l=0;l<i.length;l++){const m=i[l];if(m<0)po(~m);else{const M=m,F=i[++l],Z=i[++l];Ge(F,M),Z(2,n[M])}}}finally{po(-1)}}(t,n);const Z=t.components;null!==Z&&function iv(t,n){for(let i=0;i<n.length;i++)Av(t,n[i])}(n,Z);const ie=t.viewQuery;if(null!==ie&&iu(2,ie,l),!M)if(F){const Oe=t.viewCheckHooks;null!==Oe&&Fo(n,Oe)}else{const Oe=t.viewHooks;null!==Oe&&Er(n,Oe,2),mn(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),M||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,le(n[3],-1))}finally{wi()}}function rv(t,n,i,l){const m=n[10],M=!vr(),F=hn(n);try{M&&!F&&m.begin&&m.begin(),F&&Ra(t,n,l),Ws(t,n,i,l)}finally{M&&!F&&m.end&&m.end()}}function Uh(t,n,i,l,m){const M=ci(),F=2&l;try{po(-1),F&&n.length>20&&Ih(t,n,20,vr()),i(l,m)}finally{po(M)}}function Hh(t,n,i){if(At(n)){const m=n.directiveEnd;for(let M=n.directiveStart;M<m;M++){const F=t.data[M];F.contentQueries&&F.contentQueries(1,i[M],M)}}}function Kc(t,n,i){!Vi()||(function pv(t,n,i,l){const m=i.directiveStart,M=i.directiveEnd;t.firstCreatePass||Te(i,n),ko(l,n);const F=i.initialInputs;for(let Z=m;Z<M;Z++){const ie=t.data[Z],Oe=Ln(ie);Oe&&yv(n,i,ie);const Ue=Fr(n,t,Z,i);ko(Ue,n),null!==F&&Ev(0,Z-m,Ue,ie,0,F),Oe&&(dn(i.index,n)[8]=Ue)}}(t,n,i,Pt(i,n)),128==(128&i.flags)&&function _v(t,n,i){const l=i.directiveStart,m=i.directiveEnd,F=i.index,Z=function it(){return J.lFrame.currentDirectiveIndex}();try{po(F);for(let ie=l;ie<m;ie++){const Oe=t.data[ie],Ue=n[ie];St(ie),(null!==Oe.hostBindings||0!==Oe.hostVars||null!==Oe.hostAttrs)&&Qh(Oe,Ue)}}finally{po(-1),St(Z)}}(t,n,i))}function Qc(t,n,i=Pt){const l=n.localNames;if(null!==l){let m=n.index+1;for(let M=0;M<l.length;M+=2){const F=l[M+1],Z=-1===F?i(n,t):t[F];t[m++]=Z}}}function Vh(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Tl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Tl(t,n,i,l,m,M,F,Z,ie,Oe){const Ue=20+l,st=Ue+m,Ot=function sv(t,n){const i=[];for(let l=0;l<n;l++)i.push(l<t?null:Jn);return i}(Ue,st),wt="function"==typeof Oe?Oe():Oe;return Ot[1]={type:t,blueprint:Ot,template:i,queries:null,viewQuery:Z,declTNode:n,data:Ot.slice().fill(null,Ue),bindingStartIndex:Ue,expandoStartIndex:st,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof F?F():F,firstChild:null,schemas:ie,consts:wt,incompleteFirstPass:!1}}function Wh(t,n,i,l){const m=nf(n);null===i?m.push(l):(m.push(i),t.firstCreatePass&&rf(t).push(l,m.length-1))}function Yh(t,n,i){for(let l in t)if(t.hasOwnProperty(l)){const m=t[l];(i=null===i?{}:i).hasOwnProperty(l)?i[l].push(n,m):i[l]=[n,m]}return i}function ar(t,n,i,l,m,M,F,Z){const ie=Pt(n,i);let Ue,Oe=n.inputs;!Z&&null!=Oe&&(Ue=Oe[l])?(lf(t,i,Ue,l,m),Jt(n)&&function uv(t,n){const i=dn(n,t);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(l=function cv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),m=null!=F?F(m,n.value||"",l):m,je(M)?M.setProperty(ie,l,m):dr(l)||(ie.setProperty?ie.setProperty(l,m):ie[l]=m))}function Xc(t,n,i,l){let m=!1;if(Vi()){const M=function gv(t,n,i){const l=t.directiveRegistry;let m=null;if(l)for(let M=0;M<l.length;M++){const F=l[M];Th(i,F.selectors,!1)&&(m||(m=[]),jt(Te(i,n),t,F.type),Ln(F)?(Xh(t,i),m.unshift(F)):m.push(F))}return m}(t,n,i),F=null===l?null:{"":-1};if(null!==M){m=!0,Jh(i,t.data.length,M.length);for(let Ue=0;Ue<M.length;Ue++){const st=M[Ue];st.providersResolver&&st.providersResolver(st)}let Z=!1,ie=!1,Oe=zs(t,n,M.length,null);for(let Ue=0;Ue<M.length;Ue++){const st=M[Ue];i.mergedAttrs=wr(i.mergedAttrs,st.hostAttrs),qh(t,i,n,Oe,st),vv(Oe,st,F),null!==st.contentQueries&&(i.flags|=8),(null!==st.hostBindings||null!==st.hostAttrs||0!==st.hostVars)&&(i.flags|=128);const Ot=st.type.prototype;!Z&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),Z=!0),!ie&&(Ot.ngOnChanges||Ot.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),ie=!0),Oe++}!function lv(t,n){const l=n.directiveEnd,m=t.data,M=n.attrs,F=[];let Z=null,ie=null;for(let Oe=n.directiveStart;Oe<l;Oe++){const Ue=m[Oe],st=Ue.inputs,Ot=null===M||Dh(n)?null:Sv(st,M);F.push(Ot),Z=Yh(st,Oe,Z),ie=Yh(Ue.outputs,Oe,ie)}null!==Z&&(Z.hasOwnProperty("class")&&(n.flags|=16),Z.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=F,n.inputs=Z,n.outputs=ie}(t,i)}F&&function mv(t,n,i){if(n){const l=t.localNames=[];for(let m=0;m<n.length;m+=2){const M=i[n[m+1]];if(null==M)throw new s(-301,!1);l.push(n[m],M)}}}(i,l,F)}return i.mergedAttrs=wr(i.mergedAttrs,i.attrs),m}function Kh(t,n,i,l,m,M){const F=M.hostBindings;if(F){let Z=t.hostBindingOpCodes;null===Z&&(Z=t.hostBindingOpCodes=[]);const ie=~n.index;(function fv(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(Z)!=ie&&Z.push(ie),Z.push(l,m,F)}}function Qh(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Xh(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function vv(t,n,i){if(i){if(n.exportAs)for(let l=0;l<n.exportAs.length;l++)i[n.exportAs[l]]=t;Ln(n)&&(i[""]=t)}}function Jh(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function qh(t,n,i,l,m){t.data[l]=m;const M=m.factory||(m.factory=fi(m.type)),F=new Ni(M,Ln(m),null);t.blueprint[l]=F,i[l]=F,Kh(t,n,0,l,zs(t,i,m.hostVars,Jn),m)}function yv(t,n,i){const l=Pt(n,t),m=Vh(i),M=t[10],F=Ml(t,Pa(t,m,null,i.onPush?64:16,l,n,M,M.createRenderer(l,i),null,null));t[n.index]=F}function Jc(t,n,i,l,m,M,F){if(null==M)je(t)?t.removeAttribute(n,m,i):n.removeAttribute(m);else{const Z=null==F?b(M):F(M,l||"",m);je(t)?t.setAttribute(n,m,Z,i):i?n.setAttributeNS(i,m,Z):n.setAttribute(m,Z)}}function Ev(t,n,i,l,m,M){const F=M[n];if(null!==F){const Z=l.setInput;for(let ie=0;ie<F.length;){const Oe=F[ie++],Ue=F[ie++],st=F[ie++];null!==Z?l.setInput(i,st,Oe,Ue):i[Ue]=st}}}function Sv(t,n){let i=null,l=0;for(;l<n.length;){const m=n[l];if(0!==m)if(5!==m){if("number"==typeof m)break;t.hasOwnProperty(m)&&(null===i&&(i=[]),i.push(m,t[m],n[l+1])),l+=2}else l+=2;else l+=4}return i}function ef(t,n,i,l){return new Array(t,!0,!1,n,null,0,l,i,null,null)}function Av(t,n){const i=dn(n,t);if(In(i)){const l=i[1];80&i[2]?Ws(l,i,l.template,i[8]):i[5]>0&&qc(i)}}function qc(t){for(let l=Mc(t);null!==l;l=Oc(l))for(let m=10;m<l.length;m++){const M=l[m];if(1024&M[2]){const F=M[1];Ws(F,M,F.template,M[8])}else M[5]>0&&qc(M)}const i=t[1].components;if(null!==i)for(let l=0;l<i.length;l++){const m=dn(i[l],t);In(m)&&m[5]>0&&qc(m)}}function Dv(t,n){const i=dn(n,t),l=i[1];(function Tv(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])})(l,i),Ra(l,i,i[8])}function Ml(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function eu(t){for(;t;){t[2]|=64;const n=Oa(t);if(Bn(t)&&!n)return t;t=n}return null}function nu(t,n,i){const l=n[10];l.begin&&l.begin();try{Ws(t,n,t.template,i)}catch(m){throw af(n,m),m}finally{l.end&&l.end()}}function tf(t){!function tu(t){for(let n=0;n<t.components.length;n++){const i=t.components[n],l=bc(i),m=l[1];rv(m,l,m.template,i)}}(t[8])}function iu(t,n,i){Wt(0),n(t,i)}const Pv=(()=>Promise.resolve(null))();function nf(t){return t[7]||(t[7]=[])}function rf(t){return t.cleanup||(t.cleanup=[])}function sf(t,n,i){return(null===t||Ln(t))&&(i=function re(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(i[n.index])),i[11]}function af(t,n){const i=t[9],l=i?i.get(yl,null):null;l&&l.handleError(n)}function lf(t,n,i,l,m){for(let M=0;M<i.length;){const F=i[M++],Z=i[M++],ie=n[F],Oe=t.data[F];null!==Oe.setInput?Oe.setInput(ie,m,l,Z):ie[Z]=m}}function ts(t,n,i){const l=ct(n,t);lh(t[11],l,i)}function Ol(t,n,i){let l=i?t.styles:null,m=i?t.classes:null,M=0;if(null!==n)for(let F=0;F<n.length;F++){const Z=n[F];"number"==typeof Z?M=Z:1==M?m=h(m,Z):2==M&&(l=h(l,Z+": "+n[++F]+";"))}i?t.styles=l:t.stylesWithoutHost=l,i?t.classes=m:t.classesWithoutHost=m}const ou=new Xi("INJECTOR",-1);class cf{get(n,i=Es){if(i===Es){const l=new Error(`NullInjectorError: No provider for ${d(n)}!`);throw l.name="NullInjectorError",l}return i}}const ru=new Xi("Set Injector scope."),La={},wv={};let su;function uf(){return void 0===su&&(su=new cf),su}function df(t,n=null,i=null,l){const m=hf(t,n,i,l);return m._resolveInjectorDefTypes(),m}function hf(t,n=null,i=null,l){return new xv(t,i,n||uf(),l)}class xv{constructor(n,i,l,m=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const M=[];i&&fr(i,Z=>this.processProvider(Z,n,i)),fr([n],Z=>this.processInjectorType(Z,[],M)),this.records.set(ou,Ys(void 0,this));const F=this.records.get(ru);this.scope=null!=F?F.value:null,this.source=m||("object"==typeof n?null:d(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=Es,l=kt.Default){this.assertNotDestroyed();const m=nl(this),M=ce(void 0);try{if(!(l&kt.SkipSelf)){let Z=this.records.get(n);if(void 0===Z){const ie=function Hv(t){return"function"==typeof t||"object"==typeof t&&t instanceof Xi}(n)&&It(n);Z=ie&&this.injectableDefInScope(ie)?Ys(au(n),La):null,this.records.set(n,Z)}if(null!=Z)return this.hydrate(n,Z)}return(l&kt.Self?uf():this.parent).get(n,i=l&kt.Optional&&i===Es?null:i)}catch(F){if("NullInjectorError"===F.name){if((F[Gs]=F[Gs]||[]).unshift(d(n)),m)throw F;return function Tt(t,n,i,l){const m=t[Gs];throw n[el]&&m.unshift(n[el]),t.message=function qt(t,n,i,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let m=d(n);if(Array.isArray(n))m=n.map(d).join(" -> ");else if("object"==typeof n){let M=[];for(let F in n)if(n.hasOwnProperty(F)){let Z=n[F];M.push(F+":"+("string"==typeof Z?JSON.stringify(Z):d(Z)))}m=`{${M.join(", ")}}`}return`${i}${l?"("+l+")":""}[${m}]: ${t.replace(pc,"\n  ")}`}("\n"+t.message,m,i,l),t.ngTokenPath=m,t[Gs]=null,t}(F,n,"R3InjectorError",this.source)}throw F}finally{ce(M),nl(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((l,m)=>n.push(d(m))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new s(205,!1)}processInjectorType(n,i,l){if(!(n=E(n)))return!1;let m=lt(n);const M=null==m&&n.ngModule||void 0,F=void 0===M?n:M,Z=-1!==l.indexOf(F);if(void 0!==M&&(m=lt(M)),null==m)return!1;if(null!=m.imports&&!Z){let Ue;l.push(F);try{fr(m.imports,st=>{this.processInjectorType(st,i,l)&&(void 0===Ue&&(Ue=[]),Ue.push(st))})}finally{}if(void 0!==Ue)for(let st=0;st<Ue.length;st++){const{ngModule:Ot,providers:wt}=Ue[st];fr(wt,Zt=>this.processProvider(Zt,Ot,wt||Et))}}this.injectorDefTypes.add(F);const ie=fi(F)||(()=>new F);this.records.set(F,Ys(ie,La));const Oe=m.providers;if(null!=Oe&&!Z){const Ue=n;fr(Oe,st=>this.processProvider(st,Ue,Oe))}return void 0!==M&&void 0!==n.providers}processProvider(n,i,l){let m=Zs(n=E(n))?n:E(n&&n.provide);const M=function Fv(t,n,i){return pf(t)?Ys(void 0,t.useValue):Ys(ff(t),La)}(n);if(Zs(n)||!0!==n.multi)this.records.get(m);else{let F=this.records.get(m);F||(F=Ys(void 0,La,!0),F.factory=()=>Pe(F.multi),this.records.set(m,F)),m=n,F.multi.push(n)}this.records.set(m,M)}hydrate(n,i){return i.value===La&&(i.value=wv,i.value=i.factory()),"object"==typeof i.value&&i.value&&function Uv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this.onDestroy.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=E(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function au(t){const n=It(t),i=null!==n?n.factory:fi(t);if(null!==i)return i;if(t instanceof Xi)throw new s(204,!1);if(t instanceof Function)return function Nv(t){const n=t.length;if(n>0)throw ys(n,"?"),new s(204,!1);const i=function Se(t){const n=t&&(t[Ze]||t[Gt]);if(n){const i=function Ae(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new s(204,!1)}function ff(t,n,i){let l;if(Zs(t)){const m=E(t);return fi(m)||au(m)}if(pf(t))l=()=>E(t.useValue);else if(function Bv(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...Pe(t.deps||[]));else if(function kv(t){return!(!t||!t.useExisting)}(t))l=()=>Le(E(t.useExisting));else{const m=E(t&&(t.useClass||t.provide));if(!function $v(t){return!!t.deps}(t))return fi(m)||au(m);l=()=>new m(...Pe(t.deps))}return l}function Ys(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function pf(t){return null!==t&&"object"==typeof t&&tl in t}function Zs(t){return"function"==typeof t}let Dr=(()=>{class t{static create(i,l){var m;if(Array.isArray(i))return df({name:""},l,i,"");{const M=null!==(m=i.name)&&void 0!==m?m:"";return df({name:M},i.parent,i.providers,M)}}}return t.THROW_IF_NOT_FOUND=Es,t.NULL=new cf,t.\u0275prov=Re({token:t,providedIn:"any",factory:()=>Le(ou)}),t.__NG_ELEMENT_ID__=-1,t})();function Qv(t,n){Ao(bc(t)[1],Mn())}function uu(t){let n=function Tf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const l=[t];for(;n;){let m;if(Ln(t))m=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new s(903,"");m=n.\u0275dir}if(m){if(i){l.push(m);const F=t;F.inputs=du(t.inputs),F.declaredInputs=du(t.declaredInputs),F.outputs=du(t.outputs);const Z=m.hostBindings;Z&&e0(t,Z);const ie=m.viewQuery,Oe=m.contentQueries;if(ie&&Jv(t,ie),Oe&&qv(t,Oe),p(t.inputs,m.inputs),p(t.declaredInputs,m.declaredInputs),p(t.outputs,m.outputs),Ln(m)&&m.data.animation){const Ue=t.data;Ue.animation=(Ue.animation||[]).concat(m.data.animation)}}const M=m.features;if(M)for(let F=0;F<M.length;F++){const Z=M[F];Z&&Z.ngInherit&&Z(t),Z===uu&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Xv(t){let n=0,i=null;for(let l=t.length-1;l>=0;l--){const m=t[l];m.hostVars=n+=m.hostVars,m.hostAttrs=wr(m.hostAttrs,i=wr(i,m.hostAttrs))}}(l)}function du(t){return t===Ke?{}:t===Et?[]:t}function Jv(t,n){const i=t.viewQuery;t.viewQuery=i?(l,m)=>{n(l,m),i(l,m)}:n}function qv(t,n){const i=t.contentQueries;t.contentQueries=i?(l,m,M)=>{n(l,m,M),i(l,m,M)}:n}function e0(t,n){const i=t.hostBindings;t.hostBindings=i?(l,m)=>{n(l,m),i(l,m)}:n}let Il=null;function Ks(){if(!Il){const t=gt.Symbol;if(t&&t.iterator)Il=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const l=n[i];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Il=l)}}}return Il}function wa(t){return!!hu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ks()in t)}function hu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jr(t,n,i){return t[n]=i}function Bo(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function Is(t,n,i,l){const m=Bo(t,n,i);return Bo(t,n+1,l)||m}function fu(t,n,i,l){const m=Yt();return Bo(m,xe(),n)&&(Un(),function Vr(t,n,i,l,m,M){const F=Pt(t,n);Jc(n[11],F,M,t.value,i,l,m)}(ai(),m,t,n,i,l)),fu}function Xs(t,n,i,l){return Bo(t,xe(),i)?n+b(i)+l:Jn}function Js(t,n,i,l,m,M){const Z=Is(t,jo(),i,m);return N(2),Z?n+b(i)+l+b(m)+M:Jn}function Ff(t,n,i,l,m,M,F,Z){const ie=Yt(),Oe=Un(),Ue=t+20,st=Oe.firstCreatePass?function l0(t,n,i,l,m,M,F,Z,ie){const Oe=n.consts,Ue=js(n,t,4,F||null,Wn(Oe,Z));Xc(n,i,Ue,Wn(Oe,ie)),Ao(n,Ue);const st=Ue.tViews=Tl(2,Ue,l,m,M,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Oe);return null!==n.queries&&(n.queries.template(n,Ue),st.queries=n.queries.embeddedTView(Ue)),Ue}(Ue,Oe,ie,n,i,l,m,M,F):Oe.data[Ue];fo(st,!1);const Ot=ie[11].createComment("");Sl(Oe,ie,Ot,st),ko(Ot,ie),Ml(ie,ie[Ue]=ef(Ot,ie,Ot,st)),on(st)&&Kc(Oe,ie,st),null!=F&&Qc(ie,st,Z)}function kf(t){return gn(function Lr(){return J.lFrame.contextLView}(),20+t)}function Na(t,n=kt.Default){const i=Yt();return null===i?Le(t,n):bi(Mn(),i,E(t),n)}function Zf(){throw new Error("invalid")}function vu(t,n,i){const l=Yt();return Bo(l,xe(),n)&&ar(Un(),ai(),l,t,n,l[11],i,!1),vu}function yu(t,n,i,l,m){const F=m?"class":"style";lf(t,i,n.inputs[F],F,l)}function Ll(t,n,i,l){const m=Yt(),M=Un(),F=20+t,Z=m[11],ie=m[F]=Pc(Z,n,function Kr(){return J.lFrame.currentNamespace}()),Oe=M.firstCreatePass?function I0(t,n,i,l,m,M,F){const Z=n.consts,Oe=js(n,t,2,m,Wn(Z,M));return Xc(n,i,Oe,Wn(Z,F)),null!==Oe.attrs&&Ol(Oe,Oe.attrs,!1),null!==Oe.mergedAttrs&&Ol(Oe,Oe.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,Oe),Oe}(F,M,m,0,n,i,l):M.data[F];fo(Oe,!0);const Ue=Oe.mergedAttrs;null!==Ue&&Ro(Z,ie,Ue);const st=Oe.classes;null!==st&&Fc(Z,ie,st);const Ot=Oe.styles;return null!==Ot&&bh(Z,ie,Ot),64!=(64&Oe.flags)&&Sl(M,m,ie,Oe),0===function Ht(){return J.lFrame.elementDepthCount}()&&ko(ie,m),function cn(){J.lFrame.elementDepthCount++}(),on(Oe)&&(Kc(M,m,Oe),Hh(M,Oe,m)),null!==l&&Qc(m,Oe),Ll}function wl(){let t=Mn();tr()?Zr():(t=t.parent,fo(t,!1));const n=t;!function mi(){J.lFrame.elementDepthCount--}();const i=Un();return i.firstCreatePass&&(Ao(i,t),At(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function ns(t){return 0!=(16&t.flags)}(n)&&yu(i,n,Yt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function gs(t){return 0!=(32&t.flags)}(n)&&yu(i,n,Yt(),n.stylesWithoutHost,!1),wl}function Eu(t,n,i,l){return Ll(t,n,i,l),wl(),Eu}function xl(t,n,i){const l=Yt(),m=Un(),M=t+20,F=m.firstCreatePass?function P0(t,n,i,l,m){const M=n.consts,F=Wn(M,l),Z=js(n,t,8,"ng-container",F);return null!==F&&Ol(Z,F,!0),Xc(n,i,Z,Wn(M,m)),null!==n.queries&&n.queries.elementStart(n,Z),Z}(M,m,l,n,i):m.data[M];fo(F,!0);const Z=l[M]=l[11].createComment("");return Sl(m,l,Z,F),ko(Z,l),on(F)&&(Kc(m,l,F),Hh(m,F,l)),null!=i&&Qc(l,F),xl}function Nl(){let t=Mn();const n=Un();return tr()?Zr():(t=t.parent,fo(t,!1)),n.firstCreatePass&&(Ao(n,t),At(t)&&n.queries.elementEnd(t)),Nl}function Su(t,n,i){return xl(t,n,i),Nl(),Su}function Kf(){return Yt()}function bu(t){return!!t&&"function"==typeof t.then}function Qf(t){return!!t&&"function"==typeof t.subscribe}const Xf=Qf;function Cu(t,n,i,l){const m=Yt(),M=Un(),F=Mn();return Jf(M,m,m[11],F,t,n,!!i,l),Cu}function Au(t,n){const i=Mn(),l=Yt(),m=Un();return Jf(m,l,sf(bt(m.data),i,l),i,t,n,!1),Au}function Jf(t,n,i,l,m,M,F,Z){const ie=on(l),Ue=t.firstCreatePass&&rf(t),st=n[8],Ot=nf(n);let wt=!0;if(3&l.type||Z){const un=Pt(l,n),Sn=Z?Z(un):un,Qt=Ot.length,Nn=Z?hi=>Z(B(hi[l.index])):l.index;if(je(i)){let hi=null;if(!Z&&ie&&(hi=function R0(t,n,i,l){const m=t.cleanup;if(null!=m)for(let M=0;M<m.length-1;M+=2){const F=m[M];if(F===i&&m[M+1]===l){const Z=n[7],ie=m[M+2];return Z.length>ie?Z[ie]:null}"string"==typeof F&&(M+=2)}return null}(t,n,m,l.index)),null!==hi)(hi.__ngLastListenerFn__||hi).__ngNextListenerFn__=M,hi.__ngLastListenerFn__=M,wt=!1;else{M=Du(l,n,st,M,!1);const Ii=i.listen(Sn,m,M);Ot.push(M,Ii),Ue&&Ue.push(m,Nn,Qt,Qt+1)}}else M=Du(l,n,st,M,!0),Sn.addEventListener(m,M,F),Ot.push(M),Ue&&Ue.push(m,Nn,Qt,F)}else M=Du(l,n,st,M,!1);const Zt=l.outputs;let rn;if(wt&&null!==Zt&&(rn=Zt[m])){const un=rn.length;if(un)for(let Sn=0;Sn<un;Sn+=2){const lr=n[rn[Sn]][rn[Sn+1]].subscribe(M),Ls=Ot.length;Ot.push(M,lr),Ue&&Ue.push(m,l.index,Ls,-(Ls+1))}}}function qf(t,n,i,l){try{return!1!==i(l)}catch(m){return af(t,m),!1}}function Du(t,n,i,l,m){return function M(F){if(F===Function)return l;const Z=2&t.flags?dn(t.index,n):n;0==(32&n[2])&&eu(Z);let ie=qf(n,0,l,F),Oe=M.__ngNextListenerFn__;for(;Oe;)ie=qf(n,0,Oe,F)&&ie,Oe=Oe.__ngNextListenerFn__;return m&&!1===ie&&(F.preventDefault(),F.returnValue=!1),ie}}function ep(t=1){return function Yi(t){return(J.lFrame.contextLView=function ro(t,n){for(;t>0;)n=n[15],t--;return n}(t,J.lFrame.contextLView))[8]}(t)}function L0(t,n){let i=null;const l=function Gm(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(t);for(let m=0;m<n.length;m++){const M=n[m];if("*"!==M){if(null===l?Th(t,M,!0):Hm(l,M))return m}else i=m}return i}function tp(t){const n=Yt()[16][6];if(!n.projection){const l=n.projection=ys(t?t.length:1,null),m=l.slice();let M=n.child;for(;null!==M;){const F=t?L0(M,t):0;null!==F&&(m[F]?m[F].projectionNext=M:l[F]=M,m[F]=M),M=M.next}}}function np(t,n=0,i){const l=Yt(),m=Un(),M=js(m,20+t,16,null,i||null);null===M.projection&&(M.projection=n),Zr(),64!=(64&M.flags)&&function Lm(t,n,i){Sh(n[11],0,n,i,dh(t,i,n),_h(i.parent||n[6],i,n))}(m,l,M)}function Tu(t,n,i){return Fl(t,"",n,"",i),Tu}function Fl(t,n,i,l,m){const M=Yt(),F=Xs(M,n,i,l);return F!==Jn&&ar(Un(),ai(),M,t,F,M[11],m,!1),Fl}function Mu(t,n,i,l,m,M,F){const Z=Yt(),ie=Js(Z,n,i,l,m,M);return ie!==Jn&&ar(Un(),ai(),Z,t,ie,Z[11],F,!1),Mu}function up(t,n,i,l,m){const M=t[i+1],F=null===n;let Z=l?Ar(M):es(M),ie=!1;for(;0!==Z&&(!1===ie||F);){const Ue=t[Z+1];N0(t[Z],n)&&(ie=!0,t[Z+1]=l?Gc(Ue):kc(Ue)),Z=l?Ar(Ue):es(Ue)}ie&&(t[i+1]=l?kc(M):Gc(M))}function N0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&cs(t,n)>=0}const go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dp(t){return t.substring(go.key,go.keyEnd)}function hp(t,n){const i=go.textEnd;return i===n?-1:(n=go.keyEnd=function G0(t,n,i){for(;n<i&&t.charCodeAt(n)>32;)n++;return n}(t,go.key=n,i),sa(t,n,i))}function sa(t,n,i){for(;n<i&&t.charCodeAt(n)<=32;)n++;return n}function Ou(t,n,i){return Mr(t,n,i,!1),Ou}function Iu(t,n){return Mr(t,n,null,!0),Iu}function mp(t){Or(Zo,Wr,t,!0)}function Wr(t,n){for(let i=function k0(t){return function pp(t){go.key=0,go.keyEnd=0,go.value=0,go.valueEnd=0,go.textEnd=t.length}(t),hp(t,sa(t,0,go.textEnd))}(n);i>=0;i=hp(n,i))Zo(t,dp(n),!0)}function Mr(t,n,i,l){const m=Yt(),M=Un(),F=N(2);M.firstUpdatePass&&yp(M,t,F,l),n!==Jn&&Bo(m,F,n)&&Sp(M,M.data[ci()],m,m[11],t,m[F+1]=function K0(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=d(_r(t)))),t}(n,i),l,F)}function Or(t,n,i,l){const m=Un(),M=N(2);m.firstUpdatePass&&yp(m,null,M,l);const F=Yt();if(i!==Jn&&Bo(F,M,i)){const Z=m.data[ci()];if(Cp(Z,l)&&!vp(m,M)){let ie=l?Z.classesWithoutHost:Z.stylesWithoutHost;null!==ie&&(i=h(ie,i||"")),yu(m,Z,F,i,l)}else!function Z0(t,n,i,l,m,M,F,Z){m===Jn&&(m=Et);let ie=0,Oe=0,Ue=0<m.length?m[0]:null,st=0<M.length?M[0]:null;for(;null!==Ue||null!==st;){const Ot=ie<m.length?m[ie+1]:void 0,wt=Oe<M.length?M[Oe+1]:void 0;let rn,Zt=null;Ue===st?(ie+=2,Oe+=2,Ot!==wt&&(Zt=st,rn=wt)):null===st||null!==Ue&&Ue<st?(ie+=2,Zt=Ue):(Oe+=2,Zt=st,rn=wt),null!==Zt&&Sp(t,n,i,l,Zt,rn,F,Z),Ue=ie<m.length?m[ie]:null,st=Oe<M.length?M[Oe]:null}}(m,Z,F,F[11],F[M+1],F[M+1]=function Y0(t,n,i){if(null==i||""===i)return Et;const l=[],m=_r(i);if(Array.isArray(m))for(let M=0;M<m.length;M++)t(l,m[M],!0);else if("object"==typeof m)for(const M in m)m.hasOwnProperty(M)&&t(l,M,m[M]);else"string"==typeof m&&n(l,m);return l}(t,n,i),l,M)}}function vp(t,n){return n>=t.expandoStartIndex}function yp(t,n,i,l){const m=t.data;if(null===m[i+1]){const M=m[ci()],F=vp(t,i);Cp(M,l)&&null===n&&!F&&(n=!1),n=function V0(t,n,i,l){const m=bt(t);let M=l?n.residualClasses:n.residualStyles;if(null===m)0===(l?n.classBindings:n.styleBindings)&&(i=Fa(i=Pu(null,t,n,i,l),n.attrs,l),M=null);else{const F=n.directiveStylingLast;if(-1===F||t[F]!==m)if(i=Pu(m,t,n,i,l),null===M){let ie=function j0(t,n,i){const l=i?n.classBindings:n.styleBindings;if(0!==es(l))return t[Ar(l)]}(t,n,l);void 0!==ie&&Array.isArray(ie)&&(ie=Pu(null,t,n,ie[1],l),ie=Fa(ie,n.attrs,l),function z0(t,n,i,l){t[Ar(i?n.classBindings:n.styleBindings)]=l}(t,n,l,ie))}else M=function W0(t,n,i){let l;const m=n.directiveEnd;for(let M=1+n.directiveStylingLast;M<m;M++)l=Fa(l,t[M].hostAttrs,i);return Fa(l,n.attrs,i)}(t,n,l)}return void 0!==M&&(l?n.residualClasses=M:n.residualStyles=M),i}(m,M,n,l),function w0(t,n,i,l,m,M){let F=M?n.classBindings:n.styleBindings,Z=Ar(F),ie=es(F);t[l]=i;let Ue,Oe=!1;if(Array.isArray(i)){const st=i;Ue=st[1],(null===Ue||cs(st,Ue)>0)&&(Oe=!0)}else Ue=i;if(m)if(0!==ie){const Ot=Ar(t[Z+1]);t[l+1]=Cl(Ot,Z),0!==Ot&&(t[Ot+1]=Bc(t[Ot+1],l)),t[Z+1]=function Wm(t,n){return 131071&t|n<<17}(t[Z+1],l)}else t[l+1]=Cl(Z,0),0!==Z&&(t[Z+1]=Bc(t[Z+1],l)),Z=l;else t[l+1]=Cl(ie,0),0===Z?Z=l:t[ie+1]=Bc(t[ie+1],l),ie=l;Oe&&(t[l+1]=kc(t[l+1])),up(t,Ue,l,!0),up(t,Ue,l,!1),function x0(t,n,i,l,m){const M=m?t.residualClasses:t.residualStyles;null!=M&&"string"==typeof n&&cs(M,n)>=0&&(i[l+1]=Gc(i[l+1]))}(n,Ue,t,l,M),F=Cl(Z,ie),M?n.classBindings=F:n.styleBindings=F}(m,M,n,i,F,l)}}function Pu(t,n,i,l,m){let M=null;const F=i.directiveEnd;let Z=i.directiveStylingLast;for(-1===Z?Z=i.directiveStart:Z++;Z<F&&(M=n[Z],l=Fa(l,M.hostAttrs,m),M!==t);)Z++;return null!==t&&(i.directiveStylingLast=Z),l}function Fa(t,n,i){const l=i?1:2;let m=-1;if(null!==n)for(let M=0;M<n.length;M++){const F=n[M];"number"==typeof F?m=F:m===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Zo(t,F,!!i||n[++M]))}return void 0===t?null:t}function Sp(t,n,i,l,m,M,F,Z){if(!(3&n.type))return;const ie=t.data,Oe=ie[Z+1];kl(function Lh(t){return 1==(1&t)}(Oe)?bp(ie,n,i,m,es(Oe),F):void 0)||(kl(M)||function Rh(t){return 2==(2&t)}(Oe)&&(M=bp(ie,null,i,m,Z,F)),function xm(t,n,i,l,m){const M=je(t);if(n)m?M?t.addClass(i,l):i.classList.add(l):M?t.removeClass(i,l):i.classList.remove(l);else{let F=-1===l.indexOf("-")?void 0:Hr.DashCase;if(null==m)M?t.removeStyle(i,l,F):i.style.removeProperty(l);else{const Z="string"==typeof m&&m.endsWith("!important");Z&&(m=m.slice(0,-10),F|=Hr.Important),M?t.setStyle(i,l,m,F):i.style.setProperty(l,m,Z?"important":"")}}}(l,F,ct(ci(),i),m,M))}function bp(t,n,i,l,m,M){const F=null===n;let Z;for(;m>0;){const ie=t[m],Oe=Array.isArray(ie),Ue=Oe?ie[1]:ie,st=null===Ue;let Ot=i[m+1];Ot===Jn&&(Ot=st?Et:void 0);let wt=st?ya(Ot,l):Ue===l?Ot:void 0;if(Oe&&!kl(wt)&&(wt=ya(ie,l)),kl(wt)&&(Z=wt,F))return Z;const Zt=t[m+1];m=F?Ar(Zt):es(Zt)}if(null!==n){let ie=M?n.residualClasses:n.residualStyles;null!=ie&&(Z=ya(ie,l))}return Z}function kl(t){return void 0!==t}function Cp(t,n){return 0!=(t.flags&(n?16:32))}function Ap(t,n=""){const i=Yt(),l=Un(),m=t+20,M=l.firstCreatePass?js(l,m,1,n,null):l.data[m],F=i[m]=Ic(i[11],n);Sl(l,i,F,M),fo(M,!1)}function Ru(t){return Bl("",t,""),Ru}function Bl(t,n,i){const l=Yt(),m=Xs(l,t,n,i);return m!==Jn&&ts(l,ci(),m),Bl}function Lu(t,n,i,l,m){const M=Yt(),F=Js(M,t,n,i,l,m);return F!==Jn&&ts(M,ci(),F),Lu}function Lp(t,n,i){Or(Zo,Wr,Xs(Yt(),t,n,i),!0)}function wu(t,n,i){const l=Yt();return Bo(l,xe(),n)&&ar(Un(),ai(),l,t,n,l[11],i,!0),wu}function xu(t,n,i){const l=Yt();if(Bo(l,xe(),n)){const M=Un(),F=ai();ar(M,F,l,t,n,sf(bt(M.data),F,l),i,!0)}return xu}const Ps=void 0;var py=["en",[["a","p"],["AM","PM"],Ps],[["AM","PM"],Ps,Ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ps,"{1} 'at' {0}",Ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fy(t){const i=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===l?1:5}];let aa={};function Nu(t){const n=function _y(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Vp(n);if(i)return i;const l=n.split("-")[0];if(i=Vp(l),i)return i;if("en"===l)return py;throw new Error(`Missing locale data for the locale "${t}".`)}function Hp(t){return Nu(t)[kn.PluralCase]}function Vp(t){return t in aa||(aa[t]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[t]),aa[t]}var kn=(()=>((kn=kn||{})[kn.LocaleId=0]="LocaleId",kn[kn.DayPeriodsFormat=1]="DayPeriodsFormat",kn[kn.DayPeriodsStandalone=2]="DayPeriodsStandalone",kn[kn.DaysFormat=3]="DaysFormat",kn[kn.DaysStandalone=4]="DaysStandalone",kn[kn.MonthsFormat=5]="MonthsFormat",kn[kn.MonthsStandalone=6]="MonthsStandalone",kn[kn.Eras=7]="Eras",kn[kn.FirstDayOfWeek=8]="FirstDayOfWeek",kn[kn.WeekendRange=9]="WeekendRange",kn[kn.DateFormat=10]="DateFormat",kn[kn.TimeFormat=11]="TimeFormat",kn[kn.DateTimeFormat=12]="DateTimeFormat",kn[kn.NumberSymbols=13]="NumberSymbols",kn[kn.NumberFormats=14]="NumberFormats",kn[kn.CurrencyCode=15]="CurrencyCode",kn[kn.CurrencySymbol=16]="CurrencySymbol",kn[kn.CurrencyName=17]="CurrencyName",kn[kn.Currencies=18]="Currencies",kn[kn.Directionality=19]="Directionality",kn[kn.PluralCase=20]="PluralCase",kn[kn.ExtraData=21]="ExtraData",kn))();const gy=["zero","one","two","few","many"],Gl="en-US",$l={marker:"element"},Ul={marker:"ICU"};var to=(()=>((to=to||{})[to.SHIFT=2]="SHIFT",to[to.APPEND_EAGERLY=1]="APPEND_EAGERLY",to[to.COMMENT=2]="COMMENT",to))();let jp=Gl;function zp(t,n,i){const l=n.insertBeforeIndex,m=Array.isArray(l)?l[0]:l;return null===m?gh(t,0,i):B(i[m])}function Wp(t,n,i,l,m){const M=n.insertBeforeIndex;if(Array.isArray(M)){let F=l,Z=null;if(3&n.type||(Z=F,F=m),null!==F&&0==(2&n.flags))for(let ie=1;ie<M.length;ie++)Os(t,F,i[M[ie]],Z,!1)}}function Yp(t,n){if(t.push(n),t.length>1)for(let i=t.length-2;i>=0;i--){const l=t[i];Zp(l)||Sy(l,n)&&null===by(l)&&Cy(l,n.index)}}function Zp(t){return!(64&t.type)}function Sy(t,n){return Zp(n)||t.index>n.index}function by(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function Cy(t,n){const i=t.insertBeforeIndex;Array.isArray(i)?i[0]=n:(vh(zp,Wp),t.insertBeforeIndex=n)}function ka(t,n){const i=t.data[n];return null===i||"string"==typeof i?null:i.hasOwnProperty("currentCaseLViewIndex")?i:i.value}function Ty(t,n,i){const l=Zc(t,i,64,null,null);return Yp(n,l),l}function Hl(t,n){const i=n[t.currentCaseLViewIndex];return null===i?i:i<0?~i:i}function Kp(t){return t>>>17}function Qp(t){return(131070&t)>>>1}let Ba=0,Ga=0;function Jp(t,n,i,l){const m=i[11];let F,M=null;for(let Z=0;Z<n.length;Z++){const ie=n[Z];if("string"==typeof ie){const Oe=n[++Z];null===i[Oe]&&(i[Oe]=Ic(m,ie))}else if("number"==typeof ie)switch(1&ie){case 0:const Oe=Kp(ie);let Ue,st;if(null===M&&(M=Oe,F=El(m,l)),Oe===M?(Ue=l,st=F):(Ue=null,st=B(i[Oe])),null!==st){const rn=Qp(ie);Os(m,st,i[rn],Ue,!1);const Sn=ka(t,rn);if(null!==Sn&&"object"==typeof Sn){const Qt=Hl(Sn,i);null!==Qt&&Jp(t,Sn.create[Qt],i,i[Sn.anchorIdx])}}break;case 1:const wt=n[++Z],Zt=n[++Z];Jc(m,ct(ie>>>1,i),null,null,wt,Zt,null)}else switch(ie){case Ul:const Oe=n[++Z],Ue=n[++Z];null===i[Ue]&&ko(i[Ue]=Sm(m,Oe),i);break;case $l:const st=n[++Z],Ot=n[++Z];null===i[Ot]&&ko(i[Ot]=Pc(m,st,null),i)}}}function qp(t,n,i,l,m){for(let M=0;M<i.length;M++){const F=i[M],Z=i[++M];if(F&m){let ie="";for(let Oe=M+1;Oe<=M+Z;Oe++){const Ue=i[Oe];if("string"==typeof Ue)ie+=Ue;else if("number"==typeof Ue)if(Ue<0)ie+=b(n[l-Ue]);else{const st=Ue>>>2;switch(3&Ue){case 1:const Ot=i[++Oe],wt=i[++Oe],Zt=t.data[st];"string"==typeof Zt?Jc(n[11],n[st],null,Zt,Ot,ie,wt):ar(t,Zt,n,Ot,ie,n[11],wt,!1);break;case 0:const rn=n[st];null!==rn&&lh(n[11],rn,ie);break;case 2:Ry(t,ka(t,st),n,ie);break;case 3:e_(t,ka(t,st),l,n)}}}}else{const ie=i[M+1];if(ie>0&&3==(3&ie)){const Ue=ka(t,ie>>>2);n[Ue.currentCaseLViewIndex]<0&&e_(t,Ue,l,n)}}M+=Z}}function e_(t,n,i,l){let m=l[n.currentCaseLViewIndex];if(null!==m){let M=Ba;m<0&&(m=l[n.currentCaseLViewIndex]=~m,M=-1),qp(t,l,n.update[m],i,M)}}function Ry(t,n,i,l){const m=function Ly(t,n){let i=t.cases.indexOf(n);if(-1===i)switch(t.type){case 1:{const l=function my(t,n){const i=Hp(n)(parseInt(t,10)),l=gy[i];return void 0!==l?l:"other"}(n,function Ey(){return jp}());i=t.cases.indexOf(l),-1===i&&"other"!==l&&(i=t.cases.indexOf("other"));break}case 0:i=t.cases.indexOf("other")}return-1===i?null:i}(n,l);if(Hl(n,i)!==m&&(t_(t,n,i),i[n.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const F=i[n.anchorIdx];F&&Jp(t,n.create[m],i,F)}}function t_(t,n,i){let l=Hl(n,i);if(null!==l){const m=n.remove[l];for(let M=0;M<m.length;M++){const F=m[M];if(F>0){const Z=ct(F,i);null!==Z&&Eh(i[11],Z)}else t_(t,ka(t,~F),i)}}}function wy(){const t=[];let i,l,n=-1;function M(Z,ie){n=0;const Oe=Hl(Z,ie);l=null!==Oe?Z.remove[Oe]:Et}function F(){if(n<l.length){const Z=l[n++];return Z>0?i[Z]:(t.push(n,l),M(i[1].data[~Z],i),F())}return 0===t.length?null:(l=t.pop(),n=t.pop(),F())}return function m(Z,ie){for(i=ie;t.length;)t.pop();return M(Z.value,ie),F}}const Vl=/\ufffd(\d+):?\d*\ufffd/gi,Ny=/\ufffd(\d+)\ufffd/,i_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Fy=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ky=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,By=/\uE500/g;function o_(t,n,i,l,m,M,F){const Z=zs(t,l,1,null);let ie=Z<<to.SHIFT,Oe=$i();n===Oe&&(Oe=null),null===Oe&&(ie|=to.APPEND_EAGERLY),F&&(ie|=to.COMMENT,function Em(t){void 0===Dc&&(Dc=t())}(wy)),m.push(ie,null===M?"":M);const Ue=Zc(t,Z,F?32:1,null===M?"":M,null);Yp(i,Ue);const st=Ue.index;return fo(Ue,!1),null!==Oe&&n!==Oe&&function Dy(t,n){let i=t.insertBeforeIndex;null===i?(vh(zp,Wp),i=t.insertBeforeIndex=[null,n]):(function k(t,n,i){t!=n&&dt(i,t,n,"==")}(Array.isArray(i),!0,"Expecting array here"),i.push(n))}(Oe,st),Ue}function Uy(t,n,i,l,m,M,F){const Z=F.match(Vl),ie=o_(t,n,i,M,l,Z?null:F,!1);Z&&la(m,F,ie.index,null,0,null)}function la(t,n,i,l,m,M){const F=t.length,Z=F+1;t.push(null,null);const ie=F+2,Oe=n.split(Vl);let Ue=0;for(let st=0;st<Oe.length;st++){const Ot=Oe[st];if(1&st){const wt=m+parseInt(Ot,10);t.push(-1-wt),Ue|=r_(wt)}else""!==Ot&&t.push(Ot)}return t.push(i<<2|(l?1:0)),l&&t.push(l,M),t[F]=Ue,t[Z]=t.length-ie,Ue}function r_(t){return 1<<Math.min(t,31)}function s_(t){let n,M,i="",l=0,m=!1;for(;null!==(n=Fy.exec(t));)m?n[0]===`\ufffd/*${M}\ufffd`&&(l=n.index,m=!1):(i+=t.substring(l,n.index+n[0].length),M=n[1],m=!0);return i+=t.substr(l),i}function a_(t,n,i,l,m,M){let F=0;const Z={type:m.type,currentCaseLViewIndex:zs(t,n,1,null),anchorIdx:M,cases:[],create:[],remove:[],update:[]};(function Ky(t,n,i){t.push(r_(n.mainBinding),2,-1-n.mainBinding,i<<2|2)})(i,m,M),function Ay(t,n,i){const l=t.data[n];null===l?t.data[n]=i:l.value=i}(t,M,Z);const ie=m.values;for(let Oe=0;Oe<ie.length;Oe++){const Ue=ie[Oe],st=[];for(let Ot=0;Ot<Ue.length;Ot++){const wt=Ue[Ot];if("string"!=typeof wt){const Zt=st.push(wt)-1;Ue[Ot]=`\x3c!--\ufffd${Zt}\ufffd--\x3e`}}F=Yy(t,Z,n,i,l,m.cases[Oe],Ue.join(""),st)|F}F&&function Qy(t,n,i){t.push(n,1,i<<2|3)}(i,F,M)}function Wy(t){const n=[],i=[];let l=1,m=0;const M=Fu(t=t.replace(i_,function(F,Z,ie){return l="select"===ie?0:1,m=parseInt(Z.substr(1),10),""}));for(let F=0;F<M.length;){let Z=M[F++].trim();1===l&&(Z=Z.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Z.length&&n.push(Z);const ie=Fu(M[F++]);n.length>i.length&&i.push(ie)}return{type:l,mainBinding:m,cases:n,values:i}}function Fu(t){if(!t)return[];let n=0;const i=[],l=[],m=/[{}]/g;let M;for(m.lastIndex=0;M=m.exec(t);){const Z=M.index;if("}"==M[0]){if(i.pop(),0==i.length){const ie=t.substring(n,Z);i_.test(ie)?l.push(Wy(ie)):l.push(ie),n=Z+1}}else{if(0==i.length){const ie=t.substring(n,Z);l.push(ie),n=Z+1}i.push("{")}}const F=t.substring(n);return l.push(F),l}function Yy(t,n,i,l,m,M,F,Z){const ie=[],Oe=[],Ue=[];n.cases.push(M),n.create.push(ie),n.remove.push(Oe),n.update.push(Ue);const Ot=Ca(ho()).getInertBodyElement(F),wt=yc(Ot)||Ot;return wt?l_(t,n,i,l,ie,Oe,Ue,wt,m,Z,0):0}function l_(t,n,i,l,m,M,F,Z,ie,Oe,Ue){let st=0,Ot=Z.firstChild;for(;Ot;){const wt=zs(t,i,1,null);switch(Ot.nodeType){case Node.ELEMENT_NODE:const Zt=Ot,rn=Zt.tagName.toLowerCase();if(gc.hasOwnProperty(rn)){ku(m,$l,rn,ie,wt),t.data[wt]=rn;const Nn=Zt.attributes;for(let hi=0;hi<Nn.length;hi++){const Ii=Nn.item(hi),lr=Ii.name.toLowerCase();Ii.value.match(Vl)?zd.hasOwnProperty(lr)&&la(F,Ii.value,wt,Ii.name,0,mc[lr]?hs:vc[lr]?Aa:null):Xy(m,wt,Ii)}st=l_(t,n,i,l,m,M,F,Ot,wt,Oe,Ue+1)|st,c_(M,wt,Ue)}break;case Node.TEXT_NODE:const un=Ot.textContent||"",Sn=un.match(Vl);ku(m,null,Sn?"":un,ie,wt),c_(M,wt,Ue),Sn&&(st=la(F,un,wt,null,0,null)|st);break;case Node.COMMENT_NODE:const Qt=Ny.exec(Ot.textContent||"");if(Qt){const hi=Oe[parseInt(Qt[1],10)];ku(m,Ul,"",ie,wt),a_(t,i,l,ie,hi,wt),Zy(M,wt,Ue)}}Ot=Ot.nextSibling}return st}function c_(t,n,i){0===i&&t.push(n)}function Zy(t,n,i){0===i&&(t.push(~n),t.push(n))}function ku(t,n,i,l,m){null!==n&&t.push(n),t.push(i,m,function My(t,n,i){return t|n<<17|i<<1}(0,l,m))}function Xy(t,n,i){t.push(n<<1|1,i.name,i.value)}const Jy=/\[(\ufffd.+?\ufffd?)\]/,qy=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,eE=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,tE=/{([A-Z0-9_]+)}/g,nE=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,iE=/\/\*/,oE=/\d+\:(\d+)/;function Bu(t,n,i=-1){const l=Un(),m=Yt(),M=20+t,F=Wn(l.consts,n),Z=$i();l.firstCreatePass&&function $y(t,n,i,l,m,M){const F=$i(),Z=[],ie=[],Oe=[[]];m=function zy(t,n){if(function jy(t){return-1===t}(n))return s_(t);{const i=t.indexOf(`:${n}\ufffd`)+2+n.toString().length,l=t.search(new RegExp(`\ufffd\\/\\*\\d+:${n}\ufffd`));return s_(t.substring(i,l))}}(m,M);const Ue=function Gy(t){return t.replace(By," ")}(m).split(ky);for(let st=0;st<Ue.length;st++){let Ot=Ue[st];if(0==(1&st)){const wt=Fu(Ot);for(let Zt=0;Zt<wt.length;Zt++){let rn=wt[Zt];if(0==(1&Zt)){const un=rn;""!==un&&Uy(t,F,Oe[0],Z,ie,i,un)}else{const un=rn;if("object"!=typeof un)throw new Error(`Unable to parse ICU expression in "${m}" message.`);a_(t,i,ie,n,un,o_(t,F,Oe[0],i,Z,"",!0).index)}}}else{const wt=47===Ot.charCodeAt(0),rn=(Ot.charCodeAt(wt?1:0),20+Number.parseInt(Ot.substring(wt?2:1)));if(wt)Oe.shift(),fo($i(),!1);else{const un=Ty(t,Oe[0],rn);Oe.unshift([]),fo(un,!0)}}}t.data[l]={create:Z,update:ie}}(l,null===Z?0:Z.index,m,M,F,i);const ie=l.data[M],Ue=hh(l,Z===m[6]?null:Z,m);(function Py(t,n,i,l){const m=t[11];for(let M=0;M<n.length;M++){const F=n[M++],Z=n[M],ie=(F&to.COMMENT)===to.COMMENT,Oe=(F&to.APPEND_EAGERLY)===to.APPEND_EAGERLY,Ue=F>>>to.SHIFT;let st=t[Ue];null===st&&(st=t[Ue]=ie?m.createComment(Z):Ic(m,Z)),Oe&&null!==i&&Os(m,i,st,l,!1)}})(m,ie.create,Ue,Z&&8&Z.type?m[Z.index]:null),ue(!0)}function Gu(){ue(!1)}function d_(t,n,i){Bu(t,n,i),Gu()}function $u(t){return function Oy(t){t&&(Ba|=1<<Math.min(Ga,31)),Ga++}(Bo(Yt(),xe(),t)),$u}function h_(t){!function Iy(t,n,i){if(Ga>0){const l=t.data[i];qp(t,n,Array.isArray(l)?l:l.update,jo()-Ga-1,Ba)}Ba=0,Ga=0}(Un(),Yt(),t+20)}function f_(t,n={}){return function rE(t,n={}){let i=t;if(Jy.test(t)){const l={},m=[0];i=i.replace(qy,(M,F,Z)=>{const ie=F||Z,Oe=l[ie]||[];if(Oe.length||(ie.split("|").forEach(rn=>{const un=rn.match(oE),Sn=un?parseInt(un[1],10):0,Qt=iE.test(rn);Oe.push([Sn,Qt,rn])}),l[ie]=Oe),!Oe.length)throw new Error(`i18n postprocess: unmatched placeholder - ${ie}`);const Ue=m[m.length-1];let st=0;for(let rn=0;rn<Oe.length;rn++)if(Oe[rn][0]===Ue){st=rn;break}const[Ot,wt,Zt]=Oe[st];return wt?m.pop():Ue!==Ot&&m.push(Ot),Oe.splice(st,1),Zt})}return Object.keys(n).length&&(i=i.replace(eE,(l,m,M,F,Z,ie)=>n.hasOwnProperty(M)?`${m}${n[M]}${ie}`:l),i=i.replace(tE,(l,m)=>n.hasOwnProperty(m)?n[m]:l),i=i.replace(nE,(l,m)=>{if(n.hasOwnProperty(m)){const M=n[m];if(!M.length)throw new Error(`i18n postprocess: unmatched ICU - ${l} with key: ${m}`);return M.shift()}return l})),i}(t,n)}function Uu(t,n,i,l,m){if(t=E(t),Array.isArray(t))for(let M=0;M<t.length;M++)Uu(t[M],n,i,l,m);else{const M=Un(),F=Yt();let Z=Zs(t)?t:E(t.provide),ie=ff(t);const Oe=Mn(),Ue=1048575&Oe.providerIndexes,st=Oe.directiveStart,Ot=Oe.providerIndexes>>20;if(Zs(t)||!t.multi){const wt=new Ni(ie,m,Na),Zt=Vu(Z,n,m?Ue:Ue+Ot,st);-1===Zt?(jt(Te(Oe,F),M,Z),Hu(M,t,n.length),n.push(Z),Oe.directiveStart++,Oe.directiveEnd++,m&&(Oe.providerIndexes+=1048576),i.push(wt),F.push(wt)):(i[Zt]=wt,F[Zt]=wt)}else{const wt=Vu(Z,n,Ue+Ot,st),Zt=Vu(Z,n,Ue,Ue+Ot),rn=wt>=0&&i[wt],un=Zt>=0&&i[Zt];if(m&&!un||!m&&!rn){jt(Te(Oe,F),M,Z);const Sn=function uE(t,n,i,l,m){const M=new Ni(t,i,Na);return M.multi=[],M.index=n,M.componentProviders=0,p_(M,m,l&&!i),M}(m?cE:lE,i.length,m,l,ie);!m&&un&&(i[Zt].providerFactory=Sn),Hu(M,t,n.length,0),n.push(Z),Oe.directiveStart++,Oe.directiveEnd++,m&&(Oe.providerIndexes+=1048576),i.push(Sn),F.push(Sn)}else Hu(M,t,wt>-1?wt:Zt,p_(i[m?Zt:wt],ie,!m&&l));!m&&l&&un&&i[Zt].componentProviders++}}}function Hu(t,n,i,l){const m=Zs(n),M=function Gv(t){return!!t.useClass}(n);if(m||M){const ie=(M?E(n.useClass):n).prototype.ngOnDestroy;if(ie){const Oe=t.destroyHooks||(t.destroyHooks=[]);if(!m&&n.multi){const Ue=Oe.indexOf(i);-1===Ue?Oe.push(i,[l,ie]):Oe[Ue+1].push(l,ie)}else Oe.push(i,ie)}}}function p_(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function Vu(t,n,i,l){for(let m=i;m<l;m++)if(n[m]===t)return m;return-1}function lE(t,n,i,l){return ju(this.multi,[])}function cE(t,n,i,l){const m=this.multi;let M;if(this.providerFactory){const F=this.providerFactory.componentProviders,Z=Fr(i,i[1],this.providerFactory.index,l);M=Z.slice(0,F),ju(m,M);for(let ie=F;ie<Z.length;ie++)M.push(Z[ie])}else M=[],ju(m,M);return M}function ju(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function __(t,n=[]){return i=>{i.providersResolver=(l,m)=>function aE(t,n,i){const l=Un();if(l.firstCreatePass){const m=Ln(t);Uu(i,l.data,l.blueprint,m,!0),Uu(n,l.data,l.blueprint,m,!1)}}(l,m?m(t):t,n)}}class g_{}class fE{resolveComponentFactory(n){throw function hE(t){const n=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let jl=(()=>{class t{}return t.NULL=new fE,t})();function pE(){return ca(Mn(),Yt())}function ca(t,n){return new Ua(Pt(t,n))}let Ua=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=pE,t})();function _E(t){return t instanceof Ua?t.nativeElement:t}class v_{}let gE=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function vE(){const t=Yt(),i=dn(Mn().index,t);return function mE(t){return t[11]}(te(i)?i:t)}(),t})(),yE=(()=>{class t{}return t.\u0275prov=Re({token:t,providedIn:"root",factory:()=>null}),t})();class y_{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const EE=new y_("13.3.0"),zu={};function zl(t,n,i,l,m=!1){for(;null!==i;){const M=n[i.index];if(null!==M&&l.push(B(M)),$e(M))for(let Z=10;Z<M.length;Z++){const ie=M[Z],Oe=ie[1].firstChild;null!==Oe&&zl(ie[1],ie,Oe,l)}const F=i.type;if(8&F)zl(t,n,i.child,l);else if(32&F){const Z=Tc(i,n);let ie;for(;ie=Z();)l.push(ie)}else if(16&F){const Z=yh(n,i);if(Array.isArray(Z))l.push(...Z);else{const ie=Oa(n[16]);zl(ie[1],ie,Z,l,!0)}}i=m?i.projectionNext:i.next}return l}class Ha{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return zl(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if($e(n)){const i=n[8],l=i?i.indexOf(this):-1;l>-1&&(Rc(n,l),kr(i,l))}this._attachedToViewContainer=!1}uh(this._lView[1],this._lView)}onDestroy(n){Wh(this._lView[1],this._lView,null,n)}markForCheck(){eu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ov(t,n,i){yr(!0);try{nu(t,n,i)}finally{yr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new s(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Am(t,n){Ia(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new s(902,"");this._appRef=n}}class SE extends Ha{constructor(n){super(n),this._view=n}detectChanges(){tf(this._view)}checkNoChanges(){!function Iv(t){yr(!0);try{tf(t)}finally{yr(!1)}}(this._view)}get context(){return null}}class E_ extends jl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Ct(n);return new Wu(i,this.ngModule)}}function S_(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}class Wu extends g_{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function jm(t){return t.map(Vm).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return S_(this.componentDef.inputs)}get outputs(){return S_(this.componentDef.outputs)}create(n,i,l,m){const M=(m=m||this.ngModule)?function CE(t,n){return{get:(i,l,m)=>{const M=t.get(i,zu,m);return M!==zu||l===zu?M:n.get(i,l,m)}}}(n,m.injector):n,F=M.get(v_,w),Z=M.get(yE,null),ie=F.createRenderer(null,this.componentDef),Oe=this.componentDef.selectors[0][0]||"div",Ue=l?function zh(t,n,i){if(je(t))return t.selectRootElement(n,i===vt.ShadowDom);let l="string"==typeof n?t.querySelector(n):n;return l.textContent="",l}(ie,l,this.componentDef.encapsulation):Pc(F.createRenderer(null,this.componentDef),Oe,function bE(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Oe)),st=this.componentDef.onPush?576:528,Ot=function Df(t,n){return{components:[],scheduler:t||mm,clean:Pv,playerHandler:n||null,flags:0}}(),wt=Tl(0,null,null,1,0,null,null,null,null,null),Zt=Pa(null,wt,Ot,st,null,null,F,ie,Z,M);let rn,un;xn(Zt);try{const Sn=function Cf(t,n,i,l,m,M){const F=i[1];i[20]=t;const ie=js(F,20,2,"#host",null),Oe=ie.mergedAttrs=n.hostAttrs;null!==Oe&&(Ol(ie,Oe,!0),null!==t&&(Ro(m,t,Oe),null!==ie.classes&&Fc(m,t,ie.classes),null!==ie.styles&&bh(m,t,ie.styles)));const Ue=l.createRenderer(t,n),st=Pa(i,Vh(n),null,n.onPush?64:16,i[20],ie,l,Ue,M||null,null);return F.firstCreatePass&&(jt(Te(ie,i),F,n.type),Xh(F,ie),Jh(ie,i.length,1)),Ml(i,st),i[20]=st}(Ue,this.componentDef,Zt,F,ie);if(Ue)if(l)Ro(ie,Ue,["ng-version",EE.full]);else{const{attrs:Qt,classes:Nn}=function zm(t){const n=[],i=[];let l=1,m=2;for(;l<t.length;){let M=t[l];if("string"==typeof M)2===m?""!==M&&n.push(M,t[++l]):8===m&&i.push(M);else{if(!Cr(m))break;m=M}l++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);Qt&&Ro(ie,Ue,Qt),Nn&&Nn.length>0&&Fc(ie,Ue,Nn.join(" "))}if(un=en(wt,20),void 0!==i){const Qt=un.projection=[];for(let Nn=0;Nn<this.ngContentSelectors.length;Nn++){const hi=i[Nn];Qt.push(null!=hi?Array.from(hi):null)}}rn=function Af(t,n,i,l,m){const M=i[1],F=function hv(t,n,i){const l=Mn();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),qh(t,l,n,zs(t,n,1,null),i));const m=Fr(n,t,l.directiveStart,l);ko(m,n);const M=Pt(l,n);return M&&ko(M,n),m}(M,i,n);if(l.components.push(F),t[8]=F,m&&m.forEach(ie=>ie(F,n)),n.contentQueries){const ie=Mn();n.contentQueries(1,F,ie.directiveStart)}const Z=Mn();return!M.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(po(Z.index),Kh(i[1],Z,0,Z.directiveStart,Z.directiveEnd,n),Qh(n,F)),F}(Sn,this.componentDef,Zt,Ot,[Qv]),Ra(wt,Zt,null)}finally{wi()}return new DE(this.componentType,rn,ca(un,Zt),Zt,un)}}class DE extends class dE{}{constructor(n,i,l,m,M){super(),this.location=l,this._rootLView=m,this._tNode=M,this.instance=i,this.hostView=this.changeDetectorRef=new SE(m),this.componentType=n}get injector(){return new rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ua{}class b_{}const da=new Map;class D_ extends ua{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E_(this);const l=ln(n);this._bootstrapComponents=Ur(l.bootstrap),this._r3Injector=hf(n,i,[{provide:ua,useValue:this},{provide:jl,useValue:this.componentFactoryResolver}],d(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=Dr.THROW_IF_NOT_FOUND,l=kt.Default){return n===Dr||n===ua||n===ou?this:this._r3Injector.get(n,i,l)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Yu extends b_{constructor(n){super(),this.moduleType=n,null!==ln(n)&&function ME(t){const n=new Set;!function i(l){const m=ln(l,!0),M=m.id;null!==M&&(function C_(t,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${t} - ${d(n)} vs ${d(n.name)}`)}(M,da.get(M),l),da.set(M,l));const F=Ur(m.imports);for(const Z of F)n.has(Z)||(n.add(Z),i(Z))}(t)}(n)}create(n){return new D_(this.moduleType,n)}}function T_(t,n,i){const l=oo()+t,m=Yt();return m[l]===Jn?jr(m,l,i?n.call(i):n()):function xa(t,n){return t[n]}(m,l)}function M_(t,n,i,l){return P_(Yt(),oo(),t,n,i,l)}function O_(t,n,i,l,m){return R_(Yt(),oo(),t,n,i,l,m)}function I_(t,n,i,l,m,M){return function L_(t,n,i,l,m,M,F,Z){const ie=n+i;return function Pl(t,n,i,l,m){const M=Is(t,n,i,l);return Bo(t,n+2,m)||M}(t,ie,m,M,F)?jr(t,ie+3,Z?l.call(Z,m,M,F):l(m,M,F)):Va(t,ie+3)}(Yt(),oo(),t,n,i,l,m,M)}function Va(t,n){const i=t[n];return i===Jn?void 0:i}function P_(t,n,i,l,m,M){const F=n+i;return Bo(t,F,m)?jr(t,F+1,M?l.call(M,m):l(m)):Va(t,F+1)}function R_(t,n,i,l,m,M,F){const Z=n+i;return Is(t,Z,m,M)?jr(t,Z+2,F?l.call(F,m,M):l(m,M)):Va(t,Z+2)}function N_(t,n){const i=Un();let l;const m=t+20;i.firstCreatePass?(l=function xE(t,n){if(n)for(let i=n.length-1;i>=0;i--){const l=n[i];if(t===l.name)return l}}(n,i.pipeRegistry),i.data[m]=l,l.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(m,l.onDestroy)):l=i.data[m];const M=l.factory||(l.factory=fi(l.type)),F=ce(Na);try{const Z=os(!1),ie=M();return os(Z),function c0(t,n,i,l){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),n[i]=l}(i,Yt(),m,ie),ie}finally{ce(F)}}function F_(t,n,i){const l=t+20,m=Yt(),M=gn(m,l);return ja(m,l)?P_(m,oo(),n,M.transform,i,M):M.transform(i)}function k_(t,n,i,l){const m=t+20,M=Yt(),F=gn(M,m);return ja(M,m)?R_(M,oo(),n,F.transform,i,l,F):F.transform(i,l)}function ja(t,n){return t[1].data[n].pure}function Zu(t){return n=>{setTimeout(t,void 0,n)}}const Yr=class BE extends o.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,l){var m,M,F;let Z=n,ie=i||(()=>null),Oe=l;if(n&&"object"==typeof n){const st=n;Z=null===(m=st.next)||void 0===m?void 0:m.bind(st),ie=null===(M=st.error)||void 0===M?void 0:M.bind(st),Oe=null===(F=st.complete)||void 0===F?void 0:F.bind(st)}this.__isAsync&&(ie=Zu(ie),Z&&(Z=Zu(Z)),Oe&&(Oe=Zu(Oe)));const Ue=super.subscribe({next:Z,error:ie,complete:Oe});return n instanceof c.w0&&n.add(Ue),Ue}};function GE(){return this._results[Ks()]()}class Wl{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Ks(),l=Wl.prototype;l[i]||(l[i]=GE)}get changes(){return this._changes||(this._changes=new Yr)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const l=this;l.dirty=!1;const m=Lo(n);(this._changesDetected=!function rc(t,n,i){if(t.length!==n.length)return!1;for(let l=0;l<t.length;l++){let m=t[l],M=n[l];if(i&&(m=i(m),M=i(M)),M!==m)return!1}return!0}(l._results,m,i))&&(l._results=m,l.length=m.length,l.last=m[this.length-1],l.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=HE,t})();const $E=za,UE=class extends $E{constructor(n,i,l){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=l}createEmbeddedView(n){const i=this._declarationTContainer.tViews,l=Pa(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const M=this._declarationLView[19];return null!==M&&(l[19]=M.createEmbeddedView(i)),Ra(i,l,n),new Ha(l)}};function HE(){return Yl(Mn(),Yt())}function Yl(t,n){return 4&t.type?new UE(n,t,ca(t,n)):null}let Zl=(()=>{class t{}return t.__NG_ELEMENT_ID__=VE,t})();function VE(){return $_(Mn(),Yt())}const jE=Zl,B_=class extends jE{constructor(n,i,l){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=l}get element(){return ca(this._hostTNode,this._hostLView)}get injector(){return new rs(this._hostTNode,this._hostLView)}get parentInjector(){const n=Mt(this._hostTNode,this._hostLView);if(Ns(n)){const i=xr(n,this._hostLView),l=hr(n);return new rs(i[1].data[l+8],i)}return new rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=G_(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,l){const m=n.createEmbeddedView(i||{});return this.insert(m,l),m}createComponent(n,i,l,m,M){const F=n&&!function vs(t){return"function"==typeof t}(n);let Z;if(F)Z=i;else{const st=i||{};Z=st.index,l=st.injector,m=st.projectableNodes,M=st.ngModuleRef}const ie=F?n:new Wu(Ct(n)),Oe=l||this.parentInjector;if(!M&&null==ie.ngModule){const Ot=(F?Oe:this.parentInjector).get(ua,null);Ot&&(M=Ot)}const Ue=ie.create(Oe,m,void 0,M);return this.insert(Ue.hostView,Z),Ue}insert(n,i){const l=n._lView,m=l[1];if(function En(t){return $e(t[3])}(l)){const Ue=this.indexOf(n);if(-1!==Ue)this.detach(Ue);else{const st=l[3],Ot=new B_(st,st[6],st[3]);Ot.detach(Ot.indexOf(n))}}const M=this._adjustIndex(i),F=this._lContainer;!function Tm(t,n,i,l){const m=10+l,M=i.length;l>0&&(i[m-1][4]=n),l<M-10?(n[4]=i[m],ks(i,10+l,n)):(i.push(n),n[4]=null),n[3]=i;const F=n[17];null!==F&&i!==F&&function Mm(t,n){const i=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===i?t[9]=[n]:i.push(n)}(F,n);const Z=n[19];null!==Z&&Z.insertView(t),n[2]|=128}(m,l,F,M);const Z=xc(M,F),ie=l[11],Oe=El(ie,F[7]);return null!==Oe&&function Cm(t,n,i,l,m,M){l[0]=m,l[6]=n,Ia(t,l,i,1,m,M)}(m,F[6],ie,l,Oe,Z),n.attachToViewContainerRef(),ks(Ku(F),M,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=G_(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),l=Rc(this._lContainer,i);l&&(kr(Ku(this._lContainer),i),uh(l[1],l))}detach(n){const i=this._adjustIndex(n,-1),l=Rc(this._lContainer,i);return l&&null!=kr(Ku(this._lContainer),i)?new Ha(l):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function G_(t){return t[8]}function Ku(t){return t[8]||(t[8]=[])}function $_(t,n){let i;const l=n[t.index];if($e(l))i=l;else{let m;if(8&t.type)m=B(l);else{const M=n[11];m=M.createComment("");const F=Pt(t,n);Os(M,El(M,F),m,function Rm(t,n){return je(t)?t.nextSibling(n):n.nextSibling}(M,F),!1)}n[t.index]=i=ef(l,n,m,t),Ml(n,i)}return new B_(i,t,n)}class Qu{constructor(n){this.queryList=n,this.matches=null}clone(){return new Qu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xu{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const l=null!==n.contentQueries?n.contentQueries[0]:i.length,m=[];for(let M=0;M<l;M++){const F=i.getByIndex(M);m.push(this.queries[F.indexInDeclarationView].clone())}return new Xu(m)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==K_(n,i).matches&&this.queries[i].setDirty()}}class U_{constructor(n,i,l=null){this.predicate=n,this.flags=i,this.read=l}}class Ju{constructor(n=[]){this.queries=n}elementStart(n,i){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let l=0;l<this.length;l++){const m=null!==i?i.length:0,M=this.getByIndex(l).embeddedTView(n,m);M&&(M.indexInDeclarationView=l,null!==i?i.push(M):i=[M])}return null!==i?new Ju(i):null}template(n,i){for(let l=0;l<this.queries.length;l++)this.queries[l].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class qu{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new qu(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let l=n.parent;for(;null!==l&&8&l.type&&l.index!==i;)l=l.parent;return i===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const l=this.metadata.predicate;if(Array.isArray(l))for(let m=0;m<l.length;m++){const M=l[m];this.matchTNodeWithReadOption(n,i,YE(i,M)),this.matchTNodeWithReadOption(n,i,Nr(i,n,M,!1,!1))}else l===za?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Nr(i,n,l,!1,!1))}matchTNodeWithReadOption(n,i,l){if(null!==l){const m=this.metadata.read;if(null!==m)if(m===Ua||m===Zl||m===za&&4&i.type)this.addMatch(i.index,-2);else{const M=Nr(i,n,m,!1,!1);null!==M&&this.addMatch(i.index,M)}else this.addMatch(i.index,l)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function YE(t,n){const i=t.localNames;if(null!==i)for(let l=0;l<i.length;l+=2)if(i[l]===n)return i[l+1];return null}function KE(t,n,i,l){return-1===i?function ZE(t,n){return 11&t.type?ca(t,n):4&t.type?Yl(t,n):null}(n,t):-2===i?function QE(t,n,i){return i===Ua?ca(n,t):i===za?Yl(n,t):i===Zl?$_(n,t):void 0}(t,n,l):Fr(t,t[1],i,n)}function H_(t,n,i,l){const m=n[19].queries[l];if(null===m.matches){const M=t.data,F=i.matches,Z=[];for(let ie=0;ie<F.length;ie+=2){const Oe=F[ie];Z.push(Oe<0?null:KE(n,M[Oe],F[ie+1],i.metadata.read))}m.matches=Z}return m.matches}function ed(t,n,i,l){const m=t.queries.getByIndex(i),M=m.matches;if(null!==M){const F=H_(t,n,m,i);for(let Z=0;Z<M.length;Z+=2){const ie=M[Z];if(ie>0)l.push(F[Z/2]);else{const Oe=M[Z+1],Ue=n[-ie];for(let st=10;st<Ue.length;st++){const Ot=Ue[st];Ot[17]===Ot[3]&&ed(Ot[1],Ot,Oe,l)}if(null!==Ue[9]){const st=Ue[9];for(let Ot=0;Ot<st.length;Ot++){const wt=st[Ot];ed(wt[1],wt,Oe,l)}}}}}return l}function V_(t){const n=Yt(),i=Un(),l=Ft();Wt(l+1);const m=K_(i,l);if(t.dirty&&hn(n)===(2==(2&m.metadata.flags))){if(null===m.matches)t.reset([]);else{const M=m.crossesNgTemplate?ed(i,n,l,[]):H_(i,n,m,l);t.reset(M,_E),t.notifyOnChanges()}return!0}return!1}function j_(t,n,i){const l=Un();l.firstCreatePass&&(Z_(l,new U_(t,n,i),-1),2==(2&n)&&(l.staticViewQueries=!0)),Y_(l,Yt(),n)}function z_(t,n,i,l){const m=Un();if(m.firstCreatePass){const M=Mn();Z_(m,new U_(n,i,l),M.index),function JE(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(m,t),2==(2&i)&&(m.staticContentQueries=!0)}Y_(m,Yt(),i)}function W_(){return function XE(t,n){return t[19].queries[n].queryList}(Yt(),Ft())}function Y_(t,n,i){const l=new Wl(4==(4&i));Wh(t,n,l,l.destroy),null===n[19]&&(n[19]=new Xu),n[19].queries.push(new Qu(l))}function Z_(t,n,i){null===t.queries&&(t.queries=new Ju),t.queries.track(new qu(n,i))}function K_(t,n){return t.queries.getByIndex(n)}function Q_(t,n){return Yl(t,n)}function Xl(...t){}const fg=new Xi("Application Initializer");let sd=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Xl,this.reject=Xl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,m)=>{this.resolve=l,this.reject=m})}runInitializers(){if(this.initialized)return;const i=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const M=this.appInits[m]();if(bu(M))i.push(M);else if(Xf(M)){const F=new Promise((Z,ie)=>{M.subscribe({complete:Z,error:ie})});i.push(F)}}Promise.all(i).then(()=>{l()}).catch(m=>{this.reject(m)}),0===i.length&&l(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(Le(fg,8))},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pg=new Xi("AppId",{providedIn:"root",factory:function _g(){return`${ad()}${ad()}${ad()}`}});function ad(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gg=new Xi("Platform Initializer"),mg=new Xi("Platform ID"),vg=new Xi("appBootstrapListener");let yg=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac}),t})();const ld=new Xi("LocaleId",{providedIn:"root",factory:()=>U(ld,kt.Optional|kt.SkipSelf)||function _S(){return"undefined"!=typeof $localize&&$localize.locale||Gl}()}),gS=new Xi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mS{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let vS=(()=>{class t{compileModuleSync(i){return new Yu(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const l=this.compileModuleSync(i),M=Ur(ln(i).declarations).reduce((F,Z)=>{const ie=Ct(Z);return ie&&F.push(new Wu(ie)),F},[]);return new mS(l,M)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ES=(()=>Promise.resolve(0))();function cd(t){"undefined"==typeof Zone?ES.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ir{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yr(!1),this.onMicrotaskEmpty=new Yr(!1),this.onStable=new Yr(!1),this.onError=new Yr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!l&&i,m.shouldCoalesceRunChangeDetection=l,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function SS(){let t=gt.requestAnimationFrame,n=gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function AS(t){const n=()=>{!function CS(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(gt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dd(t),t.isCheckStableRunning=!0,ud(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,l,m,M,F,Z)=>{try{return Eg(t),i.invokeTask(m,M,F,Z)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===M.type||t.shouldCoalesceRunChangeDetection)&&n(),Sg(t)}},onInvoke:(i,l,m,M,F,Z,ie)=>{try{return Eg(t),i.invoke(m,M,F,Z,ie)}finally{t.shouldCoalesceRunChangeDetection&&n(),Sg(t)}},onHasTask:(i,l,m,M)=>{i.hasTask(m,M),l===m&&("microTask"==M.change?(t._hasPendingMicrotasks=M.microTask,dd(t),ud(t)):"macroTask"==M.change&&(t.hasPendingMacrotasks=M.macroTask))},onHandleError:(i,l,m,M)=>(i.handleError(m,M),t.runOutsideAngular(()=>t.onError.emit(M)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ir.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ir.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,l){return this._inner.run(n,i,l)}runTask(n,i,l,m){const M=this._inner,F=M.scheduleEventTask("NgZoneEvent: "+m,n,bS,Xl,Xl);try{return M.runTask(F,i,l)}finally{M.cancelTask(F)}}runGuarded(n,i,l){return this._inner.runGuarded(n,i,l)}runOutsideAngular(n){return this._outer.run(n)}}const bS={};function ud(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Eg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sg(t){t._nesting--,ud(t)}class DS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yr,this.onMicrotaskEmpty=new Yr,this.onStable=new Yr,this.onError=new Yr}run(n,i,l){return n.apply(i,l)}runGuarded(n,i,l){return n.apply(i,l)}runOutsideAngular(n){return n()}runTask(n,i,l,m){return n.apply(i,l)}}let bg=(()=>{class t{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ir.assertNotInAngularZone(),cd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cd(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(i)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,l,m){let M=-1;l&&l>0&&(M=setTimeout(()=>{this._callbacks=this._callbacks.filter(F=>F.timeoutId!==M),i(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:i,timeoutId:M,updateCb:m})}whenStable(i,l,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,l,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,l,m){return[]}}return t.\u0275fac=function(i){return new(i||t)(Le(Ir))},t.\u0275prov=Re({token:t,factory:t.\u0275fac}),t})(),Cg=(()=>{class t{constructor(){this._applications=new Map,hd.addToWindow(this)}registerApplication(i,l){this._applications.set(i,l)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,l=!0){return hd.findTestabilityInTree(this,i,l)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Re({token:t,factory:t.\u0275fac}),t})();class TS{addToWindow(n){}findTestabilityInTree(n,i,l){return null}}function MS(t){hd=t}let Pr,hd=new TS;const Ag=new Xi("AllowMultipleToken");class PS{constructor(n,i){this.name=n,this.token=i}}function Dg(t,n,i=[]){const l=`Platform: ${n}`,m=new Xi(l);return(M=[])=>{let F=Tg();if(!F||F.injector.get(Ag,!1))if(t)t(i.concat(M).concat({provide:m,useValue:!0}));else{const Z=i.concat(M).concat({provide:m,useValue:!0},{provide:ru,useValue:"platform"});!function RS(t){if(Pr&&!Pr.destroyed&&!Pr.injector.get(Ag,!1))throw new s(400,"");Pr=t.get(Mg);const n=t.get(gg,null);n&&n.forEach(i=>i())}(Dr.create({providers:Z,name:l}))}return function LS(t){const n=Tg();if(!n)throw new s(401,"");return n}()}}function Tg(){return Pr&&!Pr.destroyed?Pr:null}let Mg=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,l){const Z=function wS(t,n){let i;return i="noop"===t?new DS:("zone.js"===t?void 0:t)||new Ir({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),ie=[{provide:Ir,useValue:Z}];return Z.run(()=>{const Oe=Dr.create({providers:ie,parent:this.injector,name:i.moduleType.name}),Ue=i.create(Oe),st=Ue.injector.get(yl,null);if(!st)throw new s(402,"");return Z.runOutsideAngular(()=>{const Ot=Z.onError.subscribe({next:wt=>{st.handleError(wt)}});Ue.onDestroy(()=>{pd(this._modules,Ue),Ot.unsubscribe()})}),function xS(t,n,i){try{const l=i();return bu(l)?l.catch(m=>{throw n.runOutsideAngular(()=>t.handleError(m)),m}):l}catch(l){throw n.runOutsideAngular(()=>t.handleError(l)),l}}(st,Z,()=>{const Ot=Ue.injector.get(sd);return Ot.runInitializers(),Ot.donePromise.then(()=>(function yy(t){(function Ne(t,n){null==t&&dt(n,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(jp=t.toLowerCase().replace(/_/g,"-"))}(Ue.injector.get(ld,Gl)||Gl),this._moduleDoBootstrap(Ue),Ue))})})}bootstrapModule(i,l=[]){const m=Og({},l);return function OS(t,n,i){const l=new Yu(i);return Promise.resolve(l)}(0,0,i).then(M=>this.bootstrapModuleFactory(M,m))}_moduleDoBootstrap(i){const l=i.injector.get(fd);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(m=>l.bootstrap(m));else{if(!i.instance.ngDoBootstrap)throw new s(403,"");i.instance.ngDoBootstrap(l)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new s(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(Le(Dr))},t.\u0275prov=Re({token:t,factory:t.\u0275fac}),t})();function Og(t,n){return Array.isArray(n)?n.reduce(Og,t):Object.assign(Object.assign({},t),n)}let fd=(()=>{class t{constructor(i,l,m,M,F){this._zone=i,this._injector=l,this._exceptionHandler=m,this._componentFactoryResolver=M,this._initStatus=F,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const Z=new g.y(Oe=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Oe.next(this._stable),Oe.complete()})}),ie=new g.y(Oe=>{let Ue;this._zone.runOutsideAngular(()=>{Ue=this._zone.onStable.subscribe(()=>{Ir.assertNotInAngularZone(),cd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Oe.next(!0))})})});const st=this._zone.onUnstable.subscribe(()=>{Ir.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Oe.next(!1)}))});return()=>{Ue.unsubscribe(),st.unsubscribe()}});this.isStable=(0,a.T)(Z,ie.pipe((0,u.B)()))}bootstrap(i,l){if(!this._initStatus.done)throw new s(405,"");let m;m=i instanceof g_?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(m.componentType);const M=function IS(t){return t.isBoundToModule}(m)?void 0:this._injector.get(ua),Z=m.create(Dr.NULL,[],l||m.selector,M),ie=Z.location.nativeElement,Oe=Z.injector.get(bg,null),Ue=Oe&&Z.injector.get(Cg);return Oe&&Ue&&Ue.registerApplication(ie,Oe),Z.onDestroy(()=>{this.detachView(Z.hostView),pd(this.components,Z),Ue&&Ue.unregisterApplication(ie)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new s(101,"");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const l=i;this._views.push(l),l.attachToAppRef(this)}detachView(i){const l=i;pd(this._views,l),l.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(vg,[]).concat(this._bootstrapListeners).forEach(m=>m(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(i){return new(i||t)(Le(Ir),Le(Dr),Le(yl),Le(jl),Le(sd))},t.\u0275prov=Re({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pd(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}let Pg=!0;function FS(){Pg=!1}let kS=(()=>{class t{}return t.__NG_ELEMENT_ID__=BS,t})();function BS(t){return function GS(t,n,i){if(Jt(t)&&!i){const l=dn(t.index,n);return new Ha(l,l)}return 47&t.type?new Ha(n[16],n):null}(Mn(),Yt(),16==(16&t))}class Ng{constructor(){}supports(n){return wa(n)}create(n){return new zS(n)}}const jS=(t,n)=>n;class zS{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||jS}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,l=this._removalsHead,m=0,M=null;for(;i||l;){const F=!l||i&&i.currentIndex<kg(l,m,M)?i:l,Z=kg(F,m,M),ie=F.currentIndex;if(F===l)m--,l=l._nextRemoved;else if(i=i._next,null==F.previousIndex)m++;else{M||(M=[]);const Oe=Z-m,Ue=ie-m;if(Oe!=Ue){for(let Ot=0;Ot<Oe;Ot++){const wt=Ot<M.length?M[Ot]:M[Ot]=0,Zt=wt+Ot;Ue<=Zt&&Zt<Oe&&(M[Ot]=wt+1)}M[F.previousIndex]=Ue-Oe}}Z!==ie&&n(F,Z,ie)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!wa(n))throw new s(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let m,M,F,i=this._itHead,l=!1;if(Array.isArray(n)){this.length=n.length;for(let Z=0;Z<this.length;Z++)M=n[Z],F=this._trackByFn(Z,M),null!==i&&Object.is(i.trackById,F)?(l&&(i=this._verifyReinsertion(i,M,F,Z)),Object.is(i.item,M)||this._addIdentityChange(i,M)):(i=this._mismatch(i,M,F,Z),l=!0),i=i._next}else m=0,function a0(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Ks()]();let l;for(;!(l=i.next()).done;)n(l.value)}}(n,Z=>{F=this._trackByFn(m,Z),null!==i&&Object.is(i.trackById,F)?(l&&(i=this._verifyReinsertion(i,Z,F,m)),Object.is(i.item,Z)||this._addIdentityChange(i,Z)):(i=this._mismatch(i,Z,F,m),l=!0),i=i._next,m++}),this.length=m;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,l,m){let M;return null===n?M=this._itTail:(M=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,M,m)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(l,m))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,M,m)):n=this._addAfter(new WS(i,l),M,m),n}_verifyReinsertion(n,i,l,m){let M=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==M?n=this._reinsertAfter(M,n._prev,m):n.currentIndex!=m&&(n.currentIndex=m,this._addToMoves(n,m)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const m=n._prevRemoved,M=n._nextRemoved;return null===m?this._removalsHead=M:m._nextRemoved=M,null===M?this._removalsTail=m:M._prevRemoved=m,this._insertAfter(n,i,l),this._addToMoves(n,l),n}_moveAfter(n,i,l){return this._unlink(n),this._insertAfter(n,i,l),this._addToMoves(n,l),n}_addAfter(n,i,l){return this._insertAfter(n,i,l),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,l){const m=null===i?this._itHead:i._next;return n._next=m,n._prev=i,null===m?this._itTail=n:m._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Fg),this._linkedRecords.put(n),n.currentIndex=l,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,l=n._next;return null===i?this._itHead=l:i._next=l,null===l?this._itTail=i:l._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fg),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class WS{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YS{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===i||i<=l.currentIndex)&&Object.is(l.trackById,n))return l;return null}remove(n){const i=n._prevDup,l=n._nextDup;return null===i?this._head=l:i._nextDup=l,null===l?this._tail=i:l._prevDup=i,null===this._head}}class Fg{constructor(){this.map=new Map}put(n){const i=n.trackById;let l=this.map.get(i);l||(l=new YS,this.map.set(i,l)),l.add(n)}get(n,i){const m=this.map.get(n);return m?m.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kg(t,n,i){const l=t.previousIndex;if(null===l)return l;let m=0;return i&&l<i.length&&(m=i[l]),l+n+m}class Bg{constructor(){}supports(n){return n instanceof Map||hu(n)}create(){return new ZS}}class ZS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||hu(n)))throw new s(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(l,m)=>{if(i&&i.key===m)this._maybeAddToChanges(i,l),this._appendAfter=i,i=i._next;else{const M=this._getOrCreateRecordForKey(m,l);i=this._insertBeforeOrAppend(i,M)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let l=i;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const l=n._prev;return i._next=n,i._prev=l,n._prev=i,l&&(l._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const m=this._records.get(n);this._maybeAddToChanges(m,i);const M=m._prev,F=m._next;return M&&(M._next=F),F&&(F._prev=M),m._next=null,m._prev=null,m}const l=new KS(n);return this._records.set(n,l),l.currentValue=i,this._addToAdditions(l),l}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(l=>i(n[l],l))}}class KS{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gg(){return new yd([new Ng])}let yd=(()=>{class t{constructor(i){this.factories=i}static create(i,l){if(null!=l){const m=l.factories.slice();i=i.concat(m)}return new t(i)}static extend(i){return{provide:t,useFactory:l=>t.create(i,l||Gg()),deps:[[t,new Pn,new pn]]}}find(i){const l=this.factories.find(m=>m.supports(i));if(null!=l)return l;throw new s(901,"")}}return t.\u0275prov=Re({token:t,providedIn:"root",factory:Gg}),t})();function $g(){return new Ed([new Bg])}let Ed=(()=>{class t{constructor(i){this.factories=i}static create(i,l){if(l){const m=l.factories.slice();i=i.concat(m)}return new t(i)}static extend(i){return{provide:t,useFactory:l=>t.create(i,l||$g()),deps:[[t,new Pn,new pn]]}}find(i){const l=this.factories.find(M=>M.supports(i));if(l)return l;throw new s(901,"")}}return t.\u0275prov=Re({token:t,providedIn:"root",factory:$g}),t})();const JS=Dg(null,"core",[{provide:mg,useValue:"unknown"},{provide:Mg,deps:[Dr]},{provide:Cg,deps:[]},{provide:yg,deps:[]}]);let qS=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(Le(fd))},t.\u0275mod=_t({type:t}),t.\u0275inj=ht({}),t})()},3075:(ot,pe,r)=>{"use strict";r.d(pe,{Cf:()=>b,F:()=>ei,Fd:()=>rr,Fj:()=>y,JJ:()=>kt,JL:()=>qe,JU:()=>d,On:()=>Jt,Q7:()=>Co,SD:()=>A,UX:()=>hn,Zs:()=>ho,_Y:()=>on,a5:()=>lt,kI:()=>D,nD:()=>re,qQ:()=>Gi,qu:()=>En,sg:()=>mo,u:()=>Ki,u5:()=>dn,wV:()=>Bn,x0:()=>vo});var o=r(5e3),c=r(9808),g=r(457),a=r(4128),u=r(4004);let v=(()=>{class ye{constructor(J,He){this._renderer=J,this._elementRef=He,this.onChange=Ht=>{},this.onTouched=()=>{}}setProperty(J,He){this._renderer.setProperty(this._elementRef.nativeElement,J,He)}registerOnTouched(J){this.onTouched=J}registerOnChange(J){this.onChange=J}setDisabledState(J){this.setProperty("disabled",J)}}return ye.\u0275fac=function(J){return new(J||ye)(o.Y36(o.Qsj),o.Y36(o.SBq))},ye.\u0275dir=o.lG2({type:ye}),ye})(),p=(()=>{class ye extends v{}return ye.\u0275fac=function(){let le;return function(He){return(le||(le=o.n5z(ye)))(He||ye)}}(),ye.\u0275dir=o.lG2({type:ye,features:[o.qOj]}),ye})();const d=new o.OlP("NgValueAccessor"),e={provide:d,useExisting:(0,o.Gpc)(()=>y),multi:!0},f=new o.OlP("CompositionEventMode");let y=(()=>{class ye extends v{constructor(J,He,Ht){super(J,He),this._compositionMode=Ht,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function E(){const ye=(0,c.q)()?(0,c.q)().getUserAgent():"";return/android (\d+)/.test(ye.toLowerCase())}())}writeValue(J){this.setProperty("value",null==J?"":J)}_handleInput(J){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(J)}_compositionStart(){this._composing=!0}_compositionEnd(J){this._composing=!1,this._compositionMode&&this.onChange(J)}}return ye.\u0275fac=function(J){return new(J||ye)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(f,8))},ye.\u0275dir=o.lG2({type:ye,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(J,He){1&J&&o.NdJ("input",function(cn){return He._handleInput(cn.target.value)})("blur",function(){return He.onTouched()})("compositionstart",function(){return He._compositionStart()})("compositionend",function(cn){return He._compositionEnd(cn.target.value)})},features:[o._Bn([e]),o.qOj]}),ye})();function s(ye){return null==ye||0===ye.length}function C(ye){return null!=ye&&"number"==typeof ye.length}const b=new o.OlP("NgValidators"),A=new o.OlP("NgAsyncValidators"),I=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class D{static min(le){return O(le)}static max(le){return S(le)}static required(le){return x(le)}static requiredTrue(le){return L(le)}static email(le){return function R(ye){return s(ye.value)||I.test(ye.value)?null:{email:!0}}(le)}static minLength(le){return function G(ye){return le=>s(le.value)||!C(le.value)?null:le.value.length<ye?{minlength:{requiredLength:ye,actualLength:le.value.length}}:null}(le)}static maxLength(le){return k(le)}static pattern(le){return function V(ye){if(!ye)return ne;let le,J;return"string"==typeof ye?(J="","^"!==ye.charAt(0)&&(J+="^"),J+=ye,"$"!==ye.charAt(ye.length-1)&&(J+="$"),le=new RegExp(J)):(J=ye.toString(),le=ye),He=>{if(s(He.value))return null;const Ht=He.value;return le.test(Ht)?null:{pattern:{requiredPattern:J,actualValue:Ht}}}}(le)}static nullValidator(le){return null}static compose(le){return Ne(le)}static composeAsync(le){return ge(le)}}function O(ye){return le=>{if(s(le.value)||s(ye))return null;const J=parseFloat(le.value);return!isNaN(J)&&J<ye?{min:{min:ye,actual:le.value}}:null}}function S(ye){return le=>{if(s(le.value)||s(ye))return null;const J=parseFloat(le.value);return!isNaN(J)&&J>ye?{max:{max:ye,actual:le.value}}:null}}function x(ye){return s(ye.value)?{required:!0}:null}function L(ye){return!0===ye.value?null:{required:!0}}function k(ye){return le=>C(le.value)&&le.value.length>ye?{maxlength:{requiredLength:ye,actualLength:le.value.length}}:null}function ne(ye){return null}function $(ye){return null!=ye}function q(ye){const le=(0,o.QGY)(ye)?(0,g.D)(ye):ye;return(0,o.CqO)(le),le}function X(ye){let le={};return ye.forEach(J=>{le=null!=J?Object.assign(Object.assign({},le),J):le}),0===Object.keys(le).length?null:le}function de(ye,le){return le.map(J=>J(ye))}function We(ye){return ye.map(le=>function fe(ye){return!ye.validate}(le)?le:J=>le.validate(J))}function Ne(ye){if(!ye)return null;const le=ye.filter($);return 0==le.length?null:function(J){return X(de(J,le))}}function dt(ye){return null!=ye?Ne(We(ye)):null}function ge(ye){if(!ye)return null;const le=ye.filter($);return 0==le.length?null:function(J){const He=de(J,le).map(q);return(0,a.D)(He).pipe((0,u.U)(X))}}function Je(ye){return null!=ye?ge(We(ye)):null}function se(ye,le){return null===ye?[le]:Array.isArray(ye)?[...ye,le]:[ye,le]}function Re(ye){return ye._rawValidators}function pt(ye){return ye._rawAsyncValidators}function ht(ye){return ye?Array.isArray(ye)?ye:[ye]:[]}function It(ye,le){return Array.isArray(ye)?ye.includes(le):ye===le}function De(ye,le){const J=ht(le);return ht(ye).forEach(Ht=>{It(J,Ht)||J.push(Ht)}),J}function Se(ye,le){return ht(le).filter(J=>!It(ye,J))}class Ae{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(le){this._rawValidators=le||[],this._composedValidatorFn=dt(this._rawValidators)}_setAsyncValidators(le){this._rawAsyncValidators=le||[],this._composedAsyncValidatorFn=Je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(le){this._onDestroyCallbacks.push(le)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(le=>le()),this._onDestroyCallbacks=[]}reset(le){this.control&&this.control.reset(le)}hasError(le,J){return!!this.control&&this.control.hasError(le,J)}getError(le,J){return this.control?this.control.getError(le,J):null}}class lt extends Ae{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ze extends Ae{get formDirective(){return null}get path(){return null}}class Rt{constructor(le){this._cd=le}is(le){var J,He,Ht;return"submitted"===le?!!(null===(J=this._cd)||void 0===J?void 0:J.submitted):!!(null===(Ht=null===(He=this._cd)||void 0===He?void 0:He.control)||void 0===Ht?void 0:Ht[le])}}let kt=(()=>{class ye extends Rt{constructor(J){super(J)}}return ye.\u0275fac=function(J){return new(J||ye)(o.Y36(lt,2))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(J,He){2&J&&o.ekj("ng-untouched",He.is("untouched"))("ng-touched",He.is("touched"))("ng-pristine",He.is("pristine"))("ng-dirty",He.is("dirty"))("ng-valid",He.is("valid"))("ng-invalid",He.is("invalid"))("ng-pending",He.is("pending"))},features:[o.qOj]}),ye})(),qe=(()=>{class ye extends Rt{constructor(J){super(J)}}return ye.\u0275fac=function(J){return new(J||ye)(o.Y36(Ze,10))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(J,He){2&J&&o.ekj("ng-untouched",He.is("untouched"))("ng-touched",He.is("touched"))("ng-pristine",He.is("pristine"))("ng-dirty",He.is("dirty"))("ng-valid",He.is("valid"))("ng-invalid",He.is("invalid"))("ng-pending",He.is("pending"))("ng-submitted",He.is("submitted"))},features:[o.qOj]}),ye})();function Ke(ye,le){return[...le.path,ye]}function Et(ye,le){Ce(ye,le),le.valueAccessor.writeValue(ye.value),function ve(ye,le){le.valueAccessor.registerOnChange(J=>{ye._pendingValue=J,ye._pendingChange=!0,ye._pendingDirty=!0,"change"===ye.updateOn&&K(ye,le)})}(ye,le),function Ee(ye,le){const J=(He,Ht)=>{le.valueAccessor.writeValue(He),Ht&&le.viewToModelUpdate(He)};ye.registerOnChange(J),le._registerOnDestroy(()=>{ye._unregisterOnChange(J)})}(ye,le),function ae(ye,le){le.valueAccessor.registerOnTouched(()=>{ye._pendingTouched=!0,"blur"===ye.updateOn&&ye._pendingChange&&K(ye,le),"submit"!==ye.updateOn&&ye.markAsTouched()})}(ye,le),function Be(ye,le){if(le.valueAccessor.setDisabledState){const J=He=>{le.valueAccessor.setDisabledState(He)};ye.registerOnDisabledChange(J),le._registerOnDestroy(()=>{ye._unregisterOnDisabledChange(J)})}}(ye,le)}function et(ye,le,J=!0){const He=()=>{};le.valueAccessor&&(le.valueAccessor.registerOnChange(He),le.valueAccessor.registerOnTouched(He)),ke(ye,le),ye&&(le._invokeOnDestroyCallbacks(),ye._registerOnCollectionChange(()=>{}))}function nt(ye,le){ye.forEach(J=>{J.registerOnValidatorChange&&J.registerOnValidatorChange(le)})}function Ce(ye,le){const J=Re(ye);null!==le.validator?ye.setValidators(se(J,le.validator)):"function"==typeof J&&ye.setValidators([J]);const He=pt(ye);null!==le.asyncValidator?ye.setAsyncValidators(se(He,le.asyncValidator)):"function"==typeof He&&ye.setAsyncValidators([He]);const Ht=()=>ye.updateValueAndValidity();nt(le._rawValidators,Ht),nt(le._rawAsyncValidators,Ht)}function ke(ye,le){let J=!1;if(null!==ye){if(null!==le.validator){const Ht=Re(ye);if(Array.isArray(Ht)&&Ht.length>0){const cn=Ht.filter(mi=>mi!==le.validator);cn.length!==Ht.length&&(J=!0,ye.setValidators(cn))}}if(null!==le.asyncValidator){const Ht=pt(ye);if(Array.isArray(Ht)&&Ht.length>0){const cn=Ht.filter(mi=>mi!==le.asyncValidator);cn.length!==Ht.length&&(J=!0,ye.setAsyncValidators(cn))}}}const He=()=>{};return nt(le._rawValidators,He),nt(le._rawAsyncValidators,He),J}function K(ye,le){ye._pendingDirty&&ye.markAsDirty(),ye.setValue(ye._pendingValue,{emitModelToViewChange:!1}),le.viewToModelUpdate(ye._pendingValue),ye._pendingChange=!1}function he(ye,le){Ce(ye,le)}function at(ye,le){if(!ye.hasOwnProperty("model"))return!1;const J=ye.model;return!!J.isFirstChange()||!Object.is(le,J.currentValue)}function Ct(ye,le){ye._syncPendingControls(),le.forEach(J=>{const He=J.control;"submit"===He.updateOn&&He._pendingChange&&(J.viewToModelUpdate(He._pendingValue),He._pendingChange=!1)})}function Ut(ye,le){if(!le)return null;let J,He,Ht;return Array.isArray(le),le.forEach(cn=>{cn.constructor===y?J=cn:function rt(ye){return Object.getPrototypeOf(ye.constructor)===p}(cn)?He=cn:Ht=cn}),Ht||He||J||null}function tn(ye,le){const J=ye.indexOf(le);J>-1&&ye.splice(J,1)}const Gn="VALID",pi="INVALID",jn="PENDING",yi="DISABLED";function Oi(ye){return(zn(ye)?ye.validators:ye)||null}function Zn(ye){return Array.isArray(ye)?dt(ye):ye||null}function nn(ye,le){return(zn(le)?le.asyncValidators:ye)||null}function yn(ye){return Array.isArray(ye)?Je(ye):ye||null}function zn(ye){return null!=ye&&!Array.isArray(ye)&&"object"==typeof ye}const _i=ye=>ye instanceof Dn,Pi=ye=>ye instanceof Ui,ii=ye=>ye instanceof Li;function Ri(ye){return _i(ye)?ye.value:ye.getRawValue()}function $n(ye,le){const J=Pi(ye),He=ye.controls;if(!(J?Object.keys(He):He).length)throw new o.vHH(1e3,"");if(!He[le])throw new o.vHH(1001,"")}function oi(ye,le){Pi(ye),ye._forEachChild((He,Ht)=>{if(void 0===le[Ht])throw new o.vHH(1002,"")})}class gi{constructor(le,J){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=le,this._rawAsyncValidators=J,this._composedValidatorFn=Zn(this._rawValidators),this._composedAsyncValidatorFn=yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(le){this._rawValidators=this._composedValidatorFn=le}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(le){this._rawAsyncValidators=this._composedAsyncValidatorFn=le}get parent(){return this._parent}get valid(){return this.status===Gn}get invalid(){return this.status===pi}get pending(){return this.status==jn}get disabled(){return this.status===yi}get enabled(){return this.status!==yi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(le){this._rawValidators=le,this._composedValidatorFn=Zn(le)}setAsyncValidators(le){this._rawAsyncValidators=le,this._composedAsyncValidatorFn=yn(le)}addValidators(le){this.setValidators(De(le,this._rawValidators))}addAsyncValidators(le){this.setAsyncValidators(De(le,this._rawAsyncValidators))}removeValidators(le){this.setValidators(Se(le,this._rawValidators))}removeAsyncValidators(le){this.setAsyncValidators(Se(le,this._rawAsyncValidators))}hasValidator(le){return It(this._rawValidators,le)}hasAsyncValidator(le){return It(this._rawAsyncValidators,le)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(le={}){this.touched=!0,this._parent&&!le.onlySelf&&this._parent.markAsTouched(le)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(le=>le.markAllAsTouched())}markAsUntouched(le={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(J=>{J.markAsUntouched({onlySelf:!0})}),this._parent&&!le.onlySelf&&this._parent._updateTouched(le)}markAsDirty(le={}){this.pristine=!1,this._parent&&!le.onlySelf&&this._parent.markAsDirty(le)}markAsPristine(le={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(J=>{J.markAsPristine({onlySelf:!0})}),this._parent&&!le.onlySelf&&this._parent._updatePristine(le)}markAsPending(le={}){this.status=jn,!1!==le.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!le.onlySelf&&this._parent.markAsPending(le)}disable(le={}){const J=this._parentMarkedDirty(le.onlySelf);this.status=yi,this.errors=null,this._forEachChild(He=>{He.disable(Object.assign(Object.assign({},le),{onlySelf:!0}))}),this._updateValue(),!1!==le.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},le),{skipPristineCheck:J})),this._onDisabledChange.forEach(He=>He(!0))}enable(le={}){const J=this._parentMarkedDirty(le.onlySelf);this.status=Gn,this._forEachChild(He=>{He.enable(Object.assign(Object.assign({},le),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},le),{skipPristineCheck:J})),this._onDisabledChange.forEach(He=>He(!1))}_updateAncestors(le){this._parent&&!le.onlySelf&&(this._parent.updateValueAndValidity(le),le.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(le){this._parent=le}updateValueAndValidity(le={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gn||this.status===jn)&&this._runAsyncValidator(le.emitEvent)),!1!==le.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!le.onlySelf&&this._parent.updateValueAndValidity(le)}_updateTreeValidity(le={emitEvent:!0}){this._forEachChild(J=>J._updateTreeValidity(le)),this.updateValueAndValidity({onlySelf:!0,emitEvent:le.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yi:Gn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(le){if(this.asyncValidator){this.status=jn,this._hasOwnPendingAsyncValidator=!0;const J=q(this.asyncValidator(this));this._asyncValidationSubscription=J.subscribe(He=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(He,{emitEvent:le})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(le,J={}){this.errors=le,this._updateControlsErrors(!1!==J.emitEvent)}get(le){return function Yn(ye,le,J){if(null==le||(Array.isArray(le)||(le=le.split(J)),Array.isArray(le)&&0===le.length))return null;let He=ye;return le.forEach(Ht=>{He=Pi(He)?He.controls.hasOwnProperty(Ht)?He.controls[Ht]:null:ii(He)&&He.at(Ht)||null}),He}(this,le,".")}getError(le,J){const He=J?this.get(J):this;return He&&He.errors?He.errors[le]:null}hasError(le,J){return!!this.getError(le,J)}get root(){let le=this;for(;le._parent;)le=le._parent;return le}_updateControlsErrors(le){this.status=this._calculateStatus(),le&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(le)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?yi:this.errors?pi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jn)?jn:this._anyControlsHaveStatus(pi)?pi:Gn}_anyControlsHaveStatus(le){return this._anyControls(J=>J.status===le)}_anyControlsDirty(){return this._anyControls(le=>le.dirty)}_anyControlsTouched(){return this._anyControls(le=>le.touched)}_updatePristine(le={}){this.pristine=!this._anyControlsDirty(),this._parent&&!le.onlySelf&&this._parent._updatePristine(le)}_updateTouched(le={}){this.touched=this._anyControlsTouched(),this._parent&&!le.onlySelf&&this._parent._updateTouched(le)}_isBoxedValue(le){return"object"==typeof le&&null!==le&&2===Object.keys(le).length&&"value"in le&&"disabled"in le}_registerOnCollectionChange(le){this._onCollectionChange=le}_setUpdateStrategy(le){zn(le)&&null!=le.updateOn&&(this._updateOn=le.updateOn)}_parentMarkedDirty(le){return!le&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Dn extends gi{constructor(le=null,J,He){super(Oi(J),nn(He,J)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(le),this._setUpdateStrategy(J),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zn(J)&&J.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(le)?le.value:le)}setValue(le,J={}){this.value=this._pendingValue=le,this._onChange.length&&!1!==J.emitModelToViewChange&&this._onChange.forEach(He=>He(this.value,!1!==J.emitViewToModelChange)),this.updateValueAndValidity(J)}patchValue(le,J={}){this.setValue(le,J)}reset(le=this.defaultValue,J={}){this._applyFormState(le),this.markAsPristine(J),this.markAsUntouched(J),this.setValue(this.value,J),this._pendingChange=!1}_updateValue(){}_anyControls(le){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(le){this._onChange.push(le)}_unregisterOnChange(le){tn(this._onChange,le)}registerOnDisabledChange(le){this._onDisabledChange.push(le)}_unregisterOnDisabledChange(le){tn(this._onDisabledChange,le)}_forEachChild(le){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(le){this._isBoxedValue(le)?(this.value=this._pendingValue=le.value,le.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=le}}class Ui extends gi{constructor(le,J,He){super(Oi(J),nn(He,J)),this.controls=le,this._initObservables(),this._setUpdateStrategy(J),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(le,J){return this.controls[le]?this.controls[le]:(this.controls[le]=J,J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange),J)}addControl(le,J,He={}){this.registerControl(le,J),this.updateValueAndValidity({emitEvent:He.emitEvent}),this._onCollectionChange()}removeControl(le,J={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}setControl(le,J,He={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),delete this.controls[le],J&&this.registerControl(le,J),this.updateValueAndValidity({emitEvent:He.emitEvent}),this._onCollectionChange()}contains(le){return this.controls.hasOwnProperty(le)&&this.controls[le].enabled}setValue(le,J={}){oi(this,le),Object.keys(le).forEach(He=>{$n(this,He),this.controls[He].setValue(le[He],{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J)}patchValue(le,J={}){null!=le&&(Object.keys(le).forEach(He=>{this.controls[He]&&this.controls[He].patchValue(le[He],{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J))}reset(le={},J={}){this._forEachChild((He,Ht)=>{He.reset(le[Ht],{onlySelf:!0,emitEvent:J.emitEvent})}),this._updatePristine(J),this._updateTouched(J),this.updateValueAndValidity(J)}getRawValue(){return this._reduceChildren({},(le,J,He)=>(le[He]=Ri(J),le))}_syncPendingControls(){let le=this._reduceChildren(!1,(J,He)=>!!He._syncPendingControls()||J);return le&&this.updateValueAndValidity({onlySelf:!0}),le}_forEachChild(le){Object.keys(this.controls).forEach(J=>{const He=this.controls[J];He&&le(He,J)})}_setUpControls(){this._forEachChild(le=>{le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(le){for(const J of Object.keys(this.controls)){const He=this.controls[J];if(this.contains(J)&&le(He))return!0}return!1}_reduceValue(){return this._reduceChildren({},(le,J,He)=>((J.enabled||this.disabled)&&(le[He]=J.value),le))}_reduceChildren(le,J){let He=le;return this._forEachChild((Ht,cn)=>{He=J(He,Ht,cn)}),He}_allControlsDisabled(){for(const le of Object.keys(this.controls))if(this.controls[le].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Li extends gi{constructor(le,J,He){super(Oi(J),nn(He,J)),this.controls=le,this._initObservables(),this._setUpdateStrategy(J),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(le){return this.controls[le]}push(le,J={}){this.controls.push(le),this._registerControl(le),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}insert(le,J,He={}){this.controls.splice(le,0,J),this._registerControl(J),this.updateValueAndValidity({emitEvent:He.emitEvent})}removeAt(le,J={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),this.updateValueAndValidity({emitEvent:J.emitEvent})}setControl(le,J,He={}){this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),J&&(this.controls.splice(le,0,J),this._registerControl(J)),this.updateValueAndValidity({emitEvent:He.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(le,J={}){oi(this,le),le.forEach((He,Ht)=>{$n(this,Ht),this.at(Ht).setValue(He,{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J)}patchValue(le,J={}){null!=le&&(le.forEach((He,Ht)=>{this.at(Ht)&&this.at(Ht).patchValue(He,{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J))}reset(le=[],J={}){this._forEachChild((He,Ht)=>{He.reset(le[Ht],{onlySelf:!0,emitEvent:J.emitEvent})}),this._updatePristine(J),this._updateTouched(J),this.updateValueAndValidity(J)}getRawValue(){return this.controls.map(le=>Ri(le))}clear(le={}){this.controls.length<1||(this._forEachChild(J=>J._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:le.emitEvent}))}_syncPendingControls(){let le=this.controls.reduce((J,He)=>!!He._syncPendingControls()||J,!1);return le&&this.updateValueAndValidity({onlySelf:!0}),le}_forEachChild(le){this.controls.forEach((J,He)=>{le(J,He)})}_updateValue(){this.value=this.controls.filter(le=>le.enabled||this.disabled).map(le=>le.value)}_anyControls(le){return this.controls.some(J=>J.enabled&&le(J))}_setUpControls(){this._forEachChild(le=>this._registerControl(le))}_allControlsDisabled(){for(const le of this.controls)if(le.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(le){le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange)}}const si={provide:Ze,useExisting:(0,o.Gpc)(()=>ei)},Ei=(()=>Promise.resolve(null))();let ei=(()=>{class ye extends Ze{constructor(J,He){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Ui({},dt(J),Je(He))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(J){Ei.then(()=>{const He=this._findContainer(J.path);J.control=He.registerControl(J.name,J.control),Et(J.control,J),J.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(J)})}getControl(J){return this.form.get(J.path)}removeControl(J){Ei.then(()=>{const He=this._findContainer(J.path);He&&He.removeControl(J.name),this._directives.delete(J)})}addFormGroup(J){Ei.then(()=>{const He=this._findContainer(J.path),Ht=new Ui({});he(Ht,J),He.registerControl(J.name,Ht),Ht.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(J){Ei.then(()=>{const He=this._findContainer(J.path);He&&He.removeControl(J.name)})}getFormGroup(J){return this.form.get(J.path)}updateModel(J,He){Ei.then(()=>{this.form.get(J.path).setValue(He)})}setValue(J){this.control.setValue(J)}onSubmit(J){return this.submitted=!0,Ct(this.form,this._directives),this.ngSubmit.emit(J),!1}onReset(){this.resetForm()}resetForm(J){this.form.reset(J),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(J){return J.pop(),J.length?this.form.get(J):this.form}}return ye.\u0275fac=function(J){return new(J||ye)(o.Y36(b,10),o.Y36(A,10))},ye.\u0275dir=o.lG2({type:ye,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(J,He){1&J&&o.NdJ("submit",function(cn){return He.onSubmit(cn)})("reset",function(){return He.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([si]),o.qOj]}),ye})(),ki=(()=>{class ye extends Ze{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ke(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return ye.\u0275fac=function(){let le;return function(He){return(le||(le=o.n5z(ye)))(He||ye)}}(),ye.\u0275dir=o.lG2({type:ye,features:[o.qOj]}),ye})();const $e={provide:lt,useExisting:(0,o.Gpc)(()=>Jt)},At=(()=>Promise.resolve(null))();let Jt=(()=>{class ye extends lt{constructor(J,He,Ht,cn,mi){super(),this._changeDetectorRef=mi,this.control=new Dn,this._registered=!1,this.update=new o.vpe,this._parent=J,this._setValidators(He),this._setAsyncValidators(Ht),this.valueAccessor=Ut(0,cn)}ngOnChanges(J){if(this._checkForErrors(),!this._registered||"name"in J){if(this._registered&&(this._checkName(),this.formDirective)){const He=J.name.previousValue;this.formDirective.removeControl({name:He,path:this._getPath(He)})}this._setUpControl()}"isDisabled"in J&&this._updateDisabled(J),at(J,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(J){this.viewModel=J,this.update.emit(J)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Et(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(J){At.then(()=>{var He;this.control.setValue(J,{emitViewToModelChange:!1}),null===(He=this._changeDetectorRef)||void 0===He||He.markForCheck()})}_updateDisabled(J){const He=J.isDisabled.currentValue,Ht=""===He||He&&"false"!==He;At.then(()=>{var cn;Ht&&!this.control.disabled?this.control.disable():!Ht&&this.control.disabled&&this.control.enable(),null===(cn=this._changeDetectorRef)||void 0===cn||cn.markForCheck()})}_getPath(J){return this._parent?Ke(J,this._parent):[J]}}return ye.\u0275fac=function(J){return new(J||ye)(o.Y36(Ze,9),o.Y36(b,10),o.Y36(A,10),o.Y36(d,10),o.Y36(o.sBO,8))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([$e]),o.qOj,o.TTD]}),ye})(),on=(()=>{class ye{}return ye.\u0275fac=function(J){return new(J||ye)},ye.\u0275dir=o.lG2({type:ye,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ye})();const Ln={provide:d,useExisting:(0,o.Gpc)(()=>Bn),multi:!0};let Bn=(()=>{class ye extends p{writeValue(J){this.setProperty("value",null==J?"":J)}registerOnChange(J){this.onChange=He=>{J(""==He?null:parseFloat(He))}}}return ye.\u0275fac=function(){let le;return function(He){return(le||(le=o.n5z(ye)))(He||ye)}}(),ye.\u0275dir=o.lG2({type:ye,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(J,He){1&J&&o.NdJ("input",function(cn){return He.onChange(cn.target.value)})("blur",function(){return He.onTouched()})},features:[o._Bn([Ln]),o.qOj]}),ye})(),wn=(()=>{class ye{}return ye.\u0275fac=function(J){return new(J||ye)},ye.\u0275mod=o.oAB({type:ye}),ye.\u0275inj=o.cJS({}),ye})();const $o=new o.OlP("NgModelWithFormControlWarning"),mr={provide:Ze,useExisting:(0,o.Gpc)(()=>mo)};let mo=(()=>{class ye extends Ze{constructor(J,He){super(),this.validators=J,this.asyncValidators=He,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(J),this._setAsyncValidators(He)}ngOnChanges(J){this._checkFormPresent(),J.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ke(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(J){const He=this.form.get(J.path);return Et(He,J),He.updateValueAndValidity({emitEvent:!1}),this.directives.push(J),He}getControl(J){return this.form.get(J.path)}removeControl(J){et(J.control||null,J,!1),tn(this.directives,J)}addFormGroup(J){this._setUpFormContainer(J)}removeFormGroup(J){this._cleanUpFormContainer(J)}getFormGroup(J){return this.form.get(J.path)}addFormArray(J){this._setUpFormContainer(J)}removeFormArray(J){this._cleanUpFormContainer(J)}getFormArray(J){return this.form.get(J.path)}updateModel(J,He){this.form.get(J.path).setValue(He)}onSubmit(J){return this.submitted=!0,Ct(this.form,this.directives),this.ngSubmit.emit(J),!1}onReset(){this.resetForm()}resetForm(J){this.form.reset(J),this.submitted=!1}_updateDomValue(){this.directives.forEach(J=>{const He=J.control,Ht=this.form.get(J.path);He!==Ht&&(et(He||null,J),_i(Ht)&&(Et(Ht,J),J.control=Ht))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(J){const He=this.form.get(J.path);he(He,J),He.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(J){if(this.form){const He=this.form.get(J.path);He&&function Fe(ye,le){return ke(ye,le)}(He,J)&&He.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ce(this.form,this),this._oldForm&&ke(this._oldForm,this)}_checkFormPresent(){}}return ye.\u0275fac=function(J){return new(J||ye)(o.Y36(b,10),o.Y36(A,10))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","formGroup",""]],hostBindings:function(J,He){1&J&&o.NdJ("submit",function(cn){return He.onSubmit(cn)})("reset",function(){return He.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([mr]),o.qOj,o.TTD]}),ye})();const Rr={provide:Ze,useExisting:(0,o.Gpc)(()=>vo)};let vo=(()=>{class ye extends ki{constructor(J,He,Ht){super(),this._parent=J,this._setValidators(He),this._setAsyncValidators(Ht)}_checkParentType(){qo(this._parent)}}return ye.\u0275fac=function(J){return new(J||ye)(o.Y36(Ze,13),o.Y36(b,10),o.Y36(A,10))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o._Bn([Rr]),o.qOj]}),ye})();const xo={provide:Ze,useExisting:(0,o.Gpc)(()=>Jo)};let Jo=(()=>{class ye extends Ze{constructor(J,He,Ht){super(),this._parent=J,this._setValidators(He),this._setAsyncValidators(Ht)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ke(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qo(this._parent)}}return ye.\u0275fac=function(J){return new(J||ye)(o.Y36(Ze,13),o.Y36(b,10),o.Y36(A,10))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o._Bn([xo]),o.qOj]}),ye})();function qo(ye){return!(ye instanceof vo||ye instanceof mo||ye instanceof Jo)}const Uo={provide:lt,useExisting:(0,o.Gpc)(()=>Ki)};let Ki=(()=>{class ye extends lt{constructor(J,He,Ht,cn,mi){super(),this._ngModelWarningConfig=mi,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=J,this._setValidators(He),this._setAsyncValidators(Ht),this.valueAccessor=Ut(0,cn)}set isDisabled(J){}ngOnChanges(J){this._added||this._setUpControl(),at(J,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(J){this.viewModel=J,this.update.emit(J)}get path(){return Ke(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return ye._ngModelWarningSentOnce=!1,ye.\u0275fac=function(J){return new(J||ye)(o.Y36(Ze,13),o.Y36(b,10),o.Y36(A,10),o.Y36(d,10),o.Y36($o,8))},ye.\u0275dir=o.lG2({type:ye,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([Uo]),o.qOj,o.TTD]}),ye})();function Io(ye){return"number"==typeof ye?ye:parseFloat(ye)}let Ti=(()=>{class ye{constructor(){this._validator=ne}ngOnChanges(J){if(this.inputName in J){const He=this.normalizeInput(J[this.inputName].currentValue);this._enabled=this.enabled(He),this._validator=this._enabled?this.createValidator(He):ne,this._onChange&&this._onChange()}}validate(J){return this._validator(J)}registerOnValidatorChange(J){this._onChange=J}enabled(J){return null!=J}}return ye.\u0275fac=function(J){return new(J||ye)},ye.\u0275dir=o.lG2({type:ye,features:[o.TTD]}),ye})();const er={provide:b,useExisting:(0,o.Gpc)(()=>rr),multi:!0};let rr=(()=>{class ye extends Ti{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=J=>Io(J),this.createValidator=J=>S(J)}}return ye.\u0275fac=function(){let le;return function(He){return(le||(le=o.n5z(ye)))(He||ye)}}(),ye.\u0275dir=o.lG2({type:ye,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(J,He){2&J&&o.uIk("max",He._enabled?He.max:null)},inputs:{max:"max"},features:[o._Bn([er]),o.qOj]}),ye})();const Bi={provide:b,useExisting:(0,o.Gpc)(()=>Gi),multi:!0};let Gi=(()=>{class ye extends Ti{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=J=>Io(J),this.createValidator=J=>O(J)}}return ye.\u0275fac=function(){let le;return function(He){return(le||(le=o.n5z(ye)))(He||ye)}}(),ye.\u0275dir=o.lG2({type:ye,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(J,He){2&J&&o.uIk("min",He._enabled?He.min:null)},inputs:{min:"min"},features:[o._Bn([Bi]),o.qOj]}),ye})();const bo={provide:b,useExisting:(0,o.Gpc)(()=>Co),multi:!0},Po={provide:b,useExisting:(0,o.Gpc)(()=>ho),multi:!0};let Co=(()=>{class ye extends Ti{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=J=>function io(ye){return null!=ye&&!1!==ye&&"false"!=`${ye}`}(J),this.createValidator=J=>x}enabled(J){return J}}return ye.\u0275fac=function(){let le;return function(He){return(le||(le=o.n5z(ye)))(He||ye)}}(),ye.\u0275dir=o.lG2({type:ye,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(J,He){2&J&&o.uIk("required",He._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([bo]),o.qOj]}),ye})(),ho=(()=>{class ye extends Co{constructor(){super(...arguments),this.createValidator=J=>L}}return ye.\u0275fac=function(){let le;return function(He){return(le||(le=o.n5z(ye)))(He||ye)}}(),ye.\u0275dir=o.lG2({type:ye,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(J,He){2&J&&o.uIk("required",He._enabled?"":null)},features:[o._Bn([Po]),o.qOj]}),ye})();const B={provide:b,useExisting:(0,o.Gpc)(()=>re),multi:!0};let re=(()=>{class ye extends Ti{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=J=>function So(ye){return"number"==typeof ye?ye:parseInt(ye,10)}(J),this.createValidator=J=>k(J)}}return ye.\u0275fac=function(){let le;return function(He){return(le||(le=o.n5z(ye)))(He||ye)}}(),ye.\u0275dir=o.lG2({type:ye,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(J,He){2&J&&o.uIk("maxlength",He._enabled?He.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([B]),o.qOj]}),ye})(),gn=(()=>{class ye{}return ye.\u0275fac=function(J){return new(J||ye)},ye.\u0275mod=o.oAB({type:ye}),ye.\u0275inj=o.cJS({imports:[[wn]]}),ye})(),dn=(()=>{class ye{}return ye.\u0275fac=function(J){return new(J||ye)},ye.\u0275mod=o.oAB({type:ye}),ye.\u0275inj=o.cJS({imports:[gn]}),ye})(),hn=(()=>{class ye{static withConfig(J){return{ngModule:ye,providers:[{provide:$o,useValue:J.warnOnNgModelWithFormControl}]}}}return ye.\u0275fac=function(J){return new(J||ye)},ye.\u0275mod=o.oAB({type:ye}),ye.\u0275inj=o.cJS({imports:[gn]}),ye})(),En=(()=>{class ye{group(J,He=null){const Ht=this._reduceControls(J);let Vi,cn=null,mi=null;return null!=He&&(function In(ye){return void 0!==ye.asyncValidators||void 0!==ye.validators||void 0!==ye.updateOn}(He)?(cn=null!=He.validators?He.validators:null,mi=null!=He.asyncValidators?He.asyncValidators:null,Vi=null!=He.updateOn?He.updateOn:void 0):(cn=null!=He.validator?He.validator:null,mi=null!=He.asyncValidator?He.asyncValidator:null)),new Ui(Ht,{asyncValidators:mi,updateOn:Vi,validators:cn})}control(J,He,Ht){return new Dn(J,He,Ht)}array(J,He,Ht){const cn=J.map(mi=>this._createControl(mi));return new Li(cn,He,Ht)}_reduceControls(J){const He={};return Object.keys(J).forEach(Ht=>{He[Ht]=this._createControl(J[Ht])}),He}_createControl(J){return _i(J)||Pi(J)||ii(J)?J:Array.isArray(J)?this.control(J[0],J.length>1?J[1]:null,J.length>2?J[2]:null):this.control(J)}}return ye.\u0275fac=function(J){return new(J||ye)},ye.\u0275prov=o.Yz7({token:ye,factory:ye.\u0275fac,providedIn:hn}),ye})()},7399:(ot,pe,r)=>{"use strict";r.d(pe,{OG:()=>D,_r:()=>x,ch:()=>G,oL:()=>L});var o=r(1314),c=r(7429),g=r(5e3),a=r(508),u=r(3191),v=r(5113),p=r(925),d=r(9808),h=r(1777),_=r(5664),e=r(226),E=r(7579),f=r(6451),y=r(9646),s=r(1159),C=r(9300),b=r(5698);function A(V,ne){}const I={bottomSheetState:(0,h.X$)("state",[(0,h.SB)("void, hidden",(0,h.oB)({transform:"translateY(100%)"})),(0,h.SB)("visible",(0,h.oB)({transform:"translateY(0%)"})),(0,h.eR)("visible => void, visible => hidden",(0,h.ru)([(0,h.jt)(`${a.mZ.COMPLEX} ${a.yN.ACCELERATION_CURVE}`),(0,h.IO)("@*",(0,h.pV)(),{optional:!0})])),(0,h.eR)("void => visible",(0,h.ru)([(0,h.jt)(`${a.mZ.EXITING} ${a.yN.DECELERATION_CURVE}`),(0,h.IO)("@*",(0,h.pV)(),{optional:!0})]))])},D=new g.OlP("MatBottomSheetData");class O{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let S=(()=>{class V extends c.en{constructor($,q,X,de,fe,We,Ne,dt){super(),this._elementRef=$,this._changeDetectorRef=q,this._focusTrapFactory=X,this._interactivityChecker=de,this._ngZone=fe,this.bottomSheetConfig=dt,this._animationState="void",this._animationStateChanged=new g.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=ge=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(ge)),this._document=Ne,this._breakpointSubscription=We.observe([v.u3.Medium,v.u3.Large,v.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",We.isMatched(v.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",We.isMatched(v.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",We.isMatched(v.u3.XLarge))})}attachComponentPortal($){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal($)}attachTemplatePortal($){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal($)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone($){"hidden"===$.toState?this._restoreFocus():"visible"===$.toState&&this._trapFocus(),this._animationStateChanged.emit($)}_onAnimationStart($){this._animationStateChanged.emit($)}_toggleClass($,q){this._elementRef.nativeElement.classList.toggle($,q)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...(0,u.Eq)(this.bottomSheetConfig.panelClass||[]))}_forceFocus($,q){this._interactivityChecker.isFocusable($)||($.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{$.addEventListener("blur",()=>$.removeAttribute("tabindex")),$.addEventListener("mousedown",()=>$.removeAttribute("tabindex"))})),$.focus(q)}_focusByCssSelector($,q){let X=this._elementRef.nativeElement.querySelector($);X&&this._forceFocus(X,q)}_trapFocus(){const $=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create($)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const q=(0,p.ht)();q!==$&&!$.contains(q)&&$.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const $=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&$&&"function"==typeof $.focus){const q=(0,p.ht)(),X=this._elementRef.nativeElement;(!q||q===this._document.body||q===X||X.contains(q))&&$.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,p.ht)(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return V.\u0275fac=function($){return new($||V)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(_.qV),g.Y36(_.ic),g.Y36(g.R0b),g.Y36(v.Yg),g.Y36(d.K0,8),g.Y36(O))},V.\u0275cmp=g.Xpm({type:V,selectors:[["mat-bottom-sheet-container"]],viewQuery:function($,q){if(1&$&&g.Gf(c.Pl,7),2&$){let X;g.iGM(X=g.CRH())&&(q._portalOutlet=X.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function($,q){1&$&&g.WFA("@state.start",function(de){return q._onAnimationStart(de)})("@state.done",function(de){return q._onAnimationDone(de)}),2&$&&(g.uIk("aria-label",null==q.bottomSheetConfig?null:q.bottomSheetConfig.ariaLabel),g.d8E("@state",q._animationState))},features:[g.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function($,q){1&$&&g.YNc(0,A,0,0,"ng-template",0)},directives:[c.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[I.bottomSheetState]}}),V})(),x=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=g.oAB({type:V}),V.\u0275inj=g.cJS({imports:[[o.U8,a.BQ,c.eL],a.BQ]}),V})();class L{constructor(ne,$){this._overlayRef=$,this._afterDismissed=new E.x,this._afterOpened=new E.x,this.containerInstance=ne,this.disableClose=ne.bottomSheetConfig.disableClose,ne._animationStateChanged.pipe((0,C.h)(q=>"done"===q.phaseName&&"visible"===q.toState),(0,b.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),ne._animationStateChanged.pipe((0,C.h)(q=>"done"===q.phaseName&&"hidden"===q.toState),(0,b.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),$.dispose()}),$.detachments().pipe((0,b.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,f.T)($.backdropClick(),$.keydownEvents().pipe((0,C.h)(q=>q.keyCode===s.hY))).subscribe(q=>{!this.disableClose&&("keydown"!==q.type||!(0,s.Vb)(q))&&(q.preventDefault(),this.dismiss())})}dismiss(ne){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,C.h)($=>"start"===$.phaseName),(0,b.q)(1)).subscribe($=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},$.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=ne,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const R=new g.OlP("mat-bottom-sheet-default-options");let G=(()=>{class V{constructor($,q,X,de){this._overlay=$,this._injector=q,this._parentBottomSheet=X,this._defaultOptions=de,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const $=this._parentBottomSheet;return $?$._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef($){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=$:this._bottomSheetRefAtThisLevel=$}open($,q){const X=function k(V,ne){return Object.assign(Object.assign({},V),ne)}(this._defaultOptions||new O,q),de=this._createOverlay(X),fe=this._attachContainer(de,X),We=new L(fe,de);if($ instanceof g.Rgc)fe.attachTemplatePortal(new c.UE($,null,{$implicit:X.data,bottomSheetRef:We}));else{const Ne=new c.C5($,void 0,this._createInjector(X,We)),dt=fe.attachComponentPortal(Ne);We.instance=dt.instance}return We.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==We&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>We.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):We.containerInstance.enter(),this._openedBottomSheetRef=We,We}dismiss($){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss($)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer($,q){const de=g.zs3.create({parent:q&&q.viewContainerRef&&q.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:q}]}),fe=new c.C5(S,q.viewContainerRef,de);return $.attach(fe).instance}_createOverlay($){const q=new o.X_({direction:$.direction,hasBackdrop:$.hasBackdrop,disposeOnNavigation:$.closeOnNavigation,maxWidth:"100%",scrollStrategy:$.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return $.backdropClass&&(q.backdropClass=$.backdropClass),this._overlay.create(q)}_createInjector($,q){const X=$&&$.viewContainerRef&&$.viewContainerRef.injector,de=[{provide:L,useValue:q},{provide:D,useValue:$.data}];return $.direction&&(!X||!X.get(e.Is,null,g.XFs.Optional))&&de.push({provide:e.Is,useValue:{value:$.direction,change:(0,y.of)()}}),g.zs3.create({parent:X||this._injector,providers:de})}}return V.\u0275fac=function($){return new($||V)(g.LFG(o.aV),g.LFG(g.zs3),g.LFG(V,12),g.LFG(R,8))},V.\u0275prov=g.Yz7({token:V,factory:V.\u0275fac,providedIn:x}),V})()},7423:(ot,pe,r)=>{"use strict";r.d(pe,{lW:()=>e,ot:()=>f,zs:()=>E});var o=r(5e3),c=r(508),g=r(6360),a=r(5664);const u=["mat-button",""],v=["*"],h=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],_=(0,c.pj)((0,c.Id)((0,c.Kr)(class{constructor(y){this._elementRef=y}})));let e=(()=>{class y extends _{constructor(C,b,A){super(C),this._focusMonitor=b,this._animationMode=A,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const I of h)this._hasHostAttributes(I)&&this._getHostElement().classList.add(I);C.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(C,b){C?this._focusMonitor.focusVia(this._getHostElement(),C,b):this._getHostElement().focus(b)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...C){return C.some(b=>this._getHostElement().hasAttribute(b))}}return y.\u0275fac=function(C){return new(C||y)(o.Y36(o.SBq),o.Y36(a.tE),o.Y36(g.Qb,8))},y.\u0275cmp=o.Xpm({type:y,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(C,b){if(1&C&&o.Gf(c.wG,5),2&C){let A;o.iGM(A=o.CRH())&&(b.ripple=A.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(C,b){2&C&&(o.uIk("disabled",b.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===b._animationMode)("mat-button-disabled",b.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:u,ngContentSelectors:v,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(C,b){1&C&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&C&&(o.xp6(2),o.ekj("mat-button-ripple-round",b.isRoundButton||b.isIconButton),o.Q6J("matRippleDisabled",b._isRippleDisabled())("matRippleCentered",b.isIconButton)("matRippleTrigger",b._getHostElement()))},directives:[c.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),y})(),E=(()=>{class y extends e{constructor(C,b,A,I){super(b,C,A),this._ngZone=I,this._haltDisabledEvents=D=>{this.disabled&&(D.preventDefault(),D.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return y.\u0275fac=function(C){return new(C||y)(o.Y36(a.tE),o.Y36(o.SBq),o.Y36(g.Qb,8),o.Y36(o.R0b,8))},y.\u0275cmp=o.Xpm({type:y,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(C,b){2&C&&(o.uIk("tabindex",b.disabled?-1:b.tabIndex)("disabled",b.disabled||null)("aria-disabled",b.disabled.toString()),o.ekj("_mat-animation-noopable","NoopAnimations"===b._animationMode)("mat-button-disabled",b.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[o.qOj],attrs:u,ngContentSelectors:v,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(C,b){1&C&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&C&&(o.xp6(2),o.ekj("mat-button-ripple-round",b.isRoundButton||b.isIconButton),o.Q6J("matRippleDisabled",b._isRippleDisabled())("matRippleCentered",b.isIconButton)("matRippleTrigger",b._getHostElement()))},directives:[c.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),y})(),f=(()=>{class y{}return y.\u0275fac=function(C){return new(C||y)},y.\u0275mod=o.oAB({type:y}),y.\u0275inj=o.cJS({imports:[[c.si,c.BQ],c.BQ]}),y})()},7446:(ot,pe,r)=>{"use strict";r.d(pe,{oG:()=>A,p9:()=>S});var o=r(3191),c=r(5e3),g=r(3075),a=r(508),u=r(6360),v=r(5664),p=r(7144);const d=["input"],h=function(x){return{enterDuration:x}},_=["*"],e=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:E});function E(){return{color:"accent",clickAction:"check-indeterminate"}}let f=0;const y=E(),s={provide:g.JU,useExisting:(0,c.Gpc)(()=>A),multi:!0};class C{}const b=(0,a.sb)((0,a.pj)((0,a.Kr)((0,a.Id)(class{constructor(x){this._elementRef=x}}))));let A=(()=>{class x extends b{constructor(R,G,k,V,ne,$,q){super(R),this._changeDetectorRef=G,this._focusMonitor=k,this._ngZone=V,this._animationMode=$,this._options=q,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++f,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||y,this.color=this.defaultColor=this._options.color||y.color,this.tabIndex=parseInt(ne)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(R){this._required=(0,o.Ig)(R)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(R=>{R||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(R){R!=this.checked&&(this._checked=R,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(R){const G=(0,o.Ig)(R);G!==this.disabled&&(this._disabled=G,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(R){const G=R!=this._indeterminate;this._indeterminate=(0,o.Ig)(R),G&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(R){this.checked=!!R}registerOnChange(R){this._controlValueAccessorChangeFn=R}registerOnTouched(R){this._onTouched=R}setDisabledState(R){this.disabled=R}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(R){let G=this._currentCheckState,k=this._elementRef.nativeElement;if(G!==R&&(this._currentAnimationClass.length>0&&k.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(G,R),this._currentCheckState=R,this._currentAnimationClass.length>0)){k.classList.add(this._currentAnimationClass);const V=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{k.classList.remove(V)},1e3)})}}_emitChangeEvent(){const R=new C;R.source=this,R.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(R),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(R){var G;const k=null===(G=this._options)||void 0===G?void 0:G.clickAction;R.stopPropagation(),this.disabled||"noop"===k?!this.disabled&&"noop"===k&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==k&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(R,G){R?this._focusMonitor.focusVia(this._inputElement,R,G):this._inputElement.nativeElement.focus(G)}_onInteractionEvent(R){R.stopPropagation()}_getAnimationClassForCheckStateTransition(R,G){if("NoopAnimations"===this._animationMode)return"";let k="";switch(R){case 0:if(1===G)k="unchecked-checked";else{if(3!=G)return"";k="unchecked-indeterminate"}break;case 2:k=1===G?"unchecked-checked":"unchecked-indeterminate";break;case 1:k=2===G?"checked-unchecked":"checked-indeterminate";break;case 3:k=1===G?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${k}`}_syncIndeterminate(R){const G=this._inputElement;G&&(G.nativeElement.indeterminate=R)}}return x.\u0275fac=function(R){return new(R||x)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(v.tE),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(u.Qb,8),c.Y36(e,8))},x.\u0275cmp=c.Xpm({type:x,selectors:[["mat-checkbox"]],viewQuery:function(R,G){if(1&R&&(c.Gf(d,5),c.Gf(a.wG,5)),2&R){let k;c.iGM(k=c.CRH())&&(G._inputElement=k.first),c.iGM(k=c.CRH())&&(G.ripple=k.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(R,G){2&R&&(c.Ikx("id",G.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("mat-checkbox-indeterminate",G.indeterminate)("mat-checkbox-checked",G.checked)("mat-checkbox-disabled",G.disabled)("mat-checkbox-label-before","before"==G.labelPosition)("_mat-animation-noopable","NoopAnimations"===G._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[c._Bn([s]),c.qOj],ngContentSelectors:_,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(R,G){if(1&R&&(c.F$t(),c.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),c.NdJ("change",function(V){return G._onInteractionEvent(V)})("click",function(V){return G._onInputClick(V)}),c.qZA(),c.TgZ(5,"span",5),c._UZ(6,"span",6),c.qZA(),c._UZ(7,"span",7),c.TgZ(8,"span",8),c.O4$(),c.TgZ(9,"svg",9),c._UZ(10,"path",10),c.qZA(),c.kcU(),c._UZ(11,"span",11),c.qZA()(),c.TgZ(12,"span",12,13),c.NdJ("cdkObserveContent",function(){return G._onLabelTextChange()}),c.TgZ(14,"span",14),c._uU(15,"\xa0"),c.qZA(),c.Hsn(16),c.qZA()()),2&R){const k=c.MAs(1),V=c.MAs(13);c.uIk("for",G.inputId),c.xp6(2),c.ekj("mat-checkbox-inner-container-no-side-margin",!V.textContent||!V.textContent.trim()),c.xp6(1),c.Q6J("id",G.inputId)("required",G.required)("checked",G.checked)("disabled",G.disabled)("tabIndex",G.tabIndex),c.uIk("value",G.value)("name",G.name)("aria-label",G.ariaLabel||null)("aria-labelledby",G.ariaLabelledby)("aria-checked",G._getAriaChecked())("aria-describedby",G.ariaDescribedby),c.xp6(2),c.Q6J("matRippleTrigger",k)("matRippleDisabled",G._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",c.VKq(19,h,"NoopAnimations"===G._animationMode?0:150))}},directives:[a.wG,p.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),x})(),O=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=c.oAB({type:x}),x.\u0275inj=c.cJS({}),x})(),S=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=c.oAB({type:x}),x.\u0275inj=c.cJS({imports:[[a.si,a.BQ,p.Q8,O],a.BQ,O]}),x})()},6688:(ot,pe,r)=>{"use strict";r.d(pe,{HS:()=>k,Hi:()=>dt,oH:()=>q,qH:()=>V,qn:()=>We});var o=r(1159),c=r(5e3),g=r(508),a=r(3191),u=r(9808),v=r(6360),p=r(7579),d=r(6451),h=r(5698),_=r(2722),e=r(8675),E=r(925),f=r(5664),y=r(449),s=r(3075),C=r(7322),b=r(226);const A=["*"],D=new c.OlP("MatChipRemove"),O=new c.OlP("MatChipAvatar"),S=new c.OlP("MatChipTrailingIcon");class x{constructor(Je){this._elementRef=Je}}const L=(0,g.sb)((0,g.pj)((0,g.Kr)(x),"primary"),-1);let k=(()=>{class ge extends L{constructor(se,Re,pt,ht,It,De,Se,Ae){super(se),this._ngZone=Re,this._changeDetectorRef=It,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new p.x,this._onBlur=new p.x,this.selectionChange=new c.vpe,this.destroyed=new c.vpe,this.removed=new c.vpe,this._addHostClassName(),this._chipRippleTarget=De.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new g.IR(this,Re,this._chipRippleTarget,pt),this._chipRipple.setupTriggerEvents(se),this.rippleConfig=ht||{},this._animationsDisabled="NoopAnimations"===Se,this.tabIndex=null!=Ae&&parseInt(Ae)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(se){const Re=(0,a.Ig)(se);Re!==this._selected&&(this._selected=Re,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(se){this._value=se}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(se){this._selectable=(0,a.Ig)(se)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(se){this._disabled=(0,a.Ig)(se)}get removable(){return this._removable}set removable(se){this._removable=(0,a.Ig)(se)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const se="mat-basic-chip",Re=this._elementRef.nativeElement;Re.hasAttribute(se)||Re.tagName.toLowerCase()===se?Re.classList.add(se):Re.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(se=!1){return this._selected=!this.selected,this._dispatchSelectionChange(se),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(se){this.disabled&&se.preventDefault()}_handleKeydown(se){if(!this.disabled)switch(se.keyCode){case o.yY:case o.ZH:this.remove(),se.preventDefault();break;case o.L_:this.selectable&&this.toggleSelected(!0),se.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,h.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(se=!1){this.selectionChange.emit({source:this,isUserInput:se,selected:this._selected})}}return ge.\u0275fac=function(se){return new(se||ge)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(E.t4),c.Y36(g.Y2,8),c.Y36(c.sBO),c.Y36(u.K0),c.Y36(v.Qb,8),c.$8M("tabindex"))},ge.\u0275dir=c.lG2({type:ge,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(se,Re,pt){if(1&se&&(c.Suo(pt,O,5),c.Suo(pt,S,5),c.Suo(pt,D,5)),2&se){let ht;c.iGM(ht=c.CRH())&&(Re.avatar=ht.first),c.iGM(ht=c.CRH())&&(Re.trailingIcon=ht.first),c.iGM(ht=c.CRH())&&(Re.removeIcon=ht.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(se,Re){1&se&&c.NdJ("click",function(ht){return Re._handleClick(ht)})("keydown",function(ht){return Re._handleKeydown(ht)})("focus",function(){return Re.focus()})("blur",function(){return Re._blur()}),2&se&&(c.uIk("tabindex",Re.disabled?null:Re.tabIndex)("disabled",Re.disabled||null)("aria-disabled",Re.disabled.toString())("aria-selected",Re.ariaSelected),c.ekj("mat-chip-selected",Re.selected)("mat-chip-with-avatar",Re.avatar)("mat-chip-with-trailing-icon",Re.trailingIcon||Re.removeIcon)("mat-chip-disabled",Re.disabled)("_mat-animation-noopable",Re._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[c.qOj]}),ge})(),V=(()=>{class ge{constructor(se,Re){this._parentChip=se,"BUTTON"===Re.nativeElement.nodeName&&Re.nativeElement.setAttribute("type","button")}_handleClick(se){const Re=this._parentChip;Re.removable&&!Re.disabled&&Re.remove(),se.stopPropagation()}}return ge.\u0275fac=function(se){return new(se||ge)(c.Y36(k),c.Y36(c.SBq))},ge.\u0275dir=c.lG2({type:ge,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(se,Re){1&se&&c.NdJ("click",function(ht){return Re._handleClick(ht)})},features:[c._Bn([{provide:D,useExisting:ge}])]}),ge})();const ne=new c.OlP("mat-chips-default-options");let $=0,q=(()=>{class ge{constructor(se,Re){this._elementRef=se,this._defaultOptions=Re,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new c.vpe,this.placeholder="",this.id="mat-chip-list-input-"+$++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(se){se&&(this._chipList=se,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(se){this._addOnBlur=(0,a.Ig)(se)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(se){this._disabled=(0,a.Ig)(se)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(se){if(se){if(se.keyCode===o.Mf&&!(0,o.Vb)(se,"shiftKey")&&this._chipList._allowFocusEscape(),se.keyCode===o.ZH&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void se.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(se)}_keyup(se){!this._focusLastChipOnBackspace&&se.keyCode===o.ZH&&this.empty&&(this._focusLastChipOnBackspace=!0,se.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(se){!this.inputElement.value&&!!se&&this._chipList._keydown(se),(!se||this._isSeparatorKey(se))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),null==se||se.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(se){this.inputElement.focus(se)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(se){return!(0,o.Vb)(se)&&new Set(this.separatorKeyCodes).has(se.keyCode)}}return ge.\u0275fac=function(se){return new(se||ge)(c.Y36(c.SBq),c.Y36(ne))},ge.\u0275dir=c.lG2({type:ge,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(se,Re){1&se&&c.NdJ("keydown",function(ht){return Re._keydown(ht)})("keyup",function(ht){return Re._keyup(ht)})("blur",function(){return Re._blur()})("focus",function(){return Re._focus()})("input",function(){return Re._onInput()}),2&se&&(c.Ikx("id",Re.id),c.uIk("disabled",Re.disabled||null)("placeholder",Re.placeholder||null)("aria-invalid",Re._chipList&&Re._chipList.ngControl?Re._chipList.ngControl.invalid:null)("aria-required",Re._chipList&&Re._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[c.TTD]}),ge})();const X=(0,g.FD)(class{constructor(ge,Je,se,Re){this._defaultErrorStateMatcher=ge,this._parentForm=Je,this._parentFormGroup=se,this.ngControl=Re}});let de=0;class fe{constructor(Je,se){this.source=Je,this.value=se}}let We=(()=>{class ge extends X{constructor(se,Re,pt,ht,It,De,Se){super(De,ht,It,Se),this._elementRef=se,this._changeDetectorRef=Re,this._dir=pt,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new p.x,this._uid="mat-chip-list-"+de++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(Ae,lt)=>Ae===lt,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var se,Re;return this.multiple?(null===(se=this._selectionModel)||void 0===se?void 0:se.selected)||[]:null===(Re=this._selectionModel)||void 0===Re?void 0:Re.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(se){this._multiple=(0,a.Ig)(se),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(se){this._compareWith=se,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(se){this.writeValue(se),this._value=se}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var se,Re,pt,ht;return null!==(ht=null!==(se=this._required)&&void 0!==se?se:null===(pt=null===(Re=this.ngControl)||void 0===Re?void 0:Re.control)||void 0===pt?void 0:pt.hasValidator(s.kI.required))&&void 0!==ht&&ht}set required(se){this._required=(0,a.Ig)(se),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(se){this._placeholder=se,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(se){this._disabled=(0,a.Ig)(se),this._syncChipsState()}get selectable(){return this._selectable}set selectable(se){this._selectable=(0,a.Ig)(se),this.chips&&this.chips.forEach(Re=>Re.chipListSelectable=this._selectable)}set tabIndex(se){this._userTabIndex=se,this._tabIndex=se}get chipSelectionChanges(){return(0,d.T)(...this.chips.map(se=>se.selectionChange))}get chipFocusChanges(){return(0,d.T)(...this.chips.map(se=>se._onFocus))}get chipBlurChanges(){return(0,d.T)(...this.chips.map(se=>se._onBlur))}get chipRemoveChanges(){return(0,d.T)(...this.chips.map(se=>se.destroyed))}ngAfterContentInit(){this._keyManager=new f.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,_.R)(this._destroyed)).subscribe(se=>this._keyManager.withHorizontalOrientation(se)),this._keyManager.tabOut.pipe((0,_.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,e.O)(null),(0,_.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new y.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(se){this._chipInput=se,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",se.id)}setDescribedByIds(se){this._ariaDescribedby=se.join(" ")}writeValue(se){this.chips&&this._setSelectionByValue(se,!1)}registerOnChange(se){this._onChange=se}registerOnTouched(se){this._onTouched=se}setDisabledState(se){this.disabled=se,this.stateChanges.next()}onContainerClick(se){this._originatesFromChip(se)||this.focus()}focus(se){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(se),this.stateChanges.next()))}_focusInput(se){this._chipInput&&this._chipInput.focus(se)}_keydown(se){const Re=se.target;Re&&Re.classList.contains("mat-chip")&&(this._keyManager.onKeydown(se),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const se=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(se)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(se){return se>=0&&se<this.chips.length}_setSelectionByValue(se,Re=!0){if(this._clearSelection(),this.chips.forEach(pt=>pt.deselect()),Array.isArray(se))se.forEach(pt=>this._selectValue(pt,Re)),this._sortValues();else{const pt=this._selectValue(se,Re);pt&&Re&&this._keyManager.setActiveItem(pt)}}_selectValue(se,Re=!0){const pt=this.chips.find(ht=>null!=ht.value&&this._compareWith(ht.value,se));return pt&&(Re?pt.selectViaInteraction():pt.select(),this._selectionModel.select(pt)),pt}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(se){this._selectionModel.clear(),this.chips.forEach(Re=>{Re!==se&&Re.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(se=>{se.selected&&this._selectionModel.select(se)}),this.stateChanges.next())}_propagateChanges(se){let Re=null;Re=Array.isArray(this.selected)?this.selected.map(pt=>pt.value):this.selected?this.selected.value:se,this._value=Re,this.change.emit(new fe(this,Re)),this.valueChange.emit(Re),this._onChange(Re),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(se=>{se.source.selected?this._selectionModel.select(se.source):this._selectionModel.deselect(se.source),this.multiple||this.chips.forEach(Re=>{!this._selectionModel.isSelected(Re)&&Re.selected&&Re.deselect()}),se.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(se=>{let Re=this.chips.toArray().indexOf(se.chip);this._isValidIndex(Re)&&this._keyManager.updateActiveItem(Re),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(se=>{const Re=se.chip,pt=this.chips.toArray().indexOf(se.chip);this._isValidIndex(pt)&&Re._hasFocus&&(this._lastDestroyedChipIndex=pt)})}_originatesFromChip(se){let Re=se.target;for(;Re&&Re!==this._elementRef.nativeElement;){if(Re.classList.contains("mat-chip"))return!0;Re=Re.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(se=>se._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(se=>{se._chipListDisabled=this._disabled,se._chipListMultiple=this.multiple})}}return ge.\u0275fac=function(se){return new(se||ge)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(b.Is,8),c.Y36(s.F,8),c.Y36(s.sg,8),c.Y36(g.rD),c.Y36(s.a5,10))},ge.\u0275cmp=c.Xpm({type:ge,selectors:[["mat-chip-list"]],contentQueries:function(se,Re,pt){if(1&se&&c.Suo(pt,k,5),2&se){let ht;c.iGM(ht=c.CRH())&&(Re.chips=ht)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(se,Re){1&se&&c.NdJ("focus",function(){return Re.focus()})("blur",function(){return Re._blur()})("keydown",function(ht){return Re._keydown(ht)}),2&se&&(c.Ikx("id",Re._uid),c.uIk("tabindex",Re.disabled?null:Re._tabIndex)("aria-describedby",Re._ariaDescribedby||null)("aria-required",Re.role?Re.required:null)("aria-disabled",Re.disabled.toString())("aria-invalid",Re.errorState)("aria-multiselectable",Re.multiple)("role",Re.role)("aria-orientation",Re.ariaOrientation),c.ekj("mat-chip-list-disabled",Re.disabled)("mat-chip-list-invalid",Re.errorState)("mat-chip-list-required",Re.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[c._Bn([{provide:C.Eo,useExisting:ge}]),c.qOj],ngContentSelectors:A,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(se,Re){1&se&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),ge})(),dt=(()=>{class ge{}return ge.\u0275fac=function(se){return new(se||ge)},ge.\u0275mod=c.oAB({type:ge}),ge.\u0275inj=c.cJS({providers:[g.rD,{provide:ne,useValue:{separatorKeyCodes:[o.K5]}}],imports:[[g.BQ]]}),ge})()},508:(ot,pe,r)=>{"use strict";r.d(pe,{yN:()=>b,mZ:()=>A,rD:()=>pt,K7:()=>Bt,HF:()=>ze,Y2:()=>ce,BQ:()=>O,ey:()=>Nt,Ng:()=>et,wG:()=>Y,si:()=>we,IR:()=>kt,CB:()=>Ke,jH:()=>Et,pj:()=>G,Kr:()=>k,Id:()=>R,FD:()=>ne,sb:()=>V});var o=r(5e3),c=r(226),a=r(9808),u=r(925),v=r(5664),p=r(3191),d=r(7579),h=r(6360),_=r(1159);function f(nt,Be){if(1&nt&&o._UZ(0,"mat-pseudo-checkbox",4),2&nt){const Ce=o.oxw();o.Q6J("state",Ce.selected?"checked":"unchecked")("disabled",Ce.disabled)}}function y(nt,Be){if(1&nt&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&nt){const Ce=o.oxw();o.xp6(1),o.hij("(",Ce.group.label,")")}}const s=["*"];let b=(()=>{class nt{}return nt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",nt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",nt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",nt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",nt})(),A=(()=>{class nt{}return nt.COMPLEX="375ms",nt.ENTERING="225ms",nt.EXITING="195ms",nt})();const D=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function I(){return!0}});let O=(()=>{class nt{constructor(Ce,ke,ve){this._sanityChecks=ke,this._document=ve,this._hasDoneGlobalChecks=!1,Ce._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Ce){return!(0,u.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Ce])}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(o.LFG(v.qm),o.LFG(D,8),o.LFG(a.K0))},nt.\u0275mod=o.oAB({type:nt}),nt.\u0275inj=o.cJS({imports:[[c.vT],c.vT]}),nt})();function R(nt){return class extends nt{constructor(...Be){super(...Be),this._disabled=!1}get disabled(){return this._disabled}set disabled(Be){this._disabled=(0,p.Ig)(Be)}}}function G(nt,Be){return class extends nt{constructor(...Ce){super(...Ce),this.defaultColor=Be,this.color=Be}get color(){return this._color}set color(Ce){const ke=Ce||this.defaultColor;ke!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ke&&this._elementRef.nativeElement.classList.add(`mat-${ke}`),this._color=ke)}}}function k(nt){return class extends nt{constructor(...Be){super(...Be),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Be){this._disableRipple=(0,p.Ig)(Be)}}}function V(nt,Be=0){return class extends nt{constructor(...Ce){super(...Ce),this._tabIndex=Be,this.defaultTabIndex=Be}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Ce){this._tabIndex=null!=Ce?(0,p.su)(Ce):this.defaultTabIndex}}}function ne(nt){return class extends nt{constructor(...Be){super(...Be),this.stateChanges=new d.x,this.errorState=!1}updateErrorState(){const Be=this.errorState,ae=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ae!==Be&&(this.errorState=ae,this.stateChanges.next())}}}let pt=(()=>{class nt{isErrorState(Ce,ke){return!!(Ce&&Ce.invalid&&(Ce.touched||ke&&ke.submitted))}}return nt.\u0275fac=function(Ce){return new(Ce||nt)},nt.\u0275prov=o.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})();class Ae{constructor(Be,Ce,ke){this._renderer=Be,this.element=Ce,this.config=ke,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const lt={enterDuration:225,exitDuration:150},Rt=(0,u.i$)({passive:!0}),Gt=["mousedown","touchstart"],Xt=["mouseup","mouseleave","touchend","touchcancel"];class kt{constructor(Be,Ce,ke,ve){this._target=Be,this._ngZone=Ce,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,ve.isBrowser&&(this._containerElement=(0,p.fI)(ke))}fadeInRipple(Be,Ce,ke={}){const ve=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ae=Object.assign(Object.assign({},lt),ke.animation);ke.centered&&(Be=ve.left+ve.width/2,Ce=ve.top+ve.height/2);const K=ke.radius||function me(nt,Be,Ce){const ke=Math.max(Math.abs(nt-Ce.left),Math.abs(nt-Ce.right)),ve=Math.max(Math.abs(Be-Ce.top),Math.abs(Be-Ce.bottom));return Math.sqrt(ke*ke+ve*ve)}(Be,Ce,ve),Ee=Be-ve.left,he=Ce-ve.top,Fe=ae.enterDuration,Xe=document.createElement("div");Xe.classList.add("mat-ripple-element"),Xe.style.left=Ee-K+"px",Xe.style.top=he-K+"px",Xe.style.height=2*K+"px",Xe.style.width=2*K+"px",null!=ke.color&&(Xe.style.backgroundColor=ke.color),Xe.style.transitionDuration=`${Fe}ms`,this._containerElement.appendChild(Xe),function qe(nt){window.getComputedStyle(nt).getPropertyValue("opacity")}(Xe),Xe.style.transform="scale(1)";const _t=new Ae(this,Xe,ke);return _t.state=0,this._activeRipples.add(_t),ke.persistent||(this._mostRecentTransientRipple=_t),this._runTimeoutOutsideZone(()=>{const zt=_t===this._mostRecentTransientRipple;_t.state=1,!ke.persistent&&(!zt||!this._isPointerDown)&&_t.fadeOut()},Fe),_t}fadeOutRipple(Be){const Ce=this._activeRipples.delete(Be);if(Be===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!Ce)return;const ke=Be.element,ve=Object.assign(Object.assign({},lt),Be.config.animation);ke.style.transitionDuration=`${ve.exitDuration}ms`,ke.style.opacity="0",Be.state=2,this._runTimeoutOutsideZone(()=>{Be.state=3,ke.remove()},ve.exitDuration)}fadeOutAll(){this._activeRipples.forEach(Be=>Be.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(Be=>{Be.config.persistent||Be.fadeOut()})}setupTriggerEvents(Be){const Ce=(0,p.fI)(Be);!Ce||Ce===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Ce,this._registerEvents(Gt))}handleEvent(Be){"mousedown"===Be.type?this._onMousedown(Be):"touchstart"===Be.type?this._onTouchStart(Be):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Xt),this._pointerUpEventsRegistered=!0)}_onMousedown(Be){const Ce=(0,v.X6)(Be),ke=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Ce&&!ke&&(this._isPointerDown=!0,this.fadeInRipple(Be.clientX,Be.clientY,this._target.rippleConfig))}_onTouchStart(Be){if(!this._target.rippleDisabled&&!(0,v.yG)(Be)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Ce=Be.changedTouches;for(let ke=0;ke<Ce.length;ke++)this.fadeInRipple(Ce[ke].clientX,Ce[ke].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(Be=>{!Be.config.persistent&&(1===Be.state||Be.config.terminateOnPointerUp&&0===Be.state)&&Be.fadeOut()}))}_runTimeoutOutsideZone(Be,Ce=0){this._ngZone.runOutsideAngular(()=>setTimeout(Be,Ce))}_registerEvents(Be){this._ngZone.runOutsideAngular(()=>{Be.forEach(Ce=>{this._triggerElement.addEventListener(Ce,this,Rt)})})}_removeTriggerEvents(){this._triggerElement&&(Gt.forEach(Be=>{this._triggerElement.removeEventListener(Be,this,Rt)}),this._pointerUpEventsRegistered&&Xt.forEach(Be=>{this._triggerElement.removeEventListener(Be,this,Rt)}))}}const ce=new o.OlP("mat-ripple-global-options");let Y=(()=>{class nt{constructor(Ce,ke,ve,ae,K){this._elementRef=Ce,this._animationMode=K,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ae||{},this._rippleRenderer=new kt(this,ke,Ce,ve)}get disabled(){return this._disabled}set disabled(Ce){Ce&&this.fadeOutAllNonPersistent(),this._disabled=Ce,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Ce){this._trigger=Ce,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Ce,ke=0,ve){return"number"==typeof Ce?this._rippleRenderer.fadeInRipple(Ce,ke,Object.assign(Object.assign({},this.rippleConfig),ve)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),Ce))}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(u.t4),o.Y36(ce,8),o.Y36(h.Qb,8))},nt.\u0275dir=o.lG2({type:nt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ce,ke){2&Ce&&o.ekj("mat-ripple-unbounded",ke.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),nt})(),we=(()=>{class nt{}return nt.\u0275fac=function(Ce){return new(Ce||nt)},nt.\u0275mod=o.oAB({type:nt}),nt.\u0275inj=o.cJS({imports:[[O],O]}),nt})(),be=(()=>{class nt{constructor(Ce){this._animationMode=Ce,this.state="unchecked",this.disabled=!1}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(o.Y36(h.Qb,8))},nt.\u0275cmp=o.Xpm({type:nt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Ce,ke){2&Ce&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ke.state)("mat-pseudo-checkbox-checked","checked"===ke.state)("mat-pseudo-checkbox-disabled",ke.disabled)("_mat-animation-noopable","NoopAnimations"===ke._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Ce,ke){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),nt})(),Me=(()=>{class nt{}return nt.\u0275fac=function(Ce){return new(Ce||nt)},nt.\u0275mod=o.oAB({type:nt}),nt.\u0275inj=o.cJS({imports:[[O]]}),nt})();const ze=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),Bt=new o.OlP("MatOptgroup");let Kt=0;class gt{constructor(Be,Ce=!1){this.source=Be,this.isUserInput=Ce}}let xt=(()=>{class nt{constructor(Ce,ke,ve,ae){this._element=Ce,this._changeDetectorRef=ke,this._parent=ve,this.group=ae,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Kt++,this.onSelectionChange=new o.vpe,this._stateChanges=new d.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Ce){this._disabled=(0,p.Ig)(Ce)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(Ce,ke){const ve=this._getHostElement();"function"==typeof ve.focus&&ve.focus(ke)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Ce){(Ce.keyCode===_.K5||Ce.keyCode===_.L_)&&!(0,_.Vb)(Ce)&&(this._selectViaInteraction(),Ce.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Ce=this.viewValue;Ce!==this._mostRecentViewValue&&(this._mostRecentViewValue=Ce,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Ce=!1){this.onSelectionChange.emit(new gt(this,Ce))}}return nt.\u0275fac=function(Ce){o.$Z()},nt.\u0275dir=o.lG2({type:nt,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),nt})(),Nt=(()=>{class nt extends xt{constructor(Ce,ke,ve,ae){super(Ce,ke,ve,ae)}}return nt.\u0275fac=function(Ce){return new(Ce||nt)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ze,8),o.Y36(Bt,8))},nt.\u0275cmp=o.Xpm({type:nt,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(Ce,ke){1&Ce&&o.NdJ("click",function(){return ke._selectViaInteraction()})("keydown",function(ae){return ke._handleKeydown(ae)}),2&Ce&&(o.Ikx("id",ke.id),o.uIk("tabindex",ke._getTabIndex())("aria-selected",ke._getAriaSelected())("aria-disabled",ke.disabled.toString()),o.ekj("mat-selected",ke.selected)("mat-option-multiple",ke.multiple)("mat-active",ke.active)("mat-option-disabled",ke.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:s,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(Ce,ke){1&Ce&&(o.F$t(),o.YNc(0,f,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,y,2,1,"span",2),o._UZ(4,"div",3)),2&Ce&&(o.Q6J("ngIf",ke.multiple),o.xp6(3),o.Q6J("ngIf",ke.group&&ke.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",ke._getHostElement())("matRippleDisabled",ke.disabled||ke.disableRipple))},directives:[be,a.O5,Y],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),nt})();function Ke(nt,Be,Ce){if(Ce.length){let ke=Be.toArray(),ve=Ce.toArray(),ae=0;for(let K=0;K<nt+1;K++)ke[K].group&&ke[K].group===ve[ae]&&ae++;return ae}return 0}function Et(nt,Be,Ce,ke){return nt<Ce?nt:nt+Be>Ce+ke?Math.max(0,nt-ke+Be):Ce}let et=(()=>{class nt{}return nt.\u0275fac=function(Ce){return new(Ce||nt)},nt.\u0275mod=o.oAB({type:nt}),nt.\u0275inj=o.cJS({imports:[[we,a.ez,O,Me]]}),nt})()},8966:(ot,pe,r)=>{"use strict";r.d(pe,{H8:()=>se,Is:()=>pt,WI:()=>k,ZT:()=>dt,so:()=>R,uh:()=>ge,uw:()=>fe,xY:()=>Je});var o=r(1314),c=r(7429),g=r(5e3),a=r(508),u=r(226),v=r(7579),p=r(9770),d=r(9646),h=r(9300),_=r(5698),e=r(8675),E=r(925),f=r(9808),y=r(1777),s=r(5664),C=r(1159),b=r(6360);function A(ht,It){}class I{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const D={dialogContainer:(0,y.X$)("dialogContainer",[(0,y.SB)("void, exit",(0,y.oB)({opacity:0,transform:"scale(0.7)"})),(0,y.SB)("enter",(0,y.oB)({transform:"none"})),(0,y.eR)("* => enter",(0,y.ru)([(0,y.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,y.oB)({transform:"none",opacity:1})),(0,y.IO)("@*",(0,y.pV)(),{optional:!0})])),(0,y.eR)("* => void, * => exit",(0,y.ru)([(0,y.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,y.oB)({opacity:0})),(0,y.IO)("@*",(0,y.pV)(),{optional:!0})]))])};let S=(()=>{class ht extends c.en{constructor(De,Se,Ae,lt,Ze,Rt,Gt,Xt){super(),this._elementRef=De,this._focusTrapFactory=Se,this._changeDetectorRef=Ae,this._config=Ze,this._interactivityChecker=Rt,this._ngZone=Gt,this._focusMonitor=Xt,this._animationStateChanged=new g.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=kt=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(kt)),this._ariaLabelledBy=Ze.ariaLabelledBy||null,this._document=lt}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,E.ht)())}attachComponentPortal(De){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(De)}attachTemplatePortal(De){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(De)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(De,Se){this._interactivityChecker.isFocusable(De)||(De.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{De.addEventListener("blur",()=>De.removeAttribute("tabindex")),De.addEventListener("mousedown",()=>De.removeAttribute("tabindex"))})),De.focus(Se)}_focusByCssSelector(De,Se){let Ae=this._elementRef.nativeElement.querySelector(De);Ae&&this._forceFocus(Ae,Se)}_trapFocus(){const De=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||De.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Se=>{Se||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const De=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&De&&"function"==typeof De.focus){const Se=(0,E.ht)(),Ae=this._elementRef.nativeElement;(!Se||Se===this._document.body||Se===Ae||Ae.contains(Se))&&(this._focusMonitor?(this._focusMonitor.focusVia(De,this._closeInteractionType),this._closeInteractionType=null):De.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const De=this._elementRef.nativeElement,Se=(0,E.ht)();return De===Se||De.contains(Se)}}return ht.\u0275fac=function(De){return new(De||ht)(g.Y36(g.SBq),g.Y36(s.qV),g.Y36(g.sBO),g.Y36(f.K0,8),g.Y36(I),g.Y36(s.ic),g.Y36(g.R0b),g.Y36(s.tE))},ht.\u0275dir=g.lG2({type:ht,viewQuery:function(De,Se){if(1&De&&g.Gf(c.Pl,7),2&De){let Ae;g.iGM(Ae=g.CRH())&&(Se._portalOutlet=Ae.first)}},features:[g.qOj]}),ht})(),x=(()=>{class ht extends S{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:De,totalTime:Se}){"enter"===De?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Se})):"exit"===De&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:Se}))}_onAnimationStart({toState:De,totalTime:Se}){"enter"===De?this._animationStateChanged.next({state:"opening",totalTime:Se}):("exit"===De||"void"===De)&&this._animationStateChanged.next({state:"closing",totalTime:Se})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return ht.\u0275fac=function(){let It;return function(Se){return(It||(It=g.n5z(ht)))(Se||ht)}}(),ht.\u0275cmp=g.Xpm({type:ht,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(De,Se){1&De&&g.WFA("@dialogContainer.start",function(lt){return Se._onAnimationStart(lt)})("@dialogContainer.done",function(lt){return Se._onAnimationDone(lt)}),2&De&&(g.Ikx("id",Se._id),g.uIk("role",Se._config.role)("aria-labelledby",Se._config.ariaLabel?null:Se._ariaLabelledBy)("aria-label",Se._config.ariaLabel)("aria-describedby",Se._config.ariaDescribedBy||null),g.d8E("@dialogContainer",Se._state))},features:[g.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(De,Se){1&De&&g.YNc(0,A,0,0,"ng-template",0)},directives:[c.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[D.dialogContainer]}}),ht})(),L=0;class R{constructor(It,De,Se="mat-dialog-"+L++){this._overlayRef=It,this._containerInstance=De,this.id=Se,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new v.x,this._afterClosed=new v.x,this._beforeClosed=new v.x,this._state=0,De._id=Se,De._animationStateChanged.pipe((0,h.h)(Ae=>"opened"===Ae.state),(0,_.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),De._animationStateChanged.pipe((0,h.h)(Ae=>"closed"===Ae.state),(0,_.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),It.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),It.keydownEvents().pipe((0,h.h)(Ae=>Ae.keyCode===C.hY&&!this.disableClose&&!(0,C.Vb)(Ae))).subscribe(Ae=>{Ae.preventDefault(),G(this,"keyboard")}),It.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():G(this,"mouse")})}close(It){this._result=It,this._containerInstance._animationStateChanged.pipe((0,h.h)(De=>"closing"===De.state),(0,_.q)(1)).subscribe(De=>{this._beforeClosed.next(It),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),De.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(It){let De=this._getPositionStrategy();return It&&(It.left||It.right)?It.left?De.left(It.left):De.right(It.right):De.centerHorizontally(),It&&(It.top||It.bottom)?It.top?De.top(It.top):De.bottom(It.bottom):De.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(It="",De=""){return this._overlayRef.updateSize({width:It,height:De}),this._overlayRef.updatePosition(),this}addPanelClass(It){return this._overlayRef.addPanelClass(It),this}removePanelClass(It){return this._overlayRef.removePanelClass(It),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function G(ht,It,De){return void 0!==ht._containerInstance&&(ht._containerInstance._closeInteractionType=It),ht.close(De)}const k=new g.OlP("MatDialogData"),V=new g.OlP("mat-dialog-default-options"),ne=new g.OlP("mat-dialog-scroll-strategy"),X={provide:ne,deps:[o.aV],useFactory:function q(ht){return()=>ht.scrollStrategies.block()}};let de=(()=>{class ht{constructor(De,Se,Ae,lt,Ze,Rt,Gt,Xt,kt,qe){this._overlay=De,this._injector=Se,this._defaultOptions=Ae,this._parentDialog=lt,this._overlayContainer=Ze,this._dialogRefConstructor=Gt,this._dialogContainerType=Xt,this._dialogDataToken=kt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new v.x,this._afterOpenedAtThisLevel=new v.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,e.O)(void 0))),this._scrollStrategy=Rt}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const De=this._parentDialog;return De?De._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(De,Se){Se=function We(ht,It){return Object.assign(Object.assign({},It),ht)}(Se,this._defaultOptions||new I),Se.id&&this.getDialogById(Se.id);const Ae=this._createOverlay(Se),lt=this._attachDialogContainer(Ae,Se),Ze=this._attachDialogContent(De,lt,Ae,Se);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Ze),Ze.afterClosed().subscribe(()=>this._removeOpenDialog(Ze)),this.afterOpened.next(Ze),lt._initializeWithAttachedContent(),Ze}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(De){return this.openDialogs.find(Se=>Se.id===De)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(De){const Se=this._getOverlayConfig(De);return this._overlay.create(Se)}_getOverlayConfig(De){const Se=new o.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:De.scrollStrategy||this._scrollStrategy(),panelClass:De.panelClass,hasBackdrop:De.hasBackdrop,direction:De.direction,minWidth:De.minWidth,minHeight:De.minHeight,maxWidth:De.maxWidth,maxHeight:De.maxHeight,disposeOnNavigation:De.closeOnNavigation});return De.backdropClass&&(Se.backdropClass=De.backdropClass),Se}_attachDialogContainer(De,Se){const lt=g.zs3.create({parent:Se&&Se.viewContainerRef&&Se.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:Se}]}),Ze=new c.C5(this._dialogContainerType,Se.viewContainerRef,lt,Se.componentFactoryResolver);return De.attach(Ze).instance}_attachDialogContent(De,Se,Ae,lt){const Ze=new this._dialogRefConstructor(Ae,Se,lt.id);if(De instanceof g.Rgc)Se.attachTemplatePortal(new c.UE(De,null,{$implicit:lt.data,dialogRef:Ze}));else{const Rt=this._createInjector(lt,Ze,Se),Gt=Se.attachComponentPortal(new c.C5(De,lt.viewContainerRef,Rt,lt.componentFactoryResolver));Ze.componentInstance=Gt.instance}return Ze.updateSize(lt.width,lt.height).updatePosition(lt.position),Ze}_createInjector(De,Se,Ae){const lt=De&&De.viewContainerRef&&De.viewContainerRef.injector,Ze=[{provide:this._dialogContainerType,useValue:Ae},{provide:this._dialogDataToken,useValue:De.data},{provide:this._dialogRefConstructor,useValue:Se}];return De.direction&&(!lt||!lt.get(u.Is,null,g.XFs.Optional))&&Ze.push({provide:u.Is,useValue:{value:De.direction,change:(0,d.of)()}}),g.zs3.create({parent:lt||this._injector,providers:Ze})}_removeOpenDialog(De){const Se=this.openDialogs.indexOf(De);Se>-1&&(this.openDialogs.splice(Se,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Ae,lt)=>{Ae?lt.setAttribute("aria-hidden",Ae):lt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const De=this._overlayContainer.getContainerElement();if(De.parentElement){const Se=De.parentElement.children;for(let Ae=Se.length-1;Ae>-1;Ae--){let lt=Se[Ae];lt!==De&&"SCRIPT"!==lt.nodeName&&"STYLE"!==lt.nodeName&&!lt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(lt,lt.getAttribute("aria-hidden")),lt.setAttribute("aria-hidden","true"))}}}_closeDialogs(De){let Se=De.length;for(;Se--;)De[Se].close()}}return ht.\u0275fac=function(De){g.$Z()},ht.\u0275dir=g.lG2({type:ht}),ht})(),fe=(()=>{class ht extends de{constructor(De,Se,Ae,lt,Ze,Rt,Gt,Xt){super(De,Se,lt,Rt,Gt,Ze,R,x,k,Xt)}}return ht.\u0275fac=function(De){return new(De||ht)(g.LFG(o.aV),g.LFG(g.zs3),g.LFG(f.Ye,8),g.LFG(V,8),g.LFG(ne),g.LFG(ht,12),g.LFG(o.Xj),g.LFG(b.Qb,8))},ht.\u0275prov=g.Yz7({token:ht,factory:ht.\u0275fac}),ht})(),Ne=0,dt=(()=>{class ht{constructor(De,Se,Ae){this.dialogRef=De,this._elementRef=Se,this._dialog=Ae,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Re(this._elementRef,this._dialog.openDialogs))}ngOnChanges(De){const Se=De._matDialogClose||De._matDialogCloseResult;Se&&(this.dialogResult=Se.currentValue)}_onButtonClick(De){G(this.dialogRef,0===De.screenX&&0===De.screenY?"keyboard":"mouse",this.dialogResult)}}return ht.\u0275fac=function(De){return new(De||ht)(g.Y36(R,8),g.Y36(g.SBq),g.Y36(fe))},ht.\u0275dir=g.lG2({type:ht,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(De,Se){1&De&&g.NdJ("click",function(lt){return Se._onButtonClick(lt)}),2&De&&g.uIk("aria-label",Se.ariaLabel||null)("type",Se.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[g.TTD]}),ht})(),ge=(()=>{class ht{constructor(De,Se,Ae){this._dialogRef=De,this._elementRef=Se,this._dialog=Ae,this.id="mat-dialog-title-"+Ne++}ngOnInit(){this._dialogRef||(this._dialogRef=Re(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const De=this._dialogRef._containerInstance;De&&!De._ariaLabelledBy&&(De._ariaLabelledBy=this.id)})}}return ht.\u0275fac=function(De){return new(De||ht)(g.Y36(R,8),g.Y36(g.SBq),g.Y36(fe))},ht.\u0275dir=g.lG2({type:ht,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(De,Se){2&De&&g.Ikx("id",Se.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),ht})(),Je=(()=>{class ht{}return ht.\u0275fac=function(De){return new(De||ht)},ht.\u0275dir=g.lG2({type:ht,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),ht})(),se=(()=>{class ht{}return ht.\u0275fac=function(De){return new(De||ht)},ht.\u0275dir=g.lG2({type:ht,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),ht})();function Re(ht,It){let De=ht.nativeElement.parentElement;for(;De&&!De.classList.contains("mat-dialog-container");)De=De.parentElement;return De?It.find(Se=>Se.id===De.id):null}let pt=(()=>{class ht{}return ht.\u0275fac=function(De){return new(De||ht)},ht.\u0275mod=g.oAB({type:ht}),ht.\u0275inj=g.cJS({providers:[fe,X],imports:[[o.U8,c.eL,a.BQ],a.BQ]}),ht})()},1125:(ot,pe,r)=>{"use strict";r.d(pe,{pp:()=>De,To:()=>Se,ib:()=>ge,yz:()=>pt,yK:()=>It});var o=r(5e3),c=r(3191),g=r(7579),a=r(727),u=r(449);let v=0;const p=new o.OlP("CdkAccordion");let d=(()=>{class Ae{constructor(){this._stateChanges=new g.x,this._openCloseAllActions=new g.x,this.id="cdk-accordion-"+v++,this._multi=!1}get multi(){return this._multi}set multi(Ze){this._multi=(0,c.Ig)(Ze)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(Ze){this._stateChanges.next(Ze)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)},Ae.\u0275dir=o.lG2({type:Ae,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o._Bn([{provide:p,useExisting:Ae}]),o.TTD]}),Ae})(),h=0,_=(()=>{class Ae{constructor(Ze,Rt,Gt){this.accordion=Ze,this._changeDetectorRef=Rt,this._expansionDispatcher=Gt,this._openCloseAllSubscription=a.w0.EMPTY,this.closed=new o.vpe,this.opened=new o.vpe,this.destroyed=new o.vpe,this.expandedChange=new o.vpe,this.id="cdk-accordion-child-"+h++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=Gt.listen((Xt,kt)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===kt&&this.id!==Xt&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(Ze){Ze=(0,c.Ig)(Ze),this._expanded!==Ze&&(this._expanded=Ze,this.expandedChange.emit(Ze),Ze?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(Ze){this._disabled=(0,c.Ig)(Ze)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(Ze=>{this.disabled||(this.expanded=Ze)})}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)(o.Y36(p,12),o.Y36(o.sBO),o.Y36(u.A8))},Ae.\u0275dir=o.lG2({type:Ae,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o._Bn([{provide:p,useValue:void 0}])]}),Ae})(),e=(()=>{class Ae{}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)},Ae.\u0275mod=o.oAB({type:Ae}),Ae.\u0275inj=o.cJS({}),Ae})();var E=r(7429),f=r(9808),y=r(508),s=r(5664),C=r(1884),b=r(8675),A=r(9300),I=r(5698),D=r(1159),O=r(6360),S=r(515),x=r(6451),L=r(1777);const R=["body"];function G(Ae,lt){}const k=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],V=["mat-expansion-panel-header","*","mat-action-row"];function ne(Ae,lt){if(1&Ae&&o._UZ(0,"span",2),2&Ae){const Ze=o.oxw();o.Q6J("@indicatorRotate",Ze._getExpandedState())}}const $=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],q=["mat-panel-title","mat-panel-description","*"],X=new o.OlP("MAT_ACCORDION"),de="225ms cubic-bezier(0.4,0.0,0.2,1)",fe={indicatorRotate:(0,L.X$)("indicatorRotate",[(0,L.SB)("collapsed, void",(0,L.oB)({transform:"rotate(0deg)"})),(0,L.SB)("expanded",(0,L.oB)({transform:"rotate(180deg)"})),(0,L.eR)("expanded <=> collapsed, void => collapsed",(0,L.jt)(de))]),bodyExpansion:(0,L.X$)("bodyExpansion",[(0,L.SB)("collapsed, void",(0,L.oB)({height:"0px",visibility:"hidden"})),(0,L.SB)("expanded",(0,L.oB)({height:"*",visibility:"visible"})),(0,L.eR)("expanded <=> collapsed, void => collapsed",(0,L.jt)(de))])};let We=(()=>{class Ae{constructor(Ze){this._template=Ze}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)(o.Y36(o.Rgc))},Ae.\u0275dir=o.lG2({type:Ae,selectors:[["ng-template","matExpansionPanelContent",""]]}),Ae})(),Ne=0;const dt=new o.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ge=(()=>{class Ae extends _{constructor(Ze,Rt,Gt,Xt,kt,qe,me){super(Ze,Rt,Gt),this._viewContainerRef=Xt,this._animationMode=qe,this._hideToggle=!1,this.afterExpand=new o.vpe,this.afterCollapse=new o.vpe,this._inputChanges=new g.x,this._headerId="mat-expansion-panel-header-"+Ne++,this._bodyAnimationDone=new g.x,this.accordion=Ze,this._document=kt,this._bodyAnimationDone.pipe((0,C.x)((ce,Y)=>ce.fromState===Y.fromState&&ce.toState===Y.toState)).subscribe(ce=>{"void"!==ce.fromState&&("expanded"===ce.toState?this.afterExpand.emit():"collapsed"===ce.toState&&this.afterCollapse.emit())}),me&&(this.hideToggle=me.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(Ze){this._hideToggle=(0,c.Ig)(Ze)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(Ze){this._togglePosition=Ze}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,b.O)(null),(0,A.h)(()=>this.expanded&&!this._portal),(0,I.q)(1)).subscribe(()=>{this._portal=new E.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(Ze){this._inputChanges.next(Ze)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const Ze=this._document.activeElement,Rt=this._body.nativeElement;return Ze===Rt||Rt.contains(Ze)}return!1}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)(o.Y36(X,12),o.Y36(o.sBO),o.Y36(u.A8),o.Y36(o.s_b),o.Y36(f.K0),o.Y36(O.Qb,8),o.Y36(dt,8))},Ae.\u0275cmp=o.Xpm({type:Ae,selectors:[["mat-expansion-panel"]],contentQueries:function(Ze,Rt,Gt){if(1&Ze&&o.Suo(Gt,We,5),2&Ze){let Xt;o.iGM(Xt=o.CRH())&&(Rt._lazyContent=Xt.first)}},viewQuery:function(Ze,Rt){if(1&Ze&&o.Gf(R,5),2&Ze){let Gt;o.iGM(Gt=o.CRH())&&(Rt._body=Gt.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(Ze,Rt){2&Ze&&o.ekj("mat-expanded",Rt.expanded)("_mat-animation-noopable","NoopAnimations"===Rt._animationMode)("mat-expansion-panel-spacing",Rt._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o._Bn([{provide:X,useValue:void 0}]),o.qOj,o.TTD],ngContentSelectors:V,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(Ze,Rt){1&Ze&&(o.F$t(k),o.Hsn(0),o.TgZ(1,"div",0,1),o.NdJ("@bodyExpansion.done",function(Xt){return Rt._bodyAnimationDone.next(Xt)}),o.TgZ(3,"div",2),o.Hsn(4,1),o.YNc(5,G,0,0,"ng-template",3),o.qZA(),o.Hsn(6,2),o.qZA()),2&Ze&&(o.xp6(1),o.Q6J("@bodyExpansion",Rt._getExpandedState())("id",Rt.id),o.uIk("aria-labelledby",Rt._headerId),o.xp6(4),o.Q6J("cdkPortalOutlet",Rt._portal))},directives:[E.Pl],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n'],encapsulation:2,data:{animation:[fe.bodyExpansion]},changeDetection:0}),Ae})();class se{}const Re=(0,y.sb)(se);let pt=(()=>{class Ae extends Re{constructor(Ze,Rt,Gt,Xt,kt,qe,me){super(),this.panel=Ze,this._element=Rt,this._focusMonitor=Gt,this._changeDetectorRef=Xt,this._animationMode=qe,this._parentChangeSubscription=a.w0.EMPTY;const ce=Ze.accordion?Ze.accordion._stateChanges.pipe((0,A.h)(Y=>!(!Y.hideToggle&&!Y.togglePosition))):S.E;this.tabIndex=parseInt(me||"")||0,this._parentChangeSubscription=(0,x.T)(Ze.opened,Ze.closed,ce,Ze._inputChanges.pipe((0,A.h)(Y=>!!(Y.hideToggle||Y.disabled||Y.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),Ze.closed.pipe((0,A.h)(()=>Ze._containsFocus())).subscribe(()=>Gt.focusVia(Rt,"program")),kt&&(this.expandedHeight=kt.expandedHeight,this.collapsedHeight=kt.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const Ze=this._isExpanded();return Ze&&this.expandedHeight?this.expandedHeight:!Ze&&this.collapsedHeight?this.collapsedHeight:null}_keydown(Ze){switch(Ze.keyCode){case D.L_:case D.K5:(0,D.Vb)(Ze)||(Ze.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(Ze))}}focus(Ze,Rt){Ze?this._focusMonitor.focusVia(this._element,Ze,Rt):this._element.nativeElement.focus(Rt)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(Ze=>{Ze&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)(o.Y36(ge,1),o.Y36(o.SBq),o.Y36(s.tE),o.Y36(o.sBO),o.Y36(dt,8),o.Y36(O.Qb,8),o.$8M("tabindex"))},Ae.\u0275cmp=o.Xpm({type:Ae,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(Ze,Rt){1&Ze&&o.NdJ("click",function(){return Rt._toggle()})("keydown",function(Xt){return Rt._keydown(Xt)}),2&Ze&&(o.uIk("id",Rt.panel._headerId)("tabindex",Rt.tabIndex)("aria-controls",Rt._getPanelId())("aria-expanded",Rt._isExpanded())("aria-disabled",Rt.panel.disabled),o.Udp("height",Rt._getHeaderHeight()),o.ekj("mat-expanded",Rt._isExpanded())("mat-expansion-toggle-indicator-after","after"===Rt._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===Rt._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===Rt._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[o.qOj],ngContentSelectors:q,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(Ze,Rt){1&Ze&&(o.F$t($),o.TgZ(0,"span",0),o.Hsn(1),o.Hsn(2,1),o.Hsn(3,2),o.qZA(),o.YNc(4,ne,1,1,"span",1)),2&Ze&&(o.xp6(4),o.Q6J("ngIf",Rt._showToggle()))},directives:[f.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[fe.indicatorRotate]},changeDetection:0}),Ae})(),It=(()=>{class Ae{}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)},Ae.\u0275dir=o.lG2({type:Ae,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),Ae})(),De=(()=>{class Ae extends d{constructor(){super(...arguments),this._ownHeaders=new o.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(Ze){this._hideToggle=(0,c.Ig)(Ze)}ngAfterContentInit(){this._headers.changes.pipe((0,b.O)(this._headers)).subscribe(Ze=>{this._ownHeaders.reset(Ze.filter(Rt=>Rt.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new s.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(Ze){this._keyManager.onKeydown(Ze)}_handleHeaderFocus(Ze){this._keyManager.updateActiveItem(Ze)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return Ae.\u0275fac=function(){let lt;return function(Rt){return(lt||(lt=o.n5z(Ae)))(Rt||Ae)}}(),Ae.\u0275dir=o.lG2({type:Ae,selectors:[["mat-accordion"]],contentQueries:function(Ze,Rt,Gt){if(1&Ze&&o.Suo(Gt,pt,5),2&Ze){let Xt;o.iGM(Xt=o.CRH())&&(Rt._headers=Xt)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(Ze,Rt){2&Ze&&o.ekj("mat-accordion-multi",Rt.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[o._Bn([{provide:X,useExisting:Ae}]),o.qOj]}),Ae})(),Se=(()=>{class Ae{}return Ae.\u0275fac=function(Ze){return new(Ze||Ae)},Ae.\u0275mod=o.oAB({type:Ae}),Ae.\u0275inj=o.cJS({imports:[[f.ez,y.BQ,e,E.eL]]}),Ae})()},7322:(ot,pe,r)=>{"use strict";r.d(pe,{Eo:()=>Ne,G_:()=>qe,KE:()=>me,R9:()=>lt,TO:()=>fe,bx:()=>pt,hX:()=>ht,lN:()=>ce,o2:()=>kt});var o=r(7144),c=r(9808),g=r(5e3),a=r(508),u=r(3191),v=r(7579),p=r(6451),d=r(4968),h=r(8675),_=r(2722),e=r(5698),E=r(1777),f=r(6360),y=r(226),s=r(925);const C=["connectionContainer"],b=["inputContainer"],A=["label"];function I(Y,we){1&Y&&(g.ynx(0),g.TgZ(1,"div",14),g._UZ(2,"div",15)(3,"div",16)(4,"div",17),g.qZA(),g.TgZ(5,"div",18),g._UZ(6,"div",15)(7,"div",16)(8,"div",17),g.qZA(),g.BQk())}function D(Y,we){if(1&Y){const be=g.EpF();g.TgZ(0,"div",19),g.NdJ("cdkObserveContent",function(){return g.CHM(be),g.oxw().updateOutlineGap()}),g.Hsn(1,1),g.qZA()}if(2&Y){const be=g.oxw();g.Q6J("cdkObserveContentDisabled","outline"!=be.appearance)}}function O(Y,we){if(1&Y&&(g.ynx(0),g.Hsn(1,2),g.TgZ(2,"span"),g._uU(3),g.qZA(),g.BQk()),2&Y){const be=g.oxw(2);g.xp6(3),g.Oqu(be._control.placeholder)}}function S(Y,we){1&Y&&g.Hsn(0,3,["*ngSwitchCase","true"])}function x(Y,we){1&Y&&(g.TgZ(0,"span",23),g._uU(1," *"),g.qZA())}function L(Y,we){if(1&Y){const be=g.EpF();g.TgZ(0,"label",20,21),g.NdJ("cdkObserveContent",function(){return g.CHM(be),g.oxw().updateOutlineGap()}),g.YNc(2,O,4,1,"ng-container",12),g.YNc(3,S,1,0,"ng-content",12),g.YNc(4,x,2,0,"span",22),g.qZA()}if(2&Y){const be=g.oxw();g.ekj("mat-empty",be._control.empty&&!be._shouldAlwaysFloat())("mat-form-field-empty",be._control.empty&&!be._shouldAlwaysFloat())("mat-accent","accent"==be.color)("mat-warn","warn"==be.color),g.Q6J("cdkObserveContentDisabled","outline"!=be.appearance)("id",be._labelId)("ngSwitch",be._hasLabel()),g.uIk("for",be._control.id)("aria-owns",be._control.id),g.xp6(2),g.Q6J("ngSwitchCase",!1),g.xp6(1),g.Q6J("ngSwitchCase",!0),g.xp6(1),g.Q6J("ngIf",!be.hideRequiredMarker&&be._control.required&&!be._control.disabled)}}function R(Y,we){1&Y&&(g.TgZ(0,"div",24),g.Hsn(1,4),g.qZA())}function G(Y,we){if(1&Y&&(g.TgZ(0,"div",25),g._UZ(1,"span",26),g.qZA()),2&Y){const be=g.oxw();g.xp6(1),g.ekj("mat-accent","accent"==be.color)("mat-warn","warn"==be.color)}}function k(Y,we){if(1&Y&&(g.TgZ(0,"div"),g.Hsn(1,5),g.qZA()),2&Y){const be=g.oxw();g.Q6J("@transitionMessages",be._subscriptAnimationState)}}function V(Y,we){if(1&Y&&(g.TgZ(0,"div",30),g._uU(1),g.qZA()),2&Y){const be=g.oxw(2);g.Q6J("id",be._hintLabelId),g.xp6(1),g.Oqu(be.hintLabel)}}function ne(Y,we){if(1&Y&&(g.TgZ(0,"div",27),g.YNc(1,V,2,2,"div",28),g.Hsn(2,6),g._UZ(3,"div",29),g.Hsn(4,7),g.qZA()),2&Y){const be=g.oxw();g.Q6J("@transitionMessages",be._subscriptAnimationState),g.xp6(1),g.Q6J("ngIf",be.hintLabel)}}const $=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],q=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let X=0;const de=new g.OlP("MatError");let fe=(()=>{class Y{constructor(be,Me){this.id="mat-error-"+X++,be||Me.nativeElement.setAttribute("aria-live","polite")}}return Y.\u0275fac=function(be){return new(be||Y)(g.$8M("aria-live"),g.Y36(g.SBq))},Y.\u0275dir=g.lG2({type:Y,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(be,Me){2&be&&g.uIk("id",Me.id)},inputs:{id:"id"},features:[g._Bn([{provide:de,useExisting:Y}])]}),Y})();const We={transitionMessages:(0,E.X$)("transitionMessages",[(0,E.SB)("enter",(0,E.oB)({opacity:1,transform:"translateY(0%)"})),(0,E.eR)("void => enter",[(0,E.oB)({opacity:0,transform:"translateY(-5px)"}),(0,E.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ne=(()=>{class Y{}return Y.\u0275fac=function(be){return new(be||Y)},Y.\u0275dir=g.lG2({type:Y}),Y})(),se=0;const Re=new g.OlP("MatHint");let pt=(()=>{class Y{constructor(){this.align="start",this.id="mat-hint-"+se++}}return Y.\u0275fac=function(be){return new(be||Y)},Y.\u0275dir=g.lG2({type:Y,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(be,Me){2&be&&(g.uIk("id",Me.id)("align",null),g.ekj("mat-form-field-hint-end","end"===Me.align))},inputs:{align:"align",id:"id"},features:[g._Bn([{provide:Re,useExisting:Y}])]}),Y})(),ht=(()=>{class Y{}return Y.\u0275fac=function(be){return new(be||Y)},Y.\u0275dir=g.lG2({type:Y,selectors:[["mat-label"]]}),Y})(),It=(()=>{class Y{}return Y.\u0275fac=function(be){return new(be||Y)},Y.\u0275dir=g.lG2({type:Y,selectors:[["mat-placeholder"]]}),Y})();const De=new g.OlP("MatPrefix"),Ae=new g.OlP("MatSuffix");let lt=(()=>{class Y{}return Y.\u0275fac=function(be){return new(be||Y)},Y.\u0275dir=g.lG2({type:Y,selectors:[["","matSuffix",""]],features:[g._Bn([{provide:Ae,useExisting:Y}])]}),Y})(),Ze=0;const Xt=(0,a.pj)(class{constructor(Y){this._elementRef=Y}},"primary"),kt=new g.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),qe=new g.OlP("MatFormField");let me=(()=>{class Y extends Xt{constructor(be,Me,ze,mt,vt,Lt,Bt){super(be),this._changeDetectorRef=Me,this._dir=ze,this._defaults=mt,this._platform=vt,this._ngZone=Lt,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new v.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Ze++,this._labelId="mat-form-field-label-"+Ze++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Bt,this.appearance=mt&&mt.appearance?mt.appearance:"legacy",this._hideRequiredMarker=!(!mt||null==mt.hideRequiredMarker)&&mt.hideRequiredMarker}get appearance(){return this._appearance}set appearance(be){const Me=this._appearance;this._appearance=be||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Me!==be&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(be){this._hideRequiredMarker=(0,u.Ig)(be)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(be){this._hintLabel=be,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(be){be!==this._floatLabel&&(this._floatLabel=be||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(be){this._explicitFormFieldControl=be}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const be=this._control;be.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${be.controlType}`),be.stateChanges.pipe((0,h.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),be.ngControl&&be.ngControl.valueChanges&&be.ngControl.valueChanges.pipe((0,_.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,_.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,p.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,_.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(be){const Me=this._control?this._control.ngControl:null;return Me&&Me[be]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,d.R)(this._label.nativeElement,"transitionend").pipe((0,e.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let be=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&be.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Me=this._hintChildren?this._hintChildren.find(mt=>"start"===mt.align):null,ze=this._hintChildren?this._hintChildren.find(mt=>"end"===mt.align):null;Me?be.push(Me.id):this._hintLabel&&be.push(this._hintLabelId),ze&&be.push(ze.id)}else this._errorChildren&&be.push(...this._errorChildren.map(Me=>Me.id));this._control.setDescribedByIds(be)}}_validateControlChild(){}updateOutlineGap(){const be=this._label?this._label.nativeElement:null,Me=this._connectionContainerRef.nativeElement,ze=".mat-form-field-outline-start",mt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!be||!be.children.length||!be.textContent.trim()){const Kt=Me.querySelectorAll(`${ze}, ${mt}`);for(let gt=0;gt<Kt.length;gt++)Kt[gt].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let vt=0,Lt=0;const Bt=Me.querySelectorAll(ze),an=Me.querySelectorAll(mt);if(this._label&&this._label.nativeElement.children.length){const Kt=Me.getBoundingClientRect();if(0===Kt.width&&0===Kt.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const gt=this._getStartEnd(Kt),xt=be.children,Nt=this._getStartEnd(xt[0].getBoundingClientRect());let Ke=0;for(let Et=0;Et<xt.length;Et++)Ke+=xt[Et].offsetWidth;vt=Math.abs(Nt-gt)-5,Lt=Ke>0?.75*Ke+10:0}for(let Kt=0;Kt<Bt.length;Kt++)Bt[Kt].style.width=`${vt}px`;for(let Kt=0;Kt<an.length;Kt++)an[Kt].style.width=`${Lt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(be){return this._dir&&"rtl"===this._dir.value?be.right:be.left}_isAttachedToDOM(){const be=this._elementRef.nativeElement;if(be.getRootNode){const Me=be.getRootNode();return Me&&Me!==be}return document.documentElement.contains(be)}}return Y.\u0275fac=function(be){return new(be||Y)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(y.Is,8),g.Y36(kt,8),g.Y36(s.t4),g.Y36(g.R0b),g.Y36(f.Qb,8))},Y.\u0275cmp=g.Xpm({type:Y,selectors:[["mat-form-field"]],contentQueries:function(be,Me,ze){if(1&be&&(g.Suo(ze,Ne,5),g.Suo(ze,Ne,7),g.Suo(ze,ht,5),g.Suo(ze,ht,7),g.Suo(ze,It,5),g.Suo(ze,de,5),g.Suo(ze,Re,5),g.Suo(ze,De,5),g.Suo(ze,Ae,5)),2&be){let mt;g.iGM(mt=g.CRH())&&(Me._controlNonStatic=mt.first),g.iGM(mt=g.CRH())&&(Me._controlStatic=mt.first),g.iGM(mt=g.CRH())&&(Me._labelChildNonStatic=mt.first),g.iGM(mt=g.CRH())&&(Me._labelChildStatic=mt.first),g.iGM(mt=g.CRH())&&(Me._placeholderChild=mt.first),g.iGM(mt=g.CRH())&&(Me._errorChildren=mt),g.iGM(mt=g.CRH())&&(Me._hintChildren=mt),g.iGM(mt=g.CRH())&&(Me._prefixChildren=mt),g.iGM(mt=g.CRH())&&(Me._suffixChildren=mt)}},viewQuery:function(be,Me){if(1&be&&(g.Gf(C,7),g.Gf(b,5),g.Gf(A,5)),2&be){let ze;g.iGM(ze=g.CRH())&&(Me._connectionContainerRef=ze.first),g.iGM(ze=g.CRH())&&(Me._inputContainerRef=ze.first),g.iGM(ze=g.CRH())&&(Me._label=ze.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(be,Me){2&be&&g.ekj("mat-form-field-appearance-standard","standard"==Me.appearance)("mat-form-field-appearance-fill","fill"==Me.appearance)("mat-form-field-appearance-outline","outline"==Me.appearance)("mat-form-field-appearance-legacy","legacy"==Me.appearance)("mat-form-field-invalid",Me._control.errorState)("mat-form-field-can-float",Me._canLabelFloat())("mat-form-field-should-float",Me._shouldLabelFloat())("mat-form-field-has-label",Me._hasFloatingLabel())("mat-form-field-hide-placeholder",Me._hideControlPlaceholder())("mat-form-field-disabled",Me._control.disabled)("mat-form-field-autofilled",Me._control.autofilled)("mat-focused",Me._control.focused)("ng-untouched",Me._shouldForward("untouched"))("ng-touched",Me._shouldForward("touched"))("ng-pristine",Me._shouldForward("pristine"))("ng-dirty",Me._shouldForward("dirty"))("ng-valid",Me._shouldForward("valid"))("ng-invalid",Me._shouldForward("invalid"))("ng-pending",Me._shouldForward("pending"))("_mat-animation-noopable",!Me._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[g._Bn([{provide:qe,useExisting:Y}]),g.qOj],ngContentSelectors:q,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(be,Me){1&be&&(g.F$t($),g.TgZ(0,"div",0)(1,"div",1,2),g.NdJ("click",function(mt){return Me._control.onContainerClick&&Me._control.onContainerClick(mt)}),g.YNc(3,I,9,0,"ng-container",3),g.YNc(4,D,2,1,"div",4),g.TgZ(5,"div",5,6),g.Hsn(7),g.TgZ(8,"span",7),g.YNc(9,L,5,16,"label",8),g.qZA()(),g.YNc(10,R,2,0,"div",9),g.qZA(),g.YNc(11,G,2,4,"div",10),g.TgZ(12,"div",11),g.YNc(13,k,2,1,"div",12),g.YNc(14,ne,5,2,"div",13),g.qZA()()),2&be&&(g.xp6(3),g.Q6J("ngIf","outline"==Me.appearance),g.xp6(1),g.Q6J("ngIf",Me._prefixChildren.length),g.xp6(5),g.Q6J("ngIf",Me._hasFloatingLabel()),g.xp6(1),g.Q6J("ngIf",Me._suffixChildren.length),g.xp6(1),g.Q6J("ngIf","outline"!=Me.appearance),g.xp6(1),g.Q6J("ngSwitch",Me._getDisplayedMessages()),g.xp6(1),g.Q6J("ngSwitchCase","error"),g.xp6(1),g.Q6J("ngSwitchCase","hint"))},directives:[c.O5,o.wD,c.RF,c.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[We.transitionMessages]},changeDetection:0}),Y})(),ce=(()=>{class Y{}return Y.\u0275fac=function(be){return new(be||Y)},Y.\u0275mod=g.oAB({type:Y}),Y.\u0275inj=g.cJS({imports:[[c.ez,a.BQ,o.Q8],a.BQ]}),Y})()},8833:(ot,pe,r)=>{"use strict";r.d(pe,{Nt:()=>y,c:()=>s});var o=r(3191),c=r(925),g=r(5e3),a=r(3075),u=r(508),v=r(7322),p=r(7579),d=r(4533);const _=new g.OlP("MAT_INPUT_VALUE_ACCESSOR"),e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let E=0;const f=(0,u.FD)(class{constructor(C,b,A,I){this._defaultErrorStateMatcher=C,this._parentForm=b,this._parentFormGroup=A,this.ngControl=I}});let y=(()=>{class C extends f{constructor(A,I,D,O,S,x,L,R,G,k){super(x,O,S,D),this._elementRef=A,this._platform=I,this._autofillMonitor=R,this._formField=k,this._uid="mat-input-"+E++,this.focused=!1,this.stateChanges=new p.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>(0,c.qK)().has($));const V=this._elementRef.nativeElement,ne=V.nodeName.toLowerCase();this._inputValueAccessor=L||V,this._previousNativeValue=this.value,this.id=this.id,I.IOS&&G.runOutsideAngular(()=>{A.nativeElement.addEventListener("keyup",$=>{const q=$.target;!q.value&&0===q.selectionStart&&0===q.selectionEnd&&(q.setSelectionRange(1,1),q.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ne,this._isTextarea="textarea"===ne,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(A){this._disabled=(0,o.Ig)(A),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(A){this._id=A||this._uid}get required(){var A,I,D,O;return null!==(O=null!==(A=this._required)&&void 0!==A?A:null===(D=null===(I=this.ngControl)||void 0===I?void 0:I.control)||void 0===D?void 0:D.hasValidator(a.kI.required))&&void 0!==O&&O}set required(A){this._required=(0,o.Ig)(A)}get type(){return this._type}set type(A){this._type=A||"text",this._validateType(),!this._isTextarea&&(0,c.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(A){A!==this.value&&(this._inputValueAccessor.value=A,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(A){this._readonly=(0,o.Ig)(A)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(A=>{this.autofilled=A.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(A){this._elementRef.nativeElement.focus(A)}_focusChanged(A){A!==this.focused&&(this.focused=A,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var A,I;const D=(null===(I=null===(A=this._formField)||void 0===A?void 0:A._hideControlPlaceholder)||void 0===I?void 0:I.call(A))?null:this.placeholder;if(D!==this._previousPlaceholder){const O=this._elementRef.nativeElement;this._previousPlaceholder=D,D?O.setAttribute("placeholder",D):O.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const A=this._elementRef.nativeElement.value;this._previousNativeValue!==A&&(this._previousNativeValue=A,this.stateChanges.next())}_validateType(){e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let A=this._elementRef.nativeElement.validity;return A&&A.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const A=this._elementRef.nativeElement,I=A.options[0];return this.focused||A.multiple||!this.empty||!!(A.selectedIndex>-1&&I&&I.label)}return this.focused||!this.empty}setDescribedByIds(A){A.length?this._elementRef.nativeElement.setAttribute("aria-describedby",A.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const A=this._elementRef.nativeElement;return this._isNativeSelect&&(A.multiple||A.size>1)}}return C.\u0275fac=function(A){return new(A||C)(g.Y36(g.SBq),g.Y36(c.t4),g.Y36(a.a5,10),g.Y36(a.F,8),g.Y36(a.sg,8),g.Y36(u.rD),g.Y36(_,10),g.Y36(d.Lq),g.Y36(g.R0b),g.Y36(v.G_,8))},C.\u0275dir=g.lG2({type:C,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(A,I){1&A&&g.NdJ("focus",function(){return I._focusChanged(!0)})("blur",function(){return I._focusChanged(!1)})("input",function(){return I._onInput()}),2&A&&(g.Ikx("disabled",I.disabled)("required",I.required),g.uIk("id",I.id)("data-placeholder",I.placeholder)("name",I.name||null)("readonly",I.readonly&&!I._isNativeSelect||null)("aria-invalid",I.empty&&I.required?null:I.errorState)("aria-required",I.required),g.ekj("mat-input-server",I._isServer)("mat-native-select-inline",I._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[g._Bn([{provide:v.Eo,useExisting:C}]),g.qOj,g.TTD]}),C})(),s=(()=>{class C{}return C.\u0275fac=function(A){return new(A||C)},C.\u0275mod=g.oAB({type:C}),C.\u0275inj=g.cJS({providers:[u.rD],imports:[[d.Ky,v.lN,u.BQ],d.Ky,v.lN]}),C})()},6538:(ot,pe,r)=>{"use strict";r.d(pe,{CP:()=>Se,OP:()=>se,Tx:()=>kt,VK:()=>De,p6:()=>Xt});var o=r(5664),c=r(3191),g=r(1159),a=r(5e3),u=r(7579),v=r(727),p=r(6451),d=r(9646),h=r(3101),_=r(8675),e=r(3900),E=r(5698),f=r(2722),y=r(9300),s=r(4326),C=r(1777),b=r(7429),A=r(9808),I=r(508),D=r(1314),O=r(925),S=r(226),x=r(9071);const L=["mat-menu-item",""];function R(qe,me){1&qe&&(a.O4$(),a.TgZ(0,"svg",2),a._UZ(1,"polygon",3),a.qZA())}const G=["*"];function k(qe,me){if(1&qe){const ce=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(we){return a.CHM(ce),a.oxw()._handleKeydown(we)})("click",function(){return a.CHM(ce),a.oxw().closed.emit("click")})("@transformMenu.start",function(we){return a.CHM(ce),a.oxw()._onAnimationStart(we)})("@transformMenu.done",function(we){return a.CHM(ce),a.oxw()._onAnimationDone(we)}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&qe){const ce=a.oxw();a.Q6J("id",ce.panelId)("ngClass",ce._classList)("@transformMenu",ce._panelAnimationState),a.uIk("aria-label",ce.ariaLabel||null)("aria-labelledby",ce.ariaLabelledby||null)("aria-describedby",ce.ariaDescribedby||null)}}const V={transformMenu:(0,C.X$)("transformMenu",[(0,C.SB)("void",(0,C.oB)({opacity:0,transform:"scale(0.8)"})),(0,C.eR)("void => enter",(0,C.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,C.oB)({opacity:1,transform:"scale(1)"}))),(0,C.eR)("* => void",(0,C.jt)("100ms 25ms linear",(0,C.oB)({opacity:0})))]),fadeInItems:(0,C.X$)("fadeInItems",[(0,C.SB)("showing",(0,C.oB)({opacity:1})),(0,C.eR)("void => *",[(0,C.oB)({opacity:0}),(0,C.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},q=new a.OlP("MatMenuContent"),ge=new a.OlP("MAT_MENU_PANEL"),Je=(0,I.Kr)((0,I.Id)(class{}));let se=(()=>{class qe extends Je{constructor(ce,Y,we,be,Me){var ze;super(),this._elementRef=ce,this._document=Y,this._focusMonitor=we,this._parentMenu=be,this._changeDetectorRef=Me,this.role="menuitem",this._hovered=new u.x,this._focused=new u.x,this._highlighted=!1,this._triggersSubmenu=!1,null===(ze=null==be?void 0:be.addItem)||void 0===ze||ze.call(be,this)}focus(ce,Y){this._focusMonitor&&ce?this._focusMonitor.focusVia(this._getHostElement(),ce,Y):this._getHostElement().focus(Y),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ce){this.disabled&&(ce.preventDefault(),ce.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var ce;const Y=this._elementRef.nativeElement.cloneNode(!0),we=Y.querySelectorAll("mat-icon, .material-icons");for(let be=0;be<we.length;be++)we[be].remove();return(null===(ce=Y.textContent)||void 0===ce?void 0:ce.trim())||""}_setHighlighted(ce){var Y;this._highlighted=ce,null===(Y=this._changeDetectorRef)||void 0===Y||Y.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return qe.\u0275fac=function(ce){return new(ce||qe)(a.Y36(a.SBq),a.Y36(A.K0),a.Y36(o.tE),a.Y36(ge,8),a.Y36(a.sBO))},qe.\u0275cmp=a.Xpm({type:qe,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(ce,Y){1&ce&&a.NdJ("click",function(be){return Y._checkDisabled(be)})("mouseenter",function(){return Y._handleMouseEnter()}),2&ce&&(a.uIk("role",Y.role)("tabindex",Y._getTabIndex())("aria-disabled",Y.disabled.toString())("disabled",Y.disabled||null),a.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",Y._highlighted)("mat-menu-item-submenu-trigger",Y._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:L,ngContentSelectors:G,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ce,Y){1&ce&&(a.F$t(),a.Hsn(0),a._UZ(1,"div",0),a.YNc(2,R,2,0,"svg",1)),2&ce&&(a.xp6(1),a.Q6J("matRippleDisabled",Y.disableRipple||Y.disabled)("matRippleTrigger",Y._getHostElement()),a.xp6(1),a.Q6J("ngIf",Y._triggersSubmenu))},directives:[I.wG,A.O5],encapsulation:2,changeDetection:0}),qe})();const Re=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function pt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ht=0,It=(()=>{class qe{constructor(ce,Y,we,be){this._elementRef=ce,this._ngZone=Y,this._defaultOptions=we,this._changeDetectorRef=be,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new a.n_E,this._tabSubscription=v.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new u.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+ht++}get xPosition(){return this._xPosition}set xPosition(ce){this._xPosition=ce,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ce){this._yPosition=ce,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(ce){this._overlapTrigger=(0,c.Ig)(ce)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ce){this._hasBackdrop=(0,c.Ig)(ce)}set panelClass(ce){const Y=this._previousPanelClass;Y&&Y.length&&Y.split(" ").forEach(we=>{this._classList[we]=!1}),this._previousPanelClass=ce,ce&&ce.length&&(ce.split(" ").forEach(we=>{this._classList[we]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(ce){this.panelClass=ce}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new o.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,_.O)(this._directDescendantItems),(0,e.w)(ce=>(0,p.T)(...ce.map(Y=>Y._focused)))).subscribe(ce=>this._keyManager.updateActiveItem(ce)),this._directDescendantItems.changes.subscribe(ce=>{var Y;const we=this._keyManager;if("enter"===this._panelAnimationState&&(null===(Y=we.activeItem)||void 0===Y?void 0:Y._hasFocus())){const be=ce.toArray(),Me=Math.max(0,Math.min(be.length-1,we.activeItemIndex||0));be[Me]&&!be[Me].disabled?we.setActiveItem(Me):we.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,_.O)(this._directDescendantItems),(0,e.w)(Y=>(0,p.T)(...Y.map(we=>we._hovered))))}addItem(ce){}removeItem(ce){}_handleKeydown(ce){const Y=ce.keyCode,we=this._keyManager;switch(Y){case g.hY:(0,g.Vb)(ce)||(ce.preventDefault(),this.closed.emit("keydown"));break;case g.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case g.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(Y===g.LH||Y===g.JH)&&we.setFocusOrigin("keyboard"),void we.onKeydown(ce)}ce.stopPropagation()}focusFirstItem(ce="program"){this.lazyContent?this._ngZone.onStable.pipe((0,E.q)(1)).subscribe(()=>this._focusFirstItem(ce)):this._focusFirstItem(ce)}_focusFirstItem(ce){const Y=this._keyManager;if(Y.setFocusOrigin(ce).setFirstItemActive(),!Y.activeItem&&this._directDescendantItems.length){let we=this._directDescendantItems.first._getHostElement().parentElement;for(;we;){if("menu"===we.getAttribute("role")){we.focus();break}we=we.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ce){const Y=Math.min(this._baseElevation+ce,24),we=`${this._elevationPrefix}${Y}`,be=Object.keys(this._classList).find(Me=>Me.startsWith(this._elevationPrefix));(!be||be===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[we]=!0,this._previousElevation=we)}setPositionClasses(ce=this.xPosition,Y=this.yPosition){var we;const be=this._classList;be["mat-menu-before"]="before"===ce,be["mat-menu-after"]="after"===ce,be["mat-menu-above"]="above"===Y,be["mat-menu-below"]="below"===Y,null===(we=this._changeDetectorRef)||void 0===we||we.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ce){this._animationDone.next(ce),this._isAnimating=!1}_onAnimationStart(ce){this._isAnimating=!0,"enter"===ce.toState&&0===this._keyManager.activeItemIndex&&(ce.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,_.O)(this._allItems)).subscribe(ce=>{this._directDescendantItems.reset(ce.filter(Y=>Y._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return qe.\u0275fac=function(ce){return new(ce||qe)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Re),a.Y36(a.sBO))},qe.\u0275dir=a.lG2({type:qe,contentQueries:function(ce,Y,we){if(1&ce&&(a.Suo(we,q,5),a.Suo(we,se,5),a.Suo(we,se,4)),2&ce){let be;a.iGM(be=a.CRH())&&(Y.lazyContent=be.first),a.iGM(be=a.CRH())&&(Y._allItems=be),a.iGM(be=a.CRH())&&(Y.items=be)}},viewQuery:function(ce,Y){if(1&ce&&a.Gf(a.Rgc,5),2&ce){let we;a.iGM(we=a.CRH())&&(Y.templateRef=we.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),qe})(),De=(()=>{class qe extends It{constructor(ce,Y,we,be){super(ce,Y,we,be),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return qe.\u0275fac=function(ce){return new(ce||qe)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Re),a.Y36(a.sBO))},qe.\u0275cmp=a.Xpm({type:qe,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(ce,Y){2&ce&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:ge,useExisting:qe}]),a.qOj],ngContentSelectors:G,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(ce,Y){1&ce&&(a.F$t(),a.YNc(0,k,3,6,"ng-template"))},directives:[A.mk],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[V.transformMenu,V.fadeInItems]},changeDetection:0}),qe})();const Se=new a.OlP("mat-menu-scroll-strategy"),lt={provide:Se,deps:[D.aV],useFactory:function Ae(qe){return()=>qe.scrollStrategies.reposition()}},Rt=(0,O.i$)({passive:!0});let Gt=(()=>{class qe{constructor(ce,Y,we,be,Me,ze,mt,vt,Lt){this._overlay=ce,this._element=Y,this._viewContainerRef=we,this._menuItemInstance=ze,this._dir=mt,this._focusMonitor=vt,this._ngZone=Lt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=v.w0.EMPTY,this._hoverSubscription=v.w0.EMPTY,this._menuCloseSubscription=v.w0.EMPTY,this._handleTouchStart=Bt=>{(0,o.yG)(Bt)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=be,this._parentMaterialMenu=Me instanceof It?Me:void 0,Y.nativeElement.addEventListener("touchstart",this._handleTouchStart,Rt),ze&&(ze._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ce){this.menu=ce}get menu(){return this._menu}set menu(ce){ce!==this._menu&&(this._menu=ce,this._menuCloseSubscription.unsubscribe(),ce&&(this._menuCloseSubscription=ce.close.subscribe(Y=>{this._destroyMenu(Y),("click"===Y||"tab"===Y)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(Y)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Rt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const ce=this._createOverlay(),Y=ce.getConfig(),we=Y.positionStrategy;this._setPosition(we),Y.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,ce.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof It&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe((0,f.R)(this.menu.close)).subscribe(()=>{we.withLockedPosition(!1).reapplyLastPosition(),we.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(ce,Y){this._focusMonitor&&ce?this._focusMonitor.focusVia(this._element,ce,Y):this._element.nativeElement.focus(Y)}updatePosition(){var ce;null===(ce=this._overlayRef)||void 0===ce||ce.updatePosition()}_destroyMenu(ce){if(!this._overlayRef||!this.menuOpen)return;const Y=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ce||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,Y instanceof It?(Y._resetAnimation(),Y.lazyContent?Y._animationDone.pipe((0,y.h)(we=>"void"===we.toState),(0,E.q)(1),(0,f.R)(Y.lazyContent._attached)).subscribe({next:()=>Y.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),Y.lazyContent&&Y.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let ce=0,Y=this.menu.parentMenu;for(;Y;)ce++,Y=Y.parentMenu;this.menu.setElevation(ce)}}_setIsMenuOpen(ce){this._menuOpen=ce,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ce)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const ce=this._getOverlayConfig();this._subscribeToPositions(ce.positionStrategy),this._overlayRef=this._overlay.create(ce),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new D.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ce){this.menu.setPositionClasses&&ce.positionChanges.subscribe(Y=>{const we="start"===Y.connectionPair.overlayX?"after":"before",be="top"===Y.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(we,be)):this.menu.setPositionClasses(we,be)})}_setPosition(ce){let[Y,we]="before"===this.menu.xPosition?["end","start"]:["start","end"],[be,Me]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[ze,mt]=[be,Me],[vt,Lt]=[Y,we],Bt=0;this.triggersSubmenu()?(Lt=Y="before"===this.menu.xPosition?"start":"end",we=vt="end"===Y?"start":"end",Bt="bottom"===be?8:-8):this.menu.overlapTrigger||(ze="top"===be?"bottom":"top",mt="top"===Me?"bottom":"top"),ce.withPositions([{originX:Y,originY:ze,overlayX:vt,overlayY:be,offsetY:Bt},{originX:we,originY:ze,overlayX:Lt,overlayY:be,offsetY:Bt},{originX:Y,originY:mt,overlayX:vt,overlayY:Me,offsetY:-Bt},{originX:we,originY:mt,overlayX:Lt,overlayY:Me,offsetY:-Bt}])}_menuClosingActions(){const ce=this._overlayRef.backdropClick(),Y=this._overlayRef.detachments(),we=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,d.of)(),be=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,y.h)(Me=>Me!==this._menuItemInstance),(0,y.h)(()=>this._menuOpen)):(0,d.of)();return(0,p.T)(ce,we,be,Y)}_handleMousedown(ce){(0,o.X6)(ce)||(this._openedBy=0===ce.button?"mouse":void 0,this.triggersSubmenu()&&ce.preventDefault())}_handleKeydown(ce){const Y=ce.keyCode;(Y===g.K5||Y===g.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(Y===g.SV&&"ltr"===this.dir||Y===g.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ce){this.triggersSubmenu()?(ce.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,y.h)(ce=>ce===this._menuItemInstance&&!ce.disabled),(0,s.g)(0,h.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof It&&this.menu._isAnimating?this.menu._animationDone.pipe((0,E.q)(1),(0,s.g)(0,h.E),(0,f.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new b.UE(this.menu.templateRef,this._viewContainerRef)),this._portal}}return qe.\u0275fac=function(ce){return new(ce||qe)(a.Y36(D.aV),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(Se),a.Y36(ge,8),a.Y36(se,10),a.Y36(S.Is,8),a.Y36(o.tE),a.Y36(a.R0b))},qe.\u0275dir=a.lG2({type:qe,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(ce,Y){1&ce&&a.NdJ("click",function(be){return Y._handleClick(be)})("mousedown",function(be){return Y._handleMousedown(be)})("keydown",function(be){return Y._handleKeydown(be)}),2&ce&&a.uIk("aria-expanded",Y.menuOpen||null)("aria-controls",Y.menuOpen?Y.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),qe})(),Xt=(()=>{class qe extends Gt{}return qe.\u0275fac=function(){let me;return function(Y){return(me||(me=a.n5z(qe)))(Y||qe)}}(),qe.\u0275dir=a.lG2({type:qe,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]}),qe})(),kt=(()=>{class qe{}return qe.\u0275fac=function(ce){return new(ce||qe)},qe.\u0275mod=a.oAB({type:qe}),qe.\u0275inj=a.cJS({providers:[lt],imports:[[A.ez,I.BQ,I.si,D.U8],x.ZD,I.BQ]}),qe})()},773:(ot,pe,r)=>{"use strict";r.d(pe,{Cq:()=>A,Ou:()=>b});var o=r(3191),c=r(925),g=r(9808),a=r(5e3),u=r(508),v=r(6360),p=r(727),d=r(9071);function h(D,O){if(1&D&&(a.O4$(),a._UZ(0,"circle",4)),2&D){const S=a.oxw(),x=a.MAs(1);a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+S._spinnerAnimationLabel)("stroke-dashoffset",S._getStrokeDashOffset(),"px")("stroke-dasharray",S._getStrokeCircumference(),"px")("stroke-width",S._getCircleStrokeWidth(),"%")("transform-origin",S._getCircleTransformOrigin(x)),a.uIk("r",S._getCircleRadius())}}function _(D,O){if(1&D&&(a.O4$(),a._UZ(0,"circle",4)),2&D){const S=a.oxw(),x=a.MAs(1);a.Udp("stroke-dashoffset",S._getStrokeDashOffset(),"px")("stroke-dasharray",S._getStrokeCircumference(),"px")("stroke-width",S._getCircleStrokeWidth(),"%")("transform-origin",S._getCircleTransformOrigin(x)),a.uIk("r",S._getCircleRadius())}}const f=(0,u.pj)(class{constructor(D){this._elementRef=D}},"primary"),y=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function s(){return{diameter:100}}});class b extends f{constructor(O,S,x,L,R,G,k,V){super(O),this._document=x,this._diameter=100,this._value=0,this._resizeSubscription=p.w0.EMPTY,this.mode="determinate";const ne=b._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),ne.has(x.head)||ne.set(x.head,new Set([100])),this._noopAnimations="NoopAnimations"===L&&!!R&&!R._forceAnimations,"mat-spinner"===O.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),R&&(R.diameter&&(this.diameter=R.diameter),R.strokeWidth&&(this.strokeWidth=R.strokeWidth)),S.isBrowser&&S.SAFARI&&k&&G&&V&&(this._resizeSubscription=k.change(150).subscribe(()=>{"indeterminate"===this.mode&&V.run(()=>G.markForCheck())}))}get diameter(){return this._diameter}set diameter(O){this._diameter=(0,o.su)(O),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(O){this._strokeWidth=(0,o.su)(O)}get value(){return"determinate"===this.mode?this._value:0}set value(O){this._value=Math.max(0,Math.min(100,(0,o.su)(O)))}ngOnInit(){const O=this._elementRef.nativeElement;this._styleRoot=(0,c.kV)(O)||this._document.head,this._attachStyleNode(),O.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const O=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${O} ${O}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(O){var S;const x=50*(null!==(S=O.currentScale)&&void 0!==S?S:1);return`${x}% ${x}%`}_attachStyleNode(){const O=this._styleRoot,S=this._diameter,x=b._diameters;let L=x.get(O);if(!L||!L.has(S)){const R=this._document.createElement("style");R.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),R.textContent=this._getAnimationText(),O.appendChild(R),L||(L=new Set,x.set(O,L)),L.add(S)}}_getAnimationText(){const O=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*O).replace(/END_VALUE/g,""+.2*O).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}b._diameters=new WeakMap,b.\u0275fac=function(O){return new(O||b)(a.Y36(a.SBq),a.Y36(c.t4),a.Y36(g.K0,8),a.Y36(v.Qb,8),a.Y36(y),a.Y36(a.sBO),a.Y36(d.rL),a.Y36(a.R0b))},b.\u0275cmp=a.Xpm({type:b,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(O,S){2&O&&(a.uIk("aria-valuemin","determinate"===S.mode?0:null)("aria-valuemax","determinate"===S.mode?100:null)("aria-valuenow","determinate"===S.mode?S.value:null)("mode",S.mode),a.Udp("width",S.diameter,"px")("height",S.diameter,"px"),a.ekj("_mat-animation-noopable",S._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(O,S){1&O&&(a.O4$(),a.TgZ(0,"svg",0,1),a.YNc(2,h,1,11,"circle",2),a.YNc(3,_,1,9,"circle",3),a.qZA()),2&O&&(a.Udp("width",S.diameter,"px")("height",S.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===S.mode),a.uIk("viewBox",S._getViewBox()),a.xp6(2),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},directives:[g.RF,g.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let A=(()=>{class D{}return D.\u0275fac=function(S){return new(S||D)},D.\u0275mod=a.oAB({type:D}),D.\u0275inj=a.cJS({imports:[[u.BQ,g.ez],u.BQ]}),D})()},9814:(ot,pe,r)=>{"use strict";r.d(pe,{Fk:()=>x,U0:()=>S,VQ:()=>A});var o=r(5e3),c=r(508),g=r(3191),a=r(3075),u=r(6360),v=r(5664),p=r(449);const d=["input"],h=function(L){return{enterDuration:L}},_=["*"],e=new o.OlP("mat-radio-default-options",{providedIn:"root",factory:function E(){return{color:"accent"}}});let f=0;const y={provide:a.JU,useExisting:(0,o.Gpc)(()=>A),multi:!0};class s{constructor(R,G){this.source=R,this.value=G}}const C=new o.OlP("MatRadioGroup");let b=(()=>{class L{constructor(G){this._changeDetector=G,this._value=null,this._name="mat-radio-group-"+f++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new o.vpe}get name(){return this._name}set name(G){this._name=G,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(G){this._labelPosition="before"===G?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(G){this._value!==G&&(this._value=G,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(G){this._selected=G,this.value=G?G.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(G){this._disabled=(0,g.Ig)(G),this._markRadiosForCheck()}get required(){return this._required}set required(G){this._required=(0,g.Ig)(G),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(G=>{G.name=this.name,G._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(k=>{k.checked=this.value===k.value,k.checked&&(this._selected=k)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new s(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(G=>G._markForCheck())}writeValue(G){this.value=G,this._changeDetector.markForCheck()}registerOnChange(G){this._controlValueAccessorChangeFn=G}registerOnTouched(G){this.onTouched=G}setDisabledState(G){this.disabled=G,this._changeDetector.markForCheck()}}return L.\u0275fac=function(G){return new(G||L)(o.Y36(o.sBO))},L.\u0275dir=o.lG2({type:L,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),L})(),A=(()=>{class L extends b{}return L.\u0275fac=function(){let R;return function(k){return(R||(R=o.n5z(L)))(k||L)}}(),L.\u0275dir=o.lG2({type:L,selectors:[["mat-radio-group"]],contentQueries:function(G,k,V){if(1&G&&o.Suo(V,S,5),2&G){let ne;o.iGM(ne=o.CRH())&&(k._radios=ne)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[o._Bn([y,{provide:C,useExisting:L}]),o.qOj]}),L})();class I{constructor(R){this._elementRef=R}}const D=(0,c.Kr)((0,c.sb)(I));let O=(()=>{class L extends D{constructor(G,k,V,ne,$,q,X,de){super(k),this._changeDetector=V,this._focusMonitor=ne,this._radioDispatcher=$,this._providerOverride=X,this._uniqueId="mat-radio-"+ ++f,this.id=this._uniqueId,this.change=new o.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=G,this._noopAnimations="NoopAnimations"===q,de&&(this.tabIndex=(0,g.su)(de,0)),this._removeUniqueSelectionListener=$.listen((fe,We)=>{fe!==this.id&&We===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(G){const k=(0,g.Ig)(G);this._checked!==k&&(this._checked=k,k&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!k&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),k&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(G){this._value!==G&&(this._value=G,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===G),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(G){this._labelPosition=G}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(G){this._setDisabled((0,g.Ig)(G))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(G){this._required=(0,g.Ig)(G)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(G){this._color=G}get inputId(){return`${this.id||this._uniqueId}-input`}focus(G,k){k?this._focusMonitor.focusVia(this._inputElement,k,G):this._inputElement.nativeElement.focus(G)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(G=>{!G&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new s(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(G){G.stopPropagation()}_onInputInteraction(G){if(G.stopPropagation(),!this.checked&&!this.disabled){const k=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),k&&this.radioGroup._emitChangeEvent())}}_setDisabled(G){this._disabled!==G&&(this._disabled=G,this._changeDetector.markForCheck())}}return L.\u0275fac=function(G){o.$Z()},L.\u0275dir=o.lG2({type:L,viewQuery:function(G,k){if(1&G&&o.Gf(d,5),2&G){let V;o.iGM(V=o.CRH())&&(k._inputElement=V.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[o.qOj]}),L})(),S=(()=>{class L extends O{constructor(G,k,V,ne,$,q,X,de){super(G,k,V,ne,$,q,X,de)}}return L.\u0275fac=function(G){return new(G||L)(o.Y36(C,8),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(v.tE),o.Y36(p.A8),o.Y36(u.Qb,8),o.Y36(e,8),o.$8M("tabindex"))},L.\u0275cmp=o.Xpm({type:L,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(G,k){1&G&&o.NdJ("focus",function(){return k._inputElement.nativeElement.focus()}),2&G&&(o.uIk("tabindex",null)("id",k.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),o.ekj("mat-radio-checked",k.checked)("mat-radio-disabled",k.disabled)("_mat-animation-noopable",k._noopAnimations)("mat-primary","primary"===k.color)("mat-accent","accent"===k.color)("mat-warn","warn"===k.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[o.qOj],ngContentSelectors:_,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(G,k){if(1&G&&(o.F$t(),o.TgZ(0,"label",0,1)(2,"span",2),o._UZ(3,"span",3)(4,"span",4),o.TgZ(5,"input",5,6),o.NdJ("change",function(ne){return k._onInputInteraction(ne)})("click",function(ne){return k._onInputClick(ne)}),o.qZA(),o.TgZ(7,"span",7),o._UZ(8,"span",8),o.qZA()(),o.TgZ(9,"span",9)(10,"span",10),o._uU(11,"\xa0"),o.qZA(),o.Hsn(12),o.qZA()()),2&G){const V=o.MAs(1);o.uIk("for",k.inputId),o.xp6(5),o.Q6J("id",k.inputId)("checked",k.checked)("disabled",k.disabled)("tabIndex",k.tabIndex)("required",k.required),o.uIk("name",k.name)("value",k.value)("aria-label",k.ariaLabel)("aria-labelledby",k.ariaLabelledby)("aria-describedby",k.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",V)("matRippleDisabled",k._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",o.VKq(18,h,k._noopAnimations?0:150)),o.xp6(2),o.ekj("mat-radio-label-before","before"==k.labelPosition)}},directives:[c.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),L})(),x=(()=>{class L{}return L.\u0275fac=function(G){return new(G||L)},L.\u0275mod=o.oAB({type:L}),L.\u0275inj=o.cJS({imports:[[c.si,c.BQ],c.BQ]}),L})()},4107:(ot,pe,r)=>{"use strict";r.d(pe,{LD:()=>qe,gD:()=>kt});var o=r(1314),c=r(9808),g=r(5e3),a=r(508),u=r(7322),v=r(9071),p=r(5664),d=r(3191),h=r(449),_=r(1159),e=r(3075),E=r(7579),f=r(9770),y=r(6451),s=r(8675),C=r(3900),b=r(5698),A=r(9300),I=r(4004),D=r(1884),O=r(2722),S=r(1777),x=r(226);const L=["trigger"],R=["panel"];function G(me,ce){if(1&me&&(g.TgZ(0,"span",8),g._uU(1),g.qZA()),2&me){const Y=g.oxw();g.xp6(1),g.Oqu(Y.placeholder)}}function k(me,ce){if(1&me&&(g.TgZ(0,"span",12),g._uU(1),g.qZA()),2&me){const Y=g.oxw(2);g.xp6(1),g.Oqu(Y.triggerValue)}}function V(me,ce){1&me&&g.Hsn(0,0,["*ngSwitchCase","true"])}function ne(me,ce){if(1&me&&(g.TgZ(0,"span",9),g.YNc(1,k,2,1,"span",10),g.YNc(2,V,1,0,"ng-content",11),g.qZA()),2&me){const Y=g.oxw();g.Q6J("ngSwitch",!!Y.customTrigger),g.xp6(2),g.Q6J("ngSwitchCase",!0)}}function $(me,ce){if(1&me){const Y=g.EpF();g.TgZ(0,"div",13)(1,"div",14,15),g.NdJ("@transformPanel.done",function(be){return g.CHM(Y),g.oxw()._panelDoneAnimatingStream.next(be.toState)})("keydown",function(be){return g.CHM(Y),g.oxw()._handleKeydown(be)}),g.Hsn(3,1),g.qZA()()}if(2&me){const Y=g.oxw();g.Q6J("@transformPanelWrap",void 0),g.xp6(1),g.Gre("mat-select-panel ",Y._getPanelTheme(),""),g.Udp("transform-origin",Y._transformOrigin)("font-size",Y._triggerFontSize,"px"),g.Q6J("ngClass",Y.panelClass)("@transformPanel",Y.multiple?"showing-multiple":"showing"),g.uIk("id",Y.id+"-panel")("aria-multiselectable",Y.multiple)("aria-label",Y.ariaLabel||null)("aria-labelledby",Y._getPanelAriaLabelledby())}}const q=[[["mat-select-trigger"]],"*"],X=["mat-select-trigger","*"],de={transformPanelWrap:(0,S.X$)("transformPanelWrap",[(0,S.eR)("* => void",(0,S.IO)("@transformPanel",[(0,S.pV)()],{optional:!0}))]),transformPanel:(0,S.X$)("transformPanel",[(0,S.SB)("void",(0,S.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,S.SB)("showing",(0,S.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,S.SB)("showing-multiple",(0,S.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,S.eR)("void => *",(0,S.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,S.eR)("* => void",(0,S.jt)("100ms 25ms linear",(0,S.oB)({opacity:0})))])};let dt=0;const It=new g.OlP("mat-select-scroll-strategy"),Se=new g.OlP("MAT_SELECT_CONFIG"),Ae={provide:It,deps:[o.aV],useFactory:function De(me){return()=>me.scrollStrategies.reposition()}};class lt{constructor(ce,Y){this.source=ce,this.value=Y}}const Ze=(0,a.Kr)((0,a.sb)((0,a.Id)((0,a.FD)(class{constructor(me,ce,Y,we,be){this._elementRef=me,this._defaultErrorStateMatcher=ce,this._parentForm=Y,this._parentFormGroup=we,this.ngControl=be}})))),Rt=new g.OlP("MatSelectTrigger");let Xt=(()=>{class me extends Ze{constructor(Y,we,be,Me,ze,mt,vt,Lt,Bt,an,Kt,gt,xt,Nt){var Ke,Et,et;super(ze,Me,vt,Lt,an),this._viewportRuler=Y,this._changeDetectorRef=we,this._ngZone=be,this._dir=mt,this._parentFormField=Bt,this._liveAnnouncer=xt,this._defaultOptions=Nt,this._panelOpen=!1,this._compareWith=(nt,Be)=>nt===Be,this._uid="mat-select-"+dt++,this._triggerAriaLabelledBy=null,this._destroy=new E.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+dt++,this._panelDoneAnimatingStream=new E.x,this._overlayPanelClass=(null===(Ke=this._defaultOptions)||void 0===Ke?void 0:Ke.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(et=null===(Et=this._defaultOptions)||void 0===Et?void 0:Et.disableOptionCentering)&&void 0!==et&&et,this.ariaLabel="",this.optionSelectionChanges=(0,f.P)(()=>{const nt=this.options;return nt?nt.changes.pipe((0,s.O)(nt),(0,C.w)(()=>(0,y.T)(...nt.map(Be=>Be.onSelectionChange)))):this._ngZone.onStable.pipe((0,b.q)(1),(0,C.w)(()=>this.optionSelectionChanges))}),this.openedChange=new g.vpe,this._openedStream=this.openedChange.pipe((0,A.h)(nt=>nt),(0,I.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,A.h)(nt=>!nt),(0,I.U)(()=>{})),this.selectionChange=new g.vpe,this.valueChange=new g.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Nt?void 0:Nt.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Nt.typeaheadDebounceInterval),this._scrollStrategyFactory=gt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Kt)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(Y){this._placeholder=Y,this.stateChanges.next()}get required(){var Y,we,be,Me;return null!==(Me=null!==(Y=this._required)&&void 0!==Y?Y:null===(be=null===(we=this.ngControl)||void 0===we?void 0:we.control)||void 0===be?void 0:be.hasValidator(e.kI.required))&&void 0!==Me&&Me}set required(Y){this._required=(0,d.Ig)(Y),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(Y){this._multiple=(0,d.Ig)(Y)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(Y){this._disableOptionCentering=(0,d.Ig)(Y)}get compareWith(){return this._compareWith}set compareWith(Y){this._compareWith=Y,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Y){(Y!==this._value||this._multiple&&Array.isArray(Y))&&(this.options&&this._setSelectionByValue(Y),this._value=Y)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(Y){this._typeaheadDebounceInterval=(0,d.su)(Y)}get id(){return this._id}set id(Y){this._id=Y||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new h.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,D.x)(),(0,O.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,O.R)(this._destroy)).subscribe(Y=>{Y.added.forEach(we=>we.select()),Y.removed.forEach(we=>we.deselect())}),this.options.changes.pipe((0,s.O)(null),(0,O.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const Y=this._getTriggerAriaLabelledby(),we=this.ngControl;if(Y!==this._triggerAriaLabelledBy){const be=this._elementRef.nativeElement;this._triggerAriaLabelledBy=Y,Y?be.setAttribute("aria-labelledby",Y):be.removeAttribute("aria-labelledby")}we&&(this._previousControl!==we.control&&(void 0!==this._previousControl&&null!==we.disabled&&we.disabled!==this.disabled&&(this.disabled=we.disabled),this._previousControl=we.control),this.updateErrorState())}ngOnChanges(Y){Y.disabled&&this.stateChanges.next(),Y.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(Y){this.value=Y}registerOnChange(Y){this._onChange=Y}registerOnTouched(Y){this._onTouched=Y}setDisabledState(Y){this.disabled=Y,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var Y,we;return this.multiple?(null===(Y=this._selectionModel)||void 0===Y?void 0:Y.selected)||[]:null===(we=this._selectionModel)||void 0===we?void 0:we.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const Y=this._selectionModel.selected.map(we=>we.viewValue);return this._isRtl()&&Y.reverse(),Y.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(Y){this.disabled||(this.panelOpen?this._handleOpenKeydown(Y):this._handleClosedKeydown(Y))}_handleClosedKeydown(Y){const we=Y.keyCode,be=we===_.JH||we===_.LH||we===_.oh||we===_.SV,Me=we===_.K5||we===_.L_,ze=this._keyManager;if(!ze.isTyping()&&Me&&!(0,_.Vb)(Y)||(this.multiple||Y.altKey)&&be)Y.preventDefault(),this.open();else if(!this.multiple){const mt=this.selected;ze.onKeydown(Y);const vt=this.selected;vt&&mt!==vt&&this._liveAnnouncer.announce(vt.viewValue,1e4)}}_handleOpenKeydown(Y){const we=this._keyManager,be=Y.keyCode,Me=be===_.JH||be===_.LH,ze=we.isTyping();if(Me&&Y.altKey)Y.preventDefault(),this.close();else if(ze||be!==_.K5&&be!==_.L_||!we.activeItem||(0,_.Vb)(Y))if(!ze&&this._multiple&&be===_.A&&Y.ctrlKey){Y.preventDefault();const mt=this.options.some(vt=>!vt.disabled&&!vt.selected);this.options.forEach(vt=>{vt.disabled||(mt?vt.select():vt.deselect())})}else{const mt=we.activeItemIndex;we.onKeydown(Y),this._multiple&&Me&&Y.shiftKey&&we.activeItem&&we.activeItemIndex!==mt&&we.activeItem._selectViaInteraction()}else Y.preventDefault(),we.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,b.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(Y){if(this._selectionModel.selected.forEach(we=>we.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&Y)Array.isArray(Y),Y.forEach(we=>this._selectValue(we)),this._sortValues();else{const we=this._selectValue(Y);we?this._keyManager.updateActiveItem(we):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(Y){const we=this.options.find(be=>{if(this._selectionModel.isSelected(be))return!1;try{return null!=be.value&&this._compareWith(be.value,Y)}catch(Me){return!1}});return we&&this._selectionModel.select(we),we}_initKeyManager(){this._keyManager=new p.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,O.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,O.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const Y=(0,y.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,O.R)(Y)).subscribe(we=>{this._onSelect(we.source,we.isUserInput),we.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,y.T)(...this.options.map(we=>we._stateChanges)).pipe((0,O.R)(Y)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(Y,we){const be=this._selectionModel.isSelected(Y);null!=Y.value||this._multiple?(be!==Y.selected&&(Y.selected?this._selectionModel.select(Y):this._selectionModel.deselect(Y)),we&&this._keyManager.setActiveItem(Y),this.multiple&&(this._sortValues(),we&&this.focus())):(Y.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(Y.value)),be!==this._selectionModel.isSelected(Y)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const Y=this.options.toArray();this._selectionModel.sort((we,be)=>this.sortComparator?this.sortComparator(we,be,Y):Y.indexOf(we)-Y.indexOf(be)),this.stateChanges.next()}}_propagateChanges(Y){let we=null;we=this.multiple?this.selected.map(be=>be.value):this.selected?this.selected.value:Y,this._value=we,this.valueChange.emit(we),this._onChange(we),this.selectionChange.emit(this._getChangeEvent(we)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var Y;return!this._panelOpen&&!this.disabled&&(null===(Y=this.options)||void 0===Y?void 0:Y.length)>0}focus(Y){this._elementRef.nativeElement.focus(Y)}_getPanelAriaLabelledby(){var Y;if(this.ariaLabel)return null;const we=null===(Y=this._parentFormField)||void 0===Y?void 0:Y.getLabelId();return this.ariaLabelledby?(we?we+" ":"")+this.ariaLabelledby:we}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var Y;if(this.ariaLabel)return null;const we=null===(Y=this._parentFormField)||void 0===Y?void 0:Y.getLabelId();let be=(we?we+" ":"")+this._valueId;return this.ariaLabelledby&&(be+=" "+this.ariaLabelledby),be}_panelDoneAnimating(Y){this.openedChange.emit(Y)}setDescribedByIds(Y){this._ariaDescribedby=Y.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return me.\u0275fac=function(Y){return new(Y||me)(g.Y36(v.rL),g.Y36(g.sBO),g.Y36(g.R0b),g.Y36(a.rD),g.Y36(g.SBq),g.Y36(x.Is,8),g.Y36(e.F,8),g.Y36(e.sg,8),g.Y36(u.G_,8),g.Y36(e.a5,10),g.$8M("tabindex"),g.Y36(It),g.Y36(p.Kd),g.Y36(Se,8))},me.\u0275dir=g.lG2({type:me,viewQuery:function(Y,we){if(1&Y&&(g.Gf(L,5),g.Gf(R,5),g.Gf(o.pI,5)),2&Y){let be;g.iGM(be=g.CRH())&&(we.trigger=be.first),g.iGM(be=g.CRH())&&(we.panel=be.first),g.iGM(be=g.CRH())&&(we._overlayDir=be.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[g.qOj,g.TTD]}),me})(),kt=(()=>{class me extends Xt{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(Y,we,be){const Me=this._getItemHeight();return Math.min(Math.max(0,Me*Y-we+Me/2),be)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,O.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,b.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(Y){const we=(0,a.CB)(Y,this.options,this.optionGroups),be=this._getItemHeight();this.panel.nativeElement.scrollTop=0===Y&&1===we?0:(0,a.jH)((Y+we)*be,be,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(Y){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(Y)}_getChangeEvent(Y){return new lt(this,Y)}_calculateOverlayOffsetX(){const Y=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),we=this._viewportRuler.getViewportSize(),be=this._isRtl(),Me=this.multiple?56:32;let ze;if(this.multiple)ze=40;else if(this.disableOptionCentering)ze=16;else{let Lt=this._selectionModel.selected[0]||this.options.first;ze=Lt&&Lt.group?32:16}be||(ze*=-1);const mt=0-(Y.left+ze-(be?Me:0)),vt=Y.right+ze-we.width+(be?0:Me);mt>0?ze+=mt+8:vt>0&&(ze-=vt+8),this._overlayDir.offsetX=Math.round(ze),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(Y,we,be){const Me=this._getItemHeight(),ze=(Me-this._triggerRect.height)/2,mt=Math.floor(256/Me);let vt;return this.disableOptionCentering?0:(vt=0===this._scrollTop?Y*Me:this._scrollTop===be?(Y-(this._getItemCount()-mt))*Me+(Me-(this._getItemCount()*Me-256)%Me):we-Me/2,Math.round(-1*vt-ze))}_checkOverlayWithinViewport(Y){const we=this._getItemHeight(),be=this._viewportRuler.getViewportSize(),Me=this._triggerRect.top-8,ze=be.height-this._triggerRect.bottom-8,mt=Math.abs(this._offsetY),Lt=Math.min(this._getItemCount()*we,256)-mt-this._triggerRect.height;Lt>ze?this._adjustPanelUp(Lt,ze):mt>Me?this._adjustPanelDown(mt,Me,Y):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(Y,we){const be=Math.round(Y-we);this._scrollTop-=be,this._offsetY-=be,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(Y,we,be){const Me=Math.round(Y-we);if(this._scrollTop+=Me,this._offsetY+=Me,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=be)return this._scrollTop=be,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const Y=this._getItemHeight(),we=this._getItemCount(),be=Math.min(we*Y,256),ze=we*Y-be;let mt;mt=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),mt+=(0,a.CB)(mt,this.options,this.optionGroups);const vt=be/2;this._scrollTop=this._calculateOverlayScroll(mt,vt,ze),this._offsetY=this._calculateOverlayOffsetY(mt,vt,ze),this._checkOverlayWithinViewport(ze)}_getOriginBasedOnOption(){const Y=this._getItemHeight(),we=(Y-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-we+Y/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return me.\u0275fac=function(){let ce;return function(we){return(ce||(ce=g.n5z(me)))(we||me)}}(),me.\u0275cmp=g.Xpm({type:me,selectors:[["mat-select"]],contentQueries:function(Y,we,be){if(1&Y&&(g.Suo(be,Rt,5),g.Suo(be,a.ey,5),g.Suo(be,a.K7,5)),2&Y){let Me;g.iGM(Me=g.CRH())&&(we.customTrigger=Me.first),g.iGM(Me=g.CRH())&&(we.options=Me),g.iGM(Me=g.CRH())&&(we.optionGroups=Me)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(Y,we){1&Y&&g.NdJ("keydown",function(Me){return we._handleKeydown(Me)})("focus",function(){return we._onFocus()})("blur",function(){return we._onBlur()}),2&Y&&(g.uIk("id",we.id)("tabindex",we.tabIndex)("aria-controls",we.panelOpen?we.id+"-panel":null)("aria-expanded",we.panelOpen)("aria-label",we.ariaLabel||null)("aria-required",we.required.toString())("aria-disabled",we.disabled.toString())("aria-invalid",we.errorState)("aria-describedby",we._ariaDescribedby||null)("aria-activedescendant",we._getAriaActiveDescendant()),g.ekj("mat-select-disabled",we.disabled)("mat-select-invalid",we.errorState)("mat-select-required",we.required)("mat-select-empty",we.empty)("mat-select-multiple",we.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[g._Bn([{provide:u.Eo,useExisting:me},{provide:a.HF,useExisting:me}]),g.qOj],ngContentSelectors:X,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(Y,we){if(1&Y&&(g.F$t(q),g.TgZ(0,"div",0,1),g.NdJ("click",function(){return we.toggle()}),g.TgZ(3,"div",2),g.YNc(4,G,2,1,"span",3),g.YNc(5,ne,3,2,"span",4),g.qZA(),g.TgZ(6,"div",5),g._UZ(7,"div",6),g.qZA()(),g.YNc(8,$,4,14,"ng-template",7),g.NdJ("backdropClick",function(){return we.close()})("attach",function(){return we._onAttached()})("detach",function(){return we.close()})),2&Y){const be=g.MAs(1);g.uIk("aria-owns",we.panelOpen?we.id+"-panel":null),g.xp6(3),g.Q6J("ngSwitch",we.empty),g.uIk("id",we._valueId),g.xp6(1),g.Q6J("ngSwitchCase",!0),g.xp6(1),g.Q6J("ngSwitchCase",!1),g.xp6(3),g.Q6J("cdkConnectedOverlayPanelClass",we._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",we._scrollStrategy)("cdkConnectedOverlayOrigin",be)("cdkConnectedOverlayOpen",we.panelOpen)("cdkConnectedOverlayPositions",we._positions)("cdkConnectedOverlayMinWidth",null==we._triggerRect?null:we._triggerRect.width)("cdkConnectedOverlayOffsetY",we._offsetY)}},directives:[o.xu,c.RF,c.n9,c.ED,o.pI,c.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[de.transformPanelWrap,de.transformPanel]},changeDetection:0}),me})(),qe=(()=>{class me{}return me.\u0275fac=function(Y){return new(Y||me)},me.\u0275mod=g.oAB({type:me}),me.\u0275inj=g.cJS({providers:[Ae],imports:[[c.ez,o.U8,a.Ng,a.BQ],v.ZD,u.lN,a.Ng,a.BQ]}),me})()},2368:(ot,pe,r)=>{"use strict";r.d(pe,{Rr:()=>A,rP:()=>S});var o=r(7144),c=r(5e3),g=r(508),a=r(3191),u=r(3075),v=r(6360),p=r(5664);const d=["thumbContainer"],h=["toggleBar"],_=["input"],e=function(x){return{enterDuration:x}},E=["*"],f=new c.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let y=0;const s={provide:u.JU,useExisting:(0,c.Gpc)(()=>A),multi:!0};class C{constructor(L,R){this.source=L,this.checked=R}}const b=(0,g.sb)((0,g.pj)((0,g.Kr)((0,g.Id)(class{constructor(x){this._elementRef=x}}))));let A=(()=>{class x extends b{constructor(R,G,k,V,ne,$){super(R),this._focusMonitor=G,this._changeDetectorRef=k,this.defaults=ne,this._onChange=q=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++y,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new c.vpe,this.toggleChange=new c.vpe,this.tabIndex=parseInt(V)||0,this.color=this.defaultColor=ne.color||"accent",this._noopAnimations="NoopAnimations"===$}get required(){return this._required}set required(R){this._required=(0,a.Ig)(R)}get checked(){return this._checked}set checked(R){this._checked=(0,a.Ig)(R),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(R=>{R||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(R){R.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(R){R.stopPropagation()}writeValue(R){this.checked=!!R}registerOnChange(R){this._onChange=R}registerOnTouched(R){this._onTouched=R}setDisabledState(R){this.disabled=R,this._changeDetectorRef.markForCheck()}focus(R,G){G?this._focusMonitor.focusVia(this._inputElement,G,R):this._inputElement.nativeElement.focus(R)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new C(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return x.\u0275fac=function(R){return new(R||x)(c.Y36(c.SBq),c.Y36(p.tE),c.Y36(c.sBO),c.$8M("tabindex"),c.Y36(f),c.Y36(v.Qb,8))},x.\u0275cmp=c.Xpm({type:x,selectors:[["mat-slide-toggle"]],viewQuery:function(R,G){if(1&R&&(c.Gf(d,5),c.Gf(h,5),c.Gf(_,5)),2&R){let k;c.iGM(k=c.CRH())&&(G._thumbEl=k.first),c.iGM(k=c.CRH())&&(G._thumbBarEl=k.first),c.iGM(k=c.CRH())&&(G._inputElement=k.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(R,G){2&R&&(c.Ikx("id",G.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),c.ekj("mat-checked",G.checked)("mat-disabled",G.disabled)("mat-slide-toggle-label-before","before"==G.labelPosition)("_mat-animation-noopable",G._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[c._Bn([s]),c.qOj],ngContentSelectors:E,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(R,G){if(1&R&&(c.F$t(),c.TgZ(0,"label",0,1)(2,"span",2,3)(4,"input",4,5),c.NdJ("change",function(V){return G._onChangeEvent(V)})("click",function(V){return G._onInputClick(V)}),c.qZA(),c.TgZ(6,"span",6,7),c._UZ(8,"span",8),c.TgZ(9,"span",9),c._UZ(10,"span",10),c.qZA()()(),c.TgZ(11,"span",11,12),c.NdJ("cdkObserveContent",function(){return G._onLabelTextChange()}),c.TgZ(13,"span",13),c._uU(14,"\xa0"),c.qZA(),c.Hsn(15),c.qZA()()),2&R){const k=c.MAs(1),V=c.MAs(12);c.uIk("for",G.inputId),c.xp6(2),c.ekj("mat-slide-toggle-bar-no-side-margin",!V.textContent||!V.textContent.trim()),c.xp6(2),c.Q6J("id",G.inputId)("required",G.required)("tabIndex",G.tabIndex)("checked",G.checked)("disabled",G.disabled),c.uIk("name",G.name)("aria-checked",G.checked)("aria-label",G.ariaLabel)("aria-labelledby",G.ariaLabelledby)("aria-describedby",G.ariaDescribedby),c.xp6(5),c.Q6J("matRippleTrigger",k)("matRippleDisabled",G.disableRipple||G.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",c.VKq(18,e,G._noopAnimations?0:150))}},directives:[g.wG,o.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),x})(),O=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=c.oAB({type:x}),x.\u0275inj=c.cJS({}),x})(),S=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=c.oAB({type:x}),x.\u0275inj=c.cJS({imports:[[O,g.si,g.BQ,o.Q8],O,g.BQ]}),x})()},8029:(ot,pe,r)=>{"use strict";r.d(pe,{KP:()=>k,pH:()=>O});var o=r(9808),c=r(5e3),g=r(508),a=r(3191),u=r(1159),v=r(3075),p=r(6360),d=r(925),h=r(727),_=r(5664),e=r(226);const E=["sliderWrapper"],f=(0,d.i$)({passive:!1}),A={provide:v.JU,useExisting:(0,c.Gpc)(()=>O),multi:!0};class I{}const D=(0,g.sb)((0,g.pj)((0,g.Id)(class{constructor(V){this._elementRef=V}}),"accent"));let O=(()=>{class V extends D{constructor($,q,X,de,fe,We,Ne,dt){super($),this._focusMonitor=q,this._changeDetectorRef=X,this._dir=de,this._ngZone=We,this._animationMode=dt,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new c.vpe,this.input=new c.vpe,this.valueChange=new c.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=h.w0.EMPTY,this._pointerDown=ge=>{this.disabled||this._isSliding||!x(ge)&&0!==ge.button||this._ngZone.run(()=>{this._touchId=x(ge)?function G(V,ne){for(let $=0;$<V.touches.length;$++){const q=V.touches[$].target;if(ne===q||ne.contains(q))return V.touches[$].identifier}}(ge,this._elementRef.nativeElement):void 0;const Je=L(ge,this._touchId);if(Je){const se=this.value;this._isSliding="pointer",this._lastPointerEvent=ge,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(ge),this._focusHostElement(),this._updateValueFromPosition(Je),this._valueOnSlideStart=se,ge.cancelable&&ge.preventDefault(),se!=this.value&&this._emitInputEvent()}})},this._pointerMove=ge=>{if("pointer"===this._isSliding){const Je=L(ge,this._touchId);if(Je){ge.preventDefault();const se=this.value;this._lastPointerEvent=ge,this._updateValueFromPosition(Je),se!=this.value&&this._emitInputEvent()}}},this._pointerUp=ge=>{"pointer"===this._isSliding&&(!x(ge)||"number"!=typeof this._touchId||R(ge.changedTouches,this._touchId))&&(ge.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=Ne,this.tabIndex=parseInt(fe)||0,We.runOutsideAngular(()=>{const ge=$.nativeElement;ge.addEventListener("mousedown",this._pointerDown,f),ge.addEventListener("touchstart",this._pointerDown,f)})}get invert(){return this._invert}set invert($){this._invert=(0,a.Ig)($)}get max(){return this._max}set max($){this._max=(0,a.su)($,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min($){this._min=(0,a.su)($,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step($){this._step=(0,a.su)($,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel($){this._thumbLabel=(0,a.Ig)($)}get tickInterval(){return this._tickInterval}set tickInterval($){this._tickInterval="auto"===$?"auto":"number"==typeof $||"string"==typeof $?(0,a.su)($,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value($){if($!==this._value){let q=(0,a.su)($,0);this._roundToDecimal&&q!==this.min&&q!==this.max&&(q=parseFloat(q.toFixed(this._roundToDecimal))),this._value=q,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical($){this._vertical=(0,a.Ig)($)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus($){this._focusHostElement($)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const q=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${q})`}}_getTrackFillStyles(){const $=this.percent,X=this.vertical?`1, ${$}, 1`:`${$}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${X})`,display:0===$?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let $=100*this._tickIntervalPercent,We={backgroundSize:this.vertical?`2px ${$}%`:`${$}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${$/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const Ne=this._shouldInvertAxis();let dt;dt=this.vertical?Ne?"Bottom":"Top":Ne?"Right":"Left",We[`padding${dt}`]=`${this._getThumbGap()}px`}return We}_getThumbContainerStyles(){const $=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?$:!$)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const $=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?$:!$}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe($=>{this._isActive=!!$&&"keyboard"!==$,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const $=this._elementRef.nativeElement;$.removeEventListener("mousedown",this._pointerDown,f),$.removeEventListener("touchstart",this._pointerDown,f),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown($){if(this.disabled||(0,u.Vb)($)||this._isSliding&&"keyboard"!==this._isSliding)return;const q=this.value;switch($.keyCode){case u.Ku:this._increment(10);break;case u.VM:this._increment(-10);break;case u.uR:this.value=this.max;break;case u.Sd:this.value=this.min;break;case u.oh:this._increment("rtl"==this._getDirection()?1:-1);break;case u.LH:this._increment(1);break;case u.SV:this._increment("rtl"==this._getDirection()?-1:1);break;case u.JH:this._increment(-1);break;default:return}q!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",$.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents($){const q=this._document,X=x($),fe=X?"touchend":"mouseup";q.addEventListener(X?"touchmove":"mousemove",this._pointerMove,f),q.addEventListener(fe,this._pointerUp,f),X&&q.addEventListener("touchcancel",this._pointerUp,f);const We=this._getWindow();void 0!==We&&We&&We.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const $=this._document;$.removeEventListener("mousemove",this._pointerMove,f),$.removeEventListener("mouseup",this._pointerUp,f),$.removeEventListener("touchmove",this._pointerMove,f),$.removeEventListener("touchend",this._pointerUp,f),$.removeEventListener("touchcancel",this._pointerUp,f);const q=this._getWindow();void 0!==q&&q&&q.removeEventListener("blur",this._windowBlur)}_increment($){const q=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(q+this.step*$,this.min,this.max)}_updateValueFromPosition($){if(!this._sliderDimensions)return;let fe=this._clamp(((this.vertical?$.y:$.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(fe=1-fe),0===fe)this.value=this.min;else if(1===fe)this.value=this.max;else{const We=this._calculateValue(fe),Ne=Math.round((We-this.min)/this.step)*this.step+this.min;this.value=this._clamp(Ne,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let $;if("auto"==this.tickInterval){let q=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;$=Math.ceil(30/(q*this.step/(this.max-this.min)))*this.step/q}else $=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=S($)?$:0}_createChangeEvent($=this.value){let q=new I;return q.source=this,q.value=$,q}_calculatePercentage($){const q=(($||0)-this.min)/(this.max-this.min);return S(q)?q:0}_calculateValue($){return this.min+$*(this.max-this.min)}_clamp($,q=0,X=1){return Math.max(q,Math.min($,X))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement($){this._elementRef.nativeElement.focus($)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue($){this.value=$}registerOnChange($){this._controlValueAccessorChangeFn=$}registerOnTouched($){this.onTouched=$}setDisabledState($){this.disabled=$}}return V.\u0275fac=function($){return new($||V)(c.Y36(c.SBq),c.Y36(_.tE),c.Y36(c.sBO),c.Y36(e.Is,8),c.$8M("tabindex"),c.Y36(c.R0b),c.Y36(o.K0),c.Y36(p.Qb,8))},V.\u0275cmp=c.Xpm({type:V,selectors:[["mat-slider"]],viewQuery:function($,q){if(1&$&&c.Gf(E,5),2&$){let X;c.iGM(X=c.CRH())&&(q._sliderWrapper=X.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function($,q){1&$&&c.NdJ("focus",function(){return q._onFocus()})("blur",function(){return q._onBlur()})("keydown",function(de){return q._onKeydown(de)})("keyup",function(){return q._onKeyup()})("mouseenter",function(){return q._onMouseenter()})("selectstart",function(de){return de.preventDefault()}),2&$&&(c.Ikx("tabIndex",q.tabIndex),c.uIk("aria-disabled",q.disabled)("aria-valuemax",q.max)("aria-valuemin",q.min)("aria-valuenow",q.value)("aria-valuetext",null==q.valueText?q.displayValue:q.valueText)("aria-orientation",q.vertical?"vertical":"horizontal"),c.ekj("mat-slider-disabled",q.disabled)("mat-slider-has-ticks",q.tickInterval)("mat-slider-horizontal",!q.vertical)("mat-slider-axis-inverted",q._shouldInvertAxis())("mat-slider-invert-mouse-coords",q._shouldInvertMouseCoords())("mat-slider-sliding",q._isSliding)("mat-slider-thumb-label-showing",q.thumbLabel)("mat-slider-vertical",q.vertical)("mat-slider-min-value",q._isMinValue())("mat-slider-hide-last-tick",q.disabled||q._isMinValue()&&q._getThumbGap()&&q._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===q._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[c._Bn([A]),c.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function($,q){1&$&&(c.TgZ(0,"div",0,1)(2,"div",2),c._UZ(3,"div",3)(4,"div",4),c.qZA(),c.TgZ(5,"div",5),c._UZ(6,"div",6),c.qZA(),c.TgZ(7,"div",7),c._UZ(8,"div",8)(9,"div",9),c.TgZ(10,"div",10)(11,"span",11),c._uU(12),c.qZA()()()()),2&$&&(c.xp6(3),c.Q6J("ngStyle",q._getTrackBackgroundStyles()),c.xp6(1),c.Q6J("ngStyle",q._getTrackFillStyles()),c.xp6(1),c.Q6J("ngStyle",q._getTicksContainerStyles()),c.xp6(1),c.Q6J("ngStyle",q._getTicksStyles()),c.xp6(1),c.Q6J("ngStyle",q._getThumbContainerStyles()),c.xp6(5),c.Oqu(q.displayValue))},directives:[o.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),V})();function S(V){return!isNaN(V)&&isFinite(V)}function x(V){return"t"===V.type[0]}function L(V,ne){let $;return $=x(V)?"number"==typeof ne?R(V.touches,ne)||R(V.changedTouches,ne):V.touches[0]||V.changedTouches[0]:V,$?{x:$.clientX,y:$.clientY}:void 0}function R(V,ne){for(let $=0;$<V.length;$++)if(V[$].identifier===ne)return V[$]}let k=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=c.oAB({type:V}),V.\u0275inj=c.cJS({imports:[[o.ez,g.BQ],g.BQ]}),V})()},7261:(ot,pe,r)=>{"use strict";r.d(pe,{OX:()=>I,ZX:()=>x,qD:()=>C,ux:()=>k});var o=r(1314),c=r(7429),g=r(9808),a=r(5e3),u=r(508),v=r(7423),p=r(7579),d=r(5698),h=r(2722),_=r(1777),e=r(925),E=r(5113),f=r(5664);function y(V,ne){if(1&V){const $=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){return a.CHM($),a.oxw().action()}),a._uU(2),a.qZA()()}if(2&V){const $=a.oxw();a.xp6(2),a.Oqu($.data.action)}}function s(V,ne){}const C=new a.OlP("MatSnackBarData");class b{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const A=Math.pow(2,31)-1;class I{constructor(ne,$){this._overlayRef=$,this._afterDismissed=new p.x,this._afterOpened=new p.x,this._onAction=new p.x,this._dismissedByAction=!1,this.containerInstance=ne,this.onAction().subscribe(()=>this.dismiss()),ne._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(ne){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(ne,A))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let D=(()=>{class V{constructor($,q){this.snackBarRef=$,this.data=q}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return V.\u0275fac=function($){return new($||V)(a.Y36(I),a.Y36(C))},V.\u0275cmp=a.Xpm({type:V,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function($,q){1&$&&(a.TgZ(0,"span",0),a._uU(1),a.qZA(),a.YNc(2,y,3,1,"div",1)),2&$&&(a.xp6(1),a.Oqu(q.data.message),a.xp6(1),a.Q6J("ngIf",q.hasAction))},directives:[v.lW,g.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),V})();const O={snackBarState:(0,_.X$)("state",[(0,_.SB)("void, hidden",(0,_.oB)({transform:"scale(0.8)",opacity:0})),(0,_.SB)("visible",(0,_.oB)({transform:"scale(1)",opacity:1})),(0,_.eR)("* => visible",(0,_.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,_.eR)("* => void, * => hidden",(0,_.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,_.oB)({opacity:0})))])};let S=(()=>{class V extends c.en{constructor($,q,X,de,fe){super(),this._ngZone=$,this._elementRef=q,this._changeDetectorRef=X,this._platform=de,this.snackBarConfig=fe,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new p.x,this._onExit=new p.x,this._onEnter=new p.x,this._animationState="void",this.attachDomPortal=We=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(We)),this._live="assertive"!==fe.politeness||fe.announcementMessage?"off"===fe.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal($){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal($)}attachTemplatePortal($){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal($)}onAnimationEnd($){const{fromState:q,toState:X}=$;if(("void"===X&&"void"!==q||"hidden"===X)&&this._completeExit(),"visible"===X){const de=this._onEnter;this._ngZone.run(()=>{de.next(),de.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,d.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const $=this._elementRef.nativeElement,q=this.snackBarConfig.panelClass;q&&(Array.isArray(q)?q.forEach(X=>$.classList.add(X)):$.classList.add(q)),"center"===this.snackBarConfig.horizontalPosition&&$.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&$.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const $=this._elementRef.nativeElement.querySelector("[aria-hidden]"),q=this._elementRef.nativeElement.querySelector("[aria-live]");if($&&q){let X=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&$.contains(document.activeElement)&&(X=document.activeElement),$.removeAttribute("aria-hidden"),q.appendChild($),null==X||X.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return V.\u0275fac=function($){return new($||V)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(e.t4),a.Y36(b))},V.\u0275cmp=a.Xpm({type:V,selectors:[["snack-bar-container"]],viewQuery:function($,q){if(1&$&&a.Gf(c.Pl,7),2&$){let X;a.iGM(X=a.CRH())&&(q._portalOutlet=X.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function($,q){1&$&&a.WFA("@state.done",function(de){return q.onAnimationEnd(de)}),2&$&&a.d8E("@state",q._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function($,q){1&$&&(a.TgZ(0,"div",0),a.YNc(1,s,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&$&&(a.xp6(2),a.uIk("aria-live",q._live)("role",q._role))},directives:[c.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[O.snackBarState]}}),V})(),x=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=a.oAB({type:V}),V.\u0275inj=a.cJS({imports:[[o.U8,c.eL,g.ez,v.ot,u.BQ],u.BQ]}),V})();const L=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function R(){return new b}});let G=(()=>{class V{constructor($,q,X,de,fe,We){this._overlay=$,this._live=q,this._injector=X,this._breakpointObserver=de,this._parentSnackBar=fe,this._defaultConfig=We,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const $=this._parentSnackBar;return $?$._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef($){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=$:this._snackBarRefAtThisLevel=$}openFromComponent($,q){return this._attach($,q)}openFromTemplate($,q){return this._attach($,q)}open($,q="",X){const de=Object.assign(Object.assign({},this._defaultConfig),X);return de.data={message:$,action:q},de.announcementMessage===$&&(de.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,de)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer($,q){const de=a.zs3.create({parent:q&&q.viewContainerRef&&q.viewContainerRef.injector||this._injector,providers:[{provide:b,useValue:q}]}),fe=new c.C5(this.snackBarContainerComponent,q.viewContainerRef,de),We=$.attach(fe);return We.instance.snackBarConfig=q,We.instance}_attach($,q){const X=Object.assign(Object.assign(Object.assign({},new b),this._defaultConfig),q),de=this._createOverlay(X),fe=this._attachSnackBarContainer(de,X),We=new I(fe,de);if($ instanceof a.Rgc){const Ne=new c.UE($,null,{$implicit:X.data,snackBarRef:We});We.instance=fe.attachTemplatePortal(Ne)}else{const Ne=this._createInjector(X,We),dt=new c.C5($,void 0,Ne),ge=fe.attachComponentPortal(dt);We.instance=ge.instance}return this._breakpointObserver.observe(E.u3.HandsetPortrait).pipe((0,h.R)(de.detachments())).subscribe(Ne=>{de.overlayElement.classList.toggle(this.handsetCssClass,Ne.matches)}),X.announcementMessage&&fe._onAnnounce.subscribe(()=>{this._live.announce(X.announcementMessage,X.politeness)}),this._animateSnackBar(We,X),this._openedSnackBarRef=We,this._openedSnackBarRef}_animateSnackBar($,q){$.afterDismissed().subscribe(()=>{this._openedSnackBarRef==$&&(this._openedSnackBarRef=null),q.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{$.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):$.containerInstance.enter(),q.duration&&q.duration>0&&$.afterOpened().subscribe(()=>$._dismissAfter(q.duration))}_createOverlay($){const q=new o.X_;q.direction=$.direction;let X=this._overlay.position().global();const de="rtl"===$.direction,fe="left"===$.horizontalPosition||"start"===$.horizontalPosition&&!de||"end"===$.horizontalPosition&&de,We=!fe&&"center"!==$.horizontalPosition;return fe?X.left("0"):We?X.right("0"):X.centerHorizontally(),"top"===$.verticalPosition?X.top("0"):X.bottom("0"),q.positionStrategy=X,this._overlay.create(q)}_createInjector($,q){return a.zs3.create({parent:$&&$.viewContainerRef&&$.viewContainerRef.injector||this._injector,providers:[{provide:I,useValue:q},{provide:C,useValue:$.data}]})}}return V.\u0275fac=function($){return new($||V)(a.LFG(o.aV),a.LFG(f.Kd),a.LFG(a.zs3),a.LFG(E.Yg),a.LFG(V,12),a.LFG(L))},V.\u0275prov=a.Yz7({token:V,factory:V.\u0275fac}),V})(),k=(()=>{class V extends G{constructor($,q,X,de,fe,We){super($,q,X,de,fe,We),this.simpleSnackBarComponent=D,this.snackBarContainerComponent=S,this.handsetCssClass="mat-snack-bar-handset"}}return V.\u0275fac=function($){return new($||V)(a.LFG(o.aV),a.LFG(f.Kd),a.LFG(a.zs3),a.LFG(E.Yg),a.LFG(V,12),a.LFG(L))},V.\u0275prov=a.Yz7({token:V,factory:V.\u0275fac,providedIn:x}),V})()},3251:(ot,pe,r)=>{"use strict";r.d(pe,{Nh:()=>ae,SP:()=>Ke,uX:()=>Xt});var o=r(5664),c=r(7144),g=r(7429),a=r(9808),u=r(5e3),v=r(508),p=r(6360),d=r(5698),h=r(8675),_=r(1884),e=r(2722),E=r(7579),f=r(727),y=r(4968),s=r(9646),C=r(6451),b=r(5963),A=r(1777),I=r(226),D=r(3191),O=r(1159),S=r(925),x=r(9071);function L(K,Ee){1&K&&u.Hsn(0)}const R=["*"];function G(K,Ee){}const k=function(K){return{animationDuration:K}},V=function(K,Ee){return{value:K,params:Ee}},ne=["tabListContainer"],$=["tabList"],q=["tabListInner"],X=["nextPaginator"],de=["previousPaginator"],fe=["tabBodyWrapper"],We=["tabHeader"];function Ne(K,Ee){}function dt(K,Ee){if(1&K&&u.YNc(0,Ne,0,0,"ng-template",10),2&K){const he=u.oxw().$implicit;u.Q6J("cdkPortalOutlet",he.templateLabel)}}function ge(K,Ee){if(1&K&&u._uU(0),2&K){const he=u.oxw().$implicit;u.Oqu(he.textLabel)}}function Je(K,Ee){if(1&K){const he=u.EpF();u.TgZ(0,"div",6),u.NdJ("click",function(){const Xe=u.CHM(he),_t=Xe.$implicit,zt=Xe.index,yt=u.oxw(),at=u.MAs(1);return yt._handleClick(_t,at,zt)})("cdkFocusChange",function(Xe){const zt=u.CHM(he).index;return u.oxw()._tabFocusChanged(Xe,zt)}),u.TgZ(1,"div",7),u.YNc(2,dt,1,1,"ng-template",8),u.YNc(3,ge,1,1,"ng-template",null,9,u.W1O),u.qZA()()}if(2&K){const he=Ee.$implicit,Fe=Ee.index,Xe=u.MAs(4),_t=u.oxw();u.ekj("mat-tab-label-active",_t.selectedIndex===Fe),u.Q6J("id",_t._getTabLabelId(Fe))("ngClass",he.labelClass)("disabled",he.disabled)("matRippleDisabled",he.disabled||_t.disableRipple),u.uIk("tabIndex",_t._getTabIndex(he,Fe))("aria-posinset",Fe+1)("aria-setsize",_t._tabs.length)("aria-controls",_t._getTabContentId(Fe))("aria-selected",_t.selectedIndex===Fe)("aria-label",he.ariaLabel||null)("aria-labelledby",!he.ariaLabel&&he.ariaLabelledby?he.ariaLabelledby:null),u.xp6(2),u.Q6J("ngIf",he.templateLabel)("ngIfElse",Xe)}}function se(K,Ee){if(1&K){const he=u.EpF();u.TgZ(0,"mat-tab-body",11),u.NdJ("_onCentered",function(){return u.CHM(he),u.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(Xe){return u.CHM(he),u.oxw()._setTabBodyWrapperHeight(Xe)}),u.qZA()}if(2&K){const he=Ee.$implicit,Fe=Ee.index,Xe=u.oxw();u.ekj("mat-tab-body-active",Xe.selectedIndex===Fe),u.Q6J("id",Xe._getTabContentId(Fe))("ngClass",he.bodyClass)("content",he.content)("position",he.position)("origin",he.origin)("animationDuration",Xe.animationDuration),u.uIk("tabindex",null!=Xe.contentTabIndex&&Xe.selectedIndex===Fe?Xe.contentTabIndex:null)("aria-labelledby",Xe._getTabLabelId(Fe))}}const pt=new u.OlP("MatInkBarPositioner",{providedIn:"root",factory:function ht(){return Ee=>({left:Ee?(Ee.offsetLeft||0)+"px":"0",width:Ee?(Ee.offsetWidth||0)+"px":"0"})}});let It=(()=>{class K{constructor(he,Fe,Xe,_t){this._elementRef=he,this._ngZone=Fe,this._inkBarPositioner=Xe,this._animationMode=_t}alignToElement(he){this.show(),this._ngZone.onStable.pipe((0,d.q)(1)).subscribe(()=>{const Fe=this._inkBarPositioner(he),Xe=this._elementRef.nativeElement;Xe.style.left=Fe.left,Xe.style.width=Fe.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(pt),u.Y36(p.Qb,8))},K.\u0275dir=u.lG2({type:K,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(he,Fe){2&he&&u.ekj("_mat-animation-noopable","NoopAnimations"===Fe._animationMode)}}),K})();const De=new u.OlP("MatTabContent"),Ae=new u.OlP("MatTabLabel"),lt=new u.OlP("MAT_TAB"),Rt=(0,v.Id)(class{}),Gt=new u.OlP("MAT_TAB_GROUP");let Xt=(()=>{class K extends Rt{constructor(he,Fe){super(),this._viewContainerRef=he,this._closestTabGroup=Fe,this.textLabel="",this._contentPortal=null,this._stateChanges=new E.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(he){this._setTemplateLabelInput(he)}get content(){return this._contentPortal}ngOnChanges(he){(he.hasOwnProperty("textLabel")||he.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new g.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(he){he&&he._closestTab===this&&(this._templateLabel=he)}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.s_b),u.Y36(Gt,8))},K.\u0275cmp=u.Xpm({type:K,selectors:[["mat-tab"]],contentQueries:function(he,Fe,Xe){if(1&he&&(u.Suo(Xe,Ae,5),u.Suo(Xe,De,7,u.Rgc)),2&he){let _t;u.iGM(_t=u.CRH())&&(Fe.templateLabel=_t.first),u.iGM(_t=u.CRH())&&(Fe._explicitContent=_t.first)}},viewQuery:function(he,Fe){if(1&he&&u.Gf(u.Rgc,7),2&he){let Xe;u.iGM(Xe=u.CRH())&&(Fe._implicitContent=Xe.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[u._Bn([{provide:lt,useExisting:K}]),u.qOj,u.TTD],ngContentSelectors:R,decls:1,vars:0,template:function(he,Fe){1&he&&(u.F$t(),u.YNc(0,L,1,0,"ng-template"))},encapsulation:2}),K})();const kt={translateTab:(0,A.X$)("translateTab",[(0,A.SB)("center, void, left-origin-center, right-origin-center",(0,A.oB)({transform:"none"})),(0,A.SB)("left",(0,A.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,A.SB)("right",(0,A.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,A.eR)("* => left, * => right, left => center, right => center",(0,A.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,A.eR)("void => left-origin-center",[(0,A.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,A.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,A.eR)("void => right-origin-center",[(0,A.oB)({transform:"translate3d(100%, 0, 0)"}),(0,A.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let qe=(()=>{class K extends g.Pl{constructor(he,Fe,Xe,_t){super(he,Fe,_t),this._host=Xe,this._centeringSub=f.w0.EMPTY,this._leavingSub=f.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,h.O)(this._host._isCenterPosition(this._host._position))).subscribe(he=>{he&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36((0,u.Gpc)(()=>ce)),u.Y36(a.K0))},K.\u0275dir=u.lG2({type:K,selectors:[["","matTabBodyHost",""]],features:[u.qOj]}),K})(),me=(()=>{class K{constructor(he,Fe,Xe){this._elementRef=he,this._dir=Fe,this._dirChangeSubscription=f.w0.EMPTY,this._translateTabComplete=new E.x,this._onCentering=new u.vpe,this._beforeCentering=new u.vpe,this._afterLeavingCenter=new u.vpe,this._onCentered=new u.vpe(!0),this.animationDuration="500ms",Fe&&(this._dirChangeSubscription=Fe.change.subscribe(_t=>{this._computePositionAnimationState(_t),Xe.markForCheck()})),this._translateTabComplete.pipe((0,_.x)((_t,zt)=>_t.fromState===zt.fromState&&_t.toState===zt.toState)).subscribe(_t=>{this._isCenterPosition(_t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(_t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(he){this._positionIndex=he,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(he){const Fe=this._isCenterPosition(he.toState);this._beforeCentering.emit(Fe),Fe&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(he){return"center"==he||"left-origin-center"==he||"right-origin-center"==he}_computePositionAnimationState(he=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==he?"left":"right":this._positionIndex>0?"ltr"==he?"right":"left":"center"}_computePositionFromOrigin(he){const Fe=this._getLayoutDirection();return"ltr"==Fe&&he<=0||"rtl"==Fe&&he>0?"left-origin-center":"right-origin-center"}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.SBq),u.Y36(I.Is,8),u.Y36(u.sBO))},K.\u0275dir=u.lG2({type:K,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),K})(),ce=(()=>{class K extends me{constructor(he,Fe,Xe){super(he,Fe,Xe)}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.SBq),u.Y36(I.Is,8),u.Y36(u.sBO))},K.\u0275cmp=u.Xpm({type:K,selectors:[["mat-tab-body"]],viewQuery:function(he,Fe){if(1&he&&u.Gf(g.Pl,5),2&he){let Xe;u.iGM(Xe=u.CRH())&&(Fe._portalHost=Xe.first)}},hostAttrs:[1,"mat-tab-body"],features:[u.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(he,Fe){1&he&&(u.TgZ(0,"div",0,1),u.NdJ("@translateTab.start",function(_t){return Fe._onTranslateTabStarted(_t)})("@translateTab.done",function(_t){return Fe._translateTabComplete.next(_t)}),u.YNc(2,G,0,0,"ng-template",2),u.qZA()),2&he&&u.Q6J("@translateTab",u.WLB(3,V,Fe._position,u.VKq(1,k,Fe.animationDuration)))},directives:[qe],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[kt.translateTab]}}),K})();const Y=new u.OlP("MAT_TABS_CONFIG"),we=(0,v.Id)(class{});let be=(()=>{class K extends we{constructor(he){super(),this.elementRef=he}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.SBq))},K.\u0275dir=u.lG2({type:K,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(he,Fe){2&he&&(u.uIk("aria-disabled",!!Fe.disabled),u.ekj("mat-tab-disabled",Fe.disabled))},inputs:{disabled:"disabled"},features:[u.qOj]}),K})();const Me=(0,S.i$)({passive:!0});let Lt=(()=>{class K{constructor(he,Fe,Xe,_t,zt,yt,at){this._elementRef=he,this._changeDetectorRef=Fe,this._viewportRuler=Xe,this._dir=_t,this._ngZone=zt,this._platform=yt,this._animationMode=at,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new E.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new E.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new u.vpe,this.indexFocused=new u.vpe,zt.runOutsideAngular(()=>{(0,y.R)(he.nativeElement,"mouseleave").pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(he){he=(0,D.su)(he),this._selectedIndex!=he&&(this._selectedIndexChanged=!0,this._selectedIndex=he,this._keyManager&&this._keyManager.updateActiveItem(he))}ngAfterViewInit(){(0,y.R)(this._previousPaginator.nativeElement,"touchstart",Me).pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,y.R)(this._nextPaginator.nativeElement,"touchstart",Me).pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const he=this._dir?this._dir.change:(0,s.of)("ltr"),Fe=this._viewportRuler.change(150),Xe=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new o.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,d.q)(1)).subscribe(Xe),(0,C.T)(he,Fe,this._items.changes).pipe((0,e.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(Xe)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,e.R)(this._destroyed)).subscribe(_t=>{this.indexFocused.emit(_t),this._setTabFocus(_t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(he){if(!(0,O.Vb)(he))switch(he.keyCode){case O.K5:case O.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(he));break;default:this._keyManager.onKeydown(he)}}_onContentChanges(){const he=this._elementRef.nativeElement.textContent;he!==this._currentTextContent&&(this._currentTextContent=he||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(he){!this._isValidIndex(he)||this.focusIndex===he||!this._keyManager||this._keyManager.setActiveItem(he)}_isValidIndex(he){if(!this._items)return!0;const Fe=this._items?this._items.toArray()[he]:null;return!!Fe&&!Fe.disabled}_setTabFocus(he){if(this._showPaginationControls&&this._scrollToLabel(he),this._items&&this._items.length){this._items.toArray()[he].focus();const Fe=this._tabListContainer.nativeElement;Fe.scrollLeft="ltr"==this._getLayoutDirection()?0:Fe.scrollWidth-Fe.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const he=this.scrollDistance,Fe="ltr"===this._getLayoutDirection()?-he:he;this._tabList.nativeElement.style.transform=`translateX(${Math.round(Fe)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(he){this._scrollTo(he)}_scrollHeader(he){return this._scrollTo(this._scrollDistance+("before"==he?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(he){this._stopInterval(),this._scrollHeader(he)}_scrollToLabel(he){if(this.disablePagination)return;const Fe=this._items?this._items.toArray()[he]:null;if(!Fe)return;const Xe=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:_t,offsetWidth:zt}=Fe.elementRef.nativeElement;let yt,at;"ltr"==this._getLayoutDirection()?(yt=_t,at=yt+zt):(at=this._tabListInner.nativeElement.offsetWidth-_t,yt=at-zt);const rt=this.scrollDistance,Ct=this.scrollDistance+Xe;yt<rt?this.scrollDistance-=rt-yt+60:at>Ct&&(this.scrollDistance+=at-Ct+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const he=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;he||(this.scrollDistance=0),he!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=he}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const he=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,Fe=he?he.elementRef.nativeElement:null;Fe?this._inkBar.alignToElement(Fe):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(he,Fe){Fe&&null!=Fe.button&&0!==Fe.button||(this._stopInterval(),(0,b.H)(650,100).pipe((0,e.R)((0,C.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:Xe,distance:_t}=this._scrollHeader(he);(0===_t||_t>=Xe)&&this._stopInterval()}))}_scrollTo(he){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const Fe=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(Fe,he)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:Fe,distance:this._scrollDistance}}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(x.rL),u.Y36(I.Is,8),u.Y36(u.R0b),u.Y36(S.t4),u.Y36(p.Qb,8))},K.\u0275dir=u.lG2({type:K,inputs:{disablePagination:"disablePagination"}}),K})(),Bt=(()=>{class K extends Lt{constructor(he,Fe,Xe,_t,zt,yt,at){super(he,Fe,Xe,_t,zt,yt,at),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(he){this._disableRipple=(0,D.Ig)(he)}_itemSelected(he){he.preventDefault()}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(x.rL),u.Y36(I.Is,8),u.Y36(u.R0b),u.Y36(S.t4),u.Y36(p.Qb,8))},K.\u0275dir=u.lG2({type:K,inputs:{disableRipple:"disableRipple"},features:[u.qOj]}),K})(),an=(()=>{class K extends Bt{constructor(he,Fe,Xe,_t,zt,yt,at){super(he,Fe,Xe,_t,zt,yt,at)}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(x.rL),u.Y36(I.Is,8),u.Y36(u.R0b),u.Y36(S.t4),u.Y36(p.Qb,8))},K.\u0275cmp=u.Xpm({type:K,selectors:[["mat-tab-header"]],contentQueries:function(he,Fe,Xe){if(1&he&&u.Suo(Xe,be,4),2&he){let _t;u.iGM(_t=u.CRH())&&(Fe._items=_t)}},viewQuery:function(he,Fe){if(1&he&&(u.Gf(It,7),u.Gf(ne,7),u.Gf($,7),u.Gf(q,7),u.Gf(X,5),u.Gf(de,5)),2&he){let Xe;u.iGM(Xe=u.CRH())&&(Fe._inkBar=Xe.first),u.iGM(Xe=u.CRH())&&(Fe._tabListContainer=Xe.first),u.iGM(Xe=u.CRH())&&(Fe._tabList=Xe.first),u.iGM(Xe=u.CRH())&&(Fe._tabListInner=Xe.first),u.iGM(Xe=u.CRH())&&(Fe._nextPaginator=Xe.first),u.iGM(Xe=u.CRH())&&(Fe._previousPaginator=Xe.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(he,Fe){2&he&&u.ekj("mat-tab-header-pagination-controls-enabled",Fe._showPaginationControls)("mat-tab-header-rtl","rtl"==Fe._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[u.qOj],ngContentSelectors:R,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(he,Fe){1&he&&(u.F$t(),u.TgZ(0,"button",0,1),u.NdJ("click",function(){return Fe._handlePaginatorClick("before")})("mousedown",function(_t){return Fe._handlePaginatorPress("before",_t)})("touchend",function(){return Fe._stopInterval()}),u._UZ(2,"div",2),u.qZA(),u.TgZ(3,"div",3,4),u.NdJ("keydown",function(_t){return Fe._handleKeydown(_t)}),u.TgZ(5,"div",5,6),u.NdJ("cdkObserveContent",function(){return Fe._onContentChanges()}),u.TgZ(7,"div",7,8),u.Hsn(9),u.qZA(),u._UZ(10,"mat-ink-bar"),u.qZA()(),u.TgZ(11,"button",9,10),u.NdJ("mousedown",function(_t){return Fe._handlePaginatorPress("after",_t)})("click",function(){return Fe._handlePaginatorClick("after")})("touchend",function(){return Fe._stopInterval()}),u._UZ(13,"div",2),u.qZA()),2&he&&(u.ekj("mat-tab-header-pagination-disabled",Fe._disableScrollBefore),u.Q6J("matRippleDisabled",Fe._disableScrollBefore||Fe.disableRipple)("disabled",Fe._disableScrollBefore||null),u.xp6(5),u.ekj("_mat-animation-noopable","NoopAnimations"===Fe._animationMode),u.xp6(6),u.ekj("mat-tab-header-pagination-disabled",Fe._disableScrollAfter),u.Q6J("matRippleDisabled",Fe._disableScrollAfter||Fe.disableRipple)("disabled",Fe._disableScrollAfter||null))},directives:[v.wG,c.wD,It],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),K})(),Kt=0;class gt{}const xt=(0,v.pj)((0,v.Kr)(class{constructor(K){this._elementRef=K}}),"primary");let Nt=(()=>{class K extends xt{constructor(he,Fe,Xe,_t){var zt;super(he),this._changeDetectorRef=Fe,this._animationMode=_t,this._tabs=new u.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=f.w0.EMPTY,this._tabLabelSubscription=f.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new u.vpe,this.focusChange=new u.vpe,this.animationDone=new u.vpe,this.selectedTabChange=new u.vpe(!0),this._groupId=Kt++,this.animationDuration=Xe&&Xe.animationDuration?Xe.animationDuration:"500ms",this.disablePagination=!(!Xe||null==Xe.disablePagination)&&Xe.disablePagination,this.dynamicHeight=!(!Xe||null==Xe.dynamicHeight)&&Xe.dynamicHeight,this.contentTabIndex=null!==(zt=null==Xe?void 0:Xe.contentTabIndex)&&void 0!==zt?zt:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(he){this._dynamicHeight=(0,D.Ig)(he)}get selectedIndex(){return this._selectedIndex}set selectedIndex(he){this._indexToSelect=(0,D.su)(he,null)}get animationDuration(){return this._animationDuration}set animationDuration(he){this._animationDuration=/^\d+$/.test(he+"")?he+"ms":he}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(he){this._contentTabIndex=(0,D.su)(he,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(he){const Fe=this._elementRef.nativeElement;Fe.classList.remove(`mat-background-${this.backgroundColor}`),he&&Fe.classList.add(`mat-background-${he}`),this._backgroundColor=he}ngAfterContentChecked(){const he=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=he){const Fe=null==this._selectedIndex;if(!Fe){this.selectedTabChange.emit(this._createChangeEvent(he));const Xe=this._tabBodyWrapper.nativeElement;Xe.style.minHeight=Xe.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((Xe,_t)=>Xe.isActive=_t===he),Fe||(this.selectedIndexChange.emit(he),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((Fe,Xe)=>{Fe.position=Xe-he,null!=this._selectedIndex&&0==Fe.position&&!Fe.origin&&(Fe.origin=he-this._selectedIndex)}),this._selectedIndex!==he&&(this._selectedIndex=he,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const Fe=this._tabs.toArray();for(let Xe=0;Xe<Fe.length;Xe++)if(Fe[Xe].isActive){this._indexToSelect=this._selectedIndex=Xe;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,h.O)(this._allTabs)).subscribe(he=>{this._tabs.reset(he.filter(Fe=>Fe._closestTabGroup===this||!Fe._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(he){const Fe=this._tabHeader;Fe&&(Fe.focusIndex=he)}_focusChanged(he){this.focusChange.emit(this._createChangeEvent(he))}_createChangeEvent(he){const Fe=new gt;return Fe.index=he,this._tabs&&this._tabs.length&&(Fe.tab=this._tabs.toArray()[he]),Fe}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,C.T)(...this._tabs.map(he=>he._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(he){return Math.min(this._tabs.length-1,Math.max(he||0,0))}_getTabLabelId(he){return`mat-tab-label-${this._groupId}-${he}`}_getTabContentId(he){return`mat-tab-content-${this._groupId}-${he}`}_setTabBodyWrapperHeight(he){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const Fe=this._tabBodyWrapper.nativeElement;Fe.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(Fe.style.height=he+"px")}_removeTabBodyWrapperHeight(){const he=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=he.clientHeight,he.style.height="",this.animationDone.emit()}_handleClick(he,Fe,Xe){he.disabled||(this.selectedIndex=Fe.focusIndex=Xe)}_getTabIndex(he,Fe){return he.disabled?null:this.selectedIndex===Fe?0:-1}_tabFocusChanged(he,Fe){he&&"mouse"!==he&&"touch"!==he&&(this._tabHeader.focusIndex=Fe)}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Y,8),u.Y36(p.Qb,8))},K.\u0275dir=u.lG2({type:K,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[u.qOj]}),K})(),Ke=(()=>{class K extends Nt{constructor(he,Fe,Xe,_t){super(he,Fe,Xe,_t)}}return K.\u0275fac=function(he){return new(he||K)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Y,8),u.Y36(p.Qb,8))},K.\u0275cmp=u.Xpm({type:K,selectors:[["mat-tab-group"]],contentQueries:function(he,Fe,Xe){if(1&he&&u.Suo(Xe,Xt,5),2&he){let _t;u.iGM(_t=u.CRH())&&(Fe._allTabs=_t)}},viewQuery:function(he,Fe){if(1&he&&(u.Gf(fe,5),u.Gf(We,5)),2&he){let Xe;u.iGM(Xe=u.CRH())&&(Fe._tabBodyWrapper=Xe.first),u.iGM(Xe=u.CRH())&&(Fe._tabHeader=Xe.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(he,Fe){2&he&&u.ekj("mat-tab-group-dynamic-height",Fe.dynamicHeight)("mat-tab-group-inverted-header","below"===Fe.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[u._Bn([{provide:Gt,useExisting:K}]),u.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(he,Fe){1&he&&(u.TgZ(0,"mat-tab-header",0,1),u.NdJ("indexFocused",function(_t){return Fe._focusChanged(_t)})("selectFocusedIndex",function(_t){return Fe.selectedIndex=_t}),u.YNc(2,Je,5,15,"div",2),u.qZA(),u.TgZ(3,"div",3,4),u.YNc(5,se,1,10,"mat-tab-body",5),u.qZA()),2&he&&(u.Q6J("selectedIndex",Fe.selectedIndex||0)("disableRipple",Fe.disableRipple)("disablePagination",Fe.disablePagination),u.xp6(2),u.Q6J("ngForOf",Fe._tabs),u.xp6(1),u.ekj("_mat-animation-noopable","NoopAnimations"===Fe._animationMode),u.xp6(2),u.Q6J("ngForOf",Fe._tabs))},directives:[an,ce,a.sg,be,v.wG,o.kH,a.mk,a.O5,g.Pl],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),K})(),ae=(()=>{class K{}return K.\u0275fac=function(he){return new(he||K)},K.\u0275mod=u.oAB({type:K}),K.\u0275inj=u.cJS({imports:[[a.ez,v.BQ,g.eL,v.si,c.Q8,o.rt],v.BQ]}),K})()},7238:(ot,pe,r)=>{"use strict";r.d(pe,{AV:()=>fe,gM:()=>q});var o=r(1314),c=r(5664),g=r(9808),a=r(5e3),u=r(508),v=r(9071),p=r(3191),d=r(1159),h=r(5113),_=r(925),e=r(7429),E=r(6360),f=r(7579),y=r(2722),s=r(5698),C=r(226);r(1777);const A=["tooltip"],O="tooltip-panel",S=(0,_.i$)({passive:!0}),R=new a.OlP("mat-tooltip-scroll-strategy"),k={provide:R,deps:[o.aV],useFactory:function G(Ne){return()=>Ne.scrollStrategies.reposition({scrollThrottle:20})}},V=new a.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function ne(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let $=(()=>{class Ne{constructor(ge,Je,se,Re,pt,ht,It,De,Se,Ae,lt,Ze){this._overlay=ge,this._elementRef=Je,this._scrollDispatcher=se,this._viewContainerRef=Re,this._ngZone=pt,this._platform=ht,this._ariaDescriber=It,this._focusMonitor=De,this._dir=Ae,this._defaultOptions=lt,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new f.x,this._scrollStrategy=Se,this._document=Ze,lt&&(lt.position&&(this.position=lt.position),lt.touchGestures&&(this.touchGestures=lt.touchGestures)),Ae.change.pipe((0,y.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(ge){var Je;ge!==this._position&&(this._position=ge,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(Je=this._tooltipInstance)||void 0===Je||Je.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(ge){this._disabled=(0,p.Ig)(ge),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(ge){this._showDelay=(0,p.su)(ge)}get hideDelay(){return this._hideDelay}set hideDelay(ge){this._hideDelay=(0,p.su)(ge),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(ge){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=ge?String(ge).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(ge){this._tooltipClass=ge,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,y.R)(this._destroyed)).subscribe(ge=>{ge?"keyboard"===ge&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const ge=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Je,se])=>{ge.removeEventListener(Je,se,S)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(ge,this.message,"tooltip"),this._focusMonitor.stopMonitoring(ge)}show(ge=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const Je=this._createOverlay();this._detach(),this._portal=this._portal||new e.C5(this._tooltipComponent,this._viewContainerRef);const se=this._tooltipInstance=Je.attach(this._portal).instance;se._triggerElement=this._elementRef.nativeElement,se._mouseLeaveHideDelay=this._hideDelay,se.afterHidden().pipe((0,y.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),se.show(ge)}hide(ge=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(ge)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var ge;if(this._overlayRef)return this._overlayRef;const Je=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),se=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Je);return se.positionChanges.pipe((0,y.R)(this._destroyed)).subscribe(Re=>{this._updateCurrentPositionClass(Re.connectionPair),this._tooltipInstance&&Re.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:se,panelClass:`${this._cssClassPrefix}-${O}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,y.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,y.R)(this._destroyed)).subscribe(()=>{var Re;return null===(Re=this._tooltipInstance)||void 0===Re?void 0:Re._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe((0,y.R)(this._destroyed)).subscribe(Re=>{this._isTooltipVisible()&&Re.keyCode===d.hY&&!(0,d.Vb)(Re)&&(Re.preventDefault(),Re.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(ge=this._defaultOptions)||void 0===ge?void 0:ge.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(ge){const Je=ge.getConfig().positionStrategy,se=this._getOrigin(),Re=this._getOverlayPosition();Je.withPositions([this._addOffset(Object.assign(Object.assign({},se.main),Re.main)),this._addOffset(Object.assign(Object.assign({},se.fallback),Re.fallback))])}_addOffset(ge){return ge}_getOrigin(){const ge=!this._dir||"ltr"==this._dir.value,Je=this.position;let se;"above"==Je||"below"==Je?se={originX:"center",originY:"above"==Je?"top":"bottom"}:"before"==Je||"left"==Je&&ge||"right"==Je&&!ge?se={originX:"start",originY:"center"}:("after"==Je||"right"==Je&&ge||"left"==Je&&!ge)&&(se={originX:"end",originY:"center"});const{x:Re,y:pt}=this._invertPosition(se.originX,se.originY);return{main:se,fallback:{originX:Re,originY:pt}}}_getOverlayPosition(){const ge=!this._dir||"ltr"==this._dir.value,Je=this.position;let se;"above"==Je?se={overlayX:"center",overlayY:"bottom"}:"below"==Je?se={overlayX:"center",overlayY:"top"}:"before"==Je||"left"==Je&&ge||"right"==Je&&!ge?se={overlayX:"end",overlayY:"center"}:("after"==Je||"right"==Je&&ge||"left"==Je&&!ge)&&(se={overlayX:"start",overlayY:"center"});const{x:Re,y:pt}=this._invertPosition(se.overlayX,se.overlayY);return{main:se,fallback:{overlayX:Re,overlayY:pt}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,s.q)(1),(0,y.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(ge){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=ge,this._tooltipInstance._markForCheck())}_invertPosition(ge,Je){return"above"===this.position||"below"===this.position?"top"===Je?Je="bottom":"bottom"===Je&&(Je="top"):"end"===ge?ge="start":"start"===ge&&(ge="end"),{x:ge,y:Je}}_updateCurrentPositionClass(ge){const{overlayY:Je,originX:se,originY:Re}=ge;let pt;if(pt="center"===Je?this._dir&&"rtl"===this._dir.value?"end"===se?"left":"right":"start"===se?"left":"right":"bottom"===Je&&"top"===Re?"above":"below",pt!==this._currentPosition){const ht=this._overlayRef;if(ht){const It=`${this._cssClassPrefix}-${O}-`;ht.removePanelClass(It+this._currentPosition),ht.addPanelClass(It+pt)}this._currentPosition=pt}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const ge=[];if(this._platformSupportsMouseEvents())ge.push(["mouseleave",Je=>{var se;const Re=Je.relatedTarget;(!Re||!(null===(se=this._overlayRef)||void 0===se?void 0:se.overlayElement.contains(Re)))&&this.hide()}],["wheel",Je=>this._wheelListener(Je)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Je=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};ge.push(["touchend",Je],["touchcancel",Je])}this._addListeners(ge),this._passiveListeners.push(...ge)}_addListeners(ge){ge.forEach(([Je,se])=>{this._elementRef.nativeElement.addEventListener(Je,se,S)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(ge){if(this._isTooltipVisible()){const Je=this._document.elementFromPoint(ge.clientX,ge.clientY),se=this._elementRef.nativeElement;Je!==se&&!se.contains(Je)&&this.hide()}}_disableNativeGesturesIfNecessary(){const ge=this.touchGestures;if("off"!==ge){const Je=this._elementRef.nativeElement,se=Je.style;("on"===ge||"INPUT"!==Je.nodeName&&"TEXTAREA"!==Je.nodeName)&&(se.userSelect=se.msUserSelect=se.webkitUserSelect=se.MozUserSelect="none"),("on"===ge||!Je.draggable)&&(se.webkitUserDrag="none"),se.touchAction="none",se.webkitTapHighlightColor="transparent"}}}return Ne.\u0275fac=function(ge){a.$Z()},Ne.\u0275dir=a.lG2({type:Ne,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),Ne})(),q=(()=>{class Ne extends ${constructor(ge,Je,se,Re,pt,ht,It,De,Se,Ae,lt,Ze){super(ge,Je,se,Re,pt,ht,It,De,Se,Ae,lt,Ze),this._tooltipComponent=de}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(a.Y36(o.aV),a.Y36(a.SBq),a.Y36(v.mF),a.Y36(a.s_b),a.Y36(a.R0b),a.Y36(_.t4),a.Y36(c.$s),a.Y36(c.tE),a.Y36(R),a.Y36(C.Is,8),a.Y36(V,8),a.Y36(g.K0))},Ne.\u0275dir=a.lG2({type:Ne,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[a.qOj]}),Ne})(),X=(()=>{class Ne{constructor(ge,Je){this._changeDetectorRef=ge,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new f.x,this._animationsDisabled="NoopAnimations"===Je}show(ge){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},ge)}hide(ge){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},ge)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:ge}){(!ge||!this._triggerElement.contains(ge))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:ge}){(ge===this._showAnimation||ge===this._hideAnimation)&&this._finalizeAnimation(ge===this._showAnimation)}_finalizeAnimation(ge){ge?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(ge){const Je=this._tooltip.nativeElement,se=this._showAnimation,Re=this._hideAnimation;if(Je.classList.remove(ge?Re:se),Je.classList.add(ge?se:Re),this._isVisible=ge,ge&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const pt=getComputedStyle(Je);("0s"===pt.getPropertyValue("animation-duration")||"none"===pt.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}ge&&this._onShow(),this._animationsDisabled&&(Je.classList.add("_mat-animation-noopable"),this._finalizeAnimation(ge))}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(a.Y36(a.sBO),a.Y36(E.Qb,8))},Ne.\u0275dir=a.lG2({type:Ne}),Ne})(),de=(()=>{class Ne extends X{constructor(ge,Je,se){super(ge,se),this._breakpointObserver=Je,this._isHandset=this._breakpointObserver.observe(h.u3.Handset),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(a.Y36(a.sBO),a.Y36(h.Yg),a.Y36(E.Qb,8))},Ne.\u0275cmp=a.Xpm({type:Ne,selectors:[["mat-tooltip-component"]],viewQuery:function(ge,Je){if(1&ge&&a.Gf(A,7),2&ge){let se;a.iGM(se=a.CRH())&&(Je._tooltip=se.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(ge,Je){1&ge&&a.NdJ("mouseleave",function(Re){return Je._handleMouseLeave(Re)}),2&ge&&a.Udp("zoom",Je.isVisible()?1:null)},features:[a.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(ge,Je){if(1&ge&&(a.TgZ(0,"div",0,1),a.NdJ("animationend",function(Re){return Je._handleAnimationEnd(Re)}),a.ALo(2,"async"),a._uU(3),a.qZA()),2&ge){let se;a.ekj("mat-tooltip-handset",null==(se=a.lcZ(2,4,Je._isHandset))?null:se.matches),a.Q6J("ngClass",Je.tooltipClass),a.xp6(3),a.Oqu(Je.message)}},directives:[g.mk],pipes:[g.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),Ne})(),fe=(()=>{class Ne{}return Ne.\u0275fac=function(ge){return new(ge||Ne)},Ne.\u0275mod=a.oAB({type:Ne}),Ne.\u0275inj=a.cJS({providers:[k],imports:[[c.rt,g.ez,o.U8,u.BQ],u.BQ,v.ZD]}),Ne})()},6360:(ot,pe,r)=>{"use strict";r.d(pe,{Qb:()=>Lr,PW:()=>jo});var o=r(5e3),c=r(2313),g=r(1777);const a=!1;function v(xe){return new o.vHH(3e3,a)}function pt(){return"undefined"!=typeof window&&void 0!==window.document}function ht(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function It(xe){switch(xe.length){case 0:return new g.ZN;case 1:return xe[0];default:return new g.ZE(xe)}}function De(xe,N,j,ue,Ge={},it={}){const St=[],bt=[];let Ft=-1,Wt=null;if(ue.forEach(fn=>{const bn=fn.offset,xn=bn==Ft,Kn=xn&&Wt||{};Object.keys(fn).forEach(Rn=>{let Hn=Rn,li=fn[Rn];if("offset"!==Rn)switch(Hn=N.normalizePropertyName(Hn,St),li){case g.k1:li=Ge[Rn];break;case g.l3:li=it[Rn];break;default:li=N.normalizeStyleValue(Rn,Hn,li,St)}Kn[Hn]=li}),xn||bt.push(Kn),Wt=Kn,Ft=bn}),St.length)throw function $(xe){return new o.vHH(3502,a)}();return bt}function Se(xe,N,j,ue){switch(N){case"start":xe.onStart(()=>ue(j&&Ae(j,"start",xe)));break;case"done":xe.onDone(()=>ue(j&&Ae(j,"done",xe)));break;case"destroy":xe.onDestroy(()=>ue(j&&Ae(j,"destroy",xe)))}}function Ae(xe,N,j){const ue=j.totalTime,it=lt(xe.element,xe.triggerName,xe.fromState,xe.toState,N||xe.phaseName,null==ue?xe.totalTime:ue,!!j.disabled),St=xe._data;return null!=St&&(it._data=St),it}function lt(xe,N,j,ue,Ge="",it=0,St){return{element:xe,triggerName:N,fromState:j,toState:ue,phaseName:Ge,totalTime:it,disabled:!!St}}function Ze(xe,N,j){let ue;return xe instanceof Map?(ue=xe.get(N),ue||xe.set(N,ue=j)):(ue=xe[N],ue||(ue=xe[N]=j)),ue}function Rt(xe){const N=xe.indexOf(":");return[xe.substring(1,N),xe.substr(N+1)]}let Gt=(xe,N)=>!1,Xt=(xe,N,j)=>[],kt=null;function qe(xe){const N=xe.parentNode||xe.host;return N===kt?null:N}(ht()||"undefined"!=typeof Element)&&(pt()?(kt=(()=>document.documentElement)(),Gt=(xe,N)=>{for(;N;){if(N===xe)return!0;N=qe(N)}return!1}):Gt=(xe,N)=>xe.contains(N),Xt=(xe,N,j)=>{if(j)return Array.from(xe.querySelectorAll(N));const ue=xe.querySelector(N);return ue?[ue]:[]});let Y=null,we=!1;function be(xe){Y||(Y=function Me(){return"undefined"!=typeof document?document.body:null}()||{},we=!!Y.style&&"WebkitAppearance"in Y.style);let N=!0;return Y.style&&!function ce(xe){return"ebkit"==xe.substring(1,6)}(xe)&&(N=xe in Y.style,!N&&we&&(N="Webkit"+xe.charAt(0).toUpperCase()+xe.substr(1)in Y.style)),N}const ze=Gt,mt=Xt;let Lt=(()=>{class xe{validateStyleProperty(j){return be(j)}matchesElement(j,ue){return!1}containsElement(j,ue){return ze(j,ue)}getParentElement(j){return qe(j)}query(j,ue,Ge){return mt(j,ue,Ge)}computeStyle(j,ue,Ge){return Ge||""}animate(j,ue,Ge,it,St,bt=[],Ft){return new g.ZN(Ge,it)}}return xe.\u0275fac=function(j){return new(j||xe)},xe.\u0275prov=o.Yz7({token:xe,factory:xe.\u0275fac}),xe})(),Bt=(()=>{class xe{}return xe.NOOP=new Lt,xe})();const xt="ng-enter",Nt="ng-leave",Ke="ng-trigger",Et=".ng-trigger",et="ng-animating",nt=".ng-animating";function Be(xe){if("number"==typeof xe)return xe;const N=xe.match(/^(-?[\.\d]+)(m?s)/);return!N||N.length<2?0:Ce(parseFloat(N[1]),N[2])}function Ce(xe,N){return"s"===N?1e3*xe:xe}function ke(xe,N,j){return xe.hasOwnProperty("duration")?xe:function ve(xe,N,j){let Ge,it=0,St="";if("string"==typeof xe){const bt=xe.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===bt)return N.push(v()),{duration:0,delay:0,easing:""};Ge=Ce(parseFloat(bt[1]),bt[2]);const Ft=bt[3];null!=Ft&&(it=Ce(parseFloat(Ft),bt[4]));const Wt=bt[5];Wt&&(St=Wt)}else Ge=xe;if(!j){let bt=!1,Ft=N.length;Ge<0&&(N.push(function p(){return new o.vHH(3100,a)}()),bt=!0),it<0&&(N.push(function d(){return new o.vHH(3101,a)}()),bt=!0),bt&&N.splice(Ft,0,v())}return{duration:Ge,delay:it,easing:St}}(xe,N,j)}function ae(xe,N={}){return Object.keys(xe).forEach(j=>{N[j]=xe[j]}),N}function Ee(xe,N,j={}){if(N)for(let ue in xe)j[ue]=xe[ue];else ae(xe,j);return j}function he(xe,N,j){return j?N+":"+j+";":""}function Fe(xe){let N="";for(let j=0;j<xe.style.length;j++){const ue=xe.style.item(j);N+=he(0,ue,xe.style.getPropertyValue(ue))}for(const j in xe.style)xe.style.hasOwnProperty(j)&&!j.startsWith("_")&&(N+=he(0,On(j),xe.style[j]));xe.setAttribute("style",N)}function Xe(xe,N,j){xe.style&&(Object.keys(N).forEach(ue=>{const Ge=ln(ue);j&&!j.hasOwnProperty(ue)&&(j[ue]=xe.style[Ge]),xe.style[Ge]=N[ue]}),ht()&&Fe(xe))}function _t(xe,N){xe.style&&(Object.keys(N).forEach(j=>{const ue=ln(j);xe.style[ue]=""}),ht()&&Fe(xe))}function zt(xe){return Array.isArray(xe)?1==xe.length?xe[0]:(0,g.vP)(xe):xe}const at=new RegExp("{{\\s*(.+?)\\s*}}","g");function rt(xe){let N=[];if("string"==typeof xe){let j;for(;j=at.exec(xe);)N.push(j[1]);at.lastIndex=0}return N}function Ct(xe,N,j){const ue=xe.toString(),Ge=ue.replace(at,(it,St)=>{let bt=N[St];return N.hasOwnProperty(St)||(j.push(function _(xe){return new o.vHH(3003,a)}()),bt=""),bt.toString()});return Ge==ue?xe:Ge}function Ut(xe){const N=[];let j=xe.next();for(;!j.done;)N.push(j.value),j=xe.next();return N}const tn=/-+([a-z0-9])/g;function ln(xe){return xe.replace(tn,(...N)=>N[1].toUpperCase())}function On(xe){return xe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jn(xe,N,j){switch(N.type){case 7:return xe.visitTrigger(N,j);case 0:return xe.visitState(N,j);case 1:return xe.visitTransition(N,j);case 2:return xe.visitSequence(N,j);case 3:return xe.visitGroup(N,j);case 4:return xe.visitAnimate(N,j);case 5:return xe.visitKeyframes(N,j);case 6:return xe.visitStyle(N,j);case 8:return xe.visitReference(N,j);case 9:return xe.visitAnimateChild(N,j);case 10:return xe.visitAnimateRef(N,j);case 11:return xe.visitQuery(N,j);case 12:return xe.visitStagger(N,j);default:throw function e(xe){return new o.vHH(3004,a)}()}}function yi(xe,N){return window.getComputedStyle(xe)[N]}function ii(xe,N){const j=[];return"string"==typeof xe?xe.split(/\s*,\s*/).forEach(ue=>function Ri(xe,N,j){if(":"==xe[0]){const Ft=function $n(xe,N){switch(xe){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(j,ue)=>parseFloat(ue)>parseFloat(j);case":decrement":return(j,ue)=>parseFloat(ue)<parseFloat(j);default:return N.push(function G(xe){return new o.vHH(3016,a)}()),"* => *"}}(xe,j);if("function"==typeof Ft)return void N.push(Ft);xe=Ft}const ue=xe.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ue||ue.length<4)return j.push(function R(xe){return new o.vHH(3015,a)}()),N;const Ge=ue[1],it=ue[2],St=ue[3];N.push(Dn(Ge,St));"<"==it[0]&&!("*"==Ge&&"*"==St)&&N.push(Dn(St,Ge))}(ue,j,N)):j.push(xe),j}const oi=new Set(["true","1"]),gi=new Set(["false","0"]);function Dn(xe,N){const j=oi.has(xe)||gi.has(xe),ue=oi.has(N)||gi.has(N);return(Ge,it)=>{let St="*"==xe||xe==Ge,bt="*"==N||N==it;return!St&&j&&"boolean"==typeof Ge&&(St=Ge?oi.has(xe):gi.has(xe)),!bt&&ue&&"boolean"==typeof it&&(bt=it?oi.has(N):gi.has(N)),St&&bt}}const Li=new RegExp("s*:selfs*,?","g");function si(xe,N,j,ue){return new ei(xe).build(N,j,ue)}class ei{constructor(N){this._driver=N}build(N,j,ue){const Ge=new $t(j);this._resetContextStyleTimingState(Ge);const it=jn(this,zt(N),Ge);return Ge.unsupportedCSSPropertiesFound.size&&Ge.unsupportedCSSPropertiesFound.keys(),it}_resetContextStyleTimingState(N){N.currentQuerySelector="",N.collectedStyles={},N.collectedStyles[""]={},N.currentTime=0}visitTrigger(N,j){let ue=j.queryCount=0,Ge=j.depCount=0;const it=[],St=[];return"@"==N.name.charAt(0)&&j.errors.push(function f(){return new o.vHH(3006,a)}()),N.definitions.forEach(bt=>{if(this._resetContextStyleTimingState(j),0==bt.type){const Ft=bt,Wt=Ft.name;Wt.toString().split(/\s*,\s*/).forEach(fn=>{Ft.name=fn,it.push(this.visitState(Ft,j))}),Ft.name=Wt}else if(1==bt.type){const Ft=this.visitTransition(bt,j);ue+=Ft.queryCount,Ge+=Ft.depCount,St.push(Ft)}else j.errors.push(function y(){return new o.vHH(3007,a)}())}),{type:7,name:N.name,states:it,transitions:St,queryCount:ue,depCount:Ge,options:null}}visitState(N,j){const ue=this.visitStyle(N.styles,j),Ge=N.options&&N.options.params||null;if(ue.containsDynamicStyles){const it=new Set,St=Ge||{};ue.styles.forEach(bt=>{if(oe(bt)){const Ft=bt;Object.keys(Ft).forEach(Wt=>{rt(Ft[Wt]).forEach(fn=>{St.hasOwnProperty(fn)||it.add(fn)})})}}),it.size&&(Ut(it.values()),j.errors.push(function s(xe,N){return new o.vHH(3008,a)}()))}return{type:0,name:N.name,style:ue,options:Ge?{params:Ge}:null}}visitTransition(N,j){j.queryCount=0,j.depCount=0;const ue=jn(this,zt(N.animation),j);return{type:1,matchers:ii(N.expr,j.errors),animation:ue,queryCount:j.queryCount,depCount:j.depCount,options:te(N.options)}}visitSequence(N,j){return{type:2,steps:N.steps.map(ue=>jn(this,ue,j)),options:te(N.options)}}visitGroup(N,j){const ue=j.currentTime;let Ge=0;const it=N.steps.map(St=>{j.currentTime=ue;const bt=jn(this,St,j);return Ge=Math.max(Ge,j.currentTime),bt});return j.currentTime=Ge,{type:3,steps:it,options:te(N.options)}}visitAnimate(N,j){const ue=function Qe(xe,N){let j=null;if(xe.hasOwnProperty("duration"))j=xe;else if("number"==typeof xe)return $e(ke(xe,N).duration,0,"");const ue=xe;if(ue.split(/\s+/).some(it=>"{"==it.charAt(0)&&"{"==it.charAt(1))){const it=$e(0,0,"");return it.dynamic=!0,it.strValue=ue,it}return j=j||ke(ue,N),$e(j.duration,j.delay,j.easing)}(N.timings,j.errors);j.currentAnimateTimings=ue;let Ge,it=N.styles?N.styles:(0,g.oB)({});if(5==it.type)Ge=this.visitKeyframes(it,j);else{let St=N.styles,bt=!1;if(!St){bt=!0;const Wt={};ue.easing&&(Wt.easing=ue.easing),St=(0,g.oB)(Wt)}j.currentTime+=ue.duration+ue.delay;const Ft=this.visitStyle(St,j);Ft.isEmptyStep=bt,Ge=Ft}return j.currentAnimateTimings=null,{type:4,timings:ue,style:Ge,options:null}}visitStyle(N,j){const ue=this._makeStyleAst(N,j);return this._validateStyleAst(ue,j),ue}_makeStyleAst(N,j){const ue=[];Array.isArray(N.styles)?N.styles.forEach(St=>{"string"==typeof St?St==g.l3?ue.push(St):j.errors.push(function C(xe){return new o.vHH(3002,a)}()):ue.push(St)}):ue.push(N.styles);let Ge=!1,it=null;return ue.forEach(St=>{if(oe(St)){const bt=St,Ft=bt.easing;if(Ft&&(it=Ft,delete bt.easing),!Ge)for(let Wt in bt)if(bt[Wt].toString().indexOf("{{")>=0){Ge=!0;break}}}),{type:6,styles:ue,easing:it,offset:N.offset,containsDynamicStyles:Ge,options:null}}_validateStyleAst(N,j){const ue=j.currentAnimateTimings;let Ge=j.currentTime,it=j.currentTime;ue&&it>0&&(it-=ue.duration+ue.delay),N.styles.forEach(St=>{"string"!=typeof St&&Object.keys(St).forEach(bt=>{if(!this._driver.validateStyleProperty(bt))return delete St[bt],void j.unsupportedCSSPropertiesFound.add(bt);const Ft=j.collectedStyles[j.currentQuerySelector],Wt=Ft[bt];let fn=!0;Wt&&(it!=Ge&&it>=Wt.startTime&&Ge<=Wt.endTime&&(j.errors.push(function A(xe,N,j,ue,Ge){return new o.vHH(3010,a)}()),fn=!1),it=Wt.startTime),fn&&(Ft[bt]={startTime:it,endTime:Ge}),j.options&&function yt(xe,N,j){const ue=N.params||{},Ge=rt(xe);Ge.length&&Ge.forEach(it=>{ue.hasOwnProperty(it)||j.push(function h(xe){return new o.vHH(3001,a)}())})}(St[bt],j.options,j.errors)})})}visitKeyframes(N,j){const ue={type:5,styles:[],options:null};if(!j.currentAnimateTimings)return j.errors.push(function I(){return new o.vHH(3011,a)}()),ue;let it=0;const St=[];let bt=!1,Ft=!1,Wt=0;const fn=N.steps.map(wi=>{const Yi=this._makeStyleAst(wi,j);let ro=null!=Yi.offset?Yi.offset:function Ie(xe){if("string"==typeof xe)return null;let N=null;if(Array.isArray(xe))xe.forEach(j=>{if(oe(j)&&j.hasOwnProperty("offset")){const ue=j;N=parseFloat(ue.offset),delete ue.offset}});else if(oe(xe)&&xe.hasOwnProperty("offset")){const j=xe;N=parseFloat(j.offset),delete j.offset}return N}(Yi.styles),ci=0;return null!=ro&&(it++,ci=Yi.offset=ro),Ft=Ft||ci<0||ci>1,bt=bt||ci<Wt,Wt=ci,St.push(ci),Yi});Ft&&j.errors.push(function D(){return new o.vHH(3012,a)}()),bt&&j.errors.push(function O(){return new o.vHH(3200,a)}());const bn=N.steps.length;let xn=0;it>0&&it<bn?j.errors.push(function S(){return new o.vHH(3202,a)}()):0==it&&(xn=1/(bn-1));const Kn=bn-1,Rn=j.currentTime,Hn=j.currentAnimateTimings,li=Hn.duration;return fn.forEach((wi,Yi)=>{const ro=xn>0?Yi==Kn?1:xn*Yi:St[Yi],ci=ro*li;j.currentTime=Rn+Hn.delay+ci,Hn.duration=ci,this._validateStyleAst(wi,j),wi.offset=ro,ue.styles.push(wi)}),ue}visitReference(N,j){return{type:8,animation:jn(this,zt(N.animation),j),options:te(N.options)}}visitAnimateChild(N,j){return j.depCount++,{type:9,options:te(N.options)}}visitAnimateRef(N,j){return{type:10,animation:this.visitReference(N.animation,j),options:te(N.options)}}visitQuery(N,j){const ue=j.currentQuerySelector,Ge=N.options||{};j.queryCount++,j.currentQuery=N;const[it,St]=function ki(xe){const N=!!xe.split(/\s*,\s*/).find(j=>":self"==j);return N&&(xe=xe.replace(Li,"")),xe=xe.replace(/@\*/g,Et).replace(/@\w+/g,j=>Et+"-"+j.substr(1)).replace(/:animating/g,nt),[xe,N]}(N.selector);j.currentQuerySelector=ue.length?ue+" "+it:it,Ze(j.collectedStyles,j.currentQuerySelector,{});const bt=jn(this,zt(N.animation),j);return j.currentQuery=null,j.currentQuerySelector=ue,{type:11,selector:it,limit:Ge.limit||0,optional:!!Ge.optional,includeSelf:St,animation:bt,originalSelector:N.selector,options:te(N.options)}}visitStagger(N,j){j.currentQuery||j.errors.push(function x(){return new o.vHH(3013,a)}());const ue="full"===N.timings?{duration:0,delay:0,easing:"full"}:ke(N.timings,j.errors,!0);return{type:12,animation:jn(this,zt(N.animation),j),timings:ue,options:null}}}class $t{constructor(N){this.errors=N,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function oe(xe){return!Array.isArray(xe)&&"object"==typeof xe}function te(xe){return xe?(xe=ae(xe)).params&&(xe.params=function ut(xe){return xe?ae(xe):null}(xe.params)):xe={},xe}function $e(xe,N,j){return{duration:xe,delay:N,easing:j}}function At(xe,N,j,ue,Ge,it,St=null,bt=!1){return{type:1,element:xe,keyframes:N,preStyleProps:j,postStyleProps:ue,duration:Ge,delay:it,totalTime:Ge+it,easing:St,subTimeline:bt}}class Jt{constructor(){this._map=new Map}get(N){return this._map.get(N)||[]}append(N,j){let ue=this._map.get(N);ue||this._map.set(N,ue=[]),ue.push(...j)}has(N){return this._map.has(N)}clear(){this._map.clear()}}const Bn=new RegExp(":enter","g"),Di=new RegExp(":leave","g");function wn(xe,N,j,ue,Ge,it={},St={},bt,Ft,Wt=[]){return(new qi).buildKeyframes(xe,N,j,ue,Ge,it,St,bt,Ft,Wt)}class qi{buildKeyframes(N,j,ue,Ge,it,St,bt,Ft,Wt,fn=[]){Wt=Wt||new Jt;const bn=new Go(N,j,Wt,Ge,it,fn,[]);bn.options=Ft,bn.currentTimeline.setStyles([St],null,bn.errors,Ft),jn(this,ue,bn);const xn=bn.timelines.filter(Kn=>Kn.containsAnimation());if(Object.keys(bt).length){let Kn;for(let Rn=xn.length-1;Rn>=0;Rn--){const Hn=xn[Rn];if(Hn.element===j){Kn=Hn;break}}Kn&&!Kn.allowOnlyTimelineStyles()&&Kn.setStyles([bt],null,bn.errors,Ft)}return xn.length?xn.map(Kn=>Kn.buildKeyframes()):[At(j,[],[],[],0,0,"",!1)]}visitTrigger(N,j){}visitState(N,j){}visitTransition(N,j){}visitAnimateChild(N,j){const ue=j.subInstructions.get(j.element);if(ue){const Ge=j.createSubContext(N.options),it=j.currentTimeline.currentTime,St=this._visitSubInstructions(ue,Ge,Ge.options);it!=St&&j.transformIntoNewTimeline(St)}j.previousNode=N}visitAnimateRef(N,j){const ue=j.createSubContext(N.options);ue.transformIntoNewTimeline(),this.visitReference(N.animation,ue),j.transformIntoNewTimeline(ue.currentTimeline.currentTime),j.previousNode=N}_visitSubInstructions(N,j,ue){let it=j.currentTimeline.currentTime;const St=null!=ue.duration?Be(ue.duration):null,bt=null!=ue.delay?Be(ue.delay):null;return 0!==St&&N.forEach(Ft=>{const Wt=j.appendInstructionToTimeline(Ft,St,bt);it=Math.max(it,Wt.duration+Wt.delay)}),it}visitReference(N,j){j.updateOptions(N.options,!0),jn(this,N.animation,j),j.previousNode=N}visitSequence(N,j){const ue=j.subContextCount;let Ge=j;const it=N.options;if(it&&(it.params||it.delay)&&(Ge=j.createSubContext(it),Ge.transformIntoNewTimeline(),null!=it.delay)){6==Ge.previousNode.type&&(Ge.currentTimeline.snapshotCurrentStyles(),Ge.previousNode=Ci);const St=Be(it.delay);Ge.delayNextStep(St)}N.steps.length&&(N.steps.forEach(St=>jn(this,St,Ge)),Ge.currentTimeline.applyStylesToKeyframe(),Ge.subContextCount>ue&&Ge.transformIntoNewTimeline()),j.previousNode=N}visitGroup(N,j){const ue=[];let Ge=j.currentTimeline.currentTime;const it=N.options&&N.options.delay?Be(N.options.delay):0;N.steps.forEach(St=>{const bt=j.createSubContext(N.options);it&&bt.delayNextStep(it),jn(this,St,bt),Ge=Math.max(Ge,bt.currentTimeline.currentTime),ue.push(bt.currentTimeline)}),ue.forEach(St=>j.currentTimeline.mergeTimelineCollectedStyles(St)),j.transformIntoNewTimeline(Ge),j.previousNode=N}_visitTiming(N,j){if(N.dynamic){const ue=N.strValue;return ke(j.params?Ct(ue,j.params,j.errors):ue,j.errors)}return{duration:N.duration,delay:N.delay,easing:N.easing}}visitAnimate(N,j){const ue=j.currentAnimateTimings=this._visitTiming(N.timings,j),Ge=j.currentTimeline;ue.delay&&(j.incrementTime(ue.delay),Ge.snapshotCurrentStyles());const it=N.style;5==it.type?this.visitKeyframes(it,j):(j.incrementTime(ue.duration),this.visitStyle(it,j),Ge.applyStylesToKeyframe()),j.currentAnimateTimings=null,j.previousNode=N}visitStyle(N,j){const ue=j.currentTimeline,Ge=j.currentAnimateTimings;!Ge&&ue.getCurrentStyleProperties().length&&ue.forwardFrame();const it=Ge&&Ge.easing||N.easing;N.isEmptyStep?ue.applyEmptyStep(it):ue.setStyles(N.styles,it,j.errors,j.options),j.previousNode=N}visitKeyframes(N,j){const ue=j.currentAnimateTimings,Ge=j.currentTimeline.duration,it=ue.duration,bt=j.createSubContext().currentTimeline;bt.easing=ue.easing,N.styles.forEach(Ft=>{bt.forwardTime((Ft.offset||0)*it),bt.setStyles(Ft.styles,Ft.easing,j.errors,j.options),bt.applyStylesToKeyframe()}),j.currentTimeline.mergeTimelineCollectedStyles(bt),j.transformIntoNewTimeline(Ge+it),j.previousNode=N}visitQuery(N,j){const ue=j.currentTimeline.currentTime,Ge=N.options||{},it=Ge.delay?Be(Ge.delay):0;it&&(6===j.previousNode.type||0==ue&&j.currentTimeline.getCurrentStyleProperties().length)&&(j.currentTimeline.snapshotCurrentStyles(),j.previousNode=Ci);let St=ue;const bt=j.invokeQuery(N.selector,N.originalSelector,N.limit,N.includeSelf,!!Ge.optional,j.errors);j.currentQueryTotal=bt.length;let Ft=null;bt.forEach((Wt,fn)=>{j.currentQueryIndex=fn;const bn=j.createSubContext(N.options,Wt);it&&bn.delayNextStep(it),Wt===j.element&&(Ft=bn.currentTimeline),jn(this,N.animation,bn),bn.currentTimeline.applyStylesToKeyframe(),St=Math.max(St,bn.currentTimeline.currentTime)}),j.currentQueryIndex=0,j.currentQueryTotal=0,j.transformIntoNewTimeline(St),Ft&&(j.currentTimeline.mergeTimelineCollectedStyles(Ft),j.currentTimeline.snapshotCurrentStyles()),j.previousNode=N}visitStagger(N,j){const ue=j.parentContext,Ge=j.currentTimeline,it=N.timings,St=Math.abs(it.duration),bt=St*(j.currentQueryTotal-1);let Ft=St*j.currentQueryIndex;switch(it.duration<0?"reverse":it.easing){case"reverse":Ft=bt-Ft;break;case"full":Ft=ue.currentStaggerTime}const fn=j.currentTimeline;Ft&&fn.delayNextStep(Ft);const bn=fn.currentTime;jn(this,N.animation,j),j.previousNode=N,ue.currentStaggerTime=Ge.currentTime-bn+(Ge.startTime-ue.currentTimeline.startTime)}}const Ci={};class Go{constructor(N,j,ue,Ge,it,St,bt,Ft){this._driver=N,this.element=j,this.subInstructions=ue,this._enterClassName=Ge,this._leaveClassName=it,this.errors=St,this.timelines=bt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ci,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ft||new Mo(this._driver,j,0),bt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(N,j){if(!N)return;const ue=N;let Ge=this.options;null!=ue.duration&&(Ge.duration=Be(ue.duration)),null!=ue.delay&&(Ge.delay=Be(ue.delay));const it=ue.params;if(it){let St=Ge.params;St||(St=this.options.params={}),Object.keys(it).forEach(bt=>{(!j||!St.hasOwnProperty(bt))&&(St[bt]=Ct(it[bt],St,this.errors))})}}_copyOptions(){const N={};if(this.options){const j=this.options.params;if(j){const ue=N.params={};Object.keys(j).forEach(Ge=>{ue[Ge]=j[Ge]})}}return N}createSubContext(N=null,j,ue){const Ge=j||this.element,it=new Go(this._driver,Ge,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Ge,ue||0));return it.previousNode=this.previousNode,it.currentAnimateTimings=this.currentAnimateTimings,it.options=this._copyOptions(),it.updateOptions(N),it.currentQueryIndex=this.currentQueryIndex,it.currentQueryTotal=this.currentQueryTotal,it.parentContext=this,this.subContextCount++,it}transformIntoNewTimeline(N){return this.previousNode=Ci,this.currentTimeline=this.currentTimeline.fork(this.element,N),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(N,j,ue){const Ge={duration:null!=j?j:N.duration,delay:this.currentTimeline.currentTime+(null!=ue?ue:0)+N.delay,easing:""},it=new $o(this._driver,N.element,N.keyframes,N.preStyleProps,N.postStyleProps,Ge,N.stretchStartingKeyframe);return this.timelines.push(it),Ge}incrementTime(N){this.currentTimeline.forwardTime(this.currentTimeline.duration+N)}delayNextStep(N){N>0&&this.currentTimeline.delayNextStep(N)}invokeQuery(N,j,ue,Ge,it,St){let bt=[];if(Ge&&bt.push(this.element),N.length>0){N=(N=N.replace(Bn,"."+this._enterClassName)).replace(Di,"."+this._leaveClassName);let Wt=this._driver.query(this.element,N,1!=ue);0!==ue&&(Wt=ue<0?Wt.slice(Wt.length+ue,Wt.length):Wt.slice(0,ue)),bt.push(...Wt)}return!it&&0==bt.length&&St.push(function L(xe){return new o.vHH(3014,a)}()),bt}}class Mo{constructor(N,j,ue,Ge){this._driver=N,this.element=j,this.startTime=ue,this._elementTimelineStylesLookup=Ge,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(j),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(j,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(N){const j=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||j?(this.forwardTime(this.currentTime+N),j&&this.snapshotCurrentStyles()):this.startTime+=N}fork(N,j){return this.applyStylesToKeyframe(),new Mo(this._driver,N,j||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(N){this.applyStylesToKeyframe(),this.duration=N,this._loadKeyframe()}_updateStyle(N,j){this._localTimelineStyles[N]=j,this._globalTimelineStyles[N]=j,this._styleSummary[N]={time:this.currentTime,value:j}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(N){N&&(this._previousKeyframe.easing=N),Object.keys(this._globalTimelineStyles).forEach(j=>{this._backFill[j]=this._globalTimelineStyles[j]||g.l3,this._currentKeyframe[j]=g.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(N,j,ue,Ge){j&&(this._previousKeyframe.easing=j);const it=Ge&&Ge.params||{},St=function co(xe,N){const j={};let ue;return xe.forEach(Ge=>{"*"===Ge?(ue=ue||Object.keys(N),ue.forEach(it=>{j[it]=g.l3})):Ee(Ge,!1,j)}),j}(N,this._globalTimelineStyles);Object.keys(St).forEach(bt=>{const Ft=Ct(St[bt],it,ue);this._pendingStyles[bt]=Ft,this._localTimelineStyles.hasOwnProperty(bt)||(this._backFill[bt]=this._globalTimelineStyles.hasOwnProperty(bt)?this._globalTimelineStyles[bt]:g.l3),this._updateStyle(bt,Ft)})}applyStylesToKeyframe(){const N=this._pendingStyles,j=Object.keys(N);0!=j.length&&(this._pendingStyles={},j.forEach(ue=>{this._currentKeyframe[ue]=N[ue]}),Object.keys(this._localTimelineStyles).forEach(ue=>{this._currentKeyframe.hasOwnProperty(ue)||(this._currentKeyframe[ue]=this._localTimelineStyles[ue])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(N=>{const j=this._localTimelineStyles[N];this._pendingStyles[N]=j,this._updateStyle(N,j)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const N=[];for(let j in this._currentKeyframe)N.push(j);return N}mergeTimelineCollectedStyles(N){Object.keys(N._styleSummary).forEach(j=>{const ue=this._styleSummary[j],Ge=N._styleSummary[j];(!ue||Ge.time>ue.time)&&this._updateStyle(j,Ge.value)})}buildKeyframes(){this.applyStylesToKeyframe();const N=new Set,j=new Set,ue=1===this._keyframes.size&&0===this.duration;let Ge=[];this._keyframes.forEach((bt,Ft)=>{const Wt=Ee(bt,!0);Object.keys(Wt).forEach(fn=>{const bn=Wt[fn];bn==g.k1?N.add(fn):bn==g.l3&&j.add(fn)}),ue||(Wt.offset=Ft/this.duration),Ge.push(Wt)});const it=N.size?Ut(N.values()):[],St=j.size?Ut(j.values()):[];if(ue){const bt=Ge[0],Ft=ae(bt);bt.offset=0,Ft.offset=1,Ge=[bt,Ft]}return At(this.element,Ge,it,St,this.duration,this.startTime,this.easing,!1)}}class $o extends Mo{constructor(N,j,ue,Ge,it,St,bt=!1){super(N,j,St.delay),this.keyframes=ue,this.preStyleProps=Ge,this.postStyleProps=it,this._stretchStartingKeyframe=bt,this.timings={duration:St.duration,delay:St.delay,easing:St.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let N=this.keyframes,{delay:j,duration:ue,easing:Ge}=this.timings;if(this._stretchStartingKeyframe&&j){const it=[],St=ue+j,bt=j/St,Ft=Ee(N[0],!1);Ft.offset=0,it.push(Ft);const Wt=Ee(N[0],!1);Wt.offset=Xo(bt),it.push(Wt);const fn=N.length-1;for(let bn=1;bn<=fn;bn++){let xn=Ee(N[bn],!1);xn.offset=Xo((j+xn.offset*ue)/St),it.push(xn)}ue=St,j=0,Ge="",N=it}return At(this.element,N,this.preStyleProps,this.postStyleProps,ue,j,Ge,!0)}}function Xo(xe,N=3){const j=Math.pow(10,N-1);return Math.round(xe*j)/j}class mo{}class vo extends mo{normalizePropertyName(N,j){return ln(N)}normalizeStyleValue(N,j,ue,Ge){let it="";const St=ue.toString().trim();if(xo[j]&&0!==ue&&"0"!==ue)if("number"==typeof ue)it="px";else{const bt=ue.match(/^[+-]?[\d\.]+([a-z]*)$/);bt&&0==bt[1].length&&Ge.push(function E(xe,N){return new o.vHH(3005,a)}())}return St+it}}const xo=(()=>function Jo(xe){const N={};return xe.forEach(j=>N[j]=!0),N}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function qo(xe,N,j,ue,Ge,it,St,bt,Ft,Wt,fn,bn,xn){return{type:0,element:xe,triggerName:N,isRemovalTransition:Ge,fromState:j,fromStyles:it,toState:ue,toStyles:St,timelines:bt,queriedElements:Ft,preStyleProps:Wt,postStyleProps:fn,totalTime:bn,errors:xn}}const Uo={};class Ki{constructor(N,j,ue){this._triggerName=N,this.ast=j,this._stateStyles=ue}match(N,j,ue,Ge){return function uo(xe,N,j,ue,Ge){return xe.some(it=>it(N,j,ue,Ge))}(this.ast.matchers,N,j,ue,Ge)}buildStyles(N,j,ue){const Ge=this._stateStyles["*"],it=this._stateStyles[N],St=Ge?Ge.buildStyles(j,ue):{};return it?it.buildStyles(j,ue):St}build(N,j,ue,Ge,it,St,bt,Ft,Wt,fn){const bn=[],xn=this.ast.options&&this.ast.options.params||Uo,Rn=this.buildStyles(ue,bt&&bt.params||Uo,bn),Hn=Ft&&Ft.params||Uo,li=this.buildStyles(Ge,Hn,bn),wi=new Set,Yi=new Map,ro=new Map,ci="void"===Ge,po={params:Object.assign(Object.assign({},xn),Hn)},ai=fn?[]:wn(N,j,this.ast.animation,it,St,Rn,li,po,Wt,bn);let eo=0;if(ai.forEach(xi=>{eo=Math.max(xi.duration+xi.delay,eo)}),bn.length)return qo(j,this._triggerName,ue,Ge,ci,Rn,li,[],[],Yi,ro,eo,bn);ai.forEach(xi=>{const Wo=xi.element,Kr=Ze(Yi,Wo,{});xi.preStyleProps.forEach(Ao=>Kr[Ao]=!0);const sr=Ze(ro,Wo,{});xi.postStyleProps.forEach(Ao=>sr[Ao]=!0),Wo!==j&&wi.add(Wo)});const zo=Ut(wi.values());return qo(j,this._triggerName,ue,Ge,ci,Rn,li,ai,zo,Yi,ro,eo)}}class ir{constructor(N,j,ue){this.styles=N,this.defaultParams=j,this.normalizer=ue}buildStyles(N,j){const ue={},Ge=ae(this.defaultParams);return Object.keys(N).forEach(it=>{const St=N[it];null!=St&&(Ge[it]=St)}),this.styles.styles.forEach(it=>{if("string"!=typeof it){const St=it;Object.keys(St).forEach(bt=>{let Ft=St[bt];Ft.length>1&&(Ft=Ct(Ft,Ge,j));const Wt=this.normalizer.normalizePropertyName(bt,j);Ft=this.normalizer.normalizeStyleValue(bt,Wt,Ft,j),ue[Wt]=Ft})}}),ue}}class fi{constructor(N,j,ue){this.name=N,this.ast=j,this._normalizer=ue,this.transitionFactories=[],this.states={},j.states.forEach(Ge=>{this.states[Ge.name]=new ir(Ge.style,Ge.options&&Ge.options.params||{},ue)}),yo(this.states,"true","1"),yo(this.states,"false","0"),j.transitions.forEach(Ge=>{this.transitionFactories.push(new Ki(N,Ge,this.states))}),this.fallbackTransition=function or(xe,N,j){return new Ki(xe,{type:1,animation:{type:2,steps:[],options:null},matchers:[(St,bt)=>!0],options:null,queryCount:0,depCount:0},N)}(N,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(N,j,ue,Ge){return this.transitionFactories.find(St=>St.match(N,j,ue,Ge))||null}matchStyles(N,j,ue){return this.fallbackTransition.buildStyles(N,j,ue)}}function yo(xe,N,j){xe.hasOwnProperty(N)?xe.hasOwnProperty(j)||(xe[j]=xe[N]):xe.hasOwnProperty(j)&&(xe[N]=xe[j])}const No=new Jt;class no{constructor(N,j,ue){this.bodyNode=N,this._driver=j,this._normalizer=ue,this._animations={},this._playersById={},this.players=[]}register(N,j){const ue=[],it=si(this._driver,j,ue,[]);if(ue.length)throw function q(xe){return new o.vHH(3503,a)}();this._animations[N]=it}_buildPlayer(N,j,ue){const Ge=N.element,it=De(0,this._normalizer,0,N.keyframes,j,ue);return this._driver.animate(Ge,it,N.duration,N.delay,N.easing,[],!0)}create(N,j,ue={}){const Ge=[],it=this._animations[N];let St;const bt=new Map;if(it?(St=wn(this._driver,j,it,xt,Nt,{},{},ue,No,Ge),St.forEach(fn=>{const bn=Ze(bt,fn.element,{});fn.postStyleProps.forEach(xn=>bn[xn]=null)})):(Ge.push(function X(){return new o.vHH(3300,a)}()),St=[]),Ge.length)throw function de(xe){return new o.vHH(3504,a)}();bt.forEach((fn,bn)=>{Object.keys(fn).forEach(xn=>{fn[xn]=this._driver.computeStyle(bn,xn,g.l3)})});const Wt=It(St.map(fn=>{const bn=bt.get(fn.element);return this._buildPlayer(fn,{},bn)}));return this._playersById[N]=Wt,Wt.onDestroy(()=>this.destroy(N)),this.players.push(Wt),Wt}destroy(N){const j=this._getPlayer(N);j.destroy(),delete this._playersById[N];const ue=this.players.indexOf(j);ue>=0&&this.players.splice(ue,1)}_getPlayer(N){const j=this._playersById[N];if(!j)throw function fe(xe){return new o.vHH(3301,a)}();return j}listen(N,j,ue,Ge){const it=lt(j,"","","");return Se(this._getPlayer(N),ue,it,Ge),()=>{}}command(N,j,ue,Ge){if("register"==ue)return void this.register(N,Ge[0]);if("create"==ue)return void this.create(N,j,Ge[0]||{});const it=this._getPlayer(N);switch(ue){case"play":it.play();break;case"pause":it.pause();break;case"reset":it.reset();break;case"restart":it.restart();break;case"finish":it.finish();break;case"init":it.init();break;case"setPosition":it.setPosition(parseFloat(Ge[0]));break;case"destroy":this.destroy(N)}}}const Eo="ng-animate-queued",Qi="ng-animate-disabled",Ti=[],er={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bi="__ng_removed";class Gi{constructor(N,j=""){this.namespaceId=j;const ue=N&&N.hasOwnProperty("value");if(this.value=function w(xe){return null!=xe?xe:null}(ue?N.value:N),ue){const it=ae(N);delete it.value,this.options=it}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(N){const j=N.params;if(j){const ue=this.options.params;Object.keys(j).forEach(Ge=>{null==ue[Ge]&&(ue[Ge]=j[Ge])})}}}const bo="void",Po=new Gi(bo);class Co{constructor(N,j,ue){this.id=N,this.hostElement=j,this._engine=ue,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+N,Pt(j,this._hostClassName)}listen(N,j,ue,Ge){if(!this._triggers.hasOwnProperty(j))throw function We(xe,N){return new o.vHH(3302,a)}();if(null==ue||0==ue.length)throw function Ne(xe){return new o.vHH(3303,a)}();if(!function B(xe){return"start"==xe||"done"==xe}(ue))throw function dt(xe,N){return new o.vHH(3400,a)}();const it=Ze(this._elementListeners,N,[]),St={name:j,phase:ue,callback:Ge};it.push(St);const bt=Ze(this._engine.statesByElement,N,{});return bt.hasOwnProperty(j)||(Pt(N,Ke),Pt(N,Ke+"-"+j),bt[j]=Po),()=>{this._engine.afterFlush(()=>{const Ft=it.indexOf(St);Ft>=0&&it.splice(Ft,1),this._triggers[j]||delete bt[j]})}}register(N,j){return!this._triggers[N]&&(this._triggers[N]=j,!0)}_getTrigger(N){const j=this._triggers[N];if(!j)throw function ge(xe){return new o.vHH(3401,a)}();return j}trigger(N,j,ue,Ge=!0){const it=this._getTrigger(j),St=new Ho(this.id,j,N);let bt=this._engine.statesByElement.get(N);bt||(Pt(N,Ke),Pt(N,Ke+"-"+j),this._engine.statesByElement.set(N,bt={}));let Ft=bt[j];const Wt=new Gi(ue,this.id);if(!(ue&&ue.hasOwnProperty("value"))&&Ft&&Wt.absorbOptions(Ft.options),bt[j]=Wt,Ft||(Ft=Po),Wt.value!==bo&&Ft.value===Wt.value){if(!function hn(xe,N){const j=Object.keys(xe),ue=Object.keys(N);if(j.length!=ue.length)return!1;for(let Ge=0;Ge<j.length;Ge++){const it=j[Ge];if(!N.hasOwnProperty(it)||xe[it]!==N[it])return!1}return!0}(Ft.params,Wt.params)){const Hn=[],li=it.matchStyles(Ft.value,Ft.params,Hn),wi=it.matchStyles(Wt.value,Wt.params,Hn);Hn.length?this._engine.reportError(Hn):this._engine.afterFlush(()=>{_t(N,li),Xe(N,wi)})}return}const xn=Ze(this._engine.playersByElement,N,[]);xn.forEach(Hn=>{Hn.namespaceId==this.id&&Hn.triggerName==j&&Hn.queued&&Hn.destroy()});let Kn=it.matchTransition(Ft.value,Wt.value,N,Wt.params),Rn=!1;if(!Kn){if(!Ge)return;Kn=it.fallbackTransition,Rn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:N,triggerName:j,transition:Kn,fromState:Ft,toState:Wt,player:St,isFallbackTransition:Rn}),Rn||(Pt(N,Eo),St.onStart(()=>{Vt(N,Eo)})),St.onDone(()=>{let Hn=this.players.indexOf(St);Hn>=0&&this.players.splice(Hn,1);const li=this._engine.playersByElement.get(N);if(li){let wi=li.indexOf(St);wi>=0&&li.splice(wi,1)}}),this.players.push(St),xn.push(St),St}deregister(N){delete this._triggers[N],this._engine.statesByElement.forEach((j,ue)=>{delete j[N]}),this._elementListeners.forEach((j,ue)=>{this._elementListeners.set(ue,j.filter(Ge=>Ge.name!=N))})}clearElementCache(N){this._engine.statesByElement.delete(N),this._elementListeners.delete(N);const j=this._engine.playersByElement.get(N);j&&(j.forEach(ue=>ue.destroy()),this._engine.playersByElement.delete(N))}_signalRemovalForInnerTriggers(N,j){const ue=this._engine.driver.query(N,Et,!0);ue.forEach(Ge=>{if(Ge[Bi])return;const it=this._engine.fetchNamespacesByElement(Ge);it.size?it.forEach(St=>St.triggerLeaveAnimation(Ge,j,!1,!0)):this.clearElementCache(Ge)}),this._engine.afterFlushAnimationsDone(()=>ue.forEach(Ge=>this.clearElementCache(Ge)))}triggerLeaveAnimation(N,j,ue,Ge){const it=this._engine.statesByElement.get(N),St=new Map;if(it){const bt=[];if(Object.keys(it).forEach(Ft=>{if(St.set(Ft,it[Ft].value),this._triggers[Ft]){const Wt=this.trigger(N,Ft,bo,Ge);Wt&&bt.push(Wt)}}),bt.length)return this._engine.markElementAsRemoved(this.id,N,!0,j,St),ue&&It(bt).onDone(()=>this._engine.processLeaveNode(N)),!0}return!1}prepareLeaveAnimationListeners(N){const j=this._elementListeners.get(N),ue=this._engine.statesByElement.get(N);if(j&&ue){const Ge=new Set;j.forEach(it=>{const St=it.name;if(Ge.has(St))return;Ge.add(St);const Ft=this._triggers[St].fallbackTransition,Wt=ue[St]||Po,fn=new Gi(bo),bn=new Ho(this.id,St,N);this._engine.totalQueuedPlayers++,this._queue.push({element:N,triggerName:St,transition:Ft,fromState:Wt,toState:fn,player:bn,isFallbackTransition:!0})})}}removeNode(N,j){const ue=this._engine;if(N.childElementCount&&this._signalRemovalForInnerTriggers(N,j),this.triggerLeaveAnimation(N,j,!0))return;let Ge=!1;if(ue.totalAnimations){const it=ue.players.length?ue.playersByQueriedElement.get(N):[];if(it&&it.length)Ge=!0;else{let St=N;for(;St=St.parentNode;)if(ue.statesByElement.get(St)){Ge=!0;break}}}if(this.prepareLeaveAnimationListeners(N),Ge)ue.markElementAsRemoved(this.id,N,!1,j);else{const it=N[Bi];(!it||it===er)&&(ue.afterFlush(()=>this.clearElementCache(N)),ue.destroyInnerAnimations(N),ue._onRemovalComplete(N,j))}}insertNode(N,j){Pt(N,this._hostClassName)}drainQueuedTransitions(N){const j=[];return this._queue.forEach(ue=>{const Ge=ue.player;if(Ge.destroyed)return;const it=ue.element,St=this._elementListeners.get(it);St&&St.forEach(bt=>{if(bt.name==ue.triggerName){const Ft=lt(it,ue.triggerName,ue.fromState.value,ue.toState.value);Ft._data=N,Se(ue.player,bt.phase,Ft,bt.callback)}}),Ge.markedForDestroy?this._engine.afterFlush(()=>{Ge.destroy()}):j.push(ue)}),this._queue=[],j.sort((ue,Ge)=>{const it=ue.transition.ast.depCount,St=Ge.transition.ast.depCount;return 0==it||0==St?it-St:this._engine.driver.containsElement(ue.element,Ge.element)?1:-1})}destroy(N){this.players.forEach(j=>j.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,N)}elementContainsData(N){let j=!1;return this._elementListeners.has(N)&&(j=!0),j=!!this._queue.find(ue=>ue.element===N)||j,j}}class ho{constructor(N,j,ue){this.bodyNode=N,this.driver=j,this._normalizer=ue,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Ge,it)=>{}}_onRemovalComplete(N,j){this.onRemovalComplete(N,j)}get queuedPlayers(){const N=[];return this._namespaceList.forEach(j=>{j.players.forEach(ue=>{ue.queued&&N.push(ue)})}),N}createNamespace(N,j){const ue=new Co(N,j,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,j)?this._balanceNamespaceList(ue,j):(this.newHostElements.set(j,ue),this.collectEnterElement(j)),this._namespaceLookup[N]=ue}_balanceNamespaceList(N,j){const ue=this._namespaceList,Ge=this.namespacesByHostElement,it=ue.length-1;if(it>=0){let St=!1;if(void 0!==this.driver.getParentElement){let bt=this.driver.getParentElement(j);for(;bt;){const Ft=Ge.get(bt);if(Ft){const Wt=ue.indexOf(Ft);ue.splice(Wt+1,0,N),St=!0;break}bt=this.driver.getParentElement(bt)}}else for(let bt=it;bt>=0;bt--)if(this.driver.containsElement(ue[bt].hostElement,j)){ue.splice(bt+1,0,N),St=!0;break}St||ue.unshift(N)}else ue.push(N);return Ge.set(j,N),N}register(N,j){let ue=this._namespaceLookup[N];return ue||(ue=this.createNamespace(N,j)),ue}registerTrigger(N,j,ue){let Ge=this._namespaceLookup[N];Ge&&Ge.register(j,ue)&&this.totalAnimations++}destroy(N,j){if(!N)return;const ue=this._fetchNamespace(N);this.afterFlush(()=>{this.namespacesByHostElement.delete(ue.hostElement),delete this._namespaceLookup[N];const Ge=this._namespaceList.indexOf(ue);Ge>=0&&this._namespaceList.splice(Ge,1)}),this.afterFlushAnimationsDone(()=>ue.destroy(j))}_fetchNamespace(N){return this._namespaceLookup[N]}fetchNamespacesByElement(N){const j=new Set,ue=this.statesByElement.get(N);if(ue){const Ge=Object.keys(ue);for(let it=0;it<Ge.length;it++){const St=ue[Ge[it]].namespaceId;if(St){const bt=this._fetchNamespace(St);bt&&j.add(bt)}}}return j}trigger(N,j,ue,Ge){if(W(j)){const it=this._fetchNamespace(N);if(it)return it.trigger(j,ue,Ge),!0}return!1}insertNode(N,j,ue,Ge){if(!W(j))return;const it=j[Bi];if(it&&it.setForRemoval){it.setForRemoval=!1,it.setForMove=!0;const St=this.collectedLeaveElements.indexOf(j);St>=0&&this.collectedLeaveElements.splice(St,1)}if(N){const St=this._fetchNamespace(N);St&&St.insertNode(j,ue)}Ge&&this.collectEnterElement(j)}collectEnterElement(N){this.collectedEnterElements.push(N)}markElementAsDisabled(N,j){j?this.disabledNodes.has(N)||(this.disabledNodes.add(N),Pt(N,Qi)):this.disabledNodes.has(N)&&(this.disabledNodes.delete(N),Vt(N,Qi))}removeNode(N,j,ue,Ge){if(W(j)){const it=N?this._fetchNamespace(N):null;if(it?it.removeNode(j,Ge):this.markElementAsRemoved(N,j,!1,Ge),ue){const St=this.namespacesByHostElement.get(j);St&&St.id!==N&&St.removeNode(j,Ge)}}else this._onRemovalComplete(j,Ge)}markElementAsRemoved(N,j,ue,Ge,it){this.collectedLeaveElements.push(j),j[Bi]={namespaceId:N,setForRemoval:Ge,hasAnimation:ue,removedBeforeQueried:!1,previousTriggersValues:it}}listen(N,j,ue,Ge,it){return W(j)?this._fetchNamespace(N).listen(j,ue,Ge,it):()=>{}}_buildInstruction(N,j,ue,Ge,it){return N.transition.build(this.driver,N.element,N.fromState.value,N.toState.value,ue,Ge,N.fromState.options,N.toState.options,j,it)}destroyInnerAnimations(N){let j=this.driver.query(N,Et,!0);j.forEach(ue=>this.destroyActiveAnimationsForElement(ue)),0!=this.playersByQueriedElement.size&&(j=this.driver.query(N,nt,!0),j.forEach(ue=>this.finishActiveQueriedAnimationOnElement(ue)))}destroyActiveAnimationsForElement(N){const j=this.playersByElement.get(N);j&&j.forEach(ue=>{ue.queued?ue.markedForDestroy=!0:ue.destroy()})}finishActiveQueriedAnimationOnElement(N){const j=this.playersByQueriedElement.get(N);j&&j.forEach(ue=>ue.finish())}whenRenderingDone(){return new Promise(N=>{if(this.players.length)return It(this.players).onDone(()=>N());N()})}processLeaveNode(N){var j;const ue=N[Bi];if(ue&&ue.setForRemoval){if(N[Bi]=er,ue.namespaceId){this.destroyInnerAnimations(N);const Ge=this._fetchNamespace(ue.namespaceId);Ge&&Ge.clearElementCache(N)}this._onRemovalComplete(N,ue.setForRemoval)}(null===(j=N.classList)||void 0===j?void 0:j.contains(Qi))&&this.markElementAsDisabled(N,!1),this.driver.query(N,".ng-animate-disabled",!0).forEach(Ge=>{this.markElementAsDisabled(Ge,!1)})}flush(N=-1){let j=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ue,Ge)=>this._balanceNamespaceList(ue,Ge)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ue=0;ue<this.collectedEnterElements.length;ue++)Pt(this.collectedEnterElements[ue],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ue=[];try{j=this._flushAnimations(ue,N)}finally{for(let Ge=0;Ge<ue.length;Ge++)ue[Ge]()}}else for(let ue=0;ue<this.collectedLeaveElements.length;ue++)this.processLeaveNode(this.collectedLeaveElements[ue]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ue=>ue()),this._flushFns=[],this._whenQuietFns.length){const ue=this._whenQuietFns;this._whenQuietFns=[],j.length?It(j).onDone(()=>{ue.forEach(Ge=>Ge())}):ue.forEach(Ge=>Ge())}}reportError(N){throw function Je(xe){return new o.vHH(3402,a)}()}_flushAnimations(N,j){const ue=new Jt,Ge=[],it=new Map,St=[],bt=new Map,Ft=new Map,Wt=new Map,fn=new Set;this.disabledNodes.forEach(mn=>{fn.add(mn);const Tn=this.driver.query(mn,".ng-animate-queued",!0);for(let Fn=0;Fn<Tn.length;Fn++)fn.add(Tn[Fn])});const bn=this.bodyNode,xn=Array.from(this.statesByElement.keys()),Kn=ct(xn,this.collectedEnterElements),Rn=new Map;let Hn=0;Kn.forEach((mn,Tn)=>{const Fn=xt+Hn++;Rn.set(Tn,Fn),mn.forEach(Vn=>Pt(Vn,Fn))});const li=[],wi=new Set,Yi=new Set;for(let mn=0;mn<this.collectedLeaveElements.length;mn++){const Tn=this.collectedLeaveElements[mn],Fn=Tn[Bi];Fn&&Fn.setForRemoval&&(li.push(Tn),wi.add(Tn),Fn.hasAnimation?this.driver.query(Tn,".ng-star-inserted",!0).forEach(Vn=>wi.add(Vn)):Yi.add(Tn))}const ro=new Map,ci=ct(xn,Array.from(wi));ci.forEach((mn,Tn)=>{const Fn=Nt+Hn++;ro.set(Tn,Fn),mn.forEach(Vn=>Pt(Vn,Fn))}),N.push(()=>{Kn.forEach((mn,Tn)=>{const Fn=Rn.get(Tn);mn.forEach(Vn=>Vt(Vn,Fn))}),ci.forEach((mn,Tn)=>{const Fn=ro.get(Tn);mn.forEach(Vn=>Vt(Vn,Fn))}),li.forEach(mn=>{this.processLeaveNode(mn)})});const po=[],ai=[];for(let mn=this._namespaceList.length-1;mn>=0;mn--)this._namespaceList[mn].drainQueuedTransitions(j).forEach(Fn=>{const Vn=Fn.player,Ni=Fn.element;if(po.push(Vn),this.collectedEnterElements.length){const so=Ni[Bi];if(so&&so.setForMove){if(so.previousTriggersValues&&so.previousTriggersValues.has(Fn.triggerName)){const ur=so.previousTriggersValues.get(Fn.triggerName),Ro=this.statesByElement.get(Fn.element);Ro&&Ro[Fn.triggerName]&&(Ro[Fn.triggerName].value=ur)}return void Vn.destroy()}}const Do=!bn||!this.driver.containsElement(bn,Ni),To=ro.get(Ni),Zi=Rn.get(Ni),Si=this._buildInstruction(Fn,ue,Zi,To,Do);if(Si.errors&&Si.errors.length)return void ai.push(Si);if(Do)return Vn.onStart(()=>_t(Ni,Si.fromStyles)),Vn.onDestroy(()=>Xe(Ni,Si.toStyles)),void Ge.push(Vn);if(Fn.isFallbackTransition)return Vn.onStart(()=>_t(Ni,Si.fromStyles)),Vn.onDestroy(()=>Xe(Ni,Si.toStyles)),void Ge.push(Vn);const ns=[];Si.timelines.forEach(so=>{so.stretchStartingKeyframe=!0,this.disabledNodes.has(so.element)||ns.push(so)}),Si.timelines=ns,ue.append(Ni,Si.timelines),St.push({instruction:Si,player:Vn,element:Ni}),Si.queriedElements.forEach(so=>Ze(bt,so,[]).push(Vn)),Si.preStyleProps.forEach((so,ur)=>{const Ro=Object.keys(so);if(Ro.length){let Yo=Ft.get(ur);Yo||Ft.set(ur,Yo=new Set),Ro.forEach(dr=>Yo.add(dr))}}),Si.postStyleProps.forEach((so,ur)=>{const Ro=Object.keys(so);let Yo=Wt.get(ur);Yo||Wt.set(ur,Yo=new Set),Ro.forEach(dr=>Yo.add(dr))})});if(ai.length){const mn=[];ai.forEach(Tn=>{mn.push(function Re(xe,N){return new o.vHH(3505,a)}())}),po.forEach(Tn=>Tn.destroy()),this.reportError(mn)}const eo=new Map,zo=new Map;St.forEach(mn=>{const Tn=mn.element;ue.has(Tn)&&(zo.set(Tn,Tn),this._beforeAnimationBuild(mn.player.namespaceId,mn.instruction,eo))}),Ge.forEach(mn=>{const Tn=mn.element;this._getPreviousPlayers(Tn,!1,mn.namespaceId,mn.triggerName,null).forEach(Vn=>{Ze(eo,Tn,[]).push(Vn),Vn.destroy()})});const xi=li.filter(mn=>In(mn,Ft,Wt)),Wo=new Map;Ve(Wo,this.driver,Yi,Wt,g.l3).forEach(mn=>{In(mn,Ft,Wt)&&xi.push(mn)});const sr=new Map;Kn.forEach((mn,Tn)=>{Ve(sr,this.driver,new Set(mn),Ft,g.k1)}),xi.forEach(mn=>{const Tn=Wo.get(mn),Fn=sr.get(mn);Wo.set(mn,Object.assign(Object.assign({},Tn),Fn))});const Ao=[],Fo=[],Er={};St.forEach(mn=>{const{element:Tn,player:Fn,instruction:Vn}=mn;if(ue.has(Tn)){if(fn.has(Tn))return Fn.onDestroy(()=>Xe(Tn,Vn.toStyles)),Fn.disabled=!0,Fn.overrideTotalTime(Vn.totalTime),void Ge.push(Fn);let Ni=Er;if(zo.size>1){let To=Tn;const Zi=[];for(;To=To.parentNode;){const Si=zo.get(To);if(Si){Ni=Si;break}Zi.push(To)}Zi.forEach(Si=>zo.set(Si,Ni))}const Do=this._buildAnimation(Fn.namespaceId,Vn,eo,it,sr,Wo);if(Fn.setRealPlayer(Do),Ni===Er)Ao.push(Fn);else{const To=this.playersByElement.get(Ni);To&&To.length&&(Fn.parentPlayer=It(To)),Ge.push(Fn)}}else _t(Tn,Vn.fromStyles),Fn.onDestroy(()=>Xe(Tn,Vn.toStyles)),Fo.push(Fn),fn.has(Tn)&&Ge.push(Fn)}),Fo.forEach(mn=>{const Tn=it.get(mn.element);if(Tn&&Tn.length){const Fn=It(Tn);mn.setRealPlayer(Fn)}}),Ge.forEach(mn=>{mn.parentPlayer?mn.syncPlayerEvents(mn.parentPlayer):mn.destroy()});for(let mn=0;mn<li.length;mn++){const Tn=li[mn],Fn=Tn[Bi];if(Vt(Tn,Nt),Fn&&Fn.hasAnimation)continue;let Vn=[];if(bt.size){let Do=bt.get(Tn);Do&&Do.length&&Vn.push(...Do);let To=this.driver.query(Tn,nt,!0);for(let Zi=0;Zi<To.length;Zi++){let Si=bt.get(To[Zi]);Si&&Si.length&&Vn.push(...Si)}}const Ni=Vn.filter(Do=>!Do.destroyed);Ni.length?en(this,Tn,Ni):this.processLeaveNode(Tn)}return li.length=0,Ao.forEach(mn=>{this.players.push(mn),mn.onDone(()=>{mn.destroy();const Tn=this.players.indexOf(mn);this.players.splice(Tn,1)}),mn.play()}),Ao}elementContainsData(N,j){let ue=!1;const Ge=j[Bi];return Ge&&Ge.setForRemoval&&(ue=!0),this.playersByElement.has(j)&&(ue=!0),this.playersByQueriedElement.has(j)&&(ue=!0),this.statesByElement.has(j)&&(ue=!0),this._fetchNamespace(N).elementContainsData(j)||ue}afterFlush(N){this._flushFns.push(N)}afterFlushAnimationsDone(N){this._whenQuietFns.push(N)}_getPreviousPlayers(N,j,ue,Ge,it){let St=[];if(j){const bt=this.playersByQueriedElement.get(N);bt&&(St=bt)}else{const bt=this.playersByElement.get(N);if(bt){const Ft=!it||it==bo;bt.forEach(Wt=>{Wt.queued||!Ft&&Wt.triggerName!=Ge||St.push(Wt)})}}return(ue||Ge)&&(St=St.filter(bt=>!(ue&&ue!=bt.namespaceId||Ge&&Ge!=bt.triggerName))),St}_beforeAnimationBuild(N,j,ue){const it=j.element,St=j.isRemovalTransition?void 0:N,bt=j.isRemovalTransition?void 0:j.triggerName;for(const Ft of j.timelines){const Wt=Ft.element,fn=Wt!==it,bn=Ze(ue,Wt,[]);this._getPreviousPlayers(Wt,fn,St,bt,j.toState).forEach(Kn=>{const Rn=Kn.getRealPlayer();Rn.beforeDestroy&&Rn.beforeDestroy(),Kn.destroy(),bn.push(Kn)})}_t(it,j.fromStyles)}_buildAnimation(N,j,ue,Ge,it,St){const bt=j.triggerName,Ft=j.element,Wt=[],fn=new Set,bn=new Set,xn=j.timelines.map(Rn=>{const Hn=Rn.element;fn.add(Hn);const li=Hn[Bi];if(li&&li.removedBeforeQueried)return new g.ZN(Rn.duration,Rn.delay);const wi=Hn!==Ft,Yi=function gn(xe){const N=[];return dn(xe,N),N}((ue.get(Hn)||Ti).map(eo=>eo.getRealPlayer())).filter(eo=>!!eo.element&&eo.element===Hn),ro=it.get(Hn),ci=St.get(Hn),po=De(0,this._normalizer,0,Rn.keyframes,ro,ci),ai=this._buildPlayer(Rn,po,Yi);if(Rn.subTimeline&&Ge&&bn.add(Hn),wi){const eo=new Ho(N,bt,Hn);eo.setRealPlayer(ai),Wt.push(eo)}return ai});Wt.forEach(Rn=>{Ze(this.playersByQueriedElement,Rn.element,[]).push(Rn),Rn.onDone(()=>function je(xe,N,j){let ue;if(xe instanceof Map){if(ue=xe.get(N),ue){if(ue.length){const Ge=ue.indexOf(j);ue.splice(Ge,1)}0==ue.length&&xe.delete(N)}}else if(ue=xe[N],ue){if(ue.length){const Ge=ue.indexOf(j);ue.splice(Ge,1)}0==ue.length&&delete xe[N]}return ue}(this.playersByQueriedElement,Rn.element,Rn))}),fn.forEach(Rn=>Pt(Rn,et));const Kn=It(xn);return Kn.onDestroy(()=>{fn.forEach(Rn=>Vt(Rn,et)),Xe(Ft,j.toStyles)}),bn.forEach(Rn=>{Ze(Ge,Rn,[]).push(Kn)}),Kn}_buildPlayer(N,j,ue){return j.length>0?this.driver.animate(N.element,j,N.duration,N.delay,N.easing,ue):new g.ZN(N.duration,N.delay)}}class Ho{constructor(N,j,ue){this.namespaceId=N,this.triggerName=j,this.element=ue,this._player=new g.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(N){this._containsRealPlayer||(this._player=N,Object.keys(this._queuedCallbacks).forEach(j=>{this._queuedCallbacks[j].forEach(ue=>Se(N,j,void 0,ue))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(N.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(N){this.totalTime=N}syncPlayerEvents(N){const j=this._player;j.triggerCallback&&N.onStart(()=>j.triggerCallback("start")),N.onDone(()=>this.finish()),N.onDestroy(()=>this.destroy())}_queueEvent(N,j){Ze(this._queuedCallbacks,N,[]).push(j)}onDone(N){this.queued&&this._queueEvent("done",N),this._player.onDone(N)}onStart(N){this.queued&&this._queueEvent("start",N),this._player.onStart(N)}onDestroy(N){this.queued&&this._queueEvent("destroy",N),this._player.onDestroy(N)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(N){this.queued||this._player.setPosition(N)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(N){const j=this._player;j.triggerCallback&&j.triggerCallback(N)}}function W(xe){return xe&&1===xe.nodeType}function re(xe,N){const j=xe.style.display;return xe.style.display=null!=N?N:"none",j}function Ve(xe,N,j,ue,Ge){const it=[];j.forEach(Ft=>it.push(re(Ft)));const St=[];ue.forEach((Ft,Wt)=>{const fn={};Ft.forEach(bn=>{const xn=fn[bn]=N.computeStyle(Wt,bn,Ge);(!xn||0==xn.length)&&(Wt[Bi]=rr,St.push(Wt))}),xe.set(Wt,fn)});let bt=0;return j.forEach(Ft=>re(Ft,it[bt++])),St}function ct(xe,N){const j=new Map;if(xe.forEach(bt=>j.set(bt,[])),0==N.length)return j;const Ge=new Set(N),it=new Map;function St(bt){if(!bt)return 1;let Ft=it.get(bt);if(Ft)return Ft;const Wt=bt.parentNode;return Ft=j.has(Wt)?Wt:Ge.has(Wt)?1:St(Wt),it.set(bt,Ft),Ft}return N.forEach(bt=>{const Ft=St(bt);1!==Ft&&j.get(Ft).push(bt)}),j}function Pt(xe,N){var j;null===(j=xe.classList)||void 0===j||j.add(N)}function Vt(xe,N){var j;null===(j=xe.classList)||void 0===j||j.remove(N)}function en(xe,N,j){It(j).onDone(()=>xe.processLeaveNode(N))}function dn(xe,N){for(let j=0;j<xe.length;j++){const ue=xe[j];ue instanceof g.ZE?dn(ue.players,N):N.push(ue)}}function In(xe,N,j){const ue=j.get(xe);if(!ue)return!1;let Ge=N.get(xe);return Ge?ue.forEach(it=>Ge.add(it)):N.set(xe,ue),j.delete(xe),!0}class En{constructor(N,j,ue){this.bodyNode=N,this._driver=j,this._normalizer=ue,this._triggerCache={},this.onRemovalComplete=(Ge,it)=>{},this._transitionEngine=new ho(N,j,ue),this._timelineEngine=new no(N,j,ue),this._transitionEngine.onRemovalComplete=(Ge,it)=>this.onRemovalComplete(Ge,it)}registerTrigger(N,j,ue,Ge,it){const St=N+"-"+Ge;let bt=this._triggerCache[St];if(!bt){const Ft=[],fn=si(this._driver,it,Ft,[]);if(Ft.length)throw function ne(xe,N){return new o.vHH(3404,a)}();bt=function Oo(xe,N,j){return new fi(xe,N,j)}(Ge,fn,this._normalizer),this._triggerCache[St]=bt}this._transitionEngine.registerTrigger(j,Ge,bt)}register(N,j){this._transitionEngine.register(N,j)}destroy(N,j){this._transitionEngine.destroy(N,j)}onInsert(N,j,ue,Ge){this._transitionEngine.insertNode(N,j,ue,Ge)}onRemove(N,j,ue,Ge){this._transitionEngine.removeNode(N,j,Ge||!1,ue)}disableAnimations(N,j){this._transitionEngine.markElementAsDisabled(N,j)}process(N,j,ue,Ge){if("@"==ue.charAt(0)){const[it,St]=Rt(ue);this._timelineEngine.command(it,j,St,Ge)}else this._transitionEngine.trigger(N,j,ue,Ge)}listen(N,j,ue,Ge,it){if("@"==ue.charAt(0)){const[St,bt]=Rt(ue);return this._timelineEngine.listen(St,j,bt,it)}return this._transitionEngine.listen(N,j,ue,Ge,it)}flush(N=-1){this._transitionEngine.flush(N)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ye=(()=>{class xe{constructor(j,ue,Ge){this._element=j,this._startStyles=ue,this._endStyles=Ge,this._state=0;let it=xe.initialStylesByElement.get(j);it||xe.initialStylesByElement.set(j,it={}),this._initialStyles=it}start(){this._state<1&&(this._startStyles&&Xe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xe(this._element,this._initialStyles),this._endStyles&&(Xe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(xe.initialStylesByElement.delete(this._element),this._startStyles&&(_t(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_t(this._element,this._endStyles),this._endStyles=null),Xe(this._element,this._initialStyles),this._state=3)}}return xe.initialStylesByElement=new WeakMap,xe})();function le(xe){let N=null;const j=Object.keys(xe);for(let ue=0;ue<j.length;ue++){const Ge=j[ue];J(Ge)&&(N=N||{},N[Ge]=xe[Ge])}return N}function J(xe){return"display"===xe||"position"===xe}class He{constructor(N,j,ue,Ge){this.element=N,this.keyframes=j,this.options=ue,this._specialStyles=Ge,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=ue.duration,this._delay=ue.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(N=>N()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const N=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,N,this.options),this._finalKeyframe=N.length?N[N.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(N,j,ue){return N.animate(j,ue)}onStart(N){this._onStartFns.push(N)}onDone(N){this._onDoneFns.push(N)}onDestroy(N){this._onDestroyFns.push(N)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(N=>N()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(N=>N()),this._onDestroyFns=[])}setPosition(N){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=N*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const N={};if(this.hasStarted()){const j=this._finalKeyframe;Object.keys(j).forEach(ue=>{"offset"!=ue&&(N[ue]=this._finished?j[ue]:yi(this.element,ue))})}this.currentSnapshot=N}triggerCallback(N){const j="start"==N?this._onStartFns:this._onDoneFns;j.forEach(ue=>ue()),j.length=0}}class Ht{validateStyleProperty(N){return be(N)}matchesElement(N,j){return!1}containsElement(N,j){return ze(N,j)}getParentElement(N){return qe(N)}query(N,j,ue){return mt(N,j,ue)}computeStyle(N,j,ue){return window.getComputedStyle(N)[j]}animate(N,j,ue,Ge,it,St=[]){const Ft={duration:ue,delay:Ge,fill:0==Ge?"both":"forwards"};it&&(Ft.easing=it);const Wt={},fn=St.filter(xn=>xn instanceof He);(function Gn(xe,N){return 0===xe||0===N})(ue,Ge)&&fn.forEach(xn=>{let Kn=xn.currentSnapshot;Object.keys(Kn).forEach(Rn=>Wt[Rn]=Kn[Rn])}),j=function pi(xe,N,j){const ue=Object.keys(j);if(ue.length&&N.length){let it=N[0],St=[];if(ue.forEach(bt=>{it.hasOwnProperty(bt)||St.push(bt),it[bt]=j[bt]}),St.length)for(var Ge=1;Ge<N.length;Ge++){let bt=N[Ge];St.forEach(function(Ft){bt[Ft]=yi(xe,Ft)})}}return N}(N,j=j.map(xn=>Ee(xn,!1)),Wt);const bn=function Wn(xe,N){let j=null,ue=null;return Array.isArray(N)&&N.length?(j=le(N[0]),N.length>1&&(ue=le(N[N.length-1]))):N&&(j=le(N)),j||ue?new ye(xe,j,ue):null}(N,j);return new He(N,j,Ft,bn)}}var cn=r(9808);let mi=(()=>{class xe extends g._j{constructor(j,ue){super(),this._nextAnimationId=0,this._renderer=j.createRenderer(ue.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(j){const ue=this._nextAnimationId.toString();this._nextAnimationId++;const Ge=Array.isArray(j)?(0,g.vP)(j):j;return qn(this._renderer,null,ue,"register",[Ge]),new Vi(ue,this._renderer)}}return xe.\u0275fac=function(j){return new(j||xe)(o.LFG(o.FYo),o.LFG(cn.K0))},xe.\u0275prov=o.Yz7({token:xe,factory:xe.\u0275fac}),xe})();class Vi extends g.LC{constructor(N,j){super(),this._id=N,this._renderer=j}create(N,j){return new ri(this._id,N,j||{},this._renderer)}}class ri{constructor(N,j,ue,Ge){this.id=N,this.element=j,this._renderer=Ge,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",ue)}_listen(N,j){return this._renderer.listen(this.element,`@@${this.id}:${N}`,j)}_command(N,...j){return qn(this._renderer,this.element,this.id,N,j)}onDone(N){this._listen("done",N)}onStart(N){this._listen("start",N)}onDestroy(N){this._listen("destroy",N)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(N){this._command("setPosition",N)}getPosition(){var N,j;return null!==(j=null===(N=this._renderer.engine.players[+this.id])||void 0===N?void 0:N.getPosition())&&void 0!==j?j:0}}function qn(xe,N,j,ue,Ge){return xe.setProperty(N,`@@${j}:${ue}`,Ge)}const Un="@.disabled";let cr=(()=>{class xe{constructor(j,ue,Ge){this.delegate=j,this.engine=ue,this._zone=Ge,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),ue.onRemovalComplete=(it,St)=>{const bt=null==St?void 0:St.parentNode(it);bt&&St.removeChild(bt,it)}}createRenderer(j,ue){const it=this.delegate.createRenderer(j,ue);if(!(j&&ue&&ue.data&&ue.data.animation)){let fn=this._rendererCache.get(it);return fn||(fn=new Mn("",it,this.engine),this._rendererCache.set(it,fn)),fn}const St=ue.id,bt=ue.id+"-"+this._currentId;this._currentId++,this.engine.register(bt,j);const Ft=fn=>{Array.isArray(fn)?fn.forEach(Ft):this.engine.registerTrigger(St,bt,j,fn.name,fn)};return ue.data.animation.forEach(Ft),new Vo(this,bt,it,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(j,ue,Ge){j>=0&&j<this._microtaskId?this._zone.run(()=>ue(Ge)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(it=>{const[St,bt]=it;St(bt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ue,Ge]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return xe.\u0275fac=function(j){return new(j||xe)(o.LFG(o.FYo),o.LFG(En),o.LFG(o.R0b))},xe.\u0275prov=o.Yz7({token:xe,factory:xe.\u0275fac}),xe})();class Mn{constructor(N,j,ue){this.namespaceId=N,this.delegate=j,this.engine=ue,this.destroyNode=this.delegate.destroyNode?Ge=>j.destroyNode(Ge):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(N,j){return this.delegate.createElement(N,j)}createComment(N){return this.delegate.createComment(N)}createText(N){return this.delegate.createText(N)}appendChild(N,j){this.delegate.appendChild(N,j),this.engine.onInsert(this.namespaceId,j,N,!1)}insertBefore(N,j,ue,Ge=!0){this.delegate.insertBefore(N,j,ue),this.engine.onInsert(this.namespaceId,j,N,Ge)}removeChild(N,j,ue){this.engine.onRemove(this.namespaceId,j,this.delegate,ue)}selectRootElement(N,j){return this.delegate.selectRootElement(N,j)}parentNode(N){return this.delegate.parentNode(N)}nextSibling(N){return this.delegate.nextSibling(N)}setAttribute(N,j,ue,Ge){this.delegate.setAttribute(N,j,ue,Ge)}removeAttribute(N,j,ue){this.delegate.removeAttribute(N,j,ue)}addClass(N,j){this.delegate.addClass(N,j)}removeClass(N,j){this.delegate.removeClass(N,j)}setStyle(N,j,ue,Ge){this.delegate.setStyle(N,j,ue,Ge)}removeStyle(N,j,ue){this.delegate.removeStyle(N,j,ue)}setProperty(N,j,ue){"@"==j.charAt(0)&&j==Un?this.disableAnimations(N,!!ue):this.delegate.setProperty(N,j,ue)}setValue(N,j){this.delegate.setValue(N,j)}listen(N,j,ue){return this.delegate.listen(N,j,ue)}disableAnimations(N,j){this.engine.disableAnimations(N,j)}}class Vo extends Mn{constructor(N,j,ue,Ge){super(j,ue,Ge),this.factory=N,this.namespaceId=j}setProperty(N,j,ue){"@"==j.charAt(0)?"."==j.charAt(1)&&j==Un?this.disableAnimations(N,ue=void 0===ue||!!ue):this.engine.process(this.namespaceId,N,j.substr(1),ue):this.delegate.setProperty(N,j,ue)}listen(N,j,ue){if("@"==j.charAt(0)){const Ge=function $i(xe){switch(xe){case"body":return document.body;case"document":return document;case"window":return window;default:return xe}}(N);let it=j.substr(1),St="";return"@"!=it.charAt(0)&&([it,St]=function fo(xe){const N=xe.indexOf(".");return[xe.substring(0,N),xe.substr(N+1)]}(it)),this.engine.listen(this.namespaceId,Ge,it,St,bt=>{this.factory.scheduleListenerCallback(bt._data||-1,ue,bt)})}return this.delegate.listen(N,j,ue)}}let tr=(()=>{class xe extends En{constructor(j,ue,Ge){super(j.body,ue,Ge)}ngOnDestroy(){this.flush()}}return xe.\u0275fac=function(j){return new(j||xe)(o.LFG(cn.K0),o.LFG(Bt),o.LFG(mo))},xe.\u0275prov=o.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const Lr=new o.OlP("AnimationModuleType"),vr=[{provide:g._j,useClass:mi},{provide:mo,useFactory:function Zr(){return new vo}},{provide:En,useClass:tr},{provide:o.FYo,useFactory:function ws(xe,N,j){return new cr(xe,N,j)},deps:[c.se,En,o.R0b]}],yr=[{provide:Bt,useFactory:()=>new Ht},{provide:Lr,useValue:"BrowserAnimations"},...vr],oo=[{provide:Bt,useClass:Lt},{provide:Lr,useValue:"NoopAnimations"},...vr];let jo=(()=>{class xe{static withConfig(j){return{ngModule:xe,providers:j.disableAnimations?oo:yr}}}return xe.\u0275fac=function(j){return new(j||xe)},xe.\u0275mod=o.oAB({type:xe}),xe.\u0275inj=o.cJS({providers:yr,imports:[c.b2]}),xe})()},2313:(ot,pe,r)=>{"use strict";r.d(pe,{Dx:()=>ce,H7:()=>Fe,b2:()=>Gt,q6:()=>Ze,se:()=>q});var o=r(9808),c=r(5e3);class g extends o.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class a extends g{static makeCurrent(){(0,o.HT)(new a)}onAndCancel(at,rt,Ct){return at.addEventListener(rt,Ct,!1),()=>{at.removeEventListener(rt,Ct,!1)}}dispatchEvent(at,rt){at.dispatchEvent(rt)}remove(at){at.parentNode&&at.parentNode.removeChild(at)}createElement(at,rt){return(rt=rt||this.getDefaultDocument()).createElement(at)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(at){return at.nodeType===Node.ELEMENT_NODE}isShadowRoot(at){return at instanceof DocumentFragment}getGlobalEventTarget(at,rt){return"window"===rt?window:"document"===rt?at:"body"===rt?at.body:null}getBaseHref(at){const rt=function v(){return u=u||document.querySelector("base"),u?u.getAttribute("href"):null}();return null==rt?null:function d(yt){p=p||document.createElement("a"),p.setAttribute("href",yt);const at=p.pathname;return"/"===at.charAt(0)?at:`/${at}`}(rt)}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}getCookie(at){return(0,o.Mx)(document.cookie,at)}}let p,u=null;const h=new c.OlP("TRANSITION_ID"),e=[{provide:c.ip1,useFactory:function _(yt,at,rt){return()=>{rt.get(c.CZH).donePromise.then(()=>{const Ct=(0,o.q)(),Ut=at.querySelectorAll(`style[ng-transition="${yt}"]`);for(let tn=0;tn<Ut.length;tn++)Ct.remove(Ut[tn])})}},deps:[h,o.K0,c.zs3],multi:!0}];class E{static init(){(0,c.VLi)(new E)}addToWindow(at){c.dqk.getAngularTestability=(Ct,Ut=!0)=>{const tn=at.findTestabilityInTree(Ct,Ut);if(null==tn)throw new Error("Could not find testability for element.");return tn},c.dqk.getAllAngularTestabilities=()=>at.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>at.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(Ct=>{const Ut=c.dqk.getAllAngularTestabilities();let tn=Ut.length,ln=!1;const On=function(Gn){ln=ln||Gn,tn--,0==tn&&Ct(ln)};Ut.forEach(function(Gn){Gn.whenStable(On)})})}findTestabilityInTree(at,rt,Ct){if(null==rt)return null;const Ut=at.getTestability(rt);return null!=Ut?Ut:Ct?(0,o.q)().isShadowRoot(rt)?this.findTestabilityInTree(at,rt.host,!0):this.findTestabilityInTree(at,rt.parentElement,!0):null}}let f=(()=>{class yt{build(){return new XMLHttpRequest}}return yt.\u0275fac=function(rt){return new(rt||yt)},yt.\u0275prov=c.Yz7({token:yt,factory:yt.\u0275fac}),yt})();const y=new c.OlP("EventManagerPlugins");let s=(()=>{class yt{constructor(rt,Ct){this._zone=Ct,this._eventNameToPlugin=new Map,rt.forEach(Ut=>Ut.manager=this),this._plugins=rt.slice().reverse()}addEventListener(rt,Ct,Ut){return this._findPluginFor(Ct).addEventListener(rt,Ct,Ut)}addGlobalEventListener(rt,Ct,Ut){return this._findPluginFor(Ct).addGlobalEventListener(rt,Ct,Ut)}getZone(){return this._zone}_findPluginFor(rt){const Ct=this._eventNameToPlugin.get(rt);if(Ct)return Ct;const Ut=this._plugins;for(let tn=0;tn<Ut.length;tn++){const ln=Ut[tn];if(ln.supports(rt))return this._eventNameToPlugin.set(rt,ln),ln}throw new Error(`No event manager plugin found for event ${rt}`)}}return yt.\u0275fac=function(rt){return new(rt||yt)(c.LFG(y),c.LFG(c.R0b))},yt.\u0275prov=c.Yz7({token:yt,factory:yt.\u0275fac}),yt})();class C{constructor(at){this._doc=at}addGlobalEventListener(at,rt,Ct){const Ut=(0,o.q)().getGlobalEventTarget(this._doc,at);if(!Ut)throw new Error(`Unsupported event target ${Ut} for event ${rt}`);return this.addEventListener(Ut,rt,Ct)}}let b=(()=>{class yt{constructor(){this._stylesSet=new Set}addStyles(rt){const Ct=new Set;rt.forEach(Ut=>{this._stylesSet.has(Ut)||(this._stylesSet.add(Ut),Ct.add(Ut))}),this.onStylesAdded(Ct)}onStylesAdded(rt){}getAllStyles(){return Array.from(this._stylesSet)}}return yt.\u0275fac=function(rt){return new(rt||yt)},yt.\u0275prov=c.Yz7({token:yt,factory:yt.\u0275fac}),yt})(),A=(()=>{class yt extends b{constructor(rt){super(),this._doc=rt,this._hostNodes=new Map,this._hostNodes.set(rt.head,[])}_addStylesToHost(rt,Ct,Ut){rt.forEach(tn=>{const ln=this._doc.createElement("style");ln.textContent=tn,Ut.push(Ct.appendChild(ln))})}addHost(rt){const Ct=[];this._addStylesToHost(this._stylesSet,rt,Ct),this._hostNodes.set(rt,Ct)}removeHost(rt){const Ct=this._hostNodes.get(rt);Ct&&Ct.forEach(I),this._hostNodes.delete(rt)}onStylesAdded(rt){this._hostNodes.forEach((Ct,Ut)=>{this._addStylesToHost(rt,Ut,Ct)})}ngOnDestroy(){this._hostNodes.forEach(rt=>rt.forEach(I))}}return yt.\u0275fac=function(rt){return new(rt||yt)(c.LFG(o.K0))},yt.\u0275prov=c.Yz7({token:yt,factory:yt.\u0275fac}),yt})();function I(yt){(0,o.q)().remove(yt)}const D={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},O=/%COMP%/g,x="%COMP%",L=`_nghost-${x}`,R=`_ngcontent-${x}`;function V(yt,at,rt){for(let Ct=0;Ct<at.length;Ct++){let Ut=at[Ct];Array.isArray(Ut)?V(yt,Ut,rt):(Ut=Ut.replace(O,yt),rt.push(Ut))}return rt}function ne(yt){return at=>{if("__ngUnwrap__"===at)return yt;!1===yt(at)&&(at.preventDefault(),at.returnValue=!1)}}let q=(()=>{class yt{constructor(rt,Ct,Ut){this.eventManager=rt,this.sharedStylesHost=Ct,this.appId=Ut,this.rendererByCompId=new Map,this.defaultRenderer=new X(rt)}createRenderer(rt,Ct){if(!rt||!Ct)return this.defaultRenderer;switch(Ct.encapsulation){case c.ifc.Emulated:{let Ut=this.rendererByCompId.get(Ct.id);return Ut||(Ut=new We(this.eventManager,this.sharedStylesHost,Ct,this.appId),this.rendererByCompId.set(Ct.id,Ut)),Ut.applyToHost(rt),Ut}case 1:case c.ifc.ShadowDom:return new Ne(this.eventManager,this.sharedStylesHost,rt,Ct);default:if(!this.rendererByCompId.has(Ct.id)){const Ut=V(Ct.id,Ct.styles,[]);this.sharedStylesHost.addStyles(Ut),this.rendererByCompId.set(Ct.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return yt.\u0275fac=function(rt){return new(rt||yt)(c.LFG(s),c.LFG(A),c.LFG(c.AFp))},yt.\u0275prov=c.Yz7({token:yt,factory:yt.\u0275fac}),yt})();class X{constructor(at){this.eventManager=at,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(at,rt){return rt?document.createElementNS(D[rt]||rt,at):document.createElement(at)}createComment(at){return document.createComment(at)}createText(at){return document.createTextNode(at)}appendChild(at,rt){at.appendChild(rt)}insertBefore(at,rt,Ct){at&&at.insertBefore(rt,Ct)}removeChild(at,rt){at&&at.removeChild(rt)}selectRootElement(at,rt){let Ct="string"==typeof at?document.querySelector(at):at;if(!Ct)throw new Error(`The selector "${at}" did not match any elements`);return rt||(Ct.textContent=""),Ct}parentNode(at){return at.parentNode}nextSibling(at){return at.nextSibling}setAttribute(at,rt,Ct,Ut){if(Ut){rt=Ut+":"+rt;const tn=D[Ut];tn?at.setAttributeNS(tn,rt,Ct):at.setAttribute(rt,Ct)}else at.setAttribute(rt,Ct)}removeAttribute(at,rt,Ct){if(Ct){const Ut=D[Ct];Ut?at.removeAttributeNS(Ut,rt):at.removeAttribute(`${Ct}:${rt}`)}else at.removeAttribute(rt)}addClass(at,rt){at.classList.add(rt)}removeClass(at,rt){at.classList.remove(rt)}setStyle(at,rt,Ct,Ut){Ut&(c.JOm.DashCase|c.JOm.Important)?at.style.setProperty(rt,Ct,Ut&c.JOm.Important?"important":""):at.style[rt]=Ct}removeStyle(at,rt,Ct){Ct&c.JOm.DashCase?at.style.removeProperty(rt):at.style[rt]=""}setProperty(at,rt,Ct){at[rt]=Ct}setValue(at,rt){at.nodeValue=rt}listen(at,rt,Ct){return"string"==typeof at?this.eventManager.addGlobalEventListener(at,rt,ne(Ct)):this.eventManager.addEventListener(at,rt,ne(Ct))}}class We extends X{constructor(at,rt,Ct,Ut){super(at),this.component=Ct;const tn=V(Ut+"-"+Ct.id,Ct.styles,[]);rt.addStyles(tn),this.contentAttr=function G(yt){return R.replace(O,yt)}(Ut+"-"+Ct.id),this.hostAttr=function k(yt){return L.replace(O,yt)}(Ut+"-"+Ct.id)}applyToHost(at){super.setAttribute(at,this.hostAttr,"")}createElement(at,rt){const Ct=super.createElement(at,rt);return super.setAttribute(Ct,this.contentAttr,""),Ct}}class Ne extends X{constructor(at,rt,Ct,Ut){super(at),this.sharedStylesHost=rt,this.hostEl=Ct,this.shadowRoot=Ct.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=V(Ut.id,Ut.styles,[]);for(let ln=0;ln<tn.length;ln++){const On=document.createElement("style");On.textContent=tn[ln],this.shadowRoot.appendChild(On)}}nodeOrShadowRoot(at){return at===this.hostEl?this.shadowRoot:at}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(at,rt){return super.appendChild(this.nodeOrShadowRoot(at),rt)}insertBefore(at,rt,Ct){return super.insertBefore(this.nodeOrShadowRoot(at),rt,Ct)}removeChild(at,rt){return super.removeChild(this.nodeOrShadowRoot(at),rt)}parentNode(at){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(at)))}}let dt=(()=>{class yt extends C{constructor(rt){super(rt)}supports(rt){return!0}addEventListener(rt,Ct,Ut){return rt.addEventListener(Ct,Ut,!1),()=>this.removeEventListener(rt,Ct,Ut)}removeEventListener(rt,Ct,Ut){return rt.removeEventListener(Ct,Ut)}}return yt.\u0275fac=function(rt){return new(rt||yt)(c.LFG(o.K0))},yt.\u0275prov=c.Yz7({token:yt,factory:yt.\u0275fac}),yt})();const ge=["alt","control","meta","shift"],se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Re={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:yt=>yt.altKey,control:yt=>yt.ctrlKey,meta:yt=>yt.metaKey,shift:yt=>yt.shiftKey};let ht=(()=>{class yt extends C{constructor(rt){super(rt)}supports(rt){return null!=yt.parseEventName(rt)}addEventListener(rt,Ct,Ut){const tn=yt.parseEventName(Ct),ln=yt.eventCallback(tn.fullKey,Ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,o.q)().onAndCancel(rt,tn.domEventName,ln))}static parseEventName(rt){const Ct=rt.toLowerCase().split("."),Ut=Ct.shift();if(0===Ct.length||"keydown"!==Ut&&"keyup"!==Ut)return null;const tn=yt._normalizeKey(Ct.pop());let ln="";if(ge.forEach(Gn=>{const pi=Ct.indexOf(Gn);pi>-1&&(Ct.splice(pi,1),ln+=Gn+".")}),ln+=tn,0!=Ct.length||0===tn.length)return null;const On={};return On.domEventName=Ut,On.fullKey=ln,On}static getEventFullKey(rt){let Ct="",Ut=function It(yt){let at=yt.key;if(null==at){if(at=yt.keyIdentifier,null==at)return"Unidentified";at.startsWith("U+")&&(at=String.fromCharCode(parseInt(at.substring(2),16)),3===yt.location&&Re.hasOwnProperty(at)&&(at=Re[at]))}return se[at]||at}(rt);return Ut=Ut.toLowerCase()," "===Ut?Ut="space":"."===Ut&&(Ut="dot"),ge.forEach(tn=>{tn!=Ut&&pt[tn](rt)&&(Ct+=tn+".")}),Ct+=Ut,Ct}static eventCallback(rt,Ct,Ut){return tn=>{yt.getEventFullKey(tn)===rt&&Ut.runGuarded(()=>Ct(tn))}}static _normalizeKey(rt){return"esc"===rt?"escape":rt}}return yt.\u0275fac=function(rt){return new(rt||yt)(c.LFG(o.K0))},yt.\u0275prov=c.Yz7({token:yt,factory:yt.\u0275fac}),yt})();const Ze=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:o.bD},{provide:c.g9A,useValue:function De(){a.makeCurrent(),E.init()},multi:!0},{provide:o.K0,useFactory:function Ae(){return(0,c.RDi)(document),document},deps:[]}]),Rt=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Se(){return new c.qLn},deps:[]},{provide:y,useClass:dt,multi:!0,deps:[o.K0,c.R0b,c.Lbi]},{provide:y,useClass:ht,multi:!0,deps:[o.K0]},{provide:q,useClass:q,deps:[s,A,c.AFp]},{provide:c.FYo,useExisting:q},{provide:b,useExisting:A},{provide:A,useClass:A,deps:[o.K0]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:s,useClass:s,deps:[y,c.R0b]},{provide:o.JF,useClass:f,deps:[]}];let Gt=(()=>{class yt{constructor(rt){if(rt)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(rt){return{ngModule:yt,providers:[{provide:c.AFp,useValue:rt.appId},{provide:h,useExisting:c.AFp},e]}}}return yt.\u0275fac=function(rt){return new(rt||yt)(c.LFG(yt,12))},yt.\u0275mod=c.oAB({type:yt}),yt.\u0275inj=c.cJS({providers:Rt,imports:[o.ez,c.hGG]}),yt})(),ce=(()=>{class yt{constructor(rt){this._doc=rt}getTitle(){return this._doc.title}setTitle(rt){this._doc.title=rt||""}}return yt.\u0275fac=function(rt){return new(rt||yt)(c.LFG(o.K0))},yt.\u0275prov=c.Yz7({token:yt,factory:function(rt){let Ct=null;return Ct=rt?new rt:function me(){return new ce((0,c.LFG)(o.K0))}(),Ct},providedIn:"root"}),yt})();"undefined"!=typeof window&&window;let Fe=(()=>{class yt{}return yt.\u0275fac=function(rt){return new(rt||yt)},yt.\u0275prov=c.Yz7({token:yt,factory:function(rt){let Ct=null;return Ct=rt?new(rt||yt):c.LFG(_t),Ct},providedIn:"root"}),yt})(),_t=(()=>{class yt extends Fe{constructor(rt){super(),this._doc=rt}sanitize(rt,Ct){if(null==Ct)return null;switch(rt){case c.q3G.NONE:return Ct;case c.q3G.HTML:return(0,c.qzn)(Ct,"HTML")?(0,c.z3N)(Ct):(0,c.EiD)(this._doc,String(Ct)).toString();case c.q3G.STYLE:return(0,c.qzn)(Ct,"Style")?(0,c.z3N)(Ct):Ct;case c.q3G.SCRIPT:if((0,c.qzn)(Ct,"Script"))return(0,c.z3N)(Ct);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(Ct),(0,c.qzn)(Ct,"URL")?(0,c.z3N)(Ct):(0,c.mCW)(String(Ct));case c.q3G.RESOURCE_URL:if((0,c.qzn)(Ct,"ResourceURL"))return(0,c.z3N)(Ct);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${rt} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(rt){return(0,c.JVY)(rt)}bypassSecurityTrustStyle(rt){return(0,c.L6k)(rt)}bypassSecurityTrustScript(rt){return(0,c.eBb)(rt)}bypassSecurityTrustUrl(rt){return(0,c.LAX)(rt)}bypassSecurityTrustResourceUrl(rt){return(0,c.pB0)(rt)}}return yt.\u0275fac=function(rt){return new(rt||yt)(c.LFG(o.K0))},yt.\u0275prov=c.Yz7({token:yt,factory:function(rt){let Ct=null;return Ct=rt?new rt:function Xe(yt){return new _t(yt.get(o.K0))}(c.LFG(c.zs3)),Ct},providedIn:"root"}),yt})()},4035:(ot,pe,r)=>{"use strict";r.d(pe,{gz:()=>si,jw:()=>kt,wM:()=>Xt,c9:()=>De,gk:()=>Re,m2:()=>se,Q3:()=>pt,OD:()=>Je,Av:()=>Ae,F0:()=>xi,Bz:()=>so,lC:()=>So,R9:()=>ht});var o=r(5e3);const g=(0,r(3888).d)(ee=>function(){ee(this),this.name="EmptyError",this.message="no elements in sequence"});var a=r(457),u=r(9646),v=r(1135),p=r(9841),d=r(2843),h=r(7272),_=r(9770),e=r(9751),E=r(515),f=r(4033),y=r(7579),s=r(9300),C=r(4482),b=r(5403);function A(ee){return ee<=0?()=>E.E:(0,C.e)((Q,z)=>{let _e=[];Q.subscribe(new b.Q(z,Te=>{_e.push(Te),ee<_e.length&&_e.shift()},()=>{for(const Te of _e)z.next(Te);z.complete()},void 0,()=>{_e=null}))})}function I(ee=D){return(0,C.e)((Q,z)=>{let _e=!1;Q.subscribe(new b.Q(z,Te=>{_e=!0,z.next(Te)},()=>_e?z.complete():z.error(ee())))})}function D(){return new g}function O(ee){return(0,C.e)((Q,z)=>{let _e=!1;Q.subscribe(new b.Q(z,Te=>{_e=!0,z.next(Te)},()=>{_e||z.next(ee),z.complete()}))})}var S=r(4671),L=r(5698);function R(ee,Q){const z=arguments.length>=2;return _e=>_e.pipe(ee?(0,s.h)((Te,Ye)=>ee(Te,Ye,_e)):S.y,(0,L.q)(1),z?O(Q):I(()=>new g))}var G=r(4004),k=r(3900),V=r(8675),ne=r(5026),$=r(262),q=r(4351),X=r(6099),de=r(8505),fe=r(8343),We=r(8746),Ne=r(8189),dt=r(9808);class ge{constructor(Q,z){this.id=Q,this.url=z}}class Je extends ge{constructor(Q,z,_e="imperative",Te=null){super(Q,z),this.navigationTrigger=_e,this.restoredState=Te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class se extends ge{constructor(Q,z,_e){super(Q,z),this.urlAfterRedirects=_e}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Re extends ge{constructor(Q,z,_e){super(Q,z),this.reason=_e}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pt extends ge{constructor(Q,z,_e){super(Q,z),this.error=_e}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ht extends ge{constructor(Q,z,_e,Te){super(Q,z),this.urlAfterRedirects=_e,this.state=Te}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class It extends ge{constructor(Q,z,_e,Te){super(Q,z),this.urlAfterRedirects=_e,this.state=Te}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends ge{constructor(Q,z,_e,Te,Ye){super(Q,z),this.urlAfterRedirects=_e,this.state=Te,this.shouldActivate=Ye}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Se extends ge{constructor(Q,z,_e,Te){super(Q,z),this.urlAfterRedirects=_e,this.state=Te}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ae extends ge{constructor(Q,z,_e,Te){super(Q,z),this.urlAfterRedirects=_e,this.state=Te}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lt{constructor(Q){this.route=Q}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ze{constructor(Q){this.route=Q}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rt{constructor(Q){this.snapshot=Q}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(Q){this.snapshot=Q}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor(Q){this.snapshot=Q}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kt{constructor(Q){this.snapshot=Q}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(Q,z,_e){this.routerEvent=Q,this.position=z,this.anchor=_e}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const me="primary";class ce{constructor(Q){this.params=Q||{}}has(Q){return Object.prototype.hasOwnProperty.call(this.params,Q)}get(Q){if(this.has(Q)){const z=this.params[Q];return Array.isArray(z)?z[0]:z}return null}getAll(Q){if(this.has(Q)){const z=this.params[Q];return Array.isArray(z)?z:[z]}return[]}get keys(){return Object.keys(this.params)}}function Y(ee){return new ce(ee)}const we="ngNavigationCancelingError";function be(ee){const Q=Error("NavigationCancelingError: "+ee);return Q[we]=!0,Q}function ze(ee,Q,z){const _e=z.path.split("/");if(_e.length>ee.length||"full"===z.pathMatch&&(Q.hasChildren()||_e.length<ee.length))return null;const Te={};for(let Ye=0;Ye<_e.length;Ye++){const ft=_e[Ye],Mt=ee[Ye];if(ft.startsWith(":"))Te[ft.substring(1)]=Mt;else if(ft!==Mt.path)return null}return{consumed:ee.slice(0,_e.length),posParams:Te}}function vt(ee,Q){const z=ee?Object.keys(ee):void 0,_e=Q?Object.keys(Q):void 0;if(!z||!_e||z.length!=_e.length)return!1;let Te;for(let Ye=0;Ye<z.length;Ye++)if(Te=z[Ye],!Lt(ee[Te],Q[Te]))return!1;return!0}function Lt(ee,Q){if(Array.isArray(ee)&&Array.isArray(Q)){if(ee.length!==Q.length)return!1;const z=[...ee].sort(),_e=[...Q].sort();return z.every((Te,Ye)=>_e[Ye]===Te)}return ee===Q}function Bt(ee){return Array.prototype.concat.apply([],ee)}function an(ee){return ee.length>0?ee[ee.length-1]:null}function gt(ee,Q){for(const z in ee)ee.hasOwnProperty(z)&&Q(ee[z],z)}function xt(ee){return(0,o.CqO)(ee)?ee:(0,o.QGY)(ee)?(0,a.D)(Promise.resolve(ee)):(0,u.of)(ee)}const Ke={exact:function Be(ee,Q,z){if(!Xe(ee.segments,Q.segments)||!ae(ee.segments,Q.segments,z)||ee.numberOfChildren!==Q.numberOfChildren)return!1;for(const _e in Q.children)if(!ee.children[_e]||!Be(ee.children[_e],Q.children[_e],z))return!1;return!0},subset:ke},Et={exact:function nt(ee,Q){return vt(ee,Q)},subset:function Ce(ee,Q){return Object.keys(Q).length<=Object.keys(ee).length&&Object.keys(Q).every(z=>Lt(ee[z],Q[z]))},ignored:()=>!0};function et(ee,Q,z){return Ke[z.paths](ee.root,Q.root,z.matrixParams)&&Et[z.queryParams](ee.queryParams,Q.queryParams)&&!("exact"===z.fragment&&ee.fragment!==Q.fragment)}function ke(ee,Q,z){return ve(ee,Q,Q.segments,z)}function ve(ee,Q,z,_e){if(ee.segments.length>z.length){const Te=ee.segments.slice(0,z.length);return!(!Xe(Te,z)||Q.hasChildren()||!ae(Te,z,_e))}if(ee.segments.length===z.length){if(!Xe(ee.segments,z)||!ae(ee.segments,z,_e))return!1;for(const Te in Q.children)if(!ee.children[Te]||!ke(ee.children[Te],Q.children[Te],_e))return!1;return!0}{const Te=z.slice(0,ee.segments.length),Ye=z.slice(ee.segments.length);return!!(Xe(ee.segments,Te)&&ae(ee.segments,Te,_e)&&ee.children[me])&&ve(ee.children[me],Q,Ye,_e)}}function ae(ee,Q,z){return Q.every((_e,Te)=>Et[z](ee[Te].parameters,_e.parameters))}class K{constructor(Q,z,_e){this.root=Q,this.queryParams=z,this.fragment=_e}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Y(this.queryParams)),this._queryParamMap}toString(){return at.serialize(this)}}class Ee{constructor(Q,z){this.segments=Q,this.children=z,this.parent=null,gt(z,(_e,Te)=>_e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rt(this)}}class he{constructor(Q,z){this.path=Q,this.parameters=z}get parameterMap(){return this._parameterMap||(this._parameterMap=Y(this.parameters)),this._parameterMap}toString(){return jn(this)}}function Xe(ee,Q){return ee.length===Q.length&&ee.every((z,_e)=>z.path===Q[_e].path)}class zt{}class yt{parse(Q){const z=new Pi(Q);return new K(z.parseRootSegment(),z.parseQueryParams(),z.parseFragment())}serialize(Q){const z=`/${Ct(Q.root,!0)}`,_e=function Yn(ee){const Q=Object.keys(ee).map(z=>{const _e=ee[z];return Array.isArray(_e)?_e.map(Te=>`${tn(z)}=${tn(Te)}`).join("&"):`${tn(z)}=${tn(_e)}`}).filter(z=>!!z);return Q.length?`?${Q.join("&")}`:""}(Q.queryParams);return`${z}${_e}${"string"==typeof Q.fragment?`#${function ln(ee){return encodeURI(ee)}(Q.fragment)}`:""}`}}const at=new yt;function rt(ee){return ee.segments.map(Q=>jn(Q)).join("/")}function Ct(ee,Q){if(!ee.hasChildren())return rt(ee);if(Q){const z=ee.children[me]?Ct(ee.children[me],!1):"",_e=[];return gt(ee.children,(Te,Ye)=>{Ye!==me&&_e.push(`${Ye}:${Ct(Te,!1)}`)}),_e.length>0?`${z}(${_e.join("//")})`:z}{const z=function _t(ee,Q){let z=[];return gt(ee.children,(_e,Te)=>{Te===me&&(z=z.concat(Q(_e,Te)))}),gt(ee.children,(_e,Te)=>{Te!==me&&(z=z.concat(Q(_e,Te)))}),z}(ee,(_e,Te)=>Te===me?[Ct(ee.children[me],!1)]:[`${Te}:${Ct(_e,!1)}`]);return 1===Object.keys(ee.children).length&&null!=ee.children[me]?`${rt(ee)}/${z[0]}`:`${rt(ee)}/(${z.join("//")})`}}function Ut(ee){return encodeURIComponent(ee).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tn(ee){return Ut(ee).replace(/%3B/gi,";")}function On(ee){return Ut(ee).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gn(ee){return decodeURIComponent(ee)}function pi(ee){return Gn(ee.replace(/\+/g,"%20"))}function jn(ee){return`${On(ee.path)}${function yi(ee){return Object.keys(ee).map(Q=>`;${On(Q)}=${On(ee[Q])}`).join("")}(ee.parameters)}`}const Oi=/^[^\/()?;=#]+/;function Zn(ee){const Q=ee.match(Oi);return Q?Q[0]:""}const nn=/^[^=?&#]+/,zn=/^[^&#]+/;class Pi{constructor(Q){this.url=Q,this.remaining=Q}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const Q={};if(this.consumeOptional("?"))do{this.parseQueryParam(Q)}while(this.consumeOptional("&"));return Q}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Q=[];for(this.peekStartsWith("(")||Q.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Q.push(this.parseSegment());let z={};this.peekStartsWith("/(")&&(this.capture("/"),z=this.parseParens(!0));let _e={};return this.peekStartsWith("(")&&(_e=this.parseParens(!1)),(Q.length>0||Object.keys(z).length>0)&&(_e[me]=new Ee(Q,z)),_e}parseSegment(){const Q=Zn(this.remaining);if(""===Q&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(Q),new he(Gn(Q),this.parseMatrixParams())}parseMatrixParams(){const Q={};for(;this.consumeOptional(";");)this.parseParam(Q);return Q}parseParam(Q){const z=Zn(this.remaining);if(!z)return;this.capture(z);let _e="";if(this.consumeOptional("=")){const Te=Zn(this.remaining);Te&&(_e=Te,this.capture(_e))}Q[Gn(z)]=Gn(_e)}parseQueryParam(Q){const z=function yn(ee){const Q=ee.match(nn);return Q?Q[0]:""}(this.remaining);if(!z)return;this.capture(z);let _e="";if(this.consumeOptional("=")){const ft=function _i(ee){const Q=ee.match(zn);return Q?Q[0]:""}(this.remaining);ft&&(_e=ft,this.capture(_e))}const Te=pi(z),Ye=pi(_e);if(Q.hasOwnProperty(Te)){let ft=Q[Te];Array.isArray(ft)||(ft=[ft],Q[Te]=ft),ft.push(Ye)}else Q[Te]=Ye}parseParens(Q){const z={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const _e=Zn(this.remaining),Te=this.remaining[_e.length];if("/"!==Te&&")"!==Te&&";"!==Te)throw new Error(`Cannot parse url '${this.url}'`);let Ye;_e.indexOf(":")>-1?(Ye=_e.substr(0,_e.indexOf(":")),this.capture(Ye),this.capture(":")):Q&&(Ye=me);const ft=this.parseChildren();z[Ye]=1===Object.keys(ft).length?ft[me]:new Ee([],ft),this.consumeOptional("//")}return z}peekStartsWith(Q){return this.remaining.startsWith(Q)}consumeOptional(Q){return!!this.peekStartsWith(Q)&&(this.remaining=this.remaining.substring(Q.length),!0)}capture(Q){if(!this.consumeOptional(Q))throw new Error(`Expected "${Q}".`)}}class ii{constructor(Q){this._root=Q}get root(){return this._root.value}parent(Q){const z=this.pathFromRoot(Q);return z.length>1?z[z.length-2]:null}children(Q){const z=Ri(Q,this._root);return z?z.children.map(_e=>_e.value):[]}firstChild(Q){const z=Ri(Q,this._root);return z&&z.children.length>0?z.children[0].value:null}siblings(Q){const z=$n(Q,this._root);return z.length<2?[]:z[z.length-2].children.map(Te=>Te.value).filter(Te=>Te!==Q)}pathFromRoot(Q){return $n(Q,this._root).map(z=>z.value)}}function Ri(ee,Q){if(ee===Q.value)return Q;for(const z of Q.children){const _e=Ri(ee,z);if(_e)return _e}return null}function $n(ee,Q){if(ee===Q.value)return[Q];for(const z of Q.children){const _e=$n(ee,z);if(_e.length)return _e.unshift(Q),_e}return[]}class oi{constructor(Q,z){this.value=Q,this.children=z}toString(){return`TreeNode(${this.value})`}}function gi(ee){const Q={};return ee&&ee.children.forEach(z=>Q[z.value.outlet]=z),Q}class Dn extends ii{constructor(Q,z){super(Q),this.snapshot=z,$t(this,Q)}toString(){return this.snapshot.toString()}}function Ui(ee,Q){const z=function Li(ee,Q){const ft=new ki([],{},{},"",{},me,Q,null,ee.root,-1,{});return new ut("",new oi(ft,[]))}(ee,Q),_e=new v.X([new he("",{})]),Te=new v.X({}),Ye=new v.X({}),ft=new v.X({}),Mt=new v.X(""),jt=new si(_e,Te,ft,Mt,Ye,me,Q,z.root);return jt.snapshot=z.root,new Dn(new oi(jt,[]),z)}class si{constructor(Q,z,_e,Te,Ye,ft,Mt,jt){this.url=Q,this.params=z,this.queryParams=_e,this.fragment=Te,this.data=Ye,this.outlet=ft,this.component=Mt,this._futureSnapshot=jt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,G.U)(Q=>Y(Q)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,G.U)(Q=>Y(Q)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ei(ee,Q="emptyOnly"){const z=ee.pathFromRoot;let _e=0;if("always"!==Q)for(_e=z.length-1;_e>=1;){const Te=z[_e],Ye=z[_e-1];if(Te.routeConfig&&""===Te.routeConfig.path)_e--;else{if(Ye.component)break;_e--}}return function ei(ee){return ee.reduce((Q,z)=>({params:Object.assign(Object.assign({},Q.params),z.params),data:Object.assign(Object.assign({},Q.data),z.data),resolve:Object.assign(Object.assign({},Q.resolve),z._resolvedData)}),{params:{},data:{},resolve:{}})}(z.slice(_e))}class ki{constructor(Q,z,_e,Te,Ye,ft,Mt,jt,vn,ti,An){this.url=Q,this.params=z,this.queryParams=_e,this.fragment=Te,this.data=Ye,this.outlet=ft,this.component=Mt,this.routeConfig=jt,this._urlSegment=vn,this._lastPathIndex=ti,this._resolve=An}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Y(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Y(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(_e=>_e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ut extends ii{constructor(Q,z){super(z),this.url=Q,$t(this,z)}toString(){return Ie(this._root)}}function $t(ee,Q){Q.value._routerState=ee,Q.children.forEach(z=>$t(ee,z))}function Ie(ee){const Q=ee.children.length>0?` { ${ee.children.map(Ie).join(", ")} } `:"";return`${ee.value}${Q}`}function oe(ee){if(ee.snapshot){const Q=ee.snapshot,z=ee._futureSnapshot;ee.snapshot=z,vt(Q.queryParams,z.queryParams)||ee.queryParams.next(z.queryParams),Q.fragment!==z.fragment&&ee.fragment.next(z.fragment),vt(Q.params,z.params)||ee.params.next(z.params),function mt(ee,Q){if(ee.length!==Q.length)return!1;for(let z=0;z<ee.length;++z)if(!vt(ee[z],Q[z]))return!1;return!0}(Q.url,z.url)||ee.url.next(z.url),vt(Q.data,z.data)||ee.data.next(z.data)}else ee.snapshot=ee._futureSnapshot,ee.data.next(ee._futureSnapshot.data)}function Qe(ee,Q){const z=vt(ee.params,Q.params)&&function Fe(ee,Q){return Xe(ee,Q)&&ee.every((z,_e)=>vt(z.parameters,Q[_e].parameters))}(ee.url,Q.url);return z&&!(!ee.parent!=!Q.parent)&&(!ee.parent||Qe(ee.parent,Q.parent))}function $e(ee,Q,z){if(z&&ee.shouldReuseRoute(Q.value,z.value.snapshot)){const _e=z.value;_e._futureSnapshot=Q.value;const Te=function At(ee,Q,z){return Q.children.map(_e=>{for(const Te of z.children)if(ee.shouldReuseRoute(_e.value,Te.value.snapshot))return $e(ee,_e,Te);return $e(ee,_e)})}(ee,Q,z);return new oi(_e,Te)}{if(ee.shouldAttach(Q.value)){const Ye=ee.retrieve(Q.value);if(null!==Ye){const ft=Ye.route;return ft.value._futureSnapshot=Q.value,ft.children=Q.children.map(Mt=>$e(ee,Mt)),ft}}const _e=function Jt(ee){return new si(new v.X(ee.url),new v.X(ee.params),new v.X(ee.queryParams),new v.X(ee.fragment),new v.X(ee.data),ee.outlet,ee.component,ee)}(Q.value),Te=Q.children.map(Ye=>$e(ee,Ye));return new oi(_e,Te)}}function Ln(ee){return"object"==typeof ee&&null!=ee&&!ee.outlets&&!ee.segmentPath}function Bn(ee){return"object"==typeof ee&&null!=ee&&ee.outlets}function Hi(ee,Q,z,_e,Te){let Ye={};if(_e&&gt(_e,(Mt,jt)=>{Ye[jt]=Array.isArray(Mt)?Mt.map(vn=>`${vn}`):`${Mt}`}),ee===Q)return new K(z,Ye,Te);const ft=Di(ee,Q,z);return new K(ft,Ye,Te)}function Di(ee,Q,z){const _e={};return gt(ee.children,(Te,Ye)=>{_e[Ye]=Te===Q?z:Di(Te,Q,z)}),new Ee(ee.segments,_e)}class wn{constructor(Q,z,_e){if(this.isAbsolute=Q,this.numberOfDoubleDots=z,this.commands=_e,Q&&_e.length>0&&Ln(_e[0]))throw new Error("Root segment cannot have matrix parameters");const Te=_e.find(Bn);if(Te&&Te!==an(_e))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ci{constructor(Q,z,_e){this.segmentGroup=Q,this.processChildren=z,this.index=_e}}function Xo(ee,Q,z){if(ee||(ee=new Ee([],{})),0===ee.segments.length&&ee.hasChildren())return co(ee,Q,z);const _e=function mr(ee,Q,z){let _e=0,Te=Q;const Ye={match:!1,pathIndex:0,commandIndex:0};for(;Te<ee.segments.length;){if(_e>=z.length)return Ye;const ft=ee.segments[Te],Mt=z[_e];if(Bn(Mt))break;const jt=`${Mt}`,vn=_e<z.length-1?z[_e+1]:null;if(Te>0&&void 0===jt)break;if(jt&&vn&&"object"==typeof vn&&void 0===vn.outlets){if(!xo(jt,vn,ft))return Ye;_e+=2}else{if(!xo(jt,{},ft))return Ye;_e++}Te++}return{match:!0,pathIndex:Te,commandIndex:_e}}(ee,Q,z),Te=z.slice(_e.commandIndex);if(_e.match&&_e.pathIndex<ee.segments.length){const Ye=new Ee(ee.segments.slice(0,_e.pathIndex),{});return Ye.children[me]=new Ee(ee.segments.slice(_e.pathIndex),ee.children),co(Ye,0,Te)}return _e.match&&0===Te.length?new Ee(ee.segments,{}):_e.match&&!ee.hasChildren()?mo(ee,Q,z):_e.match?co(ee,0,Te):mo(ee,Q,z)}function co(ee,Q,z){if(0===z.length)return new Ee(ee.segments,{});{const _e=function $o(ee){return Bn(ee[0])?ee[0].outlets:{[me]:ee}}(z),Te={};return gt(_e,(Ye,ft)=>{"string"==typeof Ye&&(Ye=[Ye]),null!==Ye&&(Te[ft]=Xo(ee.children[ft],Q,Ye))}),gt(ee.children,(Ye,ft)=>{void 0===_e[ft]&&(Te[ft]=Ye)}),new Ee(ee.segments,Te)}}function mo(ee,Q,z){const _e=ee.segments.slice(0,Q);let Te=0;for(;Te<z.length;){const Ye=z[Te];if(Bn(Ye)){const jt=Rr(Ye.outlets);return new Ee(_e,jt)}if(0===Te&&Ln(z[0])){_e.push(new he(ee.segments[Q].path,vo(z[0]))),Te++;continue}const ft=Bn(Ye)?Ye.outlets[me]:`${Ye}`,Mt=Te<z.length-1?z[Te+1]:null;ft&&Mt&&Ln(Mt)?(_e.push(new he(ft,vo(Mt))),Te+=2):(_e.push(new he(ft,{})),Te++)}return new Ee(_e,{})}function Rr(ee){const Q={};return gt(ee,(z,_e)=>{"string"==typeof z&&(z=[z]),null!==z&&(Q[_e]=mo(new Ee([],{}),0,z))}),Q}function vo(ee){const Q={};return gt(ee,(z,_e)=>Q[_e]=`${z}`),Q}function xo(ee,Q,z){return ee==z.path&&vt(Q,z.parameters)}class qo{constructor(Q,z,_e,Te){this.routeReuseStrategy=Q,this.futureState=z,this.currState=_e,this.forwardEvent=Te}activate(Q){const z=this.futureState._root,_e=this.currState?this.currState._root:null;this.deactivateChildRoutes(z,_e,Q),oe(this.futureState.root),this.activateChildRoutes(z,_e,Q)}deactivateChildRoutes(Q,z,_e){const Te=gi(z);Q.children.forEach(Ye=>{const ft=Ye.value.outlet;this.deactivateRoutes(Ye,Te[ft],_e),delete Te[ft]}),gt(Te,(Ye,ft)=>{this.deactivateRouteAndItsChildren(Ye,_e)})}deactivateRoutes(Q,z,_e){const Te=Q.value,Ye=z?z.value:null;if(Te===Ye)if(Te.component){const ft=_e.getContext(Te.outlet);ft&&this.deactivateChildRoutes(Q,z,ft.children)}else this.deactivateChildRoutes(Q,z,_e);else Ye&&this.deactivateRouteAndItsChildren(z,_e)}deactivateRouteAndItsChildren(Q,z){Q.value.component&&this.routeReuseStrategy.shouldDetach(Q.value.snapshot)?this.detachAndStoreRouteSubtree(Q,z):this.deactivateRouteAndOutlet(Q,z)}detachAndStoreRouteSubtree(Q,z){const _e=z.getContext(Q.value.outlet),Te=_e&&Q.value.component?_e.children:z,Ye=gi(Q);for(const ft of Object.keys(Ye))this.deactivateRouteAndItsChildren(Ye[ft],Te);if(_e&&_e.outlet){const ft=_e.outlet.detach(),Mt=_e.children.onOutletDeactivated();this.routeReuseStrategy.store(Q.value.snapshot,{componentRef:ft,route:Q,contexts:Mt})}}deactivateRouteAndOutlet(Q,z){const _e=z.getContext(Q.value.outlet),Te=_e&&Q.value.component?_e.children:z,Ye=gi(Q);for(const ft of Object.keys(Ye))this.deactivateRouteAndItsChildren(Ye[ft],Te);_e&&_e.outlet&&(_e.outlet.deactivate(),_e.children.onOutletDeactivated(),_e.attachRef=null,_e.resolver=null,_e.route=null)}activateChildRoutes(Q,z,_e){const Te=gi(z);Q.children.forEach(Ye=>{this.activateRoutes(Ye,Te[Ye.value.outlet],_e),this.forwardEvent(new kt(Ye.value.snapshot))}),Q.children.length&&this.forwardEvent(new Gt(Q.value.snapshot))}activateRoutes(Q,z,_e){const Te=Q.value,Ye=z?z.value:null;if(oe(Te),Te===Ye)if(Te.component){const ft=_e.getOrCreateContext(Te.outlet);this.activateChildRoutes(Q,z,ft.children)}else this.activateChildRoutes(Q,z,_e);else if(Te.component){const ft=_e.getOrCreateContext(Te.outlet);if(this.routeReuseStrategy.shouldAttach(Te.snapshot)){const Mt=this.routeReuseStrategy.retrieve(Te.snapshot);this.routeReuseStrategy.store(Te.snapshot,null),ft.children.onOutletReAttached(Mt.contexts),ft.attachRef=Mt.componentRef,ft.route=Mt.route.value,ft.outlet&&ft.outlet.attach(Mt.componentRef,Mt.route.value),oe(Mt.route.value),this.activateChildRoutes(Q,null,ft.children)}else{const Mt=function Uo(ee){for(let Q=ee.parent;Q;Q=Q.parent){const z=Q.routeConfig;if(z&&z._loadedConfig)return z._loadedConfig;if(z&&z.component)return null}return null}(Te.snapshot),jt=Mt?Mt.module.componentFactoryResolver:null;ft.attachRef=null,ft.route=Te,ft.resolver=jt,ft.outlet&&ft.outlet.activateWith(Te,jt),this.activateChildRoutes(Q,null,ft.children)}}else this.activateChildRoutes(Q,null,_e)}}class Ki{constructor(Q,z){this.routes=Q,this.module=z}}function uo(ee){return"function"==typeof ee}function Oo(ee){return ee instanceof K}const no=Symbol("INITIAL_VALUE");function Eo(){return(0,k.w)(ee=>(0,p.a)(ee.map(Q=>Q.pipe((0,L.q)(1),(0,V.O)(no)))).pipe((0,ne.R)((Q,z)=>{let _e=!1;return z.reduce((Te,Ye,ft)=>Te!==no?Te:(Ye===no&&(_e=!0),_e||!1!==Ye&&ft!==z.length-1&&!Oo(Ye)?Te:Ye),Q)},no),(0,s.h)(Q=>Q!==no),(0,G.U)(Q=>Oo(Q)?Q:!0===Q),(0,L.q)(1)))}class Ai{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qi,this.attachRef=null}}class Qi{constructor(){this.contexts=new Map}onChildOutletCreated(Q,z){const _e=this.getOrCreateContext(Q);_e.outlet=z,this.contexts.set(Q,_e)}onChildOutletDestroyed(Q){const z=this.getContext(Q);z&&(z.outlet=null,z.attachRef=null)}onOutletDeactivated(){const Q=this.contexts;return this.contexts=new Map,Q}onOutletReAttached(Q){this.contexts=Q}getOrCreateContext(Q){let z=this.getContext(Q);return z||(z=new Ai,this.contexts.set(Q,z)),z}getContext(Q){return this.contexts.get(Q)||null}}let So=(()=>{class ee{constructor(z,_e,Te,Ye,ft){this.parentContexts=z,this.location=_e,this.resolver=Te,this.changeDetector=ft,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=Ye||me,z.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const z=this.parentContexts.getContext(this.name);z&&z.route&&(z.attachRef?this.attach(z.attachRef,z.route):this.activateWith(z.route,z.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const z=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(z.instance),z}attach(z,_e){this.activated=z,this._activatedRoute=_e,this.location.insert(z.hostView),this.attachEvents.emit(z.instance)}deactivate(){if(this.activated){const z=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(z)}}activateWith(z,_e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=z;const ft=(_e=_e||this.resolver).resolveComponentFactory(z._futureSnapshot.routeConfig.component),Mt=this.parentContexts.getOrCreateContext(this.name).children,jt=new io(z,Mt,this.location.injector);this.activated=this.location.createComponent(ft,this.location.length,jt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return ee.\u0275fac=function(z){return new(z||ee)(o.Y36(Qi),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},ee.\u0275dir=o.lG2({type:ee,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),ee})();class io{constructor(Q,z,_e){this.route=Q,this.childContexts=z,this.parent=_e}get(Q,z){return Q===si?this.route:Q===Qi?this.childContexts:this.parent.get(Q,z)}}let Io=(()=>{class ee{}return ee.\u0275fac=function(z){return new(z||ee)},ee.\u0275cmp=o.Xpm({type:ee,selectors:[["ng-component"]],decls:1,vars:0,template:function(z,_e){1&z&&o._UZ(0,"router-outlet")},directives:[So],encapsulation:2}),ee})();function Ti(ee,Q=""){for(let z=0;z<ee.length;z++){const _e=ee[z];er(_e,rr(Q,_e))}}function er(ee,Q){ee.children&&Ti(ee.children,Q)}function rr(ee,Q){return Q?ee||Q.path?ee&&!Q.path?`${ee}/`:!ee&&Q.path?Q.path:`${ee}/${Q.path}`:"":ee}function Bi(ee){const Q=ee.children&&ee.children.map(Bi),z=Q?Object.assign(Object.assign({},ee),{children:Q}):Object.assign({},ee);return!z.component&&(Q||z.loadChildren)&&z.outlet&&z.outlet!==me&&(z.component=Io),z}function Gi(ee){return ee.outlet||me}function bo(ee,Q){const z=ee.filter(_e=>Gi(_e)===Q);return z.push(...ee.filter(_e=>Gi(_e)!==Q)),z}const Po={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Co(ee,Q,z){var _e;if(""===Q.path)return"full"===Q.pathMatch&&(ee.hasChildren()||z.length>0)?Object.assign({},Po):{matched:!0,consumedSegments:[],remainingSegments:z,parameters:{},positionalParamSegments:{}};const Ye=(Q.matcher||ze)(z,ee,Q);if(!Ye)return Object.assign({},Po);const ft={};gt(Ye.posParams,(jt,vn)=>{ft[vn]=jt.path});const Mt=Ye.consumed.length>0?Object.assign(Object.assign({},ft),Ye.consumed[Ye.consumed.length-1].parameters):ft;return{matched:!0,consumedSegments:Ye.consumed,remainingSegments:z.slice(Ye.consumed.length),parameters:Mt,positionalParamSegments:null!==(_e=Ye.posParams)&&void 0!==_e?_e:{}}}function ho(ee,Q,z,_e,Te="corrected"){if(z.length>0&&function w(ee,Q,z){return z.some(_e=>B(ee,Q,_e)&&Gi(_e)!==me)}(ee,z,_e)){const ft=new Ee(Q,function je(ee,Q,z,_e){const Te={};Te[me]=_e,_e._sourceSegment=ee,_e._segmentIndexShift=Q.length;for(const Ye of z)if(""===Ye.path&&Gi(Ye)!==me){const ft=new Ee([],{});ft._sourceSegment=ee,ft._segmentIndexShift=Q.length,Te[Gi(Ye)]=ft}return Te}(ee,Q,_e,new Ee(z,ee.children)));return ft._sourceSegment=ee,ft._segmentIndexShift=Q.length,{segmentGroup:ft,slicedSegments:[]}}if(0===z.length&&function W(ee,Q,z){return z.some(_e=>B(ee,Q,_e))}(ee,z,_e)){const ft=new Ee(ee.segments,function Ho(ee,Q,z,_e,Te,Ye){const ft={};for(const Mt of _e)if(B(ee,z,Mt)&&!Te[Gi(Mt)]){const jt=new Ee([],{});jt._sourceSegment=ee,jt._segmentIndexShift="legacy"===Ye?ee.segments.length:Q.length,ft[Gi(Mt)]=jt}return Object.assign(Object.assign({},Te),ft)}(ee,Q,z,_e,ee.children,Te));return ft._sourceSegment=ee,ft._segmentIndexShift=Q.length,{segmentGroup:ft,slicedSegments:z}}const Ye=new Ee(ee.segments,ee.children);return Ye._sourceSegment=ee,Ye._segmentIndexShift=Q.length,{segmentGroup:Ye,slicedSegments:z}}function B(ee,Q,z){return(!(ee.hasChildren()||Q.length>0)||"full"!==z.pathMatch)&&""===z.path}function re(ee,Q,z,_e){return!!(Gi(ee)===_e||_e!==me&&B(Q,z,ee))&&("**"===ee.path||Co(Q,ee,z).matched)}function Ve(ee,Q,z){return 0===Q.length&&!ee.children[z]}class ct{constructor(Q){this.segmentGroup=Q||null}}class Pt{constructor(Q){this.urlTree=Q}}function Vt(ee){return(0,d._)(new ct(ee))}function en(ee){return(0,d._)(new Pt(ee))}class In{constructor(Q,z,_e,Te,Ye){this.configLoader=z,this.urlSerializer=_e,this.urlTree=Te,this.config=Ye,this.allowRedirects=!0,this.ngModule=Q.get(o.h0i)}apply(){const Q=ho(this.urlTree.root,[],[],this.config).segmentGroup,z=new Ee(Q.segments,Q.children);return this.expandSegmentGroup(this.ngModule,this.config,z,me).pipe((0,G.U)(Ye=>this.createUrlTree(Wn(Ye),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,$.K)(Ye=>{if(Ye instanceof Pt)return this.allowRedirects=!1,this.match(Ye.urlTree);throw Ye instanceof ct?this.noMatchError(Ye):Ye}))}match(Q){return this.expandSegmentGroup(this.ngModule,this.config,Q.root,me).pipe((0,G.U)(Te=>this.createUrlTree(Wn(Te),Q.queryParams,Q.fragment))).pipe((0,$.K)(Te=>{throw Te instanceof ct?this.noMatchError(Te):Te}))}noMatchError(Q){return new Error(`Cannot match any routes. URL Segment: '${Q.segmentGroup}'`)}createUrlTree(Q,z,_e){const Te=Q.segments.length>0?new Ee([],{[me]:Q}):Q;return new K(Te,z,_e)}expandSegmentGroup(Q,z,_e,Te){return 0===_e.segments.length&&_e.hasChildren()?this.expandChildren(Q,z,_e).pipe((0,G.U)(Ye=>new Ee([],Ye))):this.expandSegment(Q,_e,z,_e.segments,Te,!0)}expandChildren(Q,z,_e){const Te=[];for(const Ye of Object.keys(_e.children))"primary"===Ye?Te.unshift(Ye):Te.push(Ye);return(0,a.D)(Te).pipe((0,q.b)(Ye=>{const ft=_e.children[Ye],Mt=bo(z,Ye);return this.expandSegmentGroup(Q,Mt,ft,Ye).pipe((0,G.U)(jt=>({segment:jt,outlet:Ye})))}),(0,ne.R)((Ye,ft)=>(Ye[ft.outlet]=ft.segment,Ye),{}),function x(ee,Q){const z=arguments.length>=2;return _e=>_e.pipe(ee?(0,s.h)((Te,Ye)=>ee(Te,Ye,_e)):S.y,A(1),z?O(Q):I(()=>new g))}())}expandSegment(Q,z,_e,Te,Ye,ft){return(0,a.D)(_e).pipe((0,q.b)(Mt=>this.expandSegmentAgainstRoute(Q,z,_e,Mt,Te,Ye,ft).pipe((0,$.K)(vn=>{if(vn instanceof ct)return(0,u.of)(null);throw vn}))),R(Mt=>!!Mt),(0,$.K)((Mt,jt)=>{if(Mt instanceof g||"EmptyError"===Mt.name)return Ve(z,Te,Ye)?(0,u.of)(new Ee([],{})):Vt(z);throw Mt}))}expandSegmentAgainstRoute(Q,z,_e,Te,Ye,ft,Mt){return re(Te,z,Ye,ft)?void 0===Te.redirectTo?this.matchSegmentAgainstRoute(Q,z,Te,Ye,ft):Mt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Q,z,_e,Te,Ye,ft):Vt(z):Vt(z)}expandSegmentAgainstRouteUsingRedirect(Q,z,_e,Te,Ye,ft){return"**"===Te.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Q,_e,Te,ft):this.expandRegularSegmentAgainstRouteUsingRedirect(Q,z,_e,Te,Ye,ft)}expandWildCardWithParamsAgainstRouteUsingRedirect(Q,z,_e,Te){const Ye=this.applyRedirectCommands([],_e.redirectTo,{});return _e.redirectTo.startsWith("/")?en(Ye):this.lineralizeSegments(_e,Ye).pipe((0,X.z)(ft=>{const Mt=new Ee(ft,{});return this.expandSegment(Q,Mt,z,ft,Te,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Q,z,_e,Te,Ye,ft){const{matched:Mt,consumedSegments:jt,remainingSegments:vn,positionalParamSegments:ti}=Co(z,Te,Ye);if(!Mt)return Vt(z);const An=this.applyRedirectCommands(jt,Te.redirectTo,ti);return Te.redirectTo.startsWith("/")?en(An):this.lineralizeSegments(Te,An).pipe((0,X.z)(bi=>this.expandSegment(Q,z,_e,bi.concat(vn),ft,!1)))}matchSegmentAgainstRoute(Q,z,_e,Te,Ye){if("**"===_e.path)return _e.loadChildren?(_e._loadedConfig?(0,u.of)(_e._loadedConfig):this.configLoader.load(Q.injector,_e)).pipe((0,G.U)(An=>(_e._loadedConfig=An,new Ee(Te,{})))):(0,u.of)(new Ee(Te,{}));const{matched:ft,consumedSegments:Mt,remainingSegments:jt}=Co(z,_e,Te);return ft?this.getChildConfig(Q,_e,Te).pipe((0,X.z)(ti=>{const An=ti.module,bi=ti.routes,{segmentGroup:vi,slicedSegments:nr}=ho(z,Mt,jt,bi),Sr=new Ee(vi.segments,vi.children);if(0===nr.length&&Sr.hasChildren())return this.expandChildren(An,bi,Sr).pipe((0,G.U)(Fs=>new Ee(Mt,Fs)));if(0===bi.length&&0===nr.length)return(0,u.of)(new Ee(Mt,{}));const Nr=Gi(_e)===Ye;return this.expandSegment(An,Sr,bi,nr,Nr?me:Ye,!0).pipe((0,G.U)(Qr=>new Ee(Mt.concat(Qr.segments),Qr.children)))})):Vt(z)}getChildConfig(Q,z,_e){return z.children?(0,u.of)(new Ki(z.children,Q)):z.loadChildren?void 0!==z._loadedConfig?(0,u.of)(z._loadedConfig):this.runCanLoadGuards(Q.injector,z,_e).pipe((0,X.z)(Te=>Te?this.configLoader.load(Q.injector,z).pipe((0,G.U)(Ye=>(z._loadedConfig=Ye,Ye))):function dn(ee){return(0,d._)(be(`Cannot load children because the guard of the route "path: '${ee.path}'" returned false`))}(z))):(0,u.of)(new Ki([],Q))}runCanLoadGuards(Q,z,_e){const Te=z.canLoad;if(!Te||0===Te.length)return(0,u.of)(!0);const Ye=Te.map(ft=>{const Mt=Q.get(ft);let jt;if(function fi(ee){return ee&&uo(ee.canLoad)}(Mt))jt=Mt.canLoad(z,_e);else{if(!uo(Mt))throw new Error("Invalid CanLoad guard");jt=Mt(z,_e)}return xt(jt)});return(0,u.of)(Ye).pipe(Eo(),(0,de.b)(ft=>{if(!Oo(ft))return;const Mt=be(`Redirecting to "${this.urlSerializer.serialize(ft)}"`);throw Mt.url=ft,Mt}),(0,G.U)(ft=>!0===ft))}lineralizeSegments(Q,z){let _e=[],Te=z.root;for(;;){if(_e=_e.concat(Te.segments),0===Te.numberOfChildren)return(0,u.of)(_e);if(Te.numberOfChildren>1||!Te.children[me])return(0,d._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${Q.redirectTo}'`));Te=Te.children[me]}}applyRedirectCommands(Q,z,_e){return this.applyRedirectCreatreUrlTree(z,this.urlSerializer.parse(z),Q,_e)}applyRedirectCreatreUrlTree(Q,z,_e,Te){const Ye=this.createSegmentGroup(Q,z.root,_e,Te);return new K(Ye,this.createQueryParams(z.queryParams,this.urlTree.queryParams),z.fragment)}createQueryParams(Q,z){const _e={};return gt(Q,(Te,Ye)=>{if("string"==typeof Te&&Te.startsWith(":")){const Mt=Te.substring(1);_e[Ye]=z[Mt]}else _e[Ye]=Te}),_e}createSegmentGroup(Q,z,_e,Te){const Ye=this.createSegments(Q,z.segments,_e,Te);let ft={};return gt(z.children,(Mt,jt)=>{ft[jt]=this.createSegmentGroup(Q,Mt,_e,Te)}),new Ee(Ye,ft)}createSegments(Q,z,_e,Te){return z.map(Ye=>Ye.path.startsWith(":")?this.findPosParam(Q,Ye,Te):this.findOrReturn(Ye,_e))}findPosParam(Q,z,_e){const Te=_e[z.path.substring(1)];if(!Te)throw new Error(`Cannot redirect to '${Q}'. Cannot find '${z.path}'.`);return Te}findOrReturn(Q,z){let _e=0;for(const Te of z){if(Te.path===Q.path)return z.splice(_e),Te;_e++}return Q}}function Wn(ee){const Q={};for(const _e of Object.keys(ee.children)){const Ye=Wn(ee.children[_e]);(Ye.segments.length>0||Ye.hasChildren())&&(Q[_e]=Ye)}return function En(ee){if(1===ee.numberOfChildren&&ee.children[me]){const Q=ee.children[me];return new Ee(ee.segments.concat(Q.segments),Q.children)}return ee}(new Ee(ee.segments,Q))}class le{constructor(Q){this.path=Q,this.route=this.path[this.path.length-1]}}class J{constructor(Q,z){this.component=Q,this.route=z}}function He(ee,Q,z){const _e=ee._root;return Vi(_e,Q?Q._root:null,z,[_e.value])}function cn(ee,Q,z){const _e=function mi(ee){if(!ee)return null;for(let Q=ee.parent;Q;Q=Q.parent){const z=Q.routeConfig;if(z&&z._loadedConfig)return z._loadedConfig}return null}(Q);return(_e?_e.module.injector:z).get(ee)}function Vi(ee,Q,z,_e,Te={canDeactivateChecks:[],canActivateChecks:[]}){const Ye=gi(Q);return ee.children.forEach(ft=>{(function ri(ee,Q,z,_e,Te={canDeactivateChecks:[],canActivateChecks:[]}){const Ye=ee.value,ft=Q?Q.value:null,Mt=z?z.getContext(ee.value.outlet):null;if(ft&&Ye.routeConfig===ft.routeConfig){const jt=function qn(ee,Q,z){if("function"==typeof z)return z(ee,Q);switch(z){case"pathParamsChange":return!Xe(ee.url,Q.url);case"pathParamsOrQueryParamsChange":return!Xe(ee.url,Q.url)||!vt(ee.queryParams,Q.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qe(ee,Q)||!vt(ee.queryParams,Q.queryParams);default:return!Qe(ee,Q)}}(ft,Ye,Ye.routeConfig.runGuardsAndResolvers);jt?Te.canActivateChecks.push(new le(_e)):(Ye.data=ft.data,Ye._resolvedData=ft._resolvedData),Vi(ee,Q,Ye.component?Mt?Mt.children:null:z,_e,Te),jt&&Mt&&Mt.outlet&&Mt.outlet.isActivated&&Te.canDeactivateChecks.push(new J(Mt.outlet.component,ft))}else ft&&Yt(Q,Mt,Te),Te.canActivateChecks.push(new le(_e)),Vi(ee,null,Ye.component?Mt?Mt.children:null:z,_e,Te)})(ft,Ye[ft.value.outlet],z,_e.concat([ft.value]),Te),delete Ye[ft.value.outlet]}),gt(Ye,(ft,Mt)=>Yt(ft,z.getContext(Mt),Te)),Te}function Yt(ee,Q,z){const _e=gi(ee),Te=ee.value;gt(_e,(Ye,ft)=>{Yt(Ye,Te.component?Q?Q.children.getContext(ft):null:Q,z)}),z.canDeactivateChecks.push(new J(Te.component&&Q&&Q.outlet&&Q.outlet.isActivated?Q.outlet.component:null,Te))}class ws{}function Lr(ee){return new e.y(Q=>Q.error(ee))}class yr{constructor(Q,z,_e,Te,Ye,ft){this.rootComponentType=Q,this.config=z,this.urlTree=_e,this.url=Te,this.paramsInheritanceStrategy=Ye,this.relativeLinkResolution=ft}recognize(){const Q=ho(this.urlTree.root,[],[],this.config.filter(ft=>void 0===ft.redirectTo),this.relativeLinkResolution).segmentGroup,z=this.processSegmentGroup(this.config,Q,me);if(null===z)return null;const _e=new ki([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),Te=new oi(_e,z),Ye=new ut(this.url,Te);return this.inheritParamsAndData(Ye._root),Ye}inheritParamsAndData(Q){const z=Q.value,_e=Ei(z,this.paramsInheritanceStrategy);z.params=Object.freeze(_e.params),z.data=Object.freeze(_e.data),Q.children.forEach(Te=>this.inheritParamsAndData(Te))}processSegmentGroup(Q,z,_e){return 0===z.segments.length&&z.hasChildren()?this.processChildren(Q,z):this.processSegment(Q,z,z.segments,_e)}processChildren(Q,z){const _e=[];for(const Ye of Object.keys(z.children)){const ft=z.children[Ye],Mt=bo(Q,Ye),jt=this.processSegmentGroup(Mt,ft,Ye);if(null===jt)return null;_e.push(...jt)}const Te=xe(_e);return function oo(ee){ee.sort((Q,z)=>Q.value.outlet===me?-1:z.value.outlet===me?1:Q.value.outlet.localeCompare(z.value.outlet))}(Te),Te}processSegment(Q,z,_e,Te){for(const Ye of Q){const ft=this.processSegmentAgainstRoute(Ye,z,_e,Te);if(null!==ft)return ft}return Ve(z,_e,Te)?[]:null}processSegmentAgainstRoute(Q,z,_e,Te){if(Q.redirectTo||!re(Q,z,_e,Te))return null;let Ye,ft=[],Mt=[];if("**"===Q.path){const vi=_e.length>0?an(_e).parameters:{};Ye=new ki(_e,vi,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ge(Q),Gi(Q),Q.component,Q,j(z),ue(z)+_e.length,it(Q))}else{const vi=Co(z,Q,_e);if(!vi.matched)return null;ft=vi.consumedSegments,Mt=vi.remainingSegments,Ye=new ki(ft,vi.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ge(Q),Gi(Q),Q.component,Q,j(z),ue(z)+ft.length,it(Q))}const jt=function jo(ee){return ee.children?ee.children:ee.loadChildren?ee._loadedConfig.routes:[]}(Q),{segmentGroup:vn,slicedSegments:ti}=ho(z,ft,Mt,jt.filter(vi=>void 0===vi.redirectTo),this.relativeLinkResolution);if(0===ti.length&&vn.hasChildren()){const vi=this.processChildren(jt,vn);return null===vi?null:[new oi(Ye,vi)]}if(0===jt.length&&0===ti.length)return[new oi(Ye,[])];const An=Gi(Q)===Te,bi=this.processSegment(jt,vn,ti,An?me:Te);return null===bi?null:[new oi(Ye,bi)]}}function _s(ee){const Q=ee.value.routeConfig;return Q&&""===Q.path&&void 0===Q.redirectTo}function xe(ee){const Q=[],z=new Set;for(const _e of ee){if(!_s(_e)){Q.push(_e);continue}const Te=Q.find(Ye=>_e.value.routeConfig===Ye.value.routeConfig);void 0!==Te?(Te.children.push(..._e.children),z.add(Te)):Q.push(_e)}for(const _e of z){const Te=xe(_e.children);Q.push(new oi(_e.value,Te))}return Q.filter(_e=>!z.has(_e))}function j(ee){let Q=ee;for(;Q._sourceSegment;)Q=Q._sourceSegment;return Q}function ue(ee){let Q=ee,z=Q._segmentIndexShift?Q._segmentIndexShift:0;for(;Q._sourceSegment;)Q=Q._sourceSegment,z+=Q._segmentIndexShift?Q._segmentIndexShift:0;return z-1}function Ge(ee){return ee.data||{}}function it(ee){return ee.resolve||{}}function fn(ee){return[...Object.keys(ee),...Object.getOwnPropertySymbols(ee)]}function xn(ee){return(0,k.w)(Q=>{const z=ee(Q);return z?(0,a.D)(z).pipe((0,G.U)(()=>Q)):(0,u.of)(Q)})}class Hn extends class Rn{shouldDetach(Q){return!1}store(Q,z){}shouldAttach(Q){return!1}retrieve(Q){return null}shouldReuseRoute(Q,z){return Q.routeConfig===z.routeConfig}}{}const li=new o.OlP("ROUTES");class wi{constructor(Q,z,_e,Te){this.injector=Q,this.compiler=z,this.onLoadStartListener=_e,this.onLoadEndListener=Te}load(Q,z){if(z._loader$)return z._loader$;this.onLoadStartListener&&this.onLoadStartListener(z);const Te=this.loadModuleFactory(z.loadChildren).pipe((0,G.U)(Ye=>{this.onLoadEndListener&&this.onLoadEndListener(z);const ft=Ye.create(Q);return new Ki(Bt(ft.injector.get(li,void 0,o.XFs.Self|o.XFs.Optional)).map(Bi),ft)}),(0,$.K)(Ye=>{throw z._loader$=void 0,Ye}));return z._loader$=new f.c(Te,()=>new y.x).pipe((0,fe.x)()),z._loader$}loadModuleFactory(Q){return xt(Q()).pipe((0,X.z)(z=>z instanceof o.YKP?(0,u.of)(z):(0,a.D)(this.compiler.compileModuleAsync(z))))}}class ro{shouldProcessUrl(Q){return!0}extract(Q){return Q}merge(Q,z){return Q}}function ci(ee){throw ee}function po(ee,Q,z){return Q.parse("/")}function ai(ee,Q){return(0,u.of)(null)}const eo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xi=(()=>{class ee{constructor(z,_e,Te,Ye,ft,Mt,jt){this.rootComponentType=z,this.urlSerializer=_e,this.rootContexts=Te,this.location=Ye,this.config=jt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new y.x,this.errorHandler=ci,this.malformedUriErrorHandler=po,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ai,afterPreactivation:ai},this.urlHandlingStrategy=new ro,this.routeReuseStrategy=new Hn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ft.get(o.h0i),this.console=ft.get(o.c2e);const An=ft.get(o.R0b);this.isNgZoneEnabled=An instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(jt),this.currentUrlTree=function Nt(){return new K(new Ee([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wi(ft,Mt,bi=>this.triggerEvent(new lt(bi)),bi=>this.triggerEvent(new Ze(bi))),this.routerState=Ui(this.currentUrlTree,this.rootComponentType),this.transitions=new v.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var z;return null===(z=this.location.getState())||void 0===z?void 0:z.\u0275routerPageId}setupNavigations(z){const _e=this.events;return z.pipe((0,s.h)(Te=>0!==Te.id),(0,G.U)(Te=>Object.assign(Object.assign({},Te),{extractedUrl:this.urlHandlingStrategy.extract(Te.rawUrl)})),(0,k.w)(Te=>{let Ye=!1,ft=!1;return(0,u.of)(Te).pipe((0,de.b)(Mt=>{this.currentNavigation={id:Mt.id,initialUrl:Mt.currentRawUrl,extractedUrl:Mt.extractedUrl,trigger:Mt.source,extras:Mt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,k.w)(Mt=>{const jt=this.browserUrlTree.toString(),vn=!this.navigated||Mt.extractedUrl.toString()!==jt||jt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||vn)&&this.urlHandlingStrategy.shouldProcessUrl(Mt.rawUrl))return Kr(Mt.source)&&(this.browserUrlTree=Mt.extractedUrl),(0,u.of)(Mt).pipe((0,k.w)(An=>{const bi=this.transitions.getValue();return _e.next(new Je(An.id,this.serializeUrl(An.extractedUrl),An.source,An.restoredState)),bi!==this.transitions.getValue()?E.E:Promise.resolve(An)}),function ye(ee,Q,z,_e){return(0,k.w)(Te=>function hn(ee,Q,z,_e,Te){return new In(ee,Q,z,_e,Te).apply()}(ee,Q,z,Te.extractedUrl,_e).pipe((0,G.U)(Ye=>Object.assign(Object.assign({},Te),{urlAfterRedirects:Ye}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,de.b)(An=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:An.urlAfterRedirects})}),function St(ee,Q,z,_e,Te){return(0,X.z)(Ye=>function vr(ee,Q,z,_e,Te="emptyOnly",Ye="legacy"){try{const ft=new yr(ee,Q,z,_e,Te,Ye).recognize();return null===ft?Lr(new ws):(0,u.of)(ft)}catch(ft){return Lr(ft)}}(ee,Q,Ye.urlAfterRedirects,z(Ye.urlAfterRedirects),_e,Te).pipe((0,G.U)(ft=>Object.assign(Object.assign({},Ye),{targetSnapshot:ft}))))}(this.rootComponentType,this.config,An=>this.serializeUrl(An),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,de.b)(An=>{if("eager"===this.urlUpdateStrategy){if(!An.extras.skipLocationChange){const vi=this.urlHandlingStrategy.merge(An.urlAfterRedirects,An.rawUrl);this.setBrowserUrl(vi,An)}this.browserUrlTree=An.urlAfterRedirects}const bi=new ht(An.id,this.serializeUrl(An.extractedUrl),this.serializeUrl(An.urlAfterRedirects),An.targetSnapshot);_e.next(bi)}));if(vn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:bi,extractedUrl:vi,source:nr,restoredState:Sr,extras:Nr}=Mt,Fr=new Je(bi,this.serializeUrl(vi),nr,Sr);_e.next(Fr);const Qr=Ui(vi,this.rootComponentType).snapshot;return(0,u.of)(Object.assign(Object.assign({},Mt),{targetSnapshot:Qr,urlAfterRedirects:vi,extras:Object.assign(Object.assign({},Nr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Mt.rawUrl,Mt.resolve(null),E.E}),xn(Mt=>{const{targetSnapshot:jt,id:vn,extractedUrl:ti,rawUrl:An,extras:{skipLocationChange:bi,replaceUrl:vi}}=Mt;return this.hooks.beforePreactivation(jt,{navigationId:vn,appliedUrlTree:ti,rawUrlTree:An,skipLocationChange:!!bi,replaceUrl:!!vi})}),(0,de.b)(Mt=>{const jt=new It(Mt.id,this.serializeUrl(Mt.extractedUrl),this.serializeUrl(Mt.urlAfterRedirects),Mt.targetSnapshot);this.triggerEvent(jt)}),(0,G.U)(Mt=>Object.assign(Object.assign({},Mt),{guards:He(Mt.targetSnapshot,Mt.currentSnapshot,this.rootContexts)})),function Un(ee,Q){return(0,X.z)(z=>{const{targetSnapshot:_e,currentSnapshot:Te,guards:{canActivateChecks:Ye,canDeactivateChecks:ft}}=z;return 0===ft.length&&0===Ye.length?(0,u.of)(Object.assign(Object.assign({},z),{guardsResult:!0})):function cr(ee,Q,z,_e){return(0,a.D)(ee).pipe((0,X.z)(Te=>function Zr(ee,Q,z,_e,Te){const Ye=Q&&Q.routeConfig?Q.routeConfig.canDeactivate:null;if(!Ye||0===Ye.length)return(0,u.of)(!0);const ft=Ye.map(Mt=>{const jt=cn(Mt,Q,Te);let vn;if(function No(ee){return ee&&uo(ee.canDeactivate)}(jt))vn=xt(jt.canDeactivate(ee,Q,z,_e));else{if(!uo(jt))throw new Error("Invalid CanDeactivate guard");vn=xt(jt(ee,Q,z,_e))}return vn.pipe(R())});return(0,u.of)(ft).pipe(Eo())}(Te.component,Te.route,z,Q,_e)),R(Te=>!0!==Te,!0))}(ft,_e,Te,ee).pipe((0,X.z)(Mt=>Mt&&function ir(ee){return"boolean"==typeof ee}(Mt)?function Mn(ee,Q,z,_e){return(0,a.D)(Q).pipe((0,q.b)(Te=>(0,h.z)(function $i(ee,Q){return null!==ee&&Q&&Q(new Rt(ee)),(0,u.of)(!0)}(Te.route.parent,_e),function Vo(ee,Q){return null!==ee&&Q&&Q(new Xt(ee)),(0,u.of)(!0)}(Te.route,_e),function tr(ee,Q,z){const _e=Q[Q.length-1],Ye=Q.slice(0,Q.length-1).reverse().map(ft=>function Ht(ee){const Q=ee.routeConfig?ee.routeConfig.canActivateChild:null;return Q&&0!==Q.length?{node:ee,guards:Q}:null}(ft)).filter(ft=>null!==ft).map(ft=>(0,_.P)(()=>{const Mt=ft.guards.map(jt=>{const vn=cn(jt,ft.node,z);let ti;if(function yo(ee){return ee&&uo(ee.canActivateChild)}(vn))ti=xt(vn.canActivateChild(_e,ee));else{if(!uo(vn))throw new Error("Invalid CanActivateChild guard");ti=xt(vn(_e,ee))}return ti.pipe(R())});return(0,u.of)(Mt).pipe(Eo())}));return(0,u.of)(Ye).pipe(Eo())}(ee,Te.path,z),function fo(ee,Q,z){const _e=Q.routeConfig?Q.routeConfig.canActivate:null;if(!_e||0===_e.length)return(0,u.of)(!0);const Te=_e.map(Ye=>(0,_.P)(()=>{const ft=cn(Ye,Q,z);let Mt;if(function or(ee){return ee&&uo(ee.canActivate)}(ft))Mt=xt(ft.canActivate(Q,ee));else{if(!uo(ft))throw new Error("Invalid CanActivate guard");Mt=xt(ft(Q,ee))}return Mt.pipe(R())}));return(0,u.of)(Te).pipe(Eo())}(ee,Te.route,z))),R(Te=>!0!==Te,!0))}(_e,Ye,ee,Q):(0,u.of)(Mt)),(0,G.U)(Mt=>Object.assign(Object.assign({},z),{guardsResult:Mt})))})}(this.ngModule.injector,Mt=>this.triggerEvent(Mt)),(0,de.b)(Mt=>{if(Oo(Mt.guardsResult)){const vn=be(`Redirecting to "${this.serializeUrl(Mt.guardsResult)}"`);throw vn.url=Mt.guardsResult,vn}const jt=new De(Mt.id,this.serializeUrl(Mt.extractedUrl),this.serializeUrl(Mt.urlAfterRedirects),Mt.targetSnapshot,!!Mt.guardsResult);this.triggerEvent(jt)}),(0,s.h)(Mt=>!!Mt.guardsResult||(this.restoreHistory(Mt),this.cancelNavigationTransition(Mt,""),!1)),xn(Mt=>{if(Mt.guards.canActivateChecks.length)return(0,u.of)(Mt).pipe((0,de.b)(jt=>{const vn=new Se(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(vn)}),(0,k.w)(jt=>{let vn=!1;return(0,u.of)(jt).pipe(function bt(ee,Q){return(0,X.z)(z=>{const{targetSnapshot:_e,guards:{canActivateChecks:Te}}=z;if(!Te.length)return(0,u.of)(z);let Ye=0;return(0,a.D)(Te).pipe((0,q.b)(ft=>function Ft(ee,Q,z,_e){return function Wt(ee,Q,z,_e){const Te=fn(ee);if(0===Te.length)return(0,u.of)({});const Ye={};return(0,a.D)(Te).pipe((0,X.z)(ft=>function bn(ee,Q,z,_e){const Te=cn(ee,Q,_e);return xt(Te.resolve?Te.resolve(Q,z):Te(Q,z))}(ee[ft],Q,z,_e).pipe((0,de.b)(Mt=>{Ye[ft]=Mt}))),A(1),(0,X.z)(()=>fn(Ye).length===Te.length?(0,u.of)(Ye):E.E))}(ee._resolve,ee,Q,_e).pipe((0,G.U)(Ye=>(ee._resolvedData=Ye,ee.data=Object.assign(Object.assign({},ee.data),Ei(ee,z).resolve),null)))}(ft.route,_e,ee,Q)),(0,de.b)(()=>Ye++),A(1),(0,X.z)(ft=>Ye===Te.length?(0,u.of)(z):E.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,de.b)({next:()=>vn=!0,complete:()=>{vn||(this.restoreHistory(jt),this.cancelNavigationTransition(jt,"At least one route resolver didn't emit any value."))}}))}),(0,de.b)(jt=>{const vn=new Ae(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);this.triggerEvent(vn)}))}),xn(Mt=>{const{targetSnapshot:jt,id:vn,extractedUrl:ti,rawUrl:An,extras:{skipLocationChange:bi,replaceUrl:vi}}=Mt;return this.hooks.afterPreactivation(jt,{navigationId:vn,appliedUrlTree:ti,rawUrlTree:An,skipLocationChange:!!bi,replaceUrl:!!vi})}),(0,G.U)(Mt=>{const jt=function te(ee,Q,z){const _e=$e(ee,Q._root,z?z._root:void 0);return new Dn(_e,Q)}(this.routeReuseStrategy,Mt.targetSnapshot,Mt.currentRouterState);return Object.assign(Object.assign({},Mt),{targetRouterState:jt})}),(0,de.b)(Mt=>{this.currentUrlTree=Mt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Mt.urlAfterRedirects,Mt.rawUrl),this.routerState=Mt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Mt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Mt),this.browserUrlTree=Mt.urlAfterRedirects)}),((ee,Q,z)=>(0,G.U)(_e=>(new qo(Q,_e.targetRouterState,_e.currentRouterState,z).activate(ee),_e)))(this.rootContexts,this.routeReuseStrategy,Mt=>this.triggerEvent(Mt)),(0,de.b)({next(){Ye=!0},complete(){Ye=!0}}),(0,We.x)(()=>{var Mt;Ye||ft||this.cancelNavigationTransition(Te,`Navigation ID ${Te.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Mt=this.currentNavigation)||void 0===Mt?void 0:Mt.id)===Te.id&&(this.currentNavigation=null)}),(0,$.K)(Mt=>{if(ft=!0,function Me(ee){return ee&&ee[we]}(Mt)){const jt=Oo(Mt.url);jt||(this.navigated=!0,this.restoreHistory(Te,!0));const vn=new Re(Te.id,this.serializeUrl(Te.extractedUrl),Mt.message);_e.next(vn),jt?setTimeout(()=>{const ti=this.urlHandlingStrategy.merge(Mt.url,this.rawUrlTree),An={skipLocationChange:Te.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kr(Te.source)};this.scheduleNavigation(ti,"imperative",null,An,{resolve:Te.resolve,reject:Te.reject,promise:Te.promise})},0):Te.resolve(!1)}else{this.restoreHistory(Te,!0);const jt=new pt(Te.id,this.serializeUrl(Te.extractedUrl),Mt);_e.next(jt);try{Te.resolve(this.errorHandler(Mt))}catch(vn){Te.reject(vn)}}return E.E}))}))}resetRootComponentType(z){this.rootComponentType=z,this.routerState.root.component=this.rootComponentType}setTransition(z){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),z))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(z=>{const _e="popstate"===z.type?"popstate":"hashchange";"popstate"===_e&&setTimeout(()=>{var Te;const Ye={replaceUrl:!0},ft=(null===(Te=z.state)||void 0===Te?void 0:Te.navigationId)?z.state:null;if(ft){const jt=Object.assign({},ft);delete jt.navigationId,delete jt.\u0275routerPageId,0!==Object.keys(jt).length&&(Ye.state=jt)}const Mt=this.parseUrl(z.url);this.scheduleNavigation(Mt,_e,ft,Ye)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(z){this.events.next(z)}resetConfig(z){Ti(z),this.config=z.map(Bi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(z,_e={}){const{relativeTo:Te,queryParams:Ye,fragment:ft,queryParamsHandling:Mt,preserveFragment:jt}=_e,vn=Te||this.routerState.root,ti=jt?this.currentUrlTree.fragment:ft;let An=null;switch(Mt){case"merge":An=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Ye);break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=Ye||null}return null!==An&&(An=this.removeEmptyProps(An)),function on(ee,Q,z,_e,Te){if(0===z.length)return Hi(Q.root,Q.root,Q.root,_e,Te);const Ye=function qi(ee){if("string"==typeof ee[0]&&1===ee.length&&"/"===ee[0])return new wn(!0,0,ee);let Q=0,z=!1;const _e=ee.reduce((Te,Ye,ft)=>{if("object"==typeof Ye&&null!=Ye){if(Ye.outlets){const Mt={};return gt(Ye.outlets,(jt,vn)=>{Mt[vn]="string"==typeof jt?jt.split("/"):jt}),[...Te,{outlets:Mt}]}if(Ye.segmentPath)return[...Te,Ye.segmentPath]}return"string"!=typeof Ye?[...Te,Ye]:0===ft?(Ye.split("/").forEach((Mt,jt)=>{0==jt&&"."===Mt||(0==jt&&""===Mt?z=!0:".."===Mt?Q++:""!=Mt&&Te.push(Mt))}),Te):[...Te,Ye]},[]);return new wn(z,Q,_e)}(z);if(Ye.toRoot())return Hi(Q.root,Q.root,new Ee([],{}),_e,Te);const ft=function Go(ee,Q,z){if(ee.isAbsolute)return new Ci(Q.root,!0,0);if(-1===z.snapshot._lastPathIndex){const Ye=z.snapshot._urlSegment;return new Ci(Ye,Ye===Q.root,0)}const _e=Ln(ee.commands[0])?0:1;return function Mo(ee,Q,z){let _e=ee,Te=Q,Ye=z;for(;Ye>Te;){if(Ye-=Te,_e=_e.parent,!_e)throw new Error("Invalid number of '../'");Te=_e.segments.length}return new Ci(_e,!1,Te-Ye)}(z.snapshot._urlSegment,z.snapshot._lastPathIndex+_e,ee.numberOfDoubleDots)}(Ye,Q,ee),Mt=ft.processChildren?co(ft.segmentGroup,ft.index,Ye.commands):Xo(ft.segmentGroup,ft.index,Ye.commands);return Hi(Q.root,ft.segmentGroup,Mt,_e,Te)}(vn,this.currentUrlTree,z,An,null!=ti?ti:null)}navigateByUrl(z,_e={skipLocationChange:!1}){const Te=Oo(z)?z:this.parseUrl(z),Ye=this.urlHandlingStrategy.merge(Te,this.rawUrlTree);return this.scheduleNavigation(Ye,"imperative",null,_e)}navigate(z,_e={skipLocationChange:!1}){return function Wo(ee){for(let Q=0;Q<ee.length;Q++){const z=ee[Q];if(null==z)throw new Error(`The requested path contains ${z} segment at index ${Q}`)}}(z),this.navigateByUrl(this.createUrlTree(z,_e),_e)}serializeUrl(z){return this.urlSerializer.serialize(z)}parseUrl(z){let _e;try{_e=this.urlSerializer.parse(z)}catch(Te){_e=this.malformedUriErrorHandler(Te,this.urlSerializer,z)}return _e}isActive(z,_e){let Te;if(Te=!0===_e?Object.assign({},eo):!1===_e?Object.assign({},zo):_e,Oo(z))return et(this.currentUrlTree,z,Te);const Ye=this.parseUrl(z);return et(this.currentUrlTree,Ye,Te)}removeEmptyProps(z){return Object.keys(z).reduce((_e,Te)=>{const Ye=z[Te];return null!=Ye&&(_e[Te]=Ye),_e},{})}processNavigations(){this.navigations.subscribe(z=>{this.navigated=!0,this.lastSuccessfulId=z.id,this.currentPageId=z.targetPageId,this.events.next(new se(z.id,this.serializeUrl(z.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,z.resolve(!0)},z=>{this.console.warn(`Unhandled Navigation Error: ${z}`)})}scheduleNavigation(z,_e,Te,Ye,ft){var Mt,jt;if(this.disposed)return Promise.resolve(!1);let vn,ti,An;ft?(vn=ft.resolve,ti=ft.reject,An=ft.promise):An=new Promise((nr,Sr)=>{vn=nr,ti=Sr});const bi=++this.navigationId;let vi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Te=this.location.getState()),vi=Te&&Te.\u0275routerPageId?Te.\u0275routerPageId:Ye.replaceUrl||Ye.skipLocationChange?null!==(Mt=this.browserPageId)&&void 0!==Mt?Mt:0:(null!==(jt=this.browserPageId)&&void 0!==jt?jt:0)+1):vi=0,this.setTransition({id:bi,targetPageId:vi,source:_e,restoredState:Te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:z,extras:Ye,resolve:vn,reject:ti,promise:An,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),An.catch(nr=>Promise.reject(nr))}setBrowserUrl(z,_e){const Te=this.urlSerializer.serialize(z),Ye=Object.assign(Object.assign({},_e.extras.state),this.generateNgRouterState(_e.id,_e.targetPageId));this.location.isCurrentPathEqualTo(Te)||_e.extras.replaceUrl?this.location.replaceState(Te,"",Ye):this.location.go(Te,"",Ye)}restoreHistory(z,_e=!1){var Te,Ye;if("computed"===this.canceledNavigationResolution){const ft=this.currentPageId-z.targetPageId;"popstate"!==z.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Te=this.currentNavigation)||void 0===Te?void 0:Te.finalUrl)||0===ft?this.currentUrlTree===(null===(Ye=this.currentNavigation)||void 0===Ye?void 0:Ye.finalUrl)&&0===ft&&(this.resetState(z),this.browserUrlTree=z.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ft)}else"replace"===this.canceledNavigationResolution&&(_e&&this.resetState(z),this.resetUrlToCurrentUrlTree())}resetState(z){this.routerState=z.currentRouterState,this.currentUrlTree=z.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,z.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(z,_e){const Te=new Re(z.id,this.serializeUrl(z.extractedUrl),_e);this.triggerEvent(Te),z.resolve(!1)}generateNgRouterState(z,_e){return"computed"===this.canceledNavigationResolution?{navigationId:z,\u0275routerPageId:_e}:{navigationId:z}}}return ee.\u0275fac=function(z){o.$Z()},ee.\u0275prov=o.Yz7({token:ee,factory:ee.\u0275fac}),ee})();function Kr(ee){return"imperative"!==ee}class Tn{}class Vn{preload(Q,z){return(0,u.of)(null)}}let Ni=(()=>{class ee{constructor(z,_e,Te,Ye){this.router=z,this.injector=Te,this.preloadingStrategy=Ye,this.loader=new wi(Te,_e,jt=>z.triggerEvent(new lt(jt)),jt=>z.triggerEvent(new Ze(jt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,s.h)(z=>z instanceof se),(0,q.b)(()=>this.preload())).subscribe(()=>{})}preload(){const z=this.injector.get(o.h0i);return this.processRoutes(z,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(z,_e){const Te=[];for(const Ye of _e)if(Ye.loadChildren&&!Ye.canLoad&&Ye._loadedConfig){const ft=Ye._loadedConfig;Te.push(this.processRoutes(ft.module,ft.routes))}else Ye.loadChildren&&!Ye.canLoad?Te.push(this.preloadConfig(z,Ye)):Ye.children&&Te.push(this.processRoutes(z,Ye.children));return(0,a.D)(Te).pipe((0,Ne.J)(),(0,G.U)(Ye=>{}))}preloadConfig(z,_e){return this.preloadingStrategy.preload(_e,()=>(_e._loadedConfig?(0,u.of)(_e._loadedConfig):this.loader.load(z.injector,_e)).pipe((0,X.z)(Ye=>(_e._loadedConfig=Ye,this.processRoutes(Ye.module,Ye.routes)))))}}return ee.\u0275fac=function(z){return new(z||ee)(o.LFG(xi),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(Tn))},ee.\u0275prov=o.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),Do=(()=>{class ee{constructor(z,_e,Te={}){this.router=z,this.viewportScroller=_e,this.options=Te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Te.scrollPositionRestoration=Te.scrollPositionRestoration||"disabled",Te.anchorScrolling=Te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(z=>{z instanceof Je?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=z.navigationTrigger,this.restoredId=z.restoredState?z.restoredState.navigationId:0):z instanceof se&&(this.lastId=z.id,this.scheduleScrollEvent(z,this.router.parseUrl(z.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(z=>{z instanceof qe&&(z.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(z.position):z.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(z.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(z,_e){this.router.triggerEvent(new qe(z,"popstate"===this.lastSource?this.store[this.restoredId]:null,_e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return ee.\u0275fac=function(z){o.$Z()},ee.\u0275prov=o.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const Zi=new o.OlP("ROUTER_CONFIGURATION"),Si=new o.OlP("ROUTER_FORROOT_GUARD"),ns=[dt.Ye,{provide:zt,useClass:yt},{provide:xi,useFactory:function wr(ee,Q,z,_e,Te,Ye,ft={},Mt,jt){const vn=new xi(null,ee,Q,z,_e,Te,Bt(Ye));return Mt&&(vn.urlHandlingStrategy=Mt),jt&&(vn.routeReuseStrategy=jt),function xs(ee,Q){ee.errorHandler&&(Q.errorHandler=ee.errorHandler),ee.malformedUriErrorHandler&&(Q.malformedUriErrorHandler=ee.malformedUriErrorHandler),ee.onSameUrlNavigation&&(Q.onSameUrlNavigation=ee.onSameUrlNavigation),ee.paramsInheritanceStrategy&&(Q.paramsInheritanceStrategy=ee.paramsInheritanceStrategy),ee.relativeLinkResolution&&(Q.relativeLinkResolution=ee.relativeLinkResolution),ee.urlUpdateStrategy&&(Q.urlUpdateStrategy=ee.urlUpdateStrategy),ee.canceledNavigationResolution&&(Q.canceledNavigationResolution=ee.canceledNavigationResolution)}(ft,vn),ft.enableTracing&&vn.events.subscribe(ti=>{var An,bi;null===(An=console.group)||void 0===An||An.call(console,`Router Event: ${ti.constructor.name}`),console.log(ti.toString()),console.log(ti),null===(bi=console.groupEnd)||void 0===bi||bi.call(console)}),vn},deps:[zt,Qi,dt.Ye,o.zs3,o.Sil,li,Zi,[class Yi{},new o.FiY],[class Kn{},new o.FiY]]},Qi,{provide:si,useFactory:function Ns(ee){return ee.routerState.root},deps:[xi]},Ni,Vn,class Fn{preload(Q,z){return z().pipe((0,$.K)(()=>(0,u.of)(null)))}},{provide:Zi,useValue:{enableTracing:!1}}];function gs(){return new o.PXZ("Router",xi)}let so=(()=>{class ee{constructor(z,_e){}static forRoot(z,_e){return{ngModule:ee,providers:[ns,dr(z),{provide:Si,useFactory:Yo,deps:[[xi,new o.FiY,new o.tp0]]},{provide:Zi,useValue:_e||{}},{provide:dt.S$,useFactory:Ro,deps:[dt.lw,[new o.tBr(dt.mr),new o.FiY],Zi]},{provide:Do,useFactory:ur,deps:[xi,dt.EM,Zi]},{provide:Tn,useExisting:_e&&_e.preloadingStrategy?_e.preloadingStrategy:Vn},{provide:o.PXZ,multi:!0,useFactory:gs},[hr,{provide:o.ip1,multi:!0,useFactory:fa,deps:[hr]},{provide:is,useFactory:xr,deps:[hr]},{provide:o.tb,multi:!0,useExisting:is}]]}}static forChild(z){return{ngModule:ee,providers:[dr(z)]}}}return ee.\u0275fac=function(z){return new(z||ee)(o.LFG(Si,8),o.LFG(xi,8))},ee.\u0275mod=o.oAB({type:ee}),ee.\u0275inj=o.cJS({}),ee})();function ur(ee,Q,z){return z.scrollOffset&&Q.setOffset(z.scrollOffset),new Do(ee,Q,z)}function Ro(ee,Q,z={}){return z.useHash?new dt.Do(ee,Q):new dt.b0(ee,Q)}function Yo(ee){return"guarded"}function dr(ee){return[{provide:o.deG,multi:!0,useValue:ee},{provide:li,multi:!0,useValue:ee}]}let hr=(()=>{class ee{constructor(z){this.injector=z,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new y.x}appInitializer(){return this.injector.get(dt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let _e=null;const Te=new Promise(Mt=>_e=Mt),Ye=this.injector.get(xi),ft=this.injector.get(Zi);return"disabled"===ft.initialNavigation?(Ye.setUpLocationChangeListener(),_e(!0)):"enabled"===ft.initialNavigation||"enabledBlocking"===ft.initialNavigation?(Ye.hooks.afterPreactivation=()=>this.initNavigation?(0,u.of)(null):(this.initNavigation=!0,_e(!0),this.resultOfPreactivationDone),Ye.initialNavigation()):_e(!0),Te})}bootstrapListener(z){const _e=this.injector.get(Zi),Te=this.injector.get(Ni),Ye=this.injector.get(Do),ft=this.injector.get(xi),Mt=this.injector.get(o.z2F);z===Mt.components[0]&&(("enabledNonBlocking"===_e.initialNavigation||void 0===_e.initialNavigation)&&ft.initialNavigation(),Te.setUpPreloading(),Ye.init(),ft.resetRootComponentType(Mt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return ee.\u0275fac=function(z){return new(z||ee)(o.LFG(o.zs3))},ee.\u0275prov=o.Yz7({token:ee,factory:ee.\u0275fac}),ee})();function fa(ee){return ee.appInitializer.bind(ee)}function xr(ee){return ee.bootstrapListener.bind(ee)}const is=new o.OlP("Router Initializer")}},ot=>{ot(ot.s=7461)}]);